{"version":3,"file":"index-e288247d.js","sources":["../../composables/useAppearance.ts","../../components/AsyncChangeLog.vue","../../src/App.vue","../../node_modules/firebase/app/dist/index.esm.js","../../src/firebase.js","../../node_modules/deepmerge-ts/dist/node/index.mjs","../../src/stores/plugins/caching.ts","../../../../../../../@vite-plugin-pwa/virtual:pwa-register","../../src/sw.js","../../src/packages/interface.js","../../src/packages/manager.js","../../src/main.ts"],"sourcesContent":["import { useColorMode } from '@vueuse/core'\n\nexport const useAppearance = () => {\n  const appearance = useColorMode({\n    emitAuto: true,\n    modes: {\n      october: 'dark october',\n    },\n  })\n\n  return {\n    appearance,\n  }\n}\n","<script lang=\"ts\" setup>\nimport { defineAsyncComponent } from 'vue'\n\nconst AsyncChangeLog = defineAsyncComponent(() => {\n  return import('/components/ChangeLog.vue')\n})\n</script>\n\n<template>\n  <AsyncChangeLog />\n</template>\n","<template>\n  <div id=\"app\" class=\"h-full\" :class=\"sizes.concat([!ligatures && 'ligatures-none'])\">\n    <AsyncChangeLog v-if=\"!home && !publicDoc && !flow\" />\n    <router-view :inheritAttrs=\"true\" class=\"flex-grow flex-shrink min-h-0\"></router-view>\n  </div>\n</template>\n\n<script>\nimport AsyncChangeLog from '/components/AsyncChangeLog.vue'\n\nexport default {\n  components: {\n    AsyncChangeLog,\n  },\n  inject: [\"mq\"],\n  computed: {\n    flow() {\n      // A param to indicate a user flow (e.g. completing sign-up or sign-in).\n      return this.$route.query.flow\n    },\n    home() {\n      return this.$route.name === \"home\"\n    },\n    ligatures() {\n      return this.$store.state.settings.editor.ligatures\n    },\n    publicDoc() {\n      return this.$route.name === \"public-doc\"\n    },\n    sizes() {\n      if (this.mq.current === \"xs\") return [\"xs xs-plus\"]\n      if (this.mq.current === \"sm\") return [\"sm xs-plus sm-plus\"]\n      if (this.mq.current === \"md\") return [\"md xs-plus sm-plus md-plus\"]\n      if (this.mq.current === \"lg\") return [\"lg xs-plus sm-plus md-plus lg-plus\"]\n      if (this.mq.current === \"xl\") return [\"xl xs-plus sm-plus md-plus lg-plus xl-plus\"]\n\n      return []\n    },\n  },\n  methods: {\n    closeChangelog() {\n      this.showChangelog = false\n    },\n  },\n}\n</script>\n\n<style>\n:root {\n  --app-height: 100vh;\n}\n\n.october {\n  --ink-syntax-name-color: #eb6123;\n  --ink-syntax-name-label-color: #abb2bf;\n  --ink-syntax-name-variable-color: #ebda23;\n}\n\n* {\n  box-sizing: border-box;\n}\n\n.ligatures-none * {\n  font-variant-ligatures: none;\n}\n\nbody {\n  font-family: \"Inter\", helvetica, sans-serif !important;\n  margin: 0;\n}\n\nbody,\npre {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\npre {\n  font-family: \"Fira Code\", monospace !important;\n  margin: 0;\n}\n\n.CodeMirror .cm-m-markdown:not(.cm-comment) {\n  font-family: \"Inter\", helvetica, sans-serif !important;\n}\n\n.monospace {\n  font-family: \"Fira Code\", monospace !important;\n}\n\n.sans-serif {\n  font-family: \"Inter\", helvetica, sans-serif !important;\n}\n\n.notification {\n  width: 20rem;\n  z-index: 90;\n}\n\n.notification .notification-body {\n  padding: 1rem;\n}\n\nhr {\n  margin-top: 0.5rem;\n}\n\nsvg {\n  flex-shrink: 0;\n}\n\n.border-transparent {\n  border-color: transparent !important;\n}\n\n.cursor-pointer {\n  cursor: pointer;\n}\n\n.relative-fixed {\n  /* this is a hack to position fixed elements relative to this container instead of the viewport */\n  transform: translateZ(0);\n}\n\n.bottom-0 {\n  bottom: 0 !important;\n}\n\n.bottom-3 {\n  bottom: 1rem !important;\n}\n\n.left-0 {\n  left: 0 !important;\n}\n\n.right-0 {\n  right: 0 !important;\n}\n\n.right-2 {\n  right: 0.5rem !important;\n}\n\n.right-3 {\n  right: 1rem !important;\n}\n\n.top-0 {\n  top: 0 !important;\n}\n\n.top-2 {\n  top: 0.5rem !important;\n}\n\n.top-3 {\n  top: 1rem !important;\n}\n\n.z-index-10 {\n  z-index: 10;\n}\n\n.z-index-1 {\n  z-index: 1;\n}\n\n.min-h-0 {\n  min-height: 0 !important;\n}\n\n.min-w-0 {\n  min-width: 0 !important;\n}\n\n/* theming */\n\n.dark .notification {\n  box-shadow: 0 0 0 0.125rem #111 !important;\n}\n\n.light .notification {\n  box-shadow: 0 0 0 0.125rem #eee !important;\n}\n\nhr {\n  background-color: #aaa;\n}\n\n/* lib */\n\n/* When overlay scrollbars are mounted, we need to remove overflow from the host element. */\n[data-overlayscrollbars=host] {\n  overflow: hidden !important;\n}\n\n[data-overlayscrollbars=host] .os-viewport {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n}\n</style>\n","import { registerVersion } from '@firebase/app';\nexport * from '@firebase/app';\n\nvar name = \"firebase\";\nvar version = \"9.9.0\";\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nregisterVersion(name, version, 'app');\n//# sourceMappingURL=index.esm.js.map\n","import { initializeApp } from 'firebase/app'\nimport { connectAuthEmulator, getAuth } from 'firebase/auth'\nimport { connectFirestoreEmulator, getFirestore, initializeFirestore, setLogLevel } from 'firebase/firestore'\nimport { connectStorageEmulator, getStorage } from 'firebase/storage'\nimport { updateGlobalConfig } from '/src/global'\n\n// firebase config\nconst config = {\n  apiKey: import.meta.env.VITE_FIREBASE_API_KEY,\n  appId: import.meta.env.VITE_FIREBASE_APP_ID,\n  authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,\n  databaseURL: import.meta.env.VITE_FIREBASE_DATABASE_URL,\n  messagingSenderId: import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID,\n  projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID,\n  storageBucket: import.meta.env.VITE_FIREBASE_STORAGE_BUCKET,\n}\n\nconst verifyConfig = () => {\n  const missingKeys = Object.keys(config).filter(key => !config[key])\n\n  if (missingKeys.length > 0) {\n    console.warn(\n      `Skipping Firebase initialization. Missing keys: [${missingKeys.join(', ')}]`\n    )\n\n    return false\n  }\n\n  return true\n}\n\nexport const init = () => {\n  if (!verifyConfig()) { return }\n\n  // init firebase\n  const app = initializeApp(config)\n\n  initializeFirestore(app, {\n    experimentalAutoDetectLongPolling: true\n  })\n\n  setLogLevel(import.meta.env.VITE_FIREBASE_LOG_LEVEL || 'error')\n\n\n  // use emulators in development\n  if (location.hostname === 'localhost' && !import.meta.env.VITE_FIREBASE_EMULATOR_BYPASS) {\n    connectAuthEmulator(\n      getAuth(),\n      import.meta.env.VITE_FIREBASE_EMULATOR_AUTH,\n      {\n        disableWarnings: true,\n      }\n    )\n\n    connectFirestoreEmulator(\n      getFirestore(),\n      import.meta.env.VITE_FIREBASE_EMULATOR_FIRESTORE_HOST,\n      import.meta.env.VITE_FIREBASE_EMULATOR_FIRESTORE_PORT,\n    )\n\n    connectStorageEmulator(\n      getStorage(),\n      import.meta.env.VITE_FIREBASE_EMULATOR_STORAGE_HOST,\n      import.meta.env.VITE_FIREBASE_EMULATOR_STORAGE_PORT,\n    )\n  }\n\n  updateGlobalConfig({ supportsFirebase: true })\n}\n","/**\n * Get the type of the given object.\n *\n * @param object - The object to get the type of.\n * @returns The type of the given object.\n */\nfunction getObjectType(object) {\n    if (typeof object !== \"object\" || object === null) {\n        return 0 /* ObjectType.NOT */;\n    }\n    if (Array.isArray(object)) {\n        return 2 /* ObjectType.ARRAY */;\n    }\n    if (isRecord(object)) {\n        return 1 /* ObjectType.RECORD */;\n    }\n    if (object instanceof Set) {\n        return 3 /* ObjectType.SET */;\n    }\n    if (object instanceof Map) {\n        return 4 /* ObjectType.MAP */;\n    }\n    return 5 /* ObjectType.OTHER */;\n}\n/**\n * Get the keys of the given objects including symbol keys.\n *\n * Note: Only keys to enumerable properties are returned.\n *\n * @param objects - An array of objects to get the keys of.\n * @returns A set containing all the keys of all the given objects.\n */\nfunction getKeys(objects) {\n    const keys = new Set();\n    /* eslint-disable functional/no-loop-statement -- using a loop here is more efficient. */\n    for (const object of objects) {\n        for (const key of [\n            ...Object.keys(object),\n            ...Object.getOwnPropertySymbols(object),\n        ]) {\n            keys.add(key);\n        }\n    }\n    /* eslint-enable functional/no-loop-statement */\n    return keys;\n}\n/**\n * Does the given object have the given property.\n *\n * @param object - The object to test.\n * @param property - The property to test.\n * @returns Whether the object has the property.\n */\nfunction objectHasProperty(object, property) {\n    return (typeof object === \"object\" &&\n        Object.prototype.propertyIsEnumerable.call(object, property));\n}\n/**\n * Get an iterable object that iterates over the given iterables.\n */\nfunction getIterableOfIterables(iterables) {\n    return {\n        *[Symbol.iterator]() {\n            // eslint-disable-next-line functional/no-loop-statement\n            for (const iterable of iterables) {\n                // eslint-disable-next-line functional/no-loop-statement\n                for (const value of iterable) {\n                    yield value;\n                }\n            }\n        },\n    };\n}\nconst validRecordToStringValues = new Set([\n    \"[object Object]\",\n    \"[object Module]\",\n]);\n/**\n * Does the given object appear to be a record.\n */\nfunction isRecord(value) {\n    // All records are objects.\n    if (!validRecordToStringValues.has(Object.prototype.toString.call(value))) {\n        return false;\n    }\n    const { constructor } = value;\n    // If has modified constructor.\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (constructor === undefined) {\n        return true;\n    }\n    // eslint-disable-next-line prefer-destructuring\n    const prototype = constructor.prototype;\n    // If has modified prototype.\n    if (prototype === null ||\n        typeof prototype !== \"object\" ||\n        !validRecordToStringValues.has(Object.prototype.toString.call(prototype))) {\n        return false;\n    }\n    // If constructor does not have an Object-specific method.\n    // eslint-disable-next-line sonarjs/prefer-single-boolean-return, no-prototype-builtins\n    if (!prototype.hasOwnProperty(\"isPrototypeOf\")) {\n        return false;\n    }\n    // Most likely a record.\n    return true;\n}\n\nconst defaultMergeFunctions = {\n    mergeMaps: defaultMergeMaps,\n    mergeSets: defaultMergeSets,\n    mergeArrays: defaultMergeArrays,\n    mergeRecords: defaultMergeRecords,\n    mergeOthers: leaf,\n};\n/**\n * Special values that tell deepmerge-ts to perform a certain action.\n */\nconst actions = {\n    defaultMerge: Symbol(\"deepmerge-ts: default merge\"),\n    skip: Symbol(\"deepmerge-ts: skip\"),\n};\n/**\n * The default function to update meta data.\n */\nfunction defaultMetaDataUpdater(previousMeta, metaMeta) {\n    return metaMeta;\n}\n/**\n * Deeply merge objects.\n *\n * @param objects - The objects to merge.\n */\nfunction deepmerge(...objects) {\n    return deepmergeCustom({})(...objects);\n}\nfunction deepmergeCustom(options, rootMetaData) {\n    const utils = getUtils(options, customizedDeepmerge);\n    /**\n     * The customized deepmerge function.\n     */\n    function customizedDeepmerge(...objects) {\n        return mergeUnknowns(objects, utils, rootMetaData);\n    }\n    return customizedDeepmerge;\n}\n/**\n * The the full options with defaults apply.\n *\n * @param options - The options the user specified\n */\nfunction getUtils(options, customizedDeepmerge) {\n    var _a, _b;\n    return {\n        defaultMergeFunctions,\n        mergeFunctions: {\n            ...defaultMergeFunctions,\n            ...Object.fromEntries(Object.entries(options)\n                .filter(([key, option]) => Object.prototype.hasOwnProperty.call(defaultMergeFunctions, key))\n                .map(([key, option]) => option === false ? [key, leaf] : [key, option])),\n        },\n        metaDataUpdater: ((_a = options.metaDataUpdater) !== null && _a !== void 0 ? _a : defaultMetaDataUpdater),\n        deepmerge: customizedDeepmerge,\n        useImplicitDefaultMerging: (_b = options.enableImplicitDefaultMerging) !== null && _b !== void 0 ? _b : false,\n        actions,\n    };\n}\n/**\n * Merge unknown things.\n *\n * @param values - The values.\n */\nfunction mergeUnknowns(values, utils, meta) {\n    if (values.length === 0) {\n        return undefined;\n    }\n    if (values.length === 1) {\n        return mergeOthers(values, utils, meta);\n    }\n    const type = getObjectType(values[0]);\n    // eslint-disable-next-line functional/no-conditional-statement -- add an early escape for better performance.\n    if (type !== 0 /* ObjectType.NOT */ && type !== 5 /* ObjectType.OTHER */) {\n        // eslint-disable-next-line functional/no-loop-statement -- using a loop here is more performant than mapping every value and then testing every value.\n        for (let m_index = 1; m_index < values.length; m_index++) {\n            if (getObjectType(values[m_index]) === type) {\n                continue;\n            }\n            return mergeOthers(values, utils, meta);\n        }\n    }\n    switch (type) {\n        case 1 /* ObjectType.RECORD */:\n            return mergeRecords(values, utils, meta);\n        case 2 /* ObjectType.ARRAY */:\n            return mergeArrays(values, utils, meta);\n        case 3 /* ObjectType.SET */:\n            return mergeSets(values, utils, meta);\n        case 4 /* ObjectType.MAP */:\n            return mergeMaps(values, utils, meta);\n        default:\n            return mergeOthers(values, utils, meta);\n    }\n}\n/**\n * Merge records.\n *\n * @param values - The records.\n */\nfunction mergeRecords(values, utils, meta) {\n    const result = utils.mergeFunctions.mergeRecords(values, utils, meta);\n    if (result === actions.defaultMerge ||\n        (utils.useImplicitDefaultMerging &&\n            result === undefined &&\n            utils.mergeFunctions.mergeRecords !==\n                utils.defaultMergeFunctions.mergeRecords)) {\n        return utils.defaultMergeFunctions.mergeRecords(values, utils, meta);\n    }\n    return result;\n}\n/**\n * Merge arrays.\n *\n * @param values - The arrays.\n */\nfunction mergeArrays(values, utils, meta) {\n    const result = utils.mergeFunctions.mergeArrays(values, utils, meta);\n    if (result === actions.defaultMerge ||\n        (utils.useImplicitDefaultMerging &&\n            result === undefined &&\n            utils.mergeFunctions.mergeArrays !==\n                utils.defaultMergeFunctions.mergeArrays)) {\n        return utils.defaultMergeFunctions.mergeArrays(values);\n    }\n    return result;\n}\n/**\n * Merge sets.\n *\n * @param values - The sets.\n */\nfunction mergeSets(values, utils, meta) {\n    const result = utils.mergeFunctions.mergeSets(values, utils, meta);\n    if (result === actions.defaultMerge ||\n        (utils.useImplicitDefaultMerging &&\n            result === undefined &&\n            utils.mergeFunctions.mergeSets !== utils.defaultMergeFunctions.mergeSets)) {\n        return utils.defaultMergeFunctions.mergeSets(values);\n    }\n    return result;\n}\n/**\n * Merge maps.\n *\n * @param values - The maps.\n */\nfunction mergeMaps(values, utils, meta) {\n    const result = utils.mergeFunctions.mergeMaps(values, utils, meta);\n    if (result === actions.defaultMerge ||\n        (utils.useImplicitDefaultMerging &&\n            result === undefined &&\n            utils.mergeFunctions.mergeMaps !== utils.defaultMergeFunctions.mergeMaps)) {\n        return utils.defaultMergeFunctions.mergeMaps(values);\n    }\n    return result;\n}\n/**\n * Merge other things.\n *\n * @param values - The other things.\n */\nfunction mergeOthers(values, utils, meta) {\n    const result = utils.mergeFunctions.mergeOthers(values, utils, meta);\n    if (result === actions.defaultMerge ||\n        (utils.useImplicitDefaultMerging &&\n            result === undefined &&\n            utils.mergeFunctions.mergeOthers !==\n                utils.defaultMergeFunctions.mergeOthers)) {\n        return utils.defaultMergeFunctions.mergeOthers(values);\n    }\n    return result;\n}\n/**\n * The default strategy to merge records.\n *\n * @param values - The records.\n */\nfunction defaultMergeRecords(values, utils, meta) {\n    const result = {};\n    /* eslint-disable functional/no-loop-statement, functional/no-conditional-statement -- using a loop here is more performant. */\n    for (const key of getKeys(values)) {\n        const propValues = [];\n        for (const value of values) {\n            if (objectHasProperty(value, key)) {\n                propValues.push(value[key]);\n            }\n        }\n        if (propValues.length === 0) {\n            continue;\n        }\n        const updatedMeta = utils.metaDataUpdater(meta, {\n            key,\n            parents: values,\n        });\n        const propertyResult = mergeUnknowns(propValues, utils, updatedMeta);\n        if (propertyResult === actions.skip) {\n            continue;\n        }\n        if (key === \"__proto__\") {\n            Object.defineProperty(result, key, {\n                value: propertyResult,\n                configurable: true,\n                enumerable: true,\n                writable: true,\n            });\n        }\n        else {\n            result[key] = propertyResult;\n        }\n    }\n    /* eslint-enable functional/no-loop-statement, functional/no-conditional-statement */\n    return result;\n}\n/**\n * The default strategy to merge arrays.\n *\n * @param values - The arrays.\n */\nfunction defaultMergeArrays(values) {\n    return values.flat();\n}\n/**\n * The default strategy to merge sets.\n *\n * @param values - The sets.\n */\nfunction defaultMergeSets(values) {\n    return new Set(getIterableOfIterables(values));\n}\n/**\n * The default strategy to merge maps.\n *\n * @param values - The maps.\n */\nfunction defaultMergeMaps(values) {\n    return new Map(getIterableOfIterables(values));\n}\n/**\n * Get the last value in the given array.\n */\nfunction leaf(values) {\n    return values[values.length - 1];\n}\n\nexport { deepmerge, deepmergeCustom };\n","import { deepmerge } from 'deepmerge-ts'\nimport localforage from 'localforage'\nimport { unwrap } from '/src/common/vue'\n\nimport type { PiniaPlugin } from 'pinia'\n\ndeclare module 'pinia' {\n  export interface DefineStoreOptionsBase<S, Store> {\n    caching?: boolean | {\n      actions?: boolean\n      mutations?: boolean\n      namespace?: string\n      hydrate?: (cache: LocalForage) => void | Promise<void>\n      persist?: (cache: LocalForage) => void | Promise<void>\n    }\n  }\n}\n\nexport const caching: PiniaPlugin = async ({ options: { caching: options }, store }) => {\n  if (!options) { return }\n  if (options === true) { options = {} }\n\n  const {\n    actions = false,\n    mutations = true,\n    namespace = store.$id,\n    hydrate = async (cache: LocalForage) => {\n      const state = await cache.getItem<typeof store.$state>(namespace)\n\n      if (state) {\n        store.$state = deepmerge(store.$state, state)\n      }\n    },\n    persist = async (cache: LocalForage) => {\n      await cache.setItem(namespace, unwrap(store.$state))\n    }\n  } = options\n  const cache = localforage.createInstance({ name: namespace })\n\n  await hydrate(cache)\n\n  if (mutations) {\n    store.$subscribe((_mutation, _state) => {\n      persist(cache)\n    }, { detached: true })\n  } else if (actions) {\n    store.$onAction((_action) => {\n      persist(cache)\n    }, true)\n  }\n}\n","// src/client/build/register.ts\nvar autoUpdateMode = \"true\";\nvar selfDestroying = \"false\";\nvar auto = autoUpdateMode === \"true\";\nvar autoDestroy = selfDestroying === \"true\";\nfunction registerSW(options = {}) {\n  const {\n    immediate = false,\n    onNeedRefresh,\n    onOfflineReady,\n    onRegistered,\n    onRegisteredSW,\n    onRegisterError\n  } = options;\n  let wb;\n  let registration;\n  let registerPromise;\n  let sendSkipWaitingMessage;\n  const updateServiceWorker = async (reloadPage = true) => {\n    await registerPromise;\n    if (!auto) {\n      if (reloadPage) {\n        wb == null ? void 0 : wb.addEventListener(\"controlling\", (event) => {\n          if (event.isUpdate)\n            window.location.reload();\n        });\n      }\n      await (sendSkipWaitingMessage == null ? void 0 : sendSkipWaitingMessage());\n    }\n  };\n  async function register() {\n    if (\"serviceWorker\" in navigator) {\n      const { Workbox, messageSW } = await import(\"workbox-window\");\n      sendSkipWaitingMessage = async () => {\n        if (registration && registration.waiting) {\n          await messageSW(registration.waiting, { type: \"SKIP_WAITING\" });\n        }\n      };\n      wb = new Workbox(\"/sw.js\", { scope: \"/\", type: \"classic\" });\n      wb.addEventListener(\"activated\", (event) => {\n        if (event.isUpdate)\n          auto && window.location.reload();\n        else if (!autoDestroy)\n          onOfflineReady == null ? void 0 : onOfflineReady();\n      });\n      if (!auto) {\n        const showSkipWaitingPrompt = () => {\n          onNeedRefresh == null ? void 0 : onNeedRefresh();\n        };\n        wb.addEventListener(\"waiting\", showSkipWaitingPrompt);\n        wb.addEventListener(\"externalwaiting\", showSkipWaitingPrompt);\n      }\n      wb.register({ immediate }).then((r) => {\n        registration = r;\n        if (onRegisteredSW)\n          onRegisteredSW(\"/sw.js\", r);\n        else\n          onRegistered == null ? void 0 : onRegistered(r);\n      }).catch((e) => {\n        onRegisterError == null ? void 0 : onRegisterError(e);\n      });\n    }\n  }\n  registerPromise = register();\n  return updateServiceWorker;\n}\nexport {\n  registerSW\n};\n","import { registerSW } from 'virtual:pwa-register'\n\nregisterSW({\n  immediate: true,\n  onOfflineReady() {},\n  onNeedRefresh() {\n    window.dispatchEvent(\n      new Event('swupdated')\n    )\n  },\n  onRegistered(swRegistration) {},\n  onRegisterError(e) {},\n})\n","class Interface {\n  constructor() {\n    this.components = new Set()\n  }\n\n  registerComponent({ component, container, position }) {\n    this.components.add({ component, container, position })\n  }\n}\n\nexport default Interface\n","import PackageInterface from './interface'\n\nclass Manager {\n  constructor() {\n    this.packages = new Set()\n    this.components = new Set()\n  }\n\n  emit(event, data) {\n    // send events to all registered packages\n    this.packages.forEach(pack => pack.emit(event, data))\n  }\n\n  getComponents(container, position) {\n    return [...this.components].filter((component) => {\n      return component.container === container && component.position === position\n    }).map(({ component }) => (component))\n  }\n\n  register(pack) {\n    const sdk = new PackageInterface()\n\n    pack.register(sdk)\n\n    sdk.components.forEach(component => this.components.add(component))\n\n    this.packages.add(pack)\n  }\n}\n\n// there can be only one\nexport default new Manager()\n","import { useStorage } from '@vueuse/core'\nimport { getAuth } from 'firebase/auth'\nimport { createPinia } from 'pinia'\nimport { createApp, h, provide } from 'vue'\n// @ts-ignore\nimport { Vue3Mq } from 'vue3-mq'\nimport CoreScrollable from '/components/CoreScrollable.vue'\nimport Extendable from '/components/Extendable.vue'\nimport { type User, useAppearance } from '/composables'\nimport App from '/src/App.vue'\nimport { init } from '/src/firebase'\nimport { globalConfig } from '/src/global'\nimport { router } from '/src/router'\nimport { store } from '/src/store'\nimport { caching } from '/src/stores/plugins'\n\nimport '/src/assets/app.css'\nimport 'overlayscrollbars/overlayscrollbars.css'\n\n// import the service worker\nimport '/src/sw.js'\n\nimport {\n  SET_MOD_KEY,\n  SET_OFFLINE,\n  SET_ONLINE,\n  SET_SHOW_WELCOME,\n} from '/src/store/actions.js'\n\nimport { SET_SUBSCRIPTION, SET_USER } from '/src/store/modules/auth'\n\nimport PackageManager from '/src/packages/manager.js'\n\nconst updateAppHeight = () => {\n  document.documentElement.style.setProperty('--app-height', `calc(${window.visualViewport.height}px - 1px)`)\n}\n\n// init firebase\ninit()\n\n// set the app height\nupdateAppHeight()\n\nwindow.visualViewport.addEventListener('resize', updateAppHeight)\n\nif (localStorage.getItem('octo/welcome/v1') === null) {\n  store.dispatch(SET_SHOW_WELCOME, true)\n}\n\nwindow.addEventListener('offline', () => {\n  store.dispatch(SET_OFFLINE)\n})\n\nwindow.addEventListener('online', () => {\n  store.dispatch(SET_ONLINE)\n})\n\nif (!navigator.onLine) {\n  store.dispatch(SET_OFFLINE)\n}\n\n// TODO: Determine whether we need both of these.\n// @ts-ignore\nif (/Mac|iPod|iPhone|iPad/.test(navigator.platform || navigator.userAgentData.platform)) {\n  store.dispatch(SET_MOD_KEY, 'âŒ˜')\n}\n\nconst app = createApp({\n  render: () => h(App),\n  setup() {\n    // https://github.com/vueuse/vueuse/issues/1595\n    const email = useStorage<string>('email', '')\n    const user = useStorage<User>('user', {\n      id: undefined,\n      providers: [],\n      roles: [],\n    }, undefined, { mergeDefaults: true })\n    const { appearance } = useAppearance()\n\n    provide('appearance', appearance)\n    provide('email', email)\n    provide('user', user)\n\n    if (globalConfig.supportsFirebase) {\n      getAuth().onIdTokenChanged(async (authUser) => {\n\n        if (authUser) {\n          user.value = {\n            ...user.value,\n            id: authUser.uid,\n            providers: [...authUser.providerData],\n          }\n\n          store.commit(SET_USER, authUser)\n\n          const token = await authUser.getIdTokenResult(true)\n\n          if (token.claims.ambassador && !user.value.roles.includes('ambassador')) {\n            user.value = {\n              ...user.value,\n              roles: [...user.value.roles, 'ambassador'],\n            }\n\n            store.commit(SET_SUBSCRIPTION, { pro: true })\n          }\n\n          if (token.claims.stripeRole === 'subscriber' && !user.value.roles.includes('subscriber')) {\n            user.value = {\n              ...user.value,\n              roles: [...user.value.roles, 'subscriber'],\n            }\n\n            store.commit(SET_SUBSCRIPTION, { pro: true })\n          }\n        } else {\n          user.value = {\n            id: undefined,\n            providers: [],\n            roles: [],\n          }\n\n          store.commit(SET_USER, null)\n          store.commit(SET_SUBSCRIPTION, { pro: false })\n        }\n      })\n    }\n  },\n})\nconst pinia = createPinia()\n\npinia.use(caching)\n\napp.config.globalProperties.$packageManager = PackageManager\napp.use(pinia)\napp.use(router)\napp.use(store)\napp.component('CoreScrollable', CoreScrollable)\napp.component('Extendable', Extendable)\napp.use(Vue3Mq, {\n  breakpoints: {\n    xs: 0,\n    sm: 577,\n    md: 769,\n    lg: 993,\n    xl: 1201,\n  },\n})\napp.mount('#app')\n"],"names":["AsyncChangeLog","_normalizeClass","app","initializeFirestore","setLogLevel","connectFirestoreEmulator","getFirestore","store","actions","cache","PackageInterface","CoreScrollable","Extendable","Vue3Mq"],"mappings":"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"}