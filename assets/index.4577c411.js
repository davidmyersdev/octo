var e=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,l=(t,e)=>{for(var n in e||(e={}))o.call(e,n)&&s(t,n,e[n]);if(i)for(var n of i(e))a.call(e,n)&&s(t,n,e[n]);return t},c=(t,e)=>n(t,r(e));import{s as u,f as h,v as d,m as f,M as p,h as m,l as g,c as v,a as y,b as _,V as w,d as b,R as x,e as C,n as k,i as E}from"./vendor.c7e104ba.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),"use-credentials"===t.crossorigin?e.credentials="include":"anonymous"===t.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();function T(t,e,n,r,i,o,a,s){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}const S={};var A=T({name:"Tag",props:{tag:String},computed:{tagRoute(){return{name:"tag",params:{tag:this.tag}}}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"flex items-center",attrs:{to:t.tagRoute}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"}})]),n("span",{staticClass:"ml-6 md:ml-3 flex-grow"},[t._v(t._s(t.tag))])])}),[],!1,M,null,null,null);function M(t){for(let e in S)this[e]=S[e]}var D=function(){return A.exports}();const I={};var O=T({name:"App",components:{simplebar:u,Tag:D},data:()=>({showModal:!1}),watch:{theme(t){document.documentElement.classList.remove("dark","light"),document.documentElement.classList.add(t)}},computed:{context(){return this.$store.state.context},contextTags(){return this.context.tags.sort()},ligatures(){return this.$store.state.settings.editor.ligatures},sizes(){return"xs"===this.$mq?["xs xs-plus"]:"sm"===this.$mq?["sm xs-plus sm-plus"]:"md"===this.$mq?["md xs-plus sm-plus md-plus"]:"lg"===this.$mq?["lg xs-plus sm-plus md-plus lg-plus"]:"xl"===this.$mq?["xl xs-plus sm-plus md-plus lg-plus xl-plus"]:void 0},showStripeModal(){return this.$store.state.showStripeModal},theme(){return this.$store.state.settings.theme}},methods:{deactivateContext(){this.$store.dispatch("DEACTIVATE_CONTEXT")},hideModal(){this.showModal=!1},refreshPage(){window.location.reload(!0)}},created(){window.addEventListener("swupdated",(t=>{this.showModal=!0}))}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col flex-grow flex-shrink",class:t.sizes.concat([!t.ligatures&&"ligatures-none"]),attrs:{id:"app"}},[t.showStripeModal?n("div",{staticClass:"flex items-center justify-center fixed top-0 left-0 h-full w-full z-50 bg-darkest"},[n("div",{staticClass:"flex flex-col items-center justify-center gap-8 text-center text-2xl"},[n("svg",{staticClass:"animate-spin mr-3 h-10 w-10 text-current",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"}},[n("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),n("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})]),n("span",[t._v("Redirecting you to Stripe for checkout")])])]):t._e(),t.context.active||t.context.editing?n("simplebar",{staticClass:"context-banner bg-white dark:bg-gray-900 border-gray-100 dark:border-gray-800 relative-fixed"},[n("div",{staticClass:"flex items-center text-center"},[t.contextTags.length?n("div",{staticClass:"context-tags"},t._l(t.contextTags,(function(t){return n("Tag",{key:t,staticClass:"button button-size-small button-color-gray ml-1",attrs:{tag:t}})})),1):n("div",{staticClass:"context-placeholder"},[t._v("no active tags")]),n("div",{staticClass:"button button-size-small button-color-gray",on:{click:t.deactivateContext}},[n("svg",{attrs:{width:"1.25em",height:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])])]):t._e(),n("div",{staticClass:"flex flex-col flex-grow flex-shrink relative min-h-0"},[n("router-view",{staticClass:"flex-grow flex-shrink min-h-0"}),n("div",{staticClass:"flex flex-col min-w-0 max-w-full rounded break-words bg-white notification fixed top-0 right-0 m-4 md:m-2 dark:bg-gray-800",class:{hidden:!t.showModal}},[n("div",{staticClass:"flex-auto p-4 notification-body"},[n("p",{staticClass:"mb-6"},[t._v("An update is available. Refresh the app to apply.")]),n("button",{staticClass:"button button-size-small button-color-blue text-gray-900 dark:text-gray-200",attrs:{type:"button"},on:{click:t.refreshPage}},[t._v("Refresh Now")]),n("button",{staticClass:"button button-size-small button-color-gray ml-2",attrs:{type:"button"},on:{click:t.hideModal}},[t._v("Later")])])])],1)],1)}),[],!1,N,null,null,null);function N(t){for(let e in I)this[e]=I[e]}var z=function(){return O.exports}();const R={};var P=T({name:"Extendable",props:{scope:String},computed:{appendable(){return this.$packageManager.getComponents(this.scope,"append")},prependable(){return this.$packageManager.getComponents(this.scope,"prepend")}},created(){[...this.appendable,...this.prependable].forEach((t=>{this.$options.components[t.name]=t}))}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.prependable,(function(t){return n(t.name,{key:t.name,tag:"component"})})),t._t("default"),t._l(t.appendable,(function(t){return n(t.name,{key:t.name,tag:"component"})}))],2)}),[],!1,L,null,null,null);function L(t){for(let e in R)this[e]=R[e]}var U=function(){return P.exports}();h.initializeApp({apiKey:"AIzaSyCqk-k-XiYFYgPQo28ITj3qkxoqDGDrVk0",appId:"1:1011232276130:web:1ae2ea1437c349a4c2e1fb",authDomain:"octo-64838.firebaseapp.com",databaseURL:"https://octo-64838.firebaseio.com",messagingSenderId:"1011232276130",projectId:"octo-64838",storageBucket:"octo-64838.appspot.com"});const j=h.auth(),$=h.auth,B=h.firestore(),K=h.firestore;"localhost"!==location.hostname||{}.VITE_FIREBASE_EMULATOR_BYPASS||(j.useEmulator({}.VITE_FIREBASE_EMULATOR_AUTH,{disableWarnings:!0}),B.useEmulator({}.VITE_FIREBASE_EMULATOR_FIRESTORE_HOST,{}.VITE_FIREBASE_EMULATOR_FIRESTORE_PORT));const H=t=>(new TextDecoder).decode(t),G=t=>window.btoa(String.fromCharCode.apply(null,new Uint8Array(t))),F=t=>{const e=window.atob(t),n=new ArrayBuffer(e.length),r=new Uint8Array(n);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return n},V={name:"RSA-OAEP"},Y=async t=>{const e={};return t.privateKey&&(e.privateKey=await q(t.privateKey)),t.publicKey&&(e.publicKey=await W(t.publicKey)),e},q=async t=>`-----BEGIN PRIVATE KEY-----\n${G(await window.crypto.subtle.exportKey("pkcs8",t))}\n-----END PRIVATE KEY-----`,W=async t=>`-----BEGIN PUBLIC KEY-----\n${G(await window.crypto.subtle.exportKey("spki",t))}\n-----END PUBLIC KEY-----`,X=async()=>window.crypto.subtle.generateKey({hash:"SHA-512",modulusLength:4096,name:V.name,publicExponent:new Uint8Array([1,0,1])},!0,["encrypt","decrypt"]),Z=async t=>{const e=t.substring("-----BEGIN PRIVATE KEY-----".length,t.length-"-----END PRIVATE KEY-----".length),n=F(e);return window.crypto.subtle.importKey("pkcs8",n,{hash:"SHA-512",name:V.name},!0,["decrypt","unwrapKey"])},Q=async t=>{const e=t.substring("-----BEGIN PUBLIC KEY-----".length,t.length-"-----END PUBLIC KEY-----".length),n=F(e);return window.crypto.subtle.importKey("spki",n,{hash:"SHA-512",name:V.name},!0,["encrypt","wrapKey"])};var J=V,tt=async(t,e)=>{const n=await window.crypto.subtle.decrypt(V,e,t);return H(n)},et=async t=>{const e={};return t.privateKey&&(e.privateKey=await Z(t.privateKey)),t.publicKey&&(e.publicKey=await Q(t.publicKey)),e};const nt={name:"AES-GCM"};var rt=nt,it=async(t,e,n)=>{const r=await window.crypto.subtle.decrypt({name:nt.name,iv:n},e,t);return H(r)},ot=async(t,e)=>{const n=(t=>(new TextEncoder).encode(t))(t),r=window.crypto.getRandomValues(new Uint8Array(12));return{cipher:await window.crypto.subtle.encrypt({name:nt.name,iv:r},e,n),iv:r}},at=async()=>window.crypto.subtle.generateKey({name:nt.name,length:256},!0,["encrypt","decrypt"]),st=async t=>window.crypto.subtle.importKey("raw",t,nt.name,!0,["decrypt","encrypt"]);const lt=async t=>{const e=F(t.cipher),n=F(t.cipherKey),r=F(t.iv),{privateKey:i}=await et({privateKey:t.privateKey});try{var o=await(async(t,e)=>window.crypto.subtle.unwrapKey("raw",t,e,J,rt,!0,["encrypt","decrypt"]))(n,i)}catch(a){o=await tt(n,i).then((t=>st(F(t))))}return it(e,o,r)},ct=async t=>{const e=await at(),{cipher:n,iv:r}=await ot(t.data,e),{publicKey:i}=await et({publicKey:t.publicKey}),o=await(async(t,e)=>window.crypto.subtle.wrapKey("raw",t,e,J))(e,i);return{cipher:G(n),cipherKey:G(o),iv:G(r)}},ut=/```([^\n\s]*)(?:\s([\w-]+\.[\w]+))?\n(.*?)```/gs,ht=/````.*?````|```.*?```|``.*?``|`.*?`|\w+:\/?\/?\S*|#([\w-]+)/gs,dt=/````.*?````|```.*?```|``.*?``|`.*?`|- \[ \] ([^\n]+)/gs,ft=(t,e)=>{let n=[];const r=[];for(;n=t.exec(e);)r.push(n);return r},pt=t=>{const e=ft(ht,t),n=new Set;return e.forEach((t=>{t[1]&&n.add(t[1].toLowerCase())})),Array.from(n).sort()},mt=t=>{const e=ft(dt,t),n=[];return e.forEach((t=>{t[1]&&n.push(t[1])})),n};class gt{constructor(t={}){this.id=t.id||d(),this.text=t.text||"",this.textKey=t.textKey||null,this.daily=t.daily||!1,this.iv=t.iv||null,this.encrypted=t.encrypted||!1,this.createdAt=t.createdAt||new Date,this.updatedAt=t.updatedAt||new Date,this.touchedAt=t.touchedAt||new Date,this.discardedAt=t.discardedAt||null,this.tags=this.encrypted?[]:pt(this.text),this.tasks=this.encrypted?[]:mt(this.text),this.firebaseId=t.firebaseId||null,this.ownerId=t.ownerId||null,this.syncedAt=t.syncedAt||null,this.public=t.public||!1}discard(){this.updatedAt=new Date,this.touchedAt=new Date,this.discardedAt=new Date}duplicate(){return new gt({text:this.text})}merge(t){Object.assign(this,t,{id:this.id})}restore(){this.updatedAt=new Date,this.touchedAt=new Date,this.discardedAt=null}restrict(){this.public=!1,this.updatedAt=new Date,this.touchedAt=new Date}share(){this.public=!0,this.updatedAt=new Date,this.touchedAt=new Date}touch(){this.touchedAt=new Date}update({text:t}){this.text=t,this.tags=pt(t),this.tasks=mt(t),this.updatedAt=new Date,this.touchedAt=new Date}}const vt=async(t,{secure:e=!0,publicKey:n=null})=>{if(e){const{cipher:e,cipherKey:r,iv:i}=await ct({data:t.text,publicKey:n});return Object.assign({},t,{encrypted:!0,iv:i,tags:[],text:e,textKey:r})}return Object.assign({},t)},yt=async(t,{privateKey:e})=>{try{if(t.encrypted){const n=await lt({cipher:t.text,cipherKey:t.textKey,iv:t.iv,privateKey:e});return new gt(Object.assign({},t,{encrypted:!1,text:n}))}}catch(n){}return new gt(t)};const _t={name:"Editor",components:{Ink:f,LegacyEditor:p},props:{id:String,initialCursor:{type:Object,default:()=>({character:0,line:0}),validator:t=>t.hasOwnProperty("character")&&t.hasOwnProperty("line")},initialFocus:{type:String,default:()=>"any",validator:t=>["any","start","end"].includes(t)},initialSelection:{type:Object},initialVimMode:{type:String},readonly:{type:Boolean}},data:()=>({editor:null,placeholder:new gt}),watch:{document(){this.clearHistory(),this.focusEditor()}},computed:{appearance(){return this.$store.state.settings.theme},currentDoc(){return this.$store.getters.currentDoc},document(){return this.$store.getters.decrypted.find((t=>t.id===this.id))||this.placeholder},ink(){return"ink"===this.settings.version},mediumPlus(){return["md","lg","xl"].includes(this.$mq)},settings(){return this.$store.state.settings.editor},showRightSidebar(){return this.$store.state.showRightSidebar},spellcheck(){return this.$store.state.settings.editor.spellcheck}},methods:{async findSharedDocument(){const t=await B.collection("documents").where("public","==",!0).where("id","==",this.$route.params.id).get(),[e,...n]=t.docs,r=e.data(),i=c(l({},r),{id:r.id||r.clientId,firebaseId:e.id,textKey:r.textKey||r.dataKey,createdAt:r.createdAt?r.createdAt.toDate():null,discardedAt:r.discardedAt?r.discardedAt.toDate():null,updatedAt:r.updatedAt?r.updatedAt.toDate():null,touchedAt:r.touchedAt?r.touchedAt.toDate():null,syncedAt:r.syncedAt.toDate()});return yt(i,{privateKey:this.$store.state.settings.crypto.privateKey})},clearHistory(){if(this.ink)this.$refs.editable.instance.load(this.document.text);else{const t=()=>{this.document.text===this.editor.getValue()&&(this.editor.off("change",t),this.editor.clearHistory())};this.editor.on("change",t)}},focusEditor(){this.$refs.editable.focus()},focusInitial(){this.focusEditor(),"start"===this.initialFocus?this.focusEditorStart():"end"===this.initialFocus&&this.focusEditorEnd()},async focusEditorEnd(){this.$refs.editable.focusEnd()},async focusEditorStart(){this.$refs.editable.focusStart()},async input(t){this.id?this.$store.dispatch("EDIT_DOCUMENT",{id:this.document.id,text:t}):(this.$store.dispatch("ADD_DOCUMENT",new gt({id:this.document.id,text:t})),this.ink?Lc({name:"document",params:{id:this.document.id,initialSelection:this.$refs.editable.selection()}}):Lc({name:"document",params:{id:this.document.id,initialCursor:{character:this.editor.getCursor().ch,line:this.editor.getCursor().line},initialVimMode:this.editor.getOption("keyMap")}}))},async onReady(t){this.editor=t,this.focusInitial(),this.clearHistory(),this.$store.dispatch("SET_EDITOR",this.editor)},async toggleMeta(){this.$store.dispatch("SET_RIGHT_SIDEBAR_VISIBILITY",!this.showRightSidebar)}},beforeRouteUpdate(t,e,n){"document"===t.name&&this.$store.dispatch("SET_DOCUMENT",{id:t.params.id}),n()},async mounted(){document.fonts.ready.then((()=>{this.$refs.editable&&!this.ink&&this.$refs.editable.refresh()})),this.readonly&&(this.placeholder=await this.findSharedDocument()),this.focusEditor()}},wt={};var bt=T(_t,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col flex-grow",on:{click:t.focusEditor}},[n("div",{staticClass:"md:container md:mx-auto flex flex-grow"},[n("div",{staticClass:"editor flex flex-col flex-grow min-w-0 p-4 md:px-16 md:py-0"},[n("div",{staticClass:"gutter h-8",on:{click:t.focusEditorStart}}),t.ink?n("Ink",{ref:"editable",staticClass:"ink",attrs:{appearance:t.appearance,images:t.settings.images.enabled,initialSelection:t.initialSelection,spellcheck:t.spellcheck,value:t.document.text},on:{input:t.input}}):n("LegacyEditor",{ref:"editable",staticClass:"editable",attrs:{theme:t.appearance,initialCursor:t.initialCursor,initialVimMode:t.initialVimMode,settings:t.settings,value:t.document.text},on:{input:t.input,ready:t.onReady}}),n("div",{staticClass:"gutter h-8 flex-grow",on:{click:t.focusEditorEnd}})],1)]),!t.showRightSidebar&&t.currentDoc?n("div",{staticClass:"fixed top-4 right-4 z-index-10 hidden md:block"},[n("button",{staticClass:"button button-size-medium button-color-gray",on:{click:t.toggleMeta}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}})]),n("span",{staticClass:"ml-3"},[t._v("Info")])])]):t._e()])}),[],!1,xt,"ad8e9390",null,null);function xt(t){for(let e in wt)this[e]=wt[e]}var Ct=function(){return bt.exports}();const kt={};var Et=T({name:"Daily",components:{Editor:Ct},computed:{daily(){return this.$store.getters.daily}},methods:{async buildTemplate(){const t=await fetch("/quotes.json").then((t=>t.json())).catch((t=>[])),e=t[Math.floor(Math.random()*t.length)];return`#daily\n\n# ${m().format("dddd, MMMM Do, YYYY")}\n\n> ${e.text}\n> ${e.author||"Unknown"}\n\n`},async checkDaily(){let t=m().startOf("day").add(3,"hours");if(m()<t&&(t=t.subtract(1,"day")),!this.daily||this.daily.createdAt<t){const t=await this.buildTemplate(),e=new gt({text:t,daily:!0});this.$store.commit("ADD_DOCUMENT",e)}}},beforeMount(){this.$store.state.documents.loaded?this.checkDaily():this.$store.subscribe((({type:t},e)=>{"DOCUMENTS_LOADED"===t&&this.checkDaily()}))}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.daily?n("Editor",{attrs:{id:t.daily.id,initialFocus:"end"}}):t._e()}),[],!1,Tt,null,null,null);function Tt(t){for(let e in kt)this[e]=kt[e]}var St=function(){return Et.exports}();const At={};var Mt=T({name:"TheLogo",props:{size:{type:String,default:"1.25em",required:!1}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"text-brand",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{height:t.size,viewBox:"0 0 152 49",fill:"currentColor",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[n("g",[n("path",{staticStyle:{"fill-rule":"nonzero"},attrs:{d:"M27.653,15.649c0,-0.677 0.551,-1.227 1.228,-1.227c0.678,0 1.226,0.55 1.226,1.227c0,0.678 -0.548,1.228 -1.226,1.228c-0.678,0 -1.228,-0.55 -1.228,-1.228m-8.461,1.228c-0.678,0 -1.227,-0.55 -1.227,-1.228c0,-0.677 0.549,-1.227 1.227,-1.227c0.678,0 1.228,0.55 1.228,1.227c0,0.678 -0.55,1.228 -1.228,1.228m28.297,8.015c-0.545,-0.3 -1.228,-0.101 -1.528,0.444c-2.024,3.685 -5.129,5.271 -9.736,4.952c-3.258,-0.264 -4.79,-2.195 -4.79,-2.195c2.539,0.784 5.078,0.57 5.078,0.57c0.381,0 0.761,-0.025 1.136,-0.076c2.59,-0.348 4.686,-1.885 5.753,-4.219c1.037,-2.268 1.042,-4.45 0.011,-6.143c-0.888,-1.461 -2.479,-2.385 -4.252,-2.471c-1.434,-0.071 -2.329,0.466 -2.827,0.93c-1.142,1.06 -1.212,2.585 -1.216,2.756c-0.016,0.621 0.474,1.138 1.095,1.153c0.621,0.016 1.132,-0.471 1.154,-1.087c0.01,-0.211 0.12,-0.83 0.506,-1.182c0.268,-0.243 0.653,-0.348 1.178,-0.324c1.027,0.051 1.939,0.572 2.44,1.395c0.631,1.035 0.582,2.469 -0.135,4.037c-0.749,1.64 -2.173,2.679 -4.007,2.925c-2.778,0.375 -5.891,-1.141 -8.322,-4.05c-0.055,-0.066 -0.117,-0.123 -0.184,-0.173c0,-0.014 0.001,-0.027 0,-0.041c0,0 -0.971,-2.404 1.075,-3.938c0,0 2.301,0.205 2.454,-2.199c0.154,-2.404 -1.841,-1.636 -1.841,-3.529c0,-1.892 0.921,0 0.921,-5.421c0,-5.062 -3.631,-7.006 -7.415,-7.006c-3.785,0 -7.415,1.944 -7.415,7.006c-0.001,5.421 0.919,3.529 0.919,5.421c0,1.893 -1.994,1.125 -1.841,3.529c0.154,2.404 2.455,2.199 2.455,2.199c2.046,1.534 1.074,3.938 1.074,3.938l0,0.041c-0.066,0.05 -0.129,0.107 -0.183,0.173c-2.432,2.909 -5.545,4.425 -8.323,4.05c-1.834,-0.246 -3.258,-1.285 -4.007,-2.925c-0.717,-1.568 -0.764,-3.002 -0.135,-4.037c0.502,-0.823 1.414,-1.344 2.441,-1.394c0.524,-0.025 0.91,0.08 1.177,0.324c0.386,0.351 0.497,0.97 0.507,1.181c0.021,0.617 0.532,1.103 1.153,1.087c0.621,-0.015 1.112,-0.532 1.097,-1.153c-0.005,-0.171 -0.075,-1.696 -1.217,-2.756c-0.498,-0.464 -1.393,-1.001 -2.827,-0.93c-1.773,0.086 -3.363,1.01 -4.253,2.471c-1.03,1.693 -1.026,3.875 0.011,6.143c1.067,2.334 3.163,3.871 5.753,4.219c0.376,0.051 0.755,0.076 1.137,0.076c0,0 2.538,0.214 5.077,-0.57c0,0 -1.532,1.931 -4.79,2.195c-4.607,0.319 -7.711,-1.267 -9.736,-4.952c-0.3,-0.545 -0.983,-0.744 -1.527,-0.444c-0.545,0.299 -0.744,0.983 -0.445,1.527c2.27,4.132 5.741,6.161 10.573,6.161c0.703,0 1.437,-0.043 2.198,-0.128c1.421,-0.161 2.627,-0.455 3.653,-0.828c-0.926,2.333 -2.698,5.702 -5.618,7.316c-2.178,1.203 -3.664,0.829 -4.329,0.078c-0.488,-0.553 -0.548,-1.293 -0.149,-1.84c0.37,-0.51 0.649,-0.53 0.741,-0.536c0.468,-0.029 1.066,0.423 1.279,0.643c0.426,0.453 1.138,0.476 1.59,0.05c0.453,-0.425 0.476,-1.137 0.05,-1.59c-0.14,-0.15 -1.419,-1.449 -3.055,-1.349c-0.652,0.04 -1.603,0.327 -2.426,1.458c-1.017,1.399 -0.901,3.311 0.284,4.653c0.733,0.83 1.911,1.464 3.441,1.464c1.063,0 2.293,-0.305 3.663,-1.061c1.851,-1.024 3.294,-2.577 4.402,-4.206c-0.115,0.742 -0.064,1.512 -0.065,2.314c-0.007,6.805 3.59,8.563 4.897,8.943c0.105,0.03 0.209,0.045 0.314,0.045c0.487,0 0.936,-0.32 1.08,-0.813c0.173,-0.596 -0.171,-1.22 -0.767,-1.394c-0.817,-0.236 -1.664,-0.929 -2.365,-2.883c-0.746,-2.08 -0.64,-4.403 0.349,-6.378c0.831,-1.653 2.161,-3.379 4.157,-3.602c1.997,0.223 3.327,1.949 4.156,3.602c0.989,1.975 1.096,4.298 0.349,6.378c-0.7,1.954 -1.547,2.647 -2.364,2.883c-0.597,0.174 -0.94,0.798 -0.767,1.394c0.143,0.493 0.592,0.813 1.08,0.813c0.104,0 0.209,-0.015 0.314,-0.045c1.307,-0.38 4.903,-2.138 4.898,-8.943c-0.001,-0.802 0.048,-1.572 -0.066,-2.314c1.108,1.629 2.552,3.182 4.402,4.206c1.371,0.756 2.601,1.061 3.662,1.061c1.531,0 2.708,-0.634 3.442,-1.464c1.185,-1.342 1.3,-3.254 0.284,-4.653c-0.824,-1.131 -1.773,-1.418 -2.426,-1.458c-1.637,-0.1 -2.916,1.199 -3.056,1.349c-0.425,0.453 -0.403,1.165 0.051,1.59c0.453,0.426 1.164,0.403 1.589,-0.05c0.214,-0.22 0.813,-0.672 1.28,-0.643c0.091,0.006 0.371,0.026 0.741,0.534c0.399,0.549 0.339,1.289 -0.149,1.842c-0.665,0.751 -2.15,1.125 -4.329,-0.078c-2.92,-1.615 -4.691,-4.983 -5.617,-7.316c1.025,0.373 2.231,0.667 3.651,0.827c0.762,0.086 1.496,0.129 2.199,0.129c4.833,0 8.304,-2.029 10.573,-6.161c0.3,-0.544 0.1,-1.228 -0.444,-1.527"}}),n("path",{staticStyle:{"fill-rule":"nonzero"},attrs:{d:"M95.254,16.33c-6.423,0 -11.652,5.227 -11.652,11.652c0,6.424 5.229,11.652 11.652,11.652c3.705,0 7.106,-1.703 9.33,-4.671c0.509,-0.679 0.371,-1.646 -0.307,-2.156c-0.68,-0.508 -1.647,-0.369 -2.155,0.308c-1.638,2.186 -4.142,3.44 -6.868,3.44c-4.727,0 -8.572,-3.846 -8.572,-8.573c0,-4.727 3.845,-8.574 8.572,-8.574c2.31,0 4.476,0.906 6.099,2.549c0.594,0.601 1.572,0.61 2.179,0.014c0.602,-0.596 0.609,-1.574 0.012,-2.179c-2.207,-2.232 -5.152,-3.462 -8.29,-3.462"}}),n("path",{staticStyle:{"fill-rule":"nonzero"},attrs:{d:"M109.286,21.758l1.562,0l0.036,10.359c0,4.143 3.368,7.512 7.511,7.512c4.142,0 7.511,-3.369 7.511,-7.512c0,-2.67 -1.437,-5.161 -3.749,-6.501l-0.001,-0.001c-0.356,-0.206 -0.77,-0.26 -1.166,-0.156c-0.397,0.106 -0.729,0.361 -0.937,0.717c-0.205,0.355 -0.262,0.769 -0.155,1.167c0.105,0.397 0.359,0.73 0.715,0.936c1.366,0.793 2.216,2.262 2.216,3.838c0,2.444 -1.99,4.433 -4.434,4.433c-2.443,0 -4.433,-1.989 -4.433,-4.433l-0.035,-10.359l7.521,0c0.849,0 1.54,-0.691 1.54,-1.539c0,-0.85 -0.691,-1.54 -1.54,-1.54l-7.533,0l-0.022,-4.734c-0.003,-0.845 -0.693,-1.532 -1.538,-1.532c-0.856,0.003 -1.544,0.697 -1.54,1.546l0.02,4.72l-1.549,0c-0.85,0 -1.541,0.69 -1.541,1.54c0,0.848 0.691,1.539 1.541,1.539"}}),n("path",{staticStyle:{"fill-rule":"nonzero"},attrs:{d:"M68.814,36.555c-1.444,0 -2.878,-0.371 -4.145,-1.074l-0.091,-0.067c-0.431,-0.425 -0.762,-0.944 -0.955,-1.499c-0.714,-2.042 0.37,-4.286 2.416,-5.003c1.321,-0.46 2.8,-0.181 3.859,0.727c0.643,0.553 1.618,0.475 2.171,-0.168c0.55,-0.644 0.475,-1.617 -0.171,-2.17c-1.893,-1.622 -4.526,-2.119 -6.877,-1.294c-1.674,0.586 -3.054,1.783 -3.885,3.369l-0.601,1.147l-0.191,-1.281c-0.07,-0.471 -0.103,-0.871 -0.103,-1.26c0,-4.727 3.846,-8.573 8.573,-8.573c4.728,0 8.573,3.846 8.573,8.573c0,4.727 -3.845,8.573 -8.573,8.573m0,-20.225c-6.425,0 -11.652,5.227 -11.652,11.652c0,4.046 2.068,7.745 5.531,9.896c0.161,0.129 0.287,0.205 0.434,0.267c1.762,0.981 3.717,1.489 5.687,1.489c6.425,0 11.652,-5.227 11.652,-11.652c0,-6.425 -5.227,-11.652 -11.652,-11.652"}}),n("path",{staticStyle:{"fill-rule":"nonzero"},attrs:{d:"M148.609,29.743l-0.27,1.297l-0.531,-1.214c-0.782,-1.79 -2.276,-3.18 -4.099,-3.819c-2.355,-0.826 -4.989,-0.328 -6.882,1.294c-0.643,0.553 -0.718,1.527 -0.164,2.171c0.553,0.644 1.526,0.717 2.171,0.166c1.055,-0.907 2.53,-1.189 3.856,-0.726c2.045,0.717 3.129,2.961 2.417,5.005c-0.225,0.642 -0.612,1.216 -1.121,1.659l-0.242,0.212c-1.121,0.509 -2.308,0.767 -3.525,0.767c-4.727,0 -8.572,-3.847 -8.572,-8.574c0,-4.727 3.845,-8.572 8.572,-8.572c4.728,0 8.573,3.845 8.573,8.572c0,0.585 -0.061,1.178 -0.183,1.762m-8.39,-13.413c-6.425,0 -11.652,5.227 -11.652,11.651c0,6.425 5.227,11.652 11.652,11.652c6.426,0 11.652,-5.227 11.652,-11.652c0,-6.424 -5.226,-11.651 -11.652,-11.651"}})])])}),[],!1,Dt,null,null,null);function Dt(t){for(let e in At)this[e]=At[e]}var It=function(){return Mt.exports}();const Ot={};var Nt=T({name:"TheNavbar",components:{TheLogo:It},computed:{document(){return this.$store.getters.currentDoc},isDocument(){return this.document&&"document"===this.$route.name},isDashboard(){return"dashboard"===this.$route.name}},methods:{close(){if(this.document)return Lc({name:"document",params:{id:this.document.id}});Lc({name:"dashboard"})}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"relative flex flex-wrap items-center content-between py-3 px-4 z-index-10 md:hidden p-6 w-full"},[n("router-link",{staticClass:"pt-1 pb-1 mr-4 text-lg whitespace-no-wrap flex justify-between items-center",attrs:{to:{name:"dashboard"}}},[n("TheLogo",{attrs:{size:"2.25em"}})],1),n("div",{staticClass:"flex items-stretch fixed top-3 right-3"},[n("router-link",{staticClass:"button button-size-medium button-color-gray ml-2",attrs:{to:{name:"menu"},role:"button","aria-haspopup":"true","aria-expanded":"false"}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"}})]),n("span",{staticClass:"ml-2"},[t._v("Menu")])]),t.isDashboard?n("router-link",{staticClass:"button button-size-medium button-color-gray ml-2",attrs:{to:{name:"quick-action"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}})])]):t.isDocument?n("router-link",{staticClass:"button button-size-medium button-color-gray ml-2",attrs:{to:{name:"document-meta",params:{id:t.document.id}}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}})])]):n("button",{staticClass:"button button-size-medium button-color-gray ml-2",on:{click:t.close}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])],1)],1)}),[],!1,zt,null,null,null);function zt(t){for(let e in Ot)this[e]=Ot[e]}const Rt={};var Pt=T({name:"TheContent",components:{simplebar:u,TheNavbar:function(){return Nt.exports}()}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("simplebar",{staticClass:"the-content flex h-full relative-fixed"},[n("TheNavbar"),n("router-view",{key:t.$route.fullPath,staticClass:"flex"})],1)}),[],!1,Lt,"49fe8a99",null,null);function Lt(t){for(let e in Rt)this[e]=Rt[e]}var Ut=function(){return Pt.exports}();const jt={name:"Key",props:{active:{default:!1,required:!1,type:Boolean}}},$t={};var Bt=T(jt,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("small",{staticClass:"key hidden md:flex justify-center rounded-sm shadow uppercase leading-none text-xs text-gray-500 py-1 px-1.5",class:{active:t.active}},[t._t("default")],2)}),[],!1,Kt,"5fd7f1b8",null,null);function Kt(t){for(let e in $t)this[e]=$t[e]}var Ht=function(){return Bt.exports}();const Gt={};var Ft=T({name:"ModK",components:{Key:Ht},computed:{active(){return this.$store.state.keybindings.listening}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hidden md:flex items-center"},[n("Key",{staticClass:"bg-gray-200 dark:bg-gray-900",class:{active:t.active}},[t._v(t._s(this.$store.state.modKey))]),n("Key",{staticClass:"bg-gray-200 dark:bg-gray-900 ml-1",class:{active:t.active}},[t._v("K")])],1)}),[],!1,Vt,"105403fc",null,null);function Vt(t){for(let e in Gt)this[e]=Gt[e]}var Yt=function(){return Ft.exports}();const qt={};var Wt=T({name:"ModKKey",components:{Key:Ht},computed:{active(){return this.$store.state.keybindings.listening}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"md:flex items-center"},[t.active?n("Key",{staticClass:"bg-gray-200 dark:bg-gray-900"},[t._t("default")],2):t._e()],1)}),[],!1,Xt,null,null,null);function Xt(t){for(let e in qt)this[e]=qt[e]}const Zt={};var Qt=T({name:"TheLeftSidebar",components:{simplebar:u,Key:Ht,ModK:Yt,ModKKey:function(){return Wt.exports}(),Tag:D,TheLogo:It},computed:{authIsEvaluated(){return this.$store.state.auth.isEvaluated},contexts(){return this.$store.getters.sortedContexts},document(){return this.$store.getters.currentDoc},mediumPlus(){return["md","lg","xl"].includes(this.$mq)},tags(){return this.$store.getters.tags},user(){return this.$store.state.auth.user}},methods:{trackCta(){window.fathom.trackGoal("LO3GIHSZ",0)}},methods:{setContext(t){this.$store.dispatch("SET_CONTEXT_TAGS",{context:t})}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("simplebar",{staticClass:"p-4 md:p-2"},[n("div",{staticClass:"hidden md:flex justify-center my-3 pb-2"},[n("router-link",{staticClass:"flex p-2",attrs:{to:{name:"dashboard"}}},[n("TheLogo",{attrs:{size:"2.5rem"}})],1)],1),n("div",{staticClass:"side-nav-spacer flex flex-col flex-grow pb-3"},[n("div",{staticClass:"other-actions"},[n("div",{staticClass:"search"},[n("router-link",{staticClass:"sidebar-button",attrs:{to:{name:"documents"}}},[n("div",{staticClass:"flex items-center"},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}})]),n("span",{staticClass:"ml-6 md:ml-3"},[t._v("Search")])]),n("span",{staticClass:"hidden md:flex text-gray-500"},[n("Key",{attrs:{toggleable:!1}},[t._v(t._s(this.$store.state.modKey))]),n("Key",{staticClass:"ml-1",attrs:{toggleable:!1}},[t._v("â‡§ shift")]),n("Key",{staticClass:"ml-1",attrs:{toggleable:!1}},[t._v("f")])],1)])],1),n("h6",{staticClass:"sidebar-label"},[n("span",[t._v("Actions")]),n("ModK")],1),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"dashboard"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",{staticClass:"action"},[t._v("New Doc")]),n("ModKKey",[t._v("N")])],1)]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"daily"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[t._v("Daily Notepad")]),n("ModKKey",[t._v("P")])],1)]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"context"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",{staticClass:"action"},[t._v("Context Switching")]),n("ModKKey",[t._v("C")])],1)]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"graph"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16l2.879-2.879m0 0a3 3 0 104.243-4.242 3 3 0 00-4.243 4.242zM21 12a9 9 0 11-18 0 9 9 0 0118 0z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[t._v("Data Explorer")]),n("ModKKey",[t._v("E")])],1)]),n("a",{staticClass:"sidebar-link",attrs:{href:"https://github.com/writewithocto/octo/discussions",target:"_blank",rel:"noopener noreferrer"}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"}})]),n("div",{staticClass:"flex-grow ml-6 md:ml-3"},[t._v("Discuss")])]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"settings"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}}),n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[t._v("Settings")]),n("ModKKey",[t._v("S")])],1)]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"account"}}},[n("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[t._v(t._s(t.authIsEvaluated&&!t.user?"Sign In to Account":"Account"))])])]),t.authIsEvaluated&&!t.user?n("router-link",{staticClass:"sidebar-link text-brand",attrs:{to:{name:"account"}},nativeOn:{click:function(e){return t.trackCta.apply(null,arguments)}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[t._v("Save Docs")])])]):t._e(),n("h6",{staticClass:"sidebar-label"},[n("span",[t._v("Quick Filters")]),n("span",{staticClass:"flex"},[n("ModK")],1)]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"recent"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[t._v("Recent Docs")]),n("ModKKey",[t._v("R")])],1)]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"actionable"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[t._v("Tasks")]),n("ModKKey",[t._v("T")])],1)]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"untagged"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[t._v("Untagged")]),n("ModKKey",[t._v("U")])],1)]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"discarded"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[t._v("Discarded")]),n("ModKKey",[t._v("D")])],1)]),t.contexts.length?n("h6",{staticClass:"sidebar-label"},[n("span",[t._v("Saved Contexts")])]):t._e(),t._l(t.contexts,(function(e){return n("button",{key:e.id,staticClass:"sidebar-link w-full",on:{click:function(n){return t.setContext(e)}}},[n("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[t._v(t._s(e.name))])])])}))],2),n("div",[n("h6",{staticClass:"sidebar-label"},[n("span",[t._v("Tags")])]),n("router-link",{staticClass:"sidebar-link md:hidden",attrs:{to:{name:"tags"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"}})]),n("span",{staticClass:"ml-6 flex-grow"},[t._v("Tags")])]),t.mediumPlus?n("div",t._l(t.tags,(function(t){return n("Tag",{key:t,staticClass:"sidebar-link",attrs:{tag:t}})})),1):t._e()],1),n("div",[n("h6",{staticClass:"sidebar-label"},[n("span",[t._v("Agreements")])]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"privacy_policy"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[t._v("Privacy Policy")])])]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"terms_and_conditions"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[t._v("Terms & Conditions")])])])],1)])])}),[],!1,Jt,null,null,null);function Jt(t){for(let e in Zt)this[e]=Zt[e]}var te=function(){return Qt.exports}();const ee={name:"DiscardableAction",props:{discardedAt:Date,onDiscard:Function,onRestore:Function},computed:{actionText(){return this.discardedAt?"Restore":"Discard"}},methods:{toggle(){this.discardedAt?this.onRestore():this.onDiscard()}}},ne={};var re=T(ee,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"flex items-center cursor-pointer",on:{click:function(e){return e.stopPropagation(),t.toggle.apply(null,arguments)}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}})]),n("div",{staticClass:"ml-6 md:ml-3 text-left flex-grow"},[t._v(t._s(t.actionText))])])}),[],!1,ie,null,null,null);function ie(t){for(let e in ne)this[e]=ne[e]}var oe=t=>{const e={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({files:t})};return fetch("https://codesandbox.io/api/v1/sandboxes/define?json=1",e).then((t=>t.json())).then((t=>t.sandbox_id))},ae=t=>{t&&window.open(`https://codesandbox.io/s/${t}`,"_blank")};const se={};var le=T({name:"TheRightSidebar",components:{DiscardableAction:function(){return re.exports}(),simplebar:u,Tag:D},data:()=>({now:m(),ticker:null}),computed:{codeblocks(){return(t=>{const e=ft(ut,t),n=[];return e.forEach((t=>{n.push({filename:t[2],language:t[1],code:t[3]})})),n})(this.document.text)},createdAt(){return this.$route.params.id?m(this.document.createdAt).format("ddd, MMM Do, YYYY [at] h:mm A"):"Not yet created"},discardedAt(){return m(this.document.discardedAt).format("ddd, MMM Do, YYYY [at] h:mm A")},document(){return this.$store.getters.currentDoc},hasCodeblocks(){return this.codeblocks.length>0},publicUrl(){const t=this.$router.resolve({name:"shared",params:{id:this.document.id}}).href;return`${location.protocol}//${location.host}${t}`},savedAt(){return this.$route.params.id?this.now.diff(this.document.updatedAt,"seconds")<5?"just now":`${m(this.document.updatedAt).from(this.now,!0)} ago`:"Not yet saved"},updatedAt(){return this.$route.params.id?m(this.document.updatedAt).format("ddd, MMM Do, YYYY [at] h:mm A"):"Not yet updated"}},methods:{async copyPublicUrl(){this.$refs.link.select(),document.execCommand("copy")},async discardDocument(){this.$store.dispatch("DISCARD_DOCUMENT",{id:this.document.id}),Lc({name:"dashboard"})},async duplicateDocument(){const t=await this.$store.dispatch("DUPLICATE_DOCUMENT",{id:this.document.id});Lc({name:"document",params:{id:t}})},async openSandbox(){const t=this.codeblocks.reduce(((t,e,n)=>{const r=e.filename||[n,e.language||"txt"].join(".");return c(l({},t),{[r]:{content:e.code}})}),{});oe(t).then((t=>ae(t)))},async restoreDocument(){this.$store.dispatch("RESTORE_DOCUMENT",{id:this.document.id})},async restrictDocument(){this.$store.dispatch("RESTRICT_DOCUMENT",{id:this.document.id})},async shareDocument(){this.$store.dispatch("SHARE_DOCUMENT",{id:this.document.id})},async toggleMeta(){this.$store.dispatch("SET_RIGHT_SIDEBAR_VISIBILITY",!this.$store.state.showRightSidebar)}},async beforeDestroy(){clearInterval(this.ticker)},async mounted(){this.mounted=!0,this.ticker=setInterval((()=>{this.now=m()}),5e3)}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("simplebar",{staticClass:"meta p-4 md:p-2"},[n("div",{staticClass:"flex flex-col flex-grow"},[n("div",{staticClass:"hidden mb-4 md:flex justify-end"},[n("button",{staticClass:"sidebar-button",on:{click:t.toggleMeta}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})]),n("span",{staticClass:"ml-3"},[t._v("Hide")])])]),t.document?n("div",{staticClass:"flex flex-col flex-grow"},[n("div",[t.document.id?n("DiscardableAction",{staticClass:"sidebar-button w-full",attrs:{discardedAt:t.document.discardedAt,onDiscard:t.discardDocument,onRestore:t.restoreDocument}}):t._e(),n("button",{staticClass:"sidebar-button w-full",on:{click:function(e){return e.stopPropagation(),t.duplicateDocument.apply(null,arguments)}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"}})]),n("span",{staticClass:"ml-6 md:ml-3 flex-grow text-left"},[t._v("Duplicate")])]),t.hasCodeblocks?n("button",{staticClass:"sidebar-button w-full",on:{click:t.openSandbox}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"}})]),n("span",{staticClass:"ml-6 md:ml-3 flex-grow text-left"},[t._v("Create Sandbox")])]):t._e(),n("div",[t.document.public?n("div",[n("button",{staticClass:"sidebar-button w-full",on:{click:t.restrictDocument}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"}})]),n("span",{staticClass:"ml-6 md:ml-3 flex-grow text-left"},[t._v("Make Private")])]),n("button",{staticClass:"sidebar-button w-full",on:{click:t.copyPublicUrl}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"}})]),n("span",{staticClass:"ml-6 md:ml-3 flex-grow text-left"},[t._v("Copy Link")])]),n("input",{ref:"link",staticClass:"form-text w-full mb-2",attrs:{type:"text",readonly:""},domProps:{value:t.publicUrl}})]):n("div",{staticClass:"mb-2"},[n("button",{staticClass:"sidebar-button w-full",on:{click:t.shareDocument}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"}})]),n("span",{staticClass:"ml-6 md:ml-3 flex-grow text-left"},[t._v("Make Public")])])])])],1),n("div",{staticClass:"mt-4"},t._l(t.document.tags,(function(t){return n("Tag",{key:t,staticClass:"sidebar-link",attrs:{tag:t}})})),1),n("div",{staticClass:"mt-4"},t._l(t.document.tasks,(function(e){return n("div",{staticClass:"flex items-center px-3 py-2 my-1 md:px-2 md:py-1"},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),n("span",{staticClass:"flex-grow overflow-hidden truncate ml-3"},[t._v(t._s(e))])])})),0),n("div",{staticClass:"flex flex-col justify-end flex-grow px-3 md:p-2 mt-4 mb-3 md:mb-1"},[t.document.updatedAt?n("div",[n("small",{staticClass:"text-gray-700"},[t._v("Last Saved")]),n("div",{staticClass:"capitalize pt-2 md:pt-1"},[t._v(t._s(t.savedAt))])]):t._e(),t.document.createdAt?n("div",{staticClass:"mt-3 md:mt-2"},[n("small",{staticClass:"text-gray-700"},[t._v("Created")]),n("div",{staticClass:"pt-2 md:pt-1"},[t._v(t._s(t.createdAt))])]):t._e(),t.document.updatedAt?n("div",{staticClass:"mt-3 md:mt-2"},[n("small",{staticClass:"text-gray-700"},[t._v("Updated")]),n("div",{staticClass:"pt-2 md:pt-1"},[t._v(t._s(t.updatedAt))])]):t._e(),t.document.discardedAt?n("div",{staticClass:"mt-3 md:mt-2"},[n("small",{staticClass:"text-gray-700"},[t._v("Discarded")]),n("div",{staticClass:"pt-2 md:pt-1"},[t._v(t._s(t.discardedAt))])]):t._e()])]):t._e()])])}),[],!1,ce,null,null,null);function ce(t){for(let e in se)this[e]=se[e]}var ue=function(){return le.exports}();const he={};var de=T({name:"Dashboard",components:{TheContent:Ut,TheLeftSidebar:te,TheRightSidebar:ue},computed:{currentDoc(){return this.$store.getters.currentDoc},mobile(){return["xs","sm"].includes(this.$mq)},showLeftSidebar(){return this.$store.state.showLeftSidebar},showRightSidebar(){return"document"===this.$route.name&&this.$store.state.showRightSidebar}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col"},[n("div",{staticClass:"flex flex-grow flex-shrink min-h-0"},[!t.mobile&&t.showLeftSidebar?n("TheLeftSidebar",{staticClass:"hidden w-72 bg-gray-100 dark:bg-darkest md:flex m-2 rounded shadow"}):t._e(),n("div",{staticClass:"flex flex-col flex-grow flex-shrink min-h-0 min-w-0"},[n("TheContent",{staticClass:"flex-grow flex-shrink min-h-0 min-w-0"})],1),!t.mobile&&t.showRightSidebar&&t.currentDoc?n("TheRightSidebar",{staticClass:"hidden w-72 bg-gray-100 dark:bg-darkest md:flex m-2 rounded"}):t._e()],1)])}),[],!1,fe,null,null,null);function fe(t){for(let e in he)this[e]=he[e]}var pe=function(){return de.exports}();const me={name:"Document",props:{id:String,text:String,updatedAt:Date,discardedAt:Date},computed:{updated(){return`Updated on ${m(this.updatedAt).format("ddd, MMM Do, YYYY [at] h:mm A")}`}},methods:{discard(){this.$store.dispatch("DISCARD_DOCUMENT",{id:this.id})},restore(){this.$store.dispatch("RESTORE_DOCUMENT",{id:this.id})}}},ge={};var ve=T(me,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shadow relative flex flex-col min-w-0 rounded text-sm overflow-hidden cursor-pointer bg-gray-100 dark:bg-gray-800 dark:text-gray-300"},[n("div",{staticClass:"flex-grow flex-shrink overflow-hidden p-4"},[n("pre",[t._v(t._s(t.text))])]),n("div",{staticClass:"flex items-center justify-between p-4 bg-gray-200 dark:bg-gray-900"},[n("p",{staticClass:"text-gray-500"},[t._v(t._s(t.updated))]),n("div",[t.discardedAt?n("button",{staticClass:"destroy button-flat button-size-medium text-sm bg-gray-200 hover:bg-gray-300 dark:bg-gray-900 dark:hover:bg-gray-800",on:{click:function(e){return e.stopPropagation(),t.restore.apply(null,arguments)}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}})]),n("span",{staticClass:"ml-2"},[t._v("Restore")])]):n("button",{staticClass:"destroy button-flat button-size-medium text-sm text-red-500 bg-gray-200 dark:bg-gray-900 hover:bg-gray-300 dark:hover:bg-gray-800",on:{click:function(e){return e.stopPropagation(),t.discard.apply(null,arguments)}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}})]),n("span",{staticClass:"ml-2"},[t._v("Discard")])])])])])}),[],!1,ye,null,null,null);function ye(t){for(let e in ge)this[e]=ge[e]}const _e={name:"DocumentList",props:{tag:String,actionable:Boolean,discarded:Boolean,recent:Boolean,untagged:Boolean,cols:{type:Number,default:2}},components:{Document:function(){return ve.exports}()},data:()=>({filterCase:!1,filterRegex:!0,filterText:"",isEditing:!1,selectedDocuments:[],visibleCount:25}),computed:{action(){return this.tag?this.tag:this.actionable?"actionable":this.discarded?"discarded":this.recent?"recent":this.untagged?"untagged":"documents"},canMerge(){return this.selectedDocuments.length>1},documents(){return this.tag?this.$store.getters.withTag(this.tag):this.actionable?this.$store.getters.actionable:this.discarded?this.$store.getters.discarded:this.recent?this.$store.getters.kept:this.untagged?this.$store.getters.untagged:this.$store.getters.decrypted},filterMessage(){return`Filtering documents with case ${this.filterCase?"sensitive":"insensitive"} ${this.filterRegex?"regular expression":"plain text"} queries.`},filteredDocuments(){return this.documents.filter((t=>!this.filterText||(this.filterRegex?new RegExp(this.filterText,this.filterCase?"":"i").test(t.text):this.filterCase?t.text.includes(this.filterText):t.text.toLowerCase().includes(this.filterText.toLowerCase()))))},finalDocuments(){return this.filteredDocuments.map((t=>c(l({},t),{selected:this.selectedDocuments.includes(t)})))},showLoadMore(){return this.visibleCount<=this.finalDocuments.length},visibleDocuments(){return this.finalDocuments.slice(0,this.visibleCount)}},methods:{loadMore(){this.visibleCount+=25},mergeDocuments(){this.$store.dispatch("MERGE_DOCUMENTS",this.selectedDocuments),this.selectedDocuments=[]},toggleIsEditing(){this.isEditing=!this.isEditing,this.isEditing||(this.selectedDocuments=[])},selectDocument(t){this.isEditing?this.selectedDocuments.find((e=>e.id===t))?this.selectedDocuments=this.selectedDocuments.filter((e=>e.id!==t)):this.selectedDocuments.push(this.filteredDocuments.find((e=>e.id===t))):Lc({name:"document",params:{id:t}})}},mounted(){this.$refs.input.focus()}},we={};var be=T(_e,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col w-full"},[n("div",{staticClass:"flex items-center text-2xl"},[t.tag?n("div",{staticClass:"flex items-center"},[n("svg",{attrs:{height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"}})]),n("span",{staticClass:"ml-3 flex-grow"},[t._v(t._s(t.tag))])]):n("span",{staticClass:"action capitalize"},[t._v(t._s(t.action))])]),n("div",{staticClass:"my-4"},[n("div",{staticClass:"flex align-items-bottom"},[n("div",{staticClass:"flex-grow"},[n("div",{staticClass:"flex items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filterText,expression:"filterText"}],ref:"input",staticClass:"form-text w-full shadow",attrs:{type:"text",placeholder:"Start typing to filter the list...",autocomplete:"off"},domProps:{value:t.filterText},on:{input:function(e){e.target.composing||(t.filterText=e.target.value)}}}),n("label",{staticClass:"button button-size-medium button-color-gray shadow ml-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filterRegex,expression:"filterRegex"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.filterRegex)?t._i(t.filterRegex,null)>-1:t.filterRegex},on:{change:function(e){var n=t.filterRegex,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&(t.filterRegex=n.concat([null])):o>-1&&(t.filterRegex=n.slice(0,o).concat(n.slice(o+1)))}else t.filterRegex=i}}}),n("span",{staticClass:"monospace ml-3"},[t._v(".*")])]),n("label",{staticClass:"button button-size-medium button-color-gray shadow ml-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filterCase,expression:"filterCase"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.filterCase)?t._i(t.filterCase,null)>-1:t.filterCase},on:{change:function(e){var n=t.filterCase,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&(t.filterCase=n.concat([null])):o>-1&&(t.filterCase=n.slice(0,o).concat(n.slice(o+1)))}else t.filterCase=i}}}),n("span",{staticClass:"monospace ml-3"},[t._v("Aa")])])])])]),n("small",{staticClass:"block mt-2 text-gray-700"},[t._v(t._s(t.filterMessage))])]),n("div",{staticClass:"mb-4"},[n("button",{staticClass:"button button-size-medium button-color-gray shadow",on:{click:t.toggleIsEditing}},[t._v(t._s(t.isEditing?"Cancel":"Edit Documents"))]),t.canMerge?n("button",{staticClass:"button button-size-medium button-color-gray shadow ml-2",on:{click:t.mergeDocuments}},[t._v("Merge Documents")]):t._e()]),n("div",[t.isEditing?n("p",{staticClass:"text-gray-700"},[t._v("Select two or more documents to merge them together.")]):t._e()]),n("div",{staticClass:"grid gap-4 grid-cols-1",class:2===t.cols&&"lg:grid-cols-2"},[t._l(t.visibleDocuments,(function(e){return n("div",{key:e.id,staticClass:"rounded relative cursor-pointer outline-none focus:ring",attrs:{tabindex:"0"},on:{keypress:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.selectDocument(e.id)},click:function(n){return t.selectDocument(e.id)}}},[n("Document",t._b({staticClass:"h-96"},"Document",e,!1)),e.selected?n("div",{staticClass:"flex items-center justify-center rounded absolute inset-0 bg-black bg-opacity-10 dark:bg-opacity-50"},[n("svg",{attrs:{height:"3em",width:"3em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}})])]):t._e()],1)})),t.showLoadMore?n("div",{staticClass:"flex items-center justify-center rounded cursor-pointer"},[n("div",{staticClass:"button button-color-gray text-lg px-8 py-6",on:{click:t.loadMore}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}})]),n("span",{staticClass:"ml-3"},[t._v("Load More")])])]):t._e()],2)])}),[],!1,xe,null,null,null);function xe(t){for(let e in we)this[e]=we[e]}var Ce=function(){return be.exports}();const ke={name:"Documents",components:{DocumentList:Ce},props:{tag:String,actionable:Boolean,discarded:Boolean,recent:Boolean,untagged:Boolean}},Ee={};var Te=T(ke,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container mx-auto p-4 md:px-16 md:py-8"},[n("DocumentList",{attrs:{tag:t.tag,actionable:t.actionable,discarded:t.discarded,recent:t.recent,untagged:t.untagged,cols:2}})],1)}),[],!1,Se,null,null,null);function Se(t){for(let e in Ee)this[e]=Ee[e]}var Ae=function(){return Te.exports}();var Me={state:()=>({all:[]}),getters:{sortedContexts:(t,e)=>t.all.sort(((t,e)=>t.name===e.name?0:t.name<e.name?-1:1))},mutations:{ADD_CONTEXT(t,e){t.all.push(e)},LOAD_CONTEXT(t,e){t.all.push(e)},REMOVE_CONTEXT(t,e){t.all=t.all.filter((t=>t.id!==e.id))}},actions:{LOAD_CONTEXTS({commit:t},e){e.forEach((e=>{t("LOAD_CONTEXT",e)}))}}};const De={};var Ie=T({name:"Context",components:{simplebar:u,Tag:D},data:()=>({activeIndex:0,contextName:"",input:""}),computed:{availableTags(){return this.$store.getters.allTags},contexts(){return this.$store.getters.sortedContexts},filtered(){return this.availableTags.filter((t=>t.startsWith(this.input.toLowerCase())))},selected(){return this.tags.sort()},tags(){return this.$store.state.context.tags}},methods:{discard(t){this.$store.commit("REMOVE_CONTEXT",t)},down(){this.activeIndex<this.filtered.length-1&&(this.activeIndex+=1,this.scroll())},first(){this.activeIndex=0,this.$refs.tagsContainer.scrollElement.scroll(0,0)},focusInput(){this.$refs.input.focus()},save(){this.$store.commit("ADD_CONTEXT",{id:d(),name:this.contextName,tags:this.tags}),this.contextName="",this.$store.dispatch("SET_CONTEXT_TAGS",{context:{tags:[]}})},scroll(){const t=this.$refs.tagsContainer.scrollElement,e=this.$refs.tags[this.activeIndex],n=t.scrollTop,r=t.offsetHeight,i=e.offsetTop,o=e.offsetHeight;if(i+o-n>r){const e=i-r+o;t.scroll(0,e)}else i<n&&t.scroll(0,i)},selectTag(t){this.activeIndex=this.filtered.findIndex((e=>e===t)),this.toggleTag(),this.focusInput(),this.scroll()},isSelected(t){return this.tags.includes(t)},toggleTag(){const t=this.filtered[this.activeIndex];if(t){let e=this.tags;e=e.includes(t)?e.filter((e=>e!==t)):e.concat([t]),this.$store.dispatch("SET_CONTEXT_TAGS",{context:{tags:e}})}},up(){this.activeIndex>0&&(this.activeIndex-=1,this.scroll())}},mounted(){this.$store.state.context.editing=!0,this.focusInput()},beforeDestroy(){this.$store.state.context.editing=!1}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container flex flex-col mx-auto p-4 md:px-16 md:py-8"},[n("div",[n("h2",{staticClass:"text-2xl"},[t._v("Context Switching")]),n("p",{staticClass:"mt-1 text-gray-500"},[t._v(" A context allows you to focus on what's important now by filtering your docs down to just a handful of relevant tags. ")]),n("div",{staticClass:"mt-4"},[n("label",{attrs:{for:"context-name"}},[t._v("Name it and save it (optional)")]),n("div",{staticClass:"flex items-center mt-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.contextName,expression:"contextName"}],staticClass:"form-text w-full shadow",attrs:{type:"text",id:"context-name",placeholder:"Give this context a name..."},domProps:{value:t.contextName},on:{input:function(e){e.target.composing||(t.contextName=e.target.value)}}}),n("button",{staticClass:"button button-size-medium button-color-gray disabled:text-gray-900 ml-2",attrs:{disabled:!(t.tags.length&&t.contextName)},on:{click:t.save}},[t._v("Save")])]),n("small",{staticClass:"text-gray-700 mt-1 hidden md:block"},[t._v("You must add at least one tag and give the context a name in order to save it.")])]),n("div",{staticClass:"mt-4"},[n("label",{attrs:{for:"tags-search"}},[t._v("Choose some tags")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],ref:"input",staticClass:"form-text w-full mt-2",attrs:{type:"text",id:"tag-search",placeholder:"Start typing to filter the list...",autocomplete:"off"},domProps:{value:t.input},on:{input:[function(e){e.target.composing||(t.input=e.target.value)},t.first],keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:(e.preventDefault(),t.toggleTag.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.toggleTag.apply(null,arguments)},function(e){return e.type.indexOf("key")||221===e.keyCode?(e.preventDefault(),t.down.apply(null,arguments)):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.down.apply(null,arguments))},function(e){return e.type.indexOf("key")||219===e.keyCode?(e.preventDefault(),t.up.apply(null,arguments)):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.up.apply(null,arguments))}]}}),t._m(0)]),n("simplebar",{ref:"tagsContainer",staticClass:"border rounded mt-4 overflow-hidden bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700"},[n("div",[t.filtered.length?n("div",t._l(t.filtered,(function(e,r){return n("div",{key:e,ref:"tags",refInFor:!0,staticClass:"flex justify-between cursor-pointer p-6 md:p-3 focus-within:ring",class:{"bg-gray-200 dark:bg-gray-700":t.isSelected(e),"bg-blue-300 dark:bg-blue-500":r===t.activeIndex},on:{click:function(n){return t.selectTag(e)}}},[n("div",{staticClass:"flex items-center"},[n("svg",{attrs:{width:"1.25em",height:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"}})]),n("span",{staticClass:"ml-6 md:ml-3 flex-grow"},[t._v(t._s(e))])]),t.isSelected(e)?n("span",[t._v("selected")]):t._e()])})),0):n("div",{staticClass:"flex justify-between p-3"},[t._v("No results...")])])]),n("div",{staticClass:"mt-4"},[n("h3",{staticClass:"text-xl mb-4"},[t._v("Saved Contexts")]),n("div",{staticClass:"grid gap-4 grid-cols-1 lg:grid-cols-2"},t._l(t.contexts,(function(e){return n("div",{key:e.id,staticClass:"shadow relative flex flex-col min-w-0 rounded p-4 bg-gray-100 dark:bg-gray-800 dark:text-gray-300"},[n("div",{staticClass:"flex items-center justify-between mb-4"},[n("h4",{staticClass:"text-lg flex items-center"},[n("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"}})]),n("span",{staticClass:"ml-2"},[t._v(t._s(e.name))])]),n("button",{staticClass:"button-flat button-size-medium text-sm text-red-500 bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700",on:{click:function(n){return t.discard(e)}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}})]),n("span",{staticClass:"ml-2"},[t._v("Discard")])])]),n("div",{staticClass:"flex items-center flex-wrap"},t._l(e.tags,(function(e){return n("div",{key:e,staticClass:"flex items-center mr-6"},[n("svg",{attrs:{width:"1.25em",height:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"}})]),n("span",{staticClass:"ml-2 flex-grow"},[t._v(t._s(e))])])})),0)])})),0)])],1)])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("small",{staticClass:"text-gray-700 mt-1 hidden md:block"},[t._v("Navigate the list below with "),n("span",{staticClass:"key"},[t._v("up")]),t._v(" or "),n("span",{staticClass:"key"},[t._v("down")]),t._v(" and toggle tags with "),n("span",{staticClass:"key"},[t._v("space")]),t._v(" or "),n("span",{staticClass:"key"},[t._v("enter")])])}],!1,Oe,"5286008f",null,null);function Oe(t){for(let e in De)this[e]=De[e]}var Ne=function(){return Ie.exports}();const ze={};var Re=T({name:"Exporter",components:{MarkdownEditor:p},computed:{value(){return JSON.stringify(this.$store.state.documents.all,null,2)}},methods:{focus(){this.$refs.editable.focus()}},mounted(){this.focus()}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container mx-auto sm:px-4 flex"},[n("MarkdownEditor",{ref:"editable",staticClass:"editable w-full",attrs:{value:t.value}})],1)}),[],!1,Pe,null,null,null);function Pe(t){for(let e in ze)this[e]=ze[e]}var Le=function(){return Re.exports}(),Ue="http://www.w3.org/1999/xhtml",je={svg:"http://www.w3.org/2000/svg",xhtml:Ue,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $e(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),je.hasOwnProperty(e)?{space:je[e],local:t}:t}function Be(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ue&&e.documentElement.namespaceURI===Ue?e.createElement(t):e.createElementNS(n,t)}}function Ke(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function He(t){var e=$e(t);return(e.local?Ke:Be)(e)}function Ge(){}function Fe(t){return null==t?Ge:function(){return this.querySelector(t)}}function Ve(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Ye(){return[]}function qe(t){return null==t?Ye:function(){return this.querySelectorAll(t)}}function We(t){return function(){return this.matches(t)}}function Xe(t){return function(e){return e.matches(t)}}var Ze=Array.prototype.find;function Qe(){return this.firstElementChild}var Je=Array.prototype.filter;function tn(){return Array.from(this.children)}function en(t){return new Array(t.length)}function nn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function rn(t){return function(){return t}}function on(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new nn(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function an(t,e,n,r,i,o,a){var s,l,c,u=new Map,h=e.length,d=o.length,f=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(f[s]=c=a.call(l,l.__data__,s,e)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<d;++s)c=a.call(t,o[s],s,o)+"",(l=u.get(c))?(r[s]=l,l.__data__=o[s],u.delete(c)):n[s]=new nn(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&u.get(f[s])===l&&(i[s]=l)}function sn(t){return t.__data__}function ln(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function cn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function un(t){return function(){this.removeAttribute(t)}}function hn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function dn(t,e){return function(){this.setAttribute(t,e)}}function fn(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function pn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function mn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function gn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function vn(t){return function(){this.style.removeProperty(t)}}function yn(t,e,n){return function(){this.style.setProperty(t,e,n)}}function _n(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function wn(t,e){return t.style.getPropertyValue(e)||gn(t).getComputedStyle(t,null).getPropertyValue(e)}function bn(t){return function(){delete this[t]}}function xn(t,e){return function(){this[t]=e}}function Cn(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function kn(t){return t.trim().split(/^|\s+/)}function En(t){return t.classList||new Tn(t)}function Tn(t){this._node=t,this._names=kn(t.getAttribute("class")||"")}function Sn(t,e){for(var n=En(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function An(t,e){for(var n=En(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Mn(t){return function(){Sn(this,t)}}function Dn(t){return function(){An(this,t)}}function In(t,e){return function(){(e.apply(this,arguments)?Sn:An)(this,t)}}function On(){this.textContent=""}function Nn(t){return function(){this.textContent=t}}function zn(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Rn(){this.innerHTML=""}function Pn(t){return function(){this.innerHTML=t}}function Ln(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Un(){this.nextSibling&&this.parentNode.appendChild(this)}function jn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $n(){return null}function Bn(){var t=this.parentNode;t&&t.removeChild(this)}function Kn(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Hn(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Gn(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Fn(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Vn(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Yn(t,e,n){var r=gn(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function qn(t,e){return function(){return Yn(this,t,e)}}function Wn(t,e){return function(){return Yn(this,t,e.apply(this,arguments))}}nn.prototype={constructor:nn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Tn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Xn=[null];function Zn(t,e){this._groups=t,this._parents=e}function Qn(){return new Zn([[document.documentElement]],Xn)}function Jn(t){return"string"==typeof t?new Zn([[document.querySelector(t)]],[document.documentElement]):new Zn([[t]],Xn)}function tr(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}Zn.prototype=Qn.prototype={constructor:Zn,select:function(t){"function"!=typeof t&&(t=Fe(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new Zn(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return Ve(t.apply(this,arguments))}}(t):qe(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Zn(r,i)},selectChild:function(t){return this.select(null==t?Qe:function(t){return function(){return Ze.call(this.children,t)}}("function"==typeof t?t:Xe(t)))},selectChildren:function(t){return this.selectAll(null==t?tn:function(t){return function(){return Je.call(this.children,t)}}("function"==typeof t?t:Xe(t)))},filter:function(t){"function"!=typeof t&&(t=We(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Zn(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,sn);var n=e?an:on,r=this._parents,i=this._groups;"function"!=typeof t&&(t=rn(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],h=i[c],d=h.length,f=ln(t.call(u,u&&u.__data__,c,r)),p=f.length,m=s[c]=new Array(p),g=a[c]=new Array(p),v=l[c]=new Array(d);n(u,h,m,g,v,f,e);for(var y,_,w=0,b=0;w<p;++w)if(y=m[w]){for(w>=b&&(b=w+1);!(_=g[b])&&++b<p;);y._next=_||null}}return(a=new Zn(a,r))._enter=s,a._exit=l,a},enter:function(){return new Zn(this._enter||this._groups.map(en),this._parents)},exit:function(){return new Zn(this._exit||this._groups.map(en),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c,u=n[l],h=r[l],d=u.length,f=s[l]=new Array(d),p=0;p<d;++p)(c=u[p]||h[p])&&(f[p]=c);for(;l<i;++l)s[l]=n[l];return new Zn(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=cn);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new Zn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=$e(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?hn:un:"function"==typeof e?n.local?mn:pn:n.local?fn:dn)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?vn:"function"==typeof e?_n:yn)(t,e,null==n?"":n)):wn(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?bn:"function"==typeof e?Cn:xn)(t,e)):this.node()[t]},classed:function(t,e){var n=kn(t+"");if(arguments.length<2){for(var r=En(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?In:e?Mn:Dn)(n,e))},text:function(t){return arguments.length?this.each(null==t?On:("function"==typeof t?zn:Nn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Rn:("function"==typeof t?Ln:Pn)(t)):this.node().innerHTML},raise:function(){return this.each(Un)},lower:function(){return this.each(jn)},append:function(t){var e="function"==typeof t?t:He(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:He(t),r=null==e?$n:"function"==typeof e?e:Fe(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Bn)},clone:function(t){return this.select(t?Hn:Kn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=Gn(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Vn:Fn,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Wn:qn)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var er={value:()=>{}};function nr(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new rr(r)}function rr(t){this._=t}function ir(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function or(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function ar(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=er,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}rr.prototype=nr.prototype={constructor:rr,on:function(t,e){var n,r=this._,i=ir(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=ar(r[n],t.name,e);else if(null==e)for(n in r)r[n]=ar(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=or(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new rr(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const sr={passive:!1},lr={capture:!0,passive:!1};function cr(t){t.stopImmediatePropagation()}function ur(t){t.preventDefault(),t.stopImmediatePropagation()}function hr(t){var e=t.document.documentElement,n=Jn(t).on("dragstart.drag",ur,lr);"onselectstart"in e?n.on("selectstart.drag",ur,lr):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function dr(t,e){var n=t.document.documentElement,r=Jn(t).on("dragstart.drag",null);e&&(r.on("click.drag",ur,lr),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var fr=t=>()=>t;function pr(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function mr(t){return!t.ctrlKey&&!t.button}function gr(){return this.parentNode}function vr(t,e){return null==e?{x:t.x,y:t.y}:e}function yr(){return navigator.maxTouchPoints||"ontouchstart"in this}function _r(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function wr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function br(){}pr.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var xr=1/.7,Cr="\\s*([+-]?\\d+)\\s*",kr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Er="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tr=/^#([0-9a-f]{3,8})$/,Sr=new RegExp("^rgb\\("+[Cr,Cr,Cr]+"\\)$"),Ar=new RegExp("^rgb\\("+[Er,Er,Er]+"\\)$"),Mr=new RegExp("^rgba\\("+[Cr,Cr,Cr,kr]+"\\)$"),Dr=new RegExp("^rgba\\("+[Er,Er,Er,kr]+"\\)$"),Ir=new RegExp("^hsl\\("+[kr,Er,Er]+"\\)$"),Or=new RegExp("^hsla\\("+[kr,Er,Er,kr]+"\\)$"),Nr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function zr(){return this.rgb().formatHex()}function Rr(){return this.rgb().formatRgb()}function Pr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Tr.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Lr(e):3===n?new Br(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ur(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ur(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Sr.exec(t))?new Br(e[1],e[2],e[3],1):(e=Ar.exec(t))?new Br(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Mr.exec(t))?Ur(e[1],e[2],e[3],e[4]):(e=Dr.exec(t))?Ur(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ir.exec(t))?Fr(e[1],e[2]/100,e[3]/100,1):(e=Or.exec(t))?Fr(e[1],e[2]/100,e[3]/100,e[4]):Nr.hasOwnProperty(t)?Lr(Nr[t]):"transparent"===t?new Br(NaN,NaN,NaN,0):null}function Lr(t){return new Br(t>>16&255,t>>8&255,255&t,1)}function Ur(t,e,n,r){return r<=0&&(t=e=n=NaN),new Br(t,e,n,r)}function jr(t){return t instanceof br||(t=Pr(t)),t?new Br((t=t.rgb()).r,t.g,t.b,t.opacity):new Br}function $r(t,e,n,r){return 1===arguments.length?jr(t):new Br(t,e,n,null==r?1:r)}function Br(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Kr(){return"#"+Gr(this.r)+Gr(this.g)+Gr(this.b)}function Hr(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Gr(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Fr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Yr(t,e,n,r)}function Vr(t){if(t instanceof Yr)return new Yr(t.h,t.s,t.l,t.opacity);if(t instanceof br||(t=Pr(t)),!t)return new Yr;if(t instanceof Yr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Yr(a,s,l,t.opacity)}function Yr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function qr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}_r(br,Pr,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:zr,formatHex:zr,formatHsl:function(){return Vr(this).formatHsl()},formatRgb:Rr,toString:Rr}),_r(Br,$r,wr(br,{brighter:function(t){return t=null==t?xr:Math.pow(xr,t),new Br(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Br(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kr,formatHex:Kr,formatRgb:Hr,toString:Hr})),_r(Yr,(function(t,e,n,r){return 1===arguments.length?Vr(t):new Yr(t,e,n,null==r?1:r)}),wr(br,{brighter:function(t){return t=null==t?xr:Math.pow(xr,t),new Yr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Yr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Br(qr(t>=240?t-240:t+120,i,r),qr(t,i,r),qr(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Wr=t=>()=>t;function Xr(t){return 1==(t=+t)?Zr:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Wr(isNaN(e)?n:e)}}function Zr(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Wr(isNaN(t)?e:t)}var Qr=function t(e){var n=Xr(e);function r(t,e){var r=n((t=$r(t)).r,(e=$r(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Zr(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Jr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var ti=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ei=new RegExp(ti.source,"g");function ni(t,e){var n,r,i,o=ti.lastIndex=ei.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=ti.exec(t))&&(r=ei.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Jr(n,r)})),o=ei.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}var ri,ii=180/Math.PI,oi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ai(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*ii,skewX:Math.atan(l)*ii,scaleX:a,scaleY:s}}function si(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:Jr(t,i)},{i:l-2,x:Jr(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Jr(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Jr(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,l),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Jr(t,n)},{i:s-2,x:Jr(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var li=si((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?oi:ai(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),ci=si((function(t){return null==t?oi:(ri||(ri=document.createElementNS("http://www.w3.org/2000/svg","g")),ri.setAttribute("transform",t),(t=ri.transform.baseVal.consolidate())?ai((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):oi)}),", ",")",")");function ui(t){return((t=Math.exp(t))+1/t)/2}var hi,di,fi=function t(e,n,r){function i(t,i){var o,a,s=t[0],l=t[1],c=t[2],u=i[0],h=i[1],d=i[2],f=u-s,p=h-l,m=f*f+p*p;if(m<1e-12)a=Math.log(d/c)/e,o=function(t){return[s+t*f,l+t*p,c*Math.exp(e*t*a)]};else{var g=Math.sqrt(m),v=(d*d-c*c+r*m)/(2*c*n*g),y=(d*d-c*c-r*m)/(2*d*n*g),_=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(y*y+1)-y);a=(w-_)/e,o=function(t){var r,i=t*a,o=ui(_),u=c/(n*g)*(o*(r=e*i+_,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(_));return[s+u*f,l+u*p,c*o/ui(e*i+_)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4),pi=0,mi=0,gi=0,vi=0,yi=0,_i=0,wi="object"==typeof performance&&performance.now?performance:Date,bi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function xi(){return yi||(bi(Ci),yi=wi.now()+_i)}function Ci(){yi=0}function ki(){this._call=this._time=this._next=null}function Ei(t,e,n){var r=new ki;return r.restart(t,e,n),r}function Ti(){yi=(vi=wi.now())+_i,pi=mi=0;try{!function(){xi(),++pi;for(var t,e=hi;e;)(t=yi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--pi}()}finally{pi=0,function(){var t,e,n=hi,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:hi=e);di=t,Ai(r)}(),yi=0}}function Si(){var t=wi.now(),e=t-vi;e>1e3&&(_i-=e,vi=t)}function Ai(t){pi||(mi&&(mi=clearTimeout(mi)),t-yi>24?(t<1/0&&(mi=setTimeout(Ti,t-wi.now()-_i)),gi&&(gi=clearInterval(gi))):(gi||(vi=wi.now(),gi=setInterval(Si,1e3)),pi=1,bi(Ti)))}function Mi(t,e,n){var r=new ki;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}ki.prototype=Ei.prototype={constructor:ki,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?xi():+n)+(null==e?0:+e),this._next||di===this||(di?di._next=this:hi=this,di=this),this._call=t,this._time=n,Ai()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ai())}};var Di=nr("start","end","cancel","interrupt"),Ii=[];function Oi(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var c,u,h,d;if(1!==n.state)return l();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return Mi(a);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(Mi((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Ei(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:Di,tween:Ii,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Ni(t,e){var n=Ri(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function zi(t,e){var n=Ri(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Ri(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Pi(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function Li(t,e){var n,r;return function(){var i=zi(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Ui(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=zi(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function ji(t,e,n){var r=t._id;return t.each((function(){var t=zi(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Ri(t,r).value[e]}}function $i(t,e){var n;return("number"==typeof e?Jr:e instanceof Pr?Qr:(n=Pr(e))?(e=n,Qr):ni)(t,e)}function Bi(t){return function(){this.removeAttribute(t)}}function Ki(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Hi(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Gi(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Fi(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttribute(t)}}function Vi(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttributeNS(t.space,t.local)}}function Yi(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function qi(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Wi(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&qi(t,i)),n}return i._value=e,i}function Xi(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Yi(t,i)),n}return i._value=e,i}function Zi(t,e){return function(){Ni(this,t).delay=+e.apply(this,arguments)}}function Qi(t,e){return e=+e,function(){Ni(this,t).delay=e}}function Ji(t,e){return function(){zi(this,t).duration=+e.apply(this,arguments)}}function to(t,e){return e=+e,function(){zi(this,t).duration=e}}function eo(t,e){if("function"!=typeof e)throw new Error;return function(){zi(this,t).ease=e}}function no(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Ni:zi;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var ro=Qn.prototype.constructor;function io(t){return function(){this.style.removeProperty(t)}}function oo(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ao(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&oo(t,o,n)),r}return o._value=e,o}function so(t){return function(e){this.textContent=t.call(this,e)}}function lo(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&so(r)),e}return r._value=t,r}var co=0;function uo(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ho(){return++co}var fo=Qn.prototype;uo.prototype={constructor:uo,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Fe(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,h=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),h[d]=l,Oi(h[d],e,n,d,h,Ri(s,n)));return new uo(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=qe(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=t.call(l,l.__data__,h,c),p=Ri(l,n),m=0,g=f.length;m<g;++m)(d=f[m])&&Oi(d,e,n,m,f,p);o.push(f),a.push(l)}return new uo(o,a,e,n)},selectChild:fo.selectChild,selectChildren:fo.selectChildren,filter:function(t){"function"!=typeof t&&(t=We(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new uo(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,d=a[s]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;s<r;++s)a[s]=e[s];return new uo(a,this._parents,this._name,this._id)},selection:function(){return new ro(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=ho(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=Ri(a,e);Oi(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new uo(r,this._parents,t,n)},call:fo.call,nodes:fo.nodes,node:fo.node,size:fo.size,empty:fo.empty,each:fo.each,on:function(t,e){var n=this._id;return arguments.length<2?Ri(this.node(),n).on.on(t):this.each(no(n,t,e))},attr:function(t,e){var n=$e(t),r="transform"===n?ci:$i;return this.attrTween(t,"function"==typeof e?(n.local?Vi:Fi)(n,r,ji(this,"attr."+t,e)):null==e?(n.local?Ki:Bi)(n):(n.local?Gi:Hi)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=$e(t);return this.tween(n,(r.local?Wi:Xi)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?li:$i;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=wn(this,t),a=(this.style.removeProperty(t),wn(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,io(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=wn(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=wn(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}(t,r,ji(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var l=zi(this,t),c=l.on,u=null==l.value[a]?o||(o=io(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=wn(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,ao(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(ji(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,lo(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Ri(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Li:Ui)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Zi:Qi)(e,t)):Ri(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ji:to)(e,t)):Ri(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(eo(e,t)):Ri(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;zi(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=zi(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:fo[Symbol.iterator]};var po={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function mo(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Qn.prototype.interrupt=function(t){return this.each((function(){Pi(this,t)}))},Qn.prototype.transition=function(t){var e,n;t instanceof uo?(e=t._id,t=t._name):(e=ho(),(n=po).time=xi(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&Oi(a,t,e,c,s,n||mo(a,e));return new uo(r,this._parents,t,e)};var go=t=>()=>t;function vo(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function yo(t,e,n){this.k=t,this.x=e,this.y=n}yo.prototype={constructor:yo,scale:function(t){return 1===t?this:new yo(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new yo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var _o=new yo(1,0,0);function wo(t){for(;!t.__zoom;)if(!(t=t.parentNode))return _o;return t.__zoom}function bo(t){t.stopImmediatePropagation()}function xo(t){t.preventDefault(),t.stopImmediatePropagation()}function Co(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function ko(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Eo(){return this.__zoom||_o}function To(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function So(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ao(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function Mo(){var t,e,n,r=Co,i=ko,o=Ao,a=To,s=So,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,h=fi,d=nr("start","zoom","end"),f=500,p=0,m=10;function g(t){t.property("__zoom",Eo).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",E).filter(s).on("touchstart.zoom",T).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,e){return(e=Math.max(l[0],Math.min(l[1],e)))===t.k?t:new yo(e,t.x,t.y)}function y(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new yo(t.k,r,i)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,e,n,r){t.on("start.zoom",(function(){b(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,a=b(t,o).event(r),s=i.apply(t,o),l=null==n?_(s):"function"==typeof n?n.apply(t,o):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=t.__zoom,d="function"==typeof e?e.apply(t,o):e,f=h(u.invert(l).concat(c/u.k),d.invert(l).concat(c/d.k));return function(t){if(1===t)t=d;else{var e=f(t),n=c/e[2];t=new yo(n,l[0]-e[0]*n,l[1]-e[1]*n)}a.zoom(null,t)}}))}function b(t,e,n){return!n&&t.__zooming||new x(t,e)}function x(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function C(t,...e){if(r.apply(this,arguments)){var n=b(this,e).event(t),i=this.__zoom,s=Math.max(l[0],Math.min(l[1],i.k*Math.pow(2,a.apply(this,arguments)))),u=tr(t);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=i.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(i.k===s)return;n.mouse=[u,i.invert(u)],Pi(this),n.start()}xo(t),n.wheel=setTimeout(h,150),n.zoom("mouse",o(y(v(i,s),n.mouse[0],n.mouse[1]),n.extent,c))}function h(){n.wheel=null,n.end()}}function k(t,...e){if(!n&&r.apply(this,arguments)){var i=t.currentTarget,a=b(this,e,!0).event(t),s=Jn(t.view).on("mousemove.zoom",d,!0).on("mouseup.zoom",f,!0),l=tr(t,i),u=t.clientX,h=t.clientY;hr(t.view),bo(t),a.mouse=[l,this.__zoom.invert(l)],Pi(this),a.start()}function d(t){if(xo(t),!a.moved){var e=t.clientX-u,n=t.clientY-h;a.moved=e*e+n*n>p}a.event(t).zoom("mouse",o(y(a.that.__zoom,a.mouse[0]=tr(t,i),a.mouse[1]),a.extent,c))}function f(t){s.on("mousemove.zoom mouseup.zoom",null),dr(t.view,a.moved),xo(t),a.event(t).end()}}function E(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,a=tr(t.changedTouches?t.changedTouches[0]:t,this),s=n.invert(a),l=n.k*(t.shiftKey?.5:2),h=o(y(v(n,l),a,s),i.apply(this,e),c);xo(t),u>0?Jn(this).transition().duration(u).call(w,h,a,t):Jn(this).call(g.transform,h,a,t)}}function T(n,...i){if(r.apply(this,arguments)){var o,a,s,l,c=n.touches,u=c.length,h=b(this,i,n.changedTouches.length===u).event(n);for(bo(n),a=0;a<u;++a)l=[l=tr(s=c[a],this),this.__zoom.invert(l),s.identifier],h.touch0?h.touch1||h.touch0[2]===l[2]||(h.touch1=l,h.taps=0):(h.touch0=l,o=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(e=l[0],t=setTimeout((function(){t=null}),f)),Pi(this),h.start())}}function S(t,...e){if(this.__zooming){var n,r,i,a,s=b(this,e).event(t),l=t.changedTouches,u=l.length;for(xo(t),n=0;n<u;++n)i=tr(r=l[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var h=s.touch0[0],d=s.touch0[1],f=s.touch1[0],p=s.touch1[1],m=(m=f[0]-h[0])*m+(m=f[1]-h[1])*m,g=(g=p[0]-d[0])*g+(g=p[1]-d[1])*g;r=v(r,Math.sqrt(m/g)),i=[(h[0]+f[0])/2,(h[1]+f[1])/2],a=[(d[0]+p[0])/2,(d[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],a=s.touch0[1]}s.zoom("touch",o(y(r,i,a),s.extent,c))}}function A(t,...r){if(this.__zooming){var i,o,a=b(this,r).event(t),s=t.changedTouches,l=s.length;for(bo(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),f),i=0;i<l;++i)o=s[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=tr(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<m)){var c=Jn(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return g.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",Eo),t!==i?w(t,e,n,r):i.interrupt().each((function(){b(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},g.scaleBy=function(t,e,n,r){g.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n,r)},g.scaleTo=function(t,e,n,r){g.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==n?_(t):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(a),l="function"==typeof e?e.apply(this,arguments):e;return o(y(v(r,l),a,s),t,c)}),n,r)},g.translateBy=function(t,e,n,r){g.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},g.translateTo=function(t,e,n,r,a){g.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,s=null==r?_(t):"function"==typeof r?r.apply(this,arguments):r;return o(_o.translate(s[0],s[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),r,a)},x.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Jn(this.that).datum();d.call(t,this.that,new vo(t,{sourceEvent:this.sourceEvent,target:g,type:t,transform:this.that.__zoom,dispatch:d}),e)}},g.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:go(+t),g):a},g.filter=function(t){return arguments.length?(r="function"==typeof t?t:go(!!t),g):r},g.touchable=function(t){return arguments.length?(s="function"==typeof t?t:go(!!t),g):s},g.extent=function(t){return arguments.length?(i="function"==typeof t?t:go([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):i},g.scaleExtent=function(t){return arguments.length?(l[0]=+t[0],l[1]=+t[1],g):[l[0],l[1]]},g.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],g):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},g.constrain=function(t){return arguments.length?(o=t,g):o},g.duration=function(t){return arguments.length?(u=+t,g):u},g.interpolate=function(t){return arguments.length?(h=t,g):h},g.on=function(){var t=d.on.apply(d,arguments);return t===d?g:t},g.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,g):Math.sqrt(p)},g.tapDistance=function(t){return arguments.length?(m=+t,g):m},g}wo.prototype=yo.prototype;class Do extends Map{constructor(t,e=Oo){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(Io(this,t))}has(t){return super.has(Io(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);t.has(r)&&(n=t.get(n),t.delete(r));return n}(this,t))}}function Io({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Oo(t){return null!==t&&"object"==typeof t?t.valueOf():t}function No(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function zo(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}var Ro,Po={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-Po.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*Po.Bounce.In(2*t):.5*Po.Bounce.Out(2*t-1)+.5}}},Lo="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},Uo=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map((function(e){return t._tweens[e]}))},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){void 0===t&&(t=Lo()),void 0===e&&(e=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]],o=!e;i&&!1===i.update(t,o)&&!e&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),jo={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=jo.Utils.Linear;return e<0?o(t[0],t[1],r):e>1?o(t[n],t[n-1],n-r):o(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,o=jo.Utils.Bernstein,a=0;a<=r;a++)n+=i(1-e,r-a)*i(e,a)*t[a]*o(r,a);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=jo.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),o(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):o(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=jo.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:(Ro=[1],function(t){var e=1;if(Ro[t])return Ro[t];for(var n=t;n>1;n--)e*=n;return Ro[t]=e,e}),CatmullRom:function(t,e,n,r,i){var o=.5*(n-t),a=.5*(r-e),s=i*i;return(2*e-2*n+o+a)*(i*s)+(-3*e+3*n-2*o-a)*s+o*i+e}}},$o=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),Bo=new Uo,Ko=function(){function t(t,e){void 0===e&&(e=Bo),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Po.Linear.None,this._interpolationFunction=jo.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=$o.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},t.prototype.duration=function(t){return this._duration=t,this},t.prototype.start=function(t){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var e in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==t?"string"==typeof t?Lo()+parseFloat(t):t:Lo(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(t,e,n,r){for(var i in n){var o=t[i],a=Array.isArray(o),s=a?"array":typeof o,l=!a&&Array.isArray(n[i]);if("undefined"!==s&&"function"!==s){if(l){var c=n[i];if(0===c.length)continue;c=c.map(this._handleRelativeValue.bind(this,o)),n[i]=[o].concat(c)}if("object"!==s&&!a||!o||l)void 0===e[i]&&(e[i]=o),a||(e[i]*=1),r[i]=l?n[i].slice().reverse():e[i]||0;else{for(var u in e[i]=a?[]:{},o)e[i][u]=o[u];r[i]=a?[]:{},this._setupProperties(o,e[i],n[i],r[i])}}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(t){return void 0===t&&(t=Lo()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this)),this},t.prototype.resume=function(t){return void 0===t&&(t=Lo()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return this._group=t,this},t.prototype.delay=function(t){return this._delayTime=t,this},t.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return this._yoyo=t,this},t.prototype.easing=function(t){return this._easingFunction=t,this},t.prototype.interpolation=function(t){return this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._chainedTweens=t,this},t.prototype.onStart=function(t){return this._onStartCallback=t,this},t.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype.onStop=function(t){return this._onStopCallback=t,this},t.prototype.update=function(t,e){if(void 0===t&&(t=Lo()),void 0===e&&(e=!0),this._isPaused)return!0;var n,r,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>i)return!1;e&&this.start(t)}if(this._goToEnd=!1,t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(t-this._startTime)/this._duration,r=0===this._duration||r>1?1:r;var o=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,s=this._chainedTweens.length;a<s;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(t,e,n,r){for(var i in n)if(void 0!==e[i]){var o=e[i]||0,a=n[i],s=Array.isArray(t[i]),l=Array.isArray(a);!s&&l?t[i]=this._interpolationFunction(a,r):"object"==typeof a&&a?this._updateProperties(t[i],o,a,r):"number"==typeof(a=this._handleRelativeValue(o,a))&&(t[i]=o+(a-o)*r)}},t.prototype._handleRelativeValue=function(t,e){return"string"!=typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t],n=this._valuesEnd[t];this._valuesStartRepeat[t]="string"==typeof n?this._valuesStartRepeat[t]+parseFloat(n):this._valuesEnd[t],this._valuesEnd[t]=e},t}(),Ho=$o.nextId,Go=Bo,Fo=Go.getAll.bind(Go),Vo=Go.removeAll.bind(Go),Yo=Go.add.bind(Go),qo=Go.remove.bind(Go),Wo=Go.update.bind(Go),Xo={Easing:Po,Group:Uo,Interpolation:jo,now:Lo,Sequence:$o,nextId:Ho,Tween:Ko,VERSION:"18.6.4",getAll:Fo,removeAll:Vo,add:Yo,remove:qo,update:Wo};function Zo(t,e,n){var r,i,o,a,s;function l(){var c=Date.now()-a;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(s=t.apply(o,i),o=i=null))}null==e&&(e=100);var c=function(){o=this,i=arguments,a=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(s=t.apply(o,i),o=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}Zo.debounce=Zo;var Qo=Zo;function Jo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ta(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ta(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ta(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ea=function t(e,n){var r=n.default,i=void 0===r?null:r,o=n.triggerUpdate,a=void 0===o||o,s=n.onChange,l=void 0===s?function(t,e){}:s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.defaultVal=i,this.triggerUpdate=a,this.onChange=l};function na(t){var e=t.stateInit,n=void 0===e?function(){return{}}:e,r=t.props,i=void 0===r?{}:r,o=t.methods,a=void 0===o?{}:o,s=t.aliases,l=void 0===s?{}:s,c=t.init,u=void 0===c?function(){}:c,h=t.update,d=void 0===h?function(){}:h,f=Object.keys(i).map((function(t){return new ea(t,i[t])}));return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},n instanceof Function?n(t):n,{initialised:!1}),r={};function i(e){return o(e,t),s(),i}var o=function(t,n){u.call(i,t,e,n),e.initialised=!0},s=Qo((function(){e.initialised&&(d.call(i,e,r),r={})}),1);return f.forEach((function(t){var n,o,a,l,c,u,h,d;i[t.name]=(o=(n=t).name,a=n.triggerUpdate,l=void 0!==a&&a,c=n.onChange,u=void 0===c?function(t,e){}:c,h=n.defaultVal,d=void 0===h?null:h,function(t){var n=e[o];if(!arguments.length)return n;var a=void 0===t?d:t;return e[o]=a,u.call(i,a,e,n),!r.hasOwnProperty(o)&&(r[o]=n),l&&s(),i})})),Object.keys(a).forEach((function(t){i[t]=function(){for(var n,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=a[t]).call.apply(n,[i,e].concat(o))}})),Object.entries(l).forEach((function(t){var e=Jo(t,2),n=e[0],r=e[1];return i[n]=i[r]})),i.resetProps=function(){return f.forEach((function(t){i[t.name](t.defaultVal)})),i},i.resetProps(),e._rerender=s,i}}var ra,ia=function(t){return t instanceof Function?t:"string"==typeof t?function(e){return e[t]}:function(e){return t}},oa={exports:{}};ra=oa,function(t){var e=/^\s+/,n=/\s+$/,r=0,i=t.round,o=t.min,a=t.max,s=t.random;function l(s,c){if(c=c||{},(s=s||"")instanceof l)return s;if(!(this instanceof l))return new l(s,c);var u=function(r){var i,s,l,c={r:0,g:0,b:0},u=1,h=null,d=null,f=null,p=!1,m=!1;return"string"==typeof r&&(r=function(t){t=t.replace(e,"").replace(n,"").toLowerCase();var r,i=!1;if(T[t])t=T[t],i=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(r=j.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=j.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=j.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=j.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=j.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=j.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=j.hex8.exec(t))?{r:I(r[1]),g:I(r[2]),b:I(r[3]),a:R(r[4]),format:i?"name":"hex8"}:(r=j.hex6.exec(t))?{r:I(r[1]),g:I(r[2]),b:I(r[3]),format:i?"name":"hex"}:(r=j.hex4.exec(t))?{r:I(r[1]+""+r[1]),g:I(r[2]+""+r[2]),b:I(r[3]+""+r[3]),a:R(r[4]+""+r[4]),format:i?"name":"hex8"}:!!(r=j.hex3.exec(t))&&{r:I(r[1]+""+r[1]),g:I(r[2]+""+r[2]),b:I(r[3]+""+r[3]),format:i?"name":"hex"}}(r)),"object"==typeof r&&($(r.r)&&$(r.g)&&$(r.b)?(i=r.r,s=r.g,l=r.b,c={r:255*M(i,255),g:255*M(s,255),b:255*M(l,255)},p=!0,m="%"===String(r.r).substr(-1)?"prgb":"rgb"):$(r.h)&&$(r.s)&&$(r.v)?(h=N(r.s),d=N(r.v),c=function(e,n,r){e=6*M(e,360),n=M(n,100),r=M(r,100);var i=t.floor(e),o=e-i,a=r*(1-n),s=r*(1-o*n),l=r*(1-(1-o)*n),c=i%6;return{r:255*[r,s,a,a,l,r][c],g:255*[l,r,r,s,a,a][c],b:255*[a,a,l,r,r,s][c]}}(r.h,h,d),p=!0,m="hsv"):$(r.h)&&$(r.s)&&$(r.l)&&(h=N(r.s),f=N(r.l),c=function(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=M(t,360),e=M(e,100),n=M(n,100),0===e)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=a(l,s,t+1/3),i=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(r.h,h,f),p=!0,m="hsl"),r.hasOwnProperty("a")&&(u=r.a)),u=A(u),{ok:p,format:r.format||m,r:o(255,a(c.r,0)),g:o(255,a(c.g,0)),b:o(255,a(c.b,0)),a:u}}(s);this._originalInput=s,this._r=u.r,this._g=u.g,this._b=u.b,this._a=u.a,this._roundA=i(100*this._a)/100,this._format=c.format||u.format,this._gradientType=c.gradientType,this._r<1&&(this._r=i(this._r)),this._g<1&&(this._g=i(this._g)),this._b<1&&(this._b=i(this._b)),this._ok=u.ok,this._tc_id=r++}function c(t,e,n){t=M(t,255),e=M(e,255),n=M(n,255);var r,i,s=a(t,e,n),l=o(t,e,n),c=(s+l)/2;if(s==l)r=i=0;else{var u=s-l;switch(i=c>.5?u/(2-s-l):u/(s+l),s){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,l:c}}function u(t,e,n){t=M(t,255),e=M(e,255),n=M(n,255);var r,i,s=a(t,e,n),l=o(t,e,n),c=s,u=s-l;if(i=0===s?0:u/s,s==l)r=0;else{switch(s){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,v:c}}function h(t,e,n,r){var o=[O(i(t).toString(16)),O(i(e).toString(16)),O(i(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function d(t,e,n,r){return[O(z(r)),O(i(t).toString(16)),O(i(e).toString(16)),O(i(n).toString(16))].join("")}function f(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.s-=e/100,n.s=D(n.s),l(n)}function p(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.s+=e/100,n.s=D(n.s),l(n)}function m(t){return l(t).desaturate(100)}function g(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.l+=e/100,n.l=D(n.l),l(n)}function v(t,e){e=0===e?0:e||10;var n=l(t).toRgb();return n.r=a(0,o(255,n.r-i(-e/100*255))),n.g=a(0,o(255,n.g-i(-e/100*255))),n.b=a(0,o(255,n.b-i(-e/100*255))),l(n)}function y(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.l-=e/100,n.l=D(n.l),l(n)}function _(t,e){var n=l(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,l(n)}function w(t){var e=l(t).toHsl();return e.h=(e.h+180)%360,l(e)}function b(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+120)%360,s:e.s,l:e.l}),l({h:(n+240)%360,s:e.s,l:e.l})]}function x(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+90)%360,s:e.s,l:e.l}),l({h:(n+180)%360,s:e.s,l:e.l}),l({h:(n+270)%360,s:e.s,l:e.l})]}function C(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+72)%360,s:e.s,l:e.l}),l({h:(n+216)%360,s:e.s,l:e.l})]}function k(t,e,n){e=e||6,n=n||30;var r=l(t).toHsl(),i=360/n,o=[l(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(l(r));return o}function E(t,e){e=e||6;for(var n=l(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(l({h:r,s:i,v:o})),o=(o+s)%1;return a}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var e,n,r,i=this.toRgb();return e=i.r/255,n=i.g/255,r=i.b/255,.2126*(e<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:t.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=A(t),this._roundA=i(100*this._a)/100,this},toHsv:function(){var t=u(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=u(this._r,this._g,this._b),e=i(360*t.h),n=i(100*t.s),r=i(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=c(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=c(this._r,this._g,this._b),e=i(360*t.h),n=i(100*t.s),r=i(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return h(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,o){var a=[O(i(t).toString(16)),O(i(e).toString(16)),O(i(n).toString(16)),O(z(r))];return o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:i(this._r),g:i(this._g),b:i(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+i(this._r)+", "+i(this._g)+", "+i(this._b)+")":"rgba("+i(this._r)+", "+i(this._g)+", "+i(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:i(100*M(this._r,255))+"%",g:i(100*M(this._g,255))+"%",b:i(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+i(100*M(this._r,255))+"%, "+i(100*M(this._g,255))+"%, "+i(100*M(this._b,255))+"%)":"rgba("+i(100*M(this._r,255))+"%, "+i(100*M(this._g,255))+"%, "+i(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(S[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+d(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=l(t);n="#"+d(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return l(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(b,arguments)},tetrad:function(){return this._applyCombination(x,arguments)}},l.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:N(t[r]));t=n}return l(t,e)},l.equals=function(t,e){return!(!t||!e)&&l(t).toRgbString()==l(e).toRgbString()},l.random=function(){return l.fromRatio({r:s(),g:s(),b:s()})},l.mix=function(t,e,n){n=0===n?0:n||50;var r=l(t).toRgb(),i=l(e).toRgb(),o=n/100;return l({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},l.readability=function(e,n){var r=l(e),i=l(n);return(t.max(r.getLuminance(),i.getLuminance())+.05)/(t.min(r.getLuminance(),i.getLuminance())+.05)},l.isReadable=function(t,e,n){var r,i,o,a,s,c=l.readability(t,e);switch(i=!1,(o=n,a=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase(),s=(o.size||"small").toLowerCase(),"AA"!==a&&"AAA"!==a&&(a="AA"),"small"!==s&&"large"!==s&&(s="small"),r={level:a,size:s}).level+r.size){case"AAsmall":case"AAAlarge":i=c>=4.5;break;case"AAlarge":i=c>=3;break;case"AAAsmall":i=c>=7}return i},l.mostReadable=function(t,e,n){var r,i,o,a,s=null,c=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var u=0;u<e.length;u++)(r=l.readability(t,e[u]))>c&&(c=r,s=l(e[u]));return l.isReadable(t,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,l.mostReadable(t,["#fff","#000"],n))};var T=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},S=l.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(T);function A(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function M(e,n){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(e)&&(e="100%");var r=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(e);return e=o(n,a(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),t.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function D(t){return o(1,a(0,t))}function I(t){return parseInt(t,16)}function O(t){return 1==t.length?"0"+t:""+t}function N(t){return t<=1&&(t=100*t+"%"),t}function z(e){return t.round(255*parseFloat(e)).toString(16)}function R(t){return I(t)/255}var P,L,U,j=(L="[\\s|\\(]+("+(P="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",U="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",{CSS_UNIT:new RegExp(P),rgb:new RegExp("rgb"+L),rgba:new RegExp("rgba"+U),hsl:new RegExp("hsl"+L),hsla:new RegExp("hsla"+U),hsv:new RegExp("hsv"+L),hsva:new RegExp("hsva"+U),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function $(t){return!!j.CSS_UNIT.exec(t)}ra.exports?ra.exports=l:window.tinycolor=l}(Math);var aa=oa.exports;function sa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function la(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ca(t){return function(t){if(Array.isArray(t))return ua(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ua(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ua(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ua(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ha=function(t,e,n){return(t<<16)+(e<<8)+n},da=function(t,e){return 123*t%Math.pow(2,e)},fa=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;sa(this,t),this.csBits=e,this.registry=["__reserved for background__"]}var e,n,r;return e=t,(n=[{key:"register",value:function(t){if(this.registry.length>=Math.pow(2,24-this.csBits))return null;var e,n=this.registry.length,r=da(n,this.csBits),i=(e=n+(r<<24-this.csBits),"#".concat(Math.min(e,Math.pow(2,24)).toString(16).padStart(6,"0")));return this.registry.push(t),i}},{key:"lookup",value:function(t){var e,n,r,i,o="string"==typeof t?(e=aa(t).toRgb(),n=e.r,r=e.g,i=e.b,ha(n,r,i)):ha.apply(void 0,ca(t));if(!o)return null;var a=o&Math.pow(2,24-this.csBits)-1,s=o>>24-this.csBits&Math.pow(2,this.csBits)-1;return da(a,this.csBits)!==s||a>=this.registry.length?null:this.registry[a]}}])&&la(e.prototype,n),r&&la(e,r),t}();function pa(t,e,n){var r,i=1;function o(){var o,a,s=r.length,l=0,c=0,u=0;for(o=0;o<s;++o)l+=(a=r[o]).x||0,c+=a.y||0,u+=a.z||0;for(l=(l/s-t)*i,c=(c/s-e)*i,u=(u/s-n)*i,o=0;o<s;++o)a=r[o],l&&(a.x-=l),c&&(a.y-=c),u&&(a.z-=u)}return null==t&&(t=0),null==e&&(e=0),null==n&&(n=0),o.initialize=function(t){r=t},o.x=function(e){return arguments.length?(t=+e,o):t},o.y=function(t){return arguments.length?(e=+t,o):e},o.z=function(t){return arguments.length?(n=+t,o):n},o.strength=function(t){return arguments.length?(i=+t,o):i},o}function ma(t,e,n){if(isNaN(e))return t;var r,i,o,a,s,l,c=t._root,u={data:n},h=t._x0,d=t._x1;if(!c)return t._root=u,t;for(;c.length;)if((a=e>=(i=(h+d)/2))?h=i:d=i,r=c,!(c=c[s=+a]))return r[s]=u,t;if(e===(o=+t._x.call(null,c.data)))return u.next=c,r?r[s]=u:t._root=u,t;do{r=r?r[s]=new Array(2):t._root=new Array(2),(a=e>=(i=(h+d)/2))?h=i:d=i}while((s=+a)==(l=+(o>=i)));return r[l]=c,r[s]=u,t}function ga(t,e,n){this.node=t,this.x0=e,this.x1=n}function va(t){return t[0]}function ya(t,e){var n=new _a(null==e?va:e,NaN,NaN);return null==t?n:n.addAll(t)}function _a(t,e,n){this._x=t,this._x0=e,this._x1=n,this._root=void 0}function wa(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var ba=ya.prototype=_a.prototype;function xa(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,l,c,u,h,d,f=t._root,p={data:r},m=t._x0,g=t._y0,v=t._x1,y=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((c=e>=(o=(m+v)/2))?m=o:v=o,(u=n>=(a=(g+y)/2))?g=a:y=a,i=f,!(f=f[h=u<<1|c]))return i[h]=p,t;if(s=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===s&&n===l)return p.next=f,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=e>=(o=(m+v)/2))?m=o:v=o,(u=n>=(a=(g+y)/2))?g=a:y=a}while((h=u<<1|c)==(d=(l>=a)<<1|s>=o));return i[d]=f,i[h]=p,t}function Ca(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function ka(t){return t[0]}function Ea(t){return t[1]}function Ta(t,e,n){var r=new Sa(null==e?ka:e,null==n?Ea:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Sa(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Aa(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}ba.copy=function(){var t,e,n=new _a(this._x,this._x0,this._x1),r=this._root;if(!r)return n;if(!r.length)return n._root=wa(r),n;for(t=[{source:r,target:n._root=new Array(2)}];r=t.pop();)for(var i=0;i<2;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(2)}):r.target[i]=wa(e));return n},ba.add=function(t){var e=+this._x.call(null,t);return ma(this.cover(e),e,t)},ba.addAll=function(t){var e,n,r=t.length,i=new Array(r),o=1/0,a=-1/0;for(e=0;e<r;++e)isNaN(n=+this._x.call(null,t[e]))||(i[e]=n,n<o&&(o=n),n>a&&(a=n));if(o>a)return this;for(this.cover(o).cover(a),e=0;e<r;++e)ma(this,i[e],t[e]);return this},ba.cover=function(t){if(isNaN(t=+t))return this;var e=this._x0,n=this._x1;if(isNaN(e))n=(e=Math.floor(t))+1;else{for(var r,i,o=n-e||1,a=this._root;e>t||t>=n;)switch(i=+(t<e),(r=new Array(2))[i]=a,a=r,o*=2,i){case 0:n=e+o;break;case 1:e=n-o}this._root&&this._root.length&&(this._root=a)}return this._x0=e,this._x1=n,this},ba.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},ba.extent=function(t){return arguments.length?this.cover(+t[0][0]).cover(+t[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]},ba.find=function(t,e){var n,r,i,o,a,s=this._x0,l=this._x1,c=[],u=this._root;for(u&&c.push(new ga(u,s,l)),null==e?e=1/0:(s=t-e,l=t+e);o=c.pop();)if(!(!(u=o.node)||(r=o.x0)>l||(i=o.x1)<s))if(u.length){var h=(r+i)/2;c.push(new ga(u[1],h,i),new ga(u[0],r,h)),(a=+(t>=h))&&(o=c[c.length-1],c[c.length-1]=c[c.length-1-a],c[c.length-1-a]=o)}else{var d=Math.abs(t-+this._x.call(null,u.data));d<e&&(e=d,s=t-d,l=t+d,n=u.data)}return n},ba.remove=function(t){if(isNaN(o=+this._x.call(null,t)))return this;var e,n,r,i,o,a,s,l,c,u=this._root,h=this._x0,d=this._x1;if(!u)return this;if(u.length)for(;;){if((s=o>=(a=(h+d)/2))?h=a:d=a,e=u,!(u=u[l=+s]))return this;if(!u.length)break;e[l+1&1]&&(n=e,c=l)}for(;u.data!==t;)if(r=u,!(u=u.next))return this;return(i=u.next)&&delete u.next,r?(i?r.next=i:delete r.next,this):e?(i?e[l]=i:delete e[l],(u=e[0]||e[1])&&u===(e[1]||e[0])&&!u.length&&(n?n[c]=u:this._root=u),this):(this._root=i,this)},ba.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},ba.root=function(){return this._root},ba.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},ba.visit=function(t){var e,n,r,i,o=[],a=this._root;for(a&&o.push(new ga(a,this._x0,this._x1));e=o.pop();)if(!t(a=e.node,r=e.x0,i=e.x1)&&a.length){var s=(r+i)/2;(n=a[1])&&o.push(new ga(n,s,i)),(n=a[0])&&o.push(new ga(n,r,s))}return this},ba.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new ga(this._root,this._x0,this._x1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.x1,l=(a+s)/2;(o=i[0])&&n.push(new ga(o,a,l)),(o=i[1])&&n.push(new ga(o,l,s))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.x1);return this},ba.x=function(t){return arguments.length?(this._x=t,this):this._x};var Ma=Ta.prototype=Sa.prototype;function Da(t,e,n,r,i){if(isNaN(e)||isNaN(n)||isNaN(r))return t;var o,a,s,l,c,u,h,d,f,p,m,g,v=t._root,y={data:i},_=t._x0,w=t._y0,b=t._z0,x=t._x1,C=t._y1,k=t._z1;if(!v)return t._root=y,t;for(;v.length;)if((d=e>=(a=(_+x)/2))?_=a:x=a,(f=n>=(s=(w+C)/2))?w=s:C=s,(p=r>=(l=(b+k)/2))?b=l:k=l,o=v,!(v=v[m=p<<2|f<<1|d]))return o[m]=y,t;if(c=+t._x.call(null,v.data),u=+t._y.call(null,v.data),h=+t._z.call(null,v.data),e===c&&n===u&&r===h)return y.next=v,o?o[m]=y:t._root=y,t;do{o=o?o[m]=new Array(8):t._root=new Array(8),(d=e>=(a=(_+x)/2))?_=a:x=a,(f=n>=(s=(w+C)/2))?w=s:C=s,(p=r>=(l=(b+k)/2))?b=l:k=l}while((m=p<<2|f<<1|d)==(g=(h>=l)<<2|(u>=s)<<1|c>=a));return o[g]=v,o[m]=y,t}function Ia(t,e,n,r,i,o,a){this.node=t,this.x0=e,this.y0=n,this.z0=r,this.x1=i,this.y1=o,this.z1=a}function Oa(t){return t[0]}function Na(t){return t[1]}function za(t){return t[2]}function Ra(t,e,n,r){var i=new Pa(null==e?Oa:e,null==n?Na:n,null==r?za:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function Pa(t,e,n,r,i,o,a,s,l){this._x=t,this._y=e,this._z=n,this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=l,this._root=void 0}function La(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}Ma.copy=function(){var t,e,n=new Sa(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Aa(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Aa(e));return n},Ma.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return xa(this.cover(e,n),e,n,t)},Ma.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>h&&(h=i));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<o;++n)xa(this,a[n],s[n],t[n]);return this},Ma.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,l=i-n||1,c=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=c,c=a,l*=2,s){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Ma.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Ma.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ma.find=function(t,e,n){var r,i,o,a,s,l,c,u=this._x0,h=this._y0,d=this._x1,f=this._y1,p=[],m=this._root;for(m&&p.push(new Ca(m,u,h,d,f)),null==n?n=1/0:(u=t-n,h=e-n,d=t+n,f=e+n,n*=n);l=p.pop();)if(!(!(m=l.node)||(i=l.x0)>d||(o=l.y0)>f||(a=l.x1)<u||(s=l.y1)<h))if(m.length){var g=(i+a)/2,v=(o+s)/2;p.push(new Ca(m[3],g,v,a,s),new Ca(m[2],i,v,g,s),new Ca(m[1],g,o,a,v),new Ca(m[0],i,o,g,v)),(c=(e>=v)<<1|t>=g)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var y=t-+this._x.call(null,m.data),_=e-+this._y.call(null,m.data),w=y*y+_*_;if(w<n){var b=Math.sqrt(n=w);u=t-b,h=e-b,d=t+b,f=e+b,r=m.data}}return r},Ma.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,l,c,u,h,d,f=this._root,p=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!f)return this;if(f.length)for(;;){if((c=o>=(s=(p+g)/2))?p=s:g=s,(u=a>=(l=(m+v)/2))?m=l:v=l,e=f,!(f=f[h=u<<1|c]))return this;if(!f.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}for(;f.data!==t;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=i,this)},Ma.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Ma.root=function(){return this._root},Ma.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Ma.visit=function(t){var e,n,r,i,o,a,s=[],l=this._root;for(l&&s.push(new Ca(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&l.length){var c=(r+o)/2,u=(i+a)/2;(n=l[3])&&s.push(new Ca(n,c,u,o,a)),(n=l[2])&&s.push(new Ca(n,r,u,c,a)),(n=l[1])&&s.push(new Ca(n,c,i,o,u)),(n=l[0])&&s.push(new Ca(n,r,i,c,u))}return this},Ma.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Ca(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,l=e.x1,c=e.y1,u=(a+l)/2,h=(s+c)/2;(o=i[0])&&n.push(new Ca(o,a,s,u,h)),(o=i[1])&&n.push(new Ca(o,u,s,l,h)),(o=i[2])&&n.push(new Ca(o,a,h,u,c)),(o=i[3])&&n.push(new Ca(o,u,h,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Ma.x=function(t){return arguments.length?(this._x=t,this):this._x},Ma.y=function(t){return arguments.length?(this._y=t,this):this._y};var Ua=Ra.prototype=Pa.prototype;function ja(t){return function(){return t}}function $a(t){return 1e-6*(t()-.5)}function Ba(t){return t.index}function Ka(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function Ha(t){var e,n,r,i,o,a,s,l=Ba,c=function(t){return 1/Math.min(o[t.source.index],o[t.target.index])},u=ja(30),h=1;function d(r){for(var o=0,l=t.length;o<h;++o)for(var c,u,d,f,p,m=0,g=0,v=0,y=0;m<l;++m)u=(c=t[m]).source,g=(d=c.target).x+d.vx-u.x-u.vx||$a(s),i>1&&(v=d.y+d.vy-u.y-u.vy||$a(s)),i>2&&(y=d.z+d.vz-u.z-u.vz||$a(s)),g*=f=((f=Math.sqrt(g*g+v*v+y*y))-n[m])/f*r*e[m],v*=f,y*=f,d.vx-=g*(p=a[m]),i>1&&(d.vy-=v*p),i>2&&(d.vz-=y*p),u.vx+=g*(p=1-p),i>1&&(u.vy+=v*p),i>2&&(u.vz+=y*p)}function f(){if(r){var i,s,c=r.length,u=t.length,h=new Map(r.map(((t,e)=>[l(t,e,r),t])));for(i=0,o=new Array(c);i<u;++i)(s=t[i]).index=i,"object"!=typeof s.source&&(s.source=Ka(h,s.source)),"object"!=typeof s.target&&(s.target=Ka(h,s.target)),o[s.source.index]=(o[s.source.index]||0)+1,o[s.target.index]=(o[s.target.index]||0)+1;for(i=0,a=new Array(u);i<u;++i)s=t[i],a[i]=o[s.source.index]/(o[s.source.index]+o[s.target.index]);e=new Array(u),p(),n=new Array(u),m()}}function p(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+c(t[n],n,t)}function m(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}return null==t&&(t=[]),d.initialize=function(t,...e){r=t,s=e.find((t=>"function"==typeof t))||Math.random,i=e.find((t=>[1,2,3].includes(t)))||2,f()},d.links=function(e){return arguments.length?(t=e,f(),d):t},d.id=function(t){return arguments.length?(l=t,d):l},d.iterations=function(t){return arguments.length?(h=+t,d):h},d.strength=function(t){return arguments.length?(c="function"==typeof t?t:ja(+t),p(),d):c},d.distance=function(t){return arguments.length?(u="function"==typeof t?t:ja(+t),m(),d):u},d}Ua.copy=function(){var t,e,n=new Pa(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root;if(!r)return n;if(!r.length)return n._root=La(r),n;for(t=[{source:r,target:n._root=new Array(8)}];r=t.pop();)for(var i=0;i<8;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(8)}):r.target[i]=La(e));return n},Ua.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t),r=+this._z.call(null,t);return Da(this.cover(e,n,r),e,n,r,t)},Ua.addAll=function(t){var e,n,r,i,o,a=t.length,s=new Array(a),l=new Array(a),c=new Array(a),u=1/0,h=1/0,d=1/0,f=-1/0,p=-1/0,m=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||isNaN(o=+this._z.call(null,e))||(s[n]=r,l[n]=i,c[n]=o,r<u&&(u=r),r>f&&(f=r),i<h&&(h=i),i>p&&(p=i),o<d&&(d=o),o>m&&(m=o));if(u>f||h>p||d>m)return this;for(this.cover(u,h,d).cover(f,p,m),n=0;n<a;++n)Da(this,s[n],l[n],c[n],t[n]);return this},Ua.cover=function(t,e,n){if(isNaN(t=+t)||isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,o=this._z0,a=this._x1,s=this._y1,l=this._z1;if(isNaN(r))a=(r=Math.floor(t))+1,s=(i=Math.floor(e))+1,l=(o=Math.floor(n))+1;else{for(var c,u,h=a-r||1,d=this._root;r>t||t>=a||i>e||e>=s||o>n||n>=l;)switch(u=(n<o)<<2|(e<i)<<1|t<r,(c=new Array(8))[u]=d,d=c,h*=2,u){case 0:a=r+h,s=i+h,l=o+h;break;case 1:r=a-h,s=i+h,l=o+h;break;case 2:a=r+h,i=s-h,l=o+h;break;case 3:r=a-h,i=s-h,l=o+h;break;case 4:a=r+h,s=i+h,o=l-h;break;case 5:r=a-h,s=i+h,o=l-h;break;case 6:a=r+h,i=s-h,o=l-h;break;case 7:r=a-h,i=s-h,o=l-h}this._root&&this._root.length&&(this._root=d)}return this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=l,this},Ua.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Ua.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1],+t[0][2]).cover(+t[1][0],+t[1][1],+t[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},Ua.find=function(t,e,n,r){var i,o,a,s,l,c,u,h,d,f=this._x0,p=this._y0,m=this._z0,g=this._x1,v=this._y1,y=this._z1,_=[],w=this._root;for(w&&_.push(new Ia(w,f,p,m,g,v,y)),null==r?r=1/0:(f=t-r,p=e-r,m=n-r,g=t+r,v=e+r,y=n+r,r*=r);h=_.pop();)if(!(!(w=h.node)||(o=h.x0)>g||(a=h.y0)>v||(s=h.z0)>y||(l=h.x1)<f||(c=h.y1)<p||(u=h.z1)<m))if(w.length){var b=(o+l)/2,x=(a+c)/2,C=(s+u)/2;_.push(new Ia(w[7],b,x,C,l,c,u),new Ia(w[6],o,x,C,b,c,u),new Ia(w[5],b,a,C,l,x,u),new Ia(w[4],o,a,C,b,x,u),new Ia(w[3],b,x,s,l,c,C),new Ia(w[2],o,x,s,b,c,C),new Ia(w[1],b,a,s,l,x,C),new Ia(w[0],o,a,s,b,x,C)),(d=(n>=C)<<2|(e>=x)<<1|t>=b)&&(h=_[_.length-1],_[_.length-1]=_[_.length-1-d],_[_.length-1-d]=h)}else{var k=t-+this._x.call(null,w.data),E=e-+this._y.call(null,w.data),T=n-+this._z.call(null,w.data),S=k*k+E*E+T*T;if(S<r){var A=Math.sqrt(r=S);f=t-A,p=e-A,m=n-A,g=t+A,v=e+A,y=n+A,i=w.data}}return i},Ua.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t))||isNaN(s=+this._z.call(null,t)))return this;var e,n,r,i,o,a,s,l,c,u,h,d,f,p,m,g=this._root,v=this._x0,y=this._y0,_=this._z0,w=this._x1,b=this._y1,x=this._z1;if(!g)return this;if(g.length)for(;;){if((h=o>=(l=(v+w)/2))?v=l:w=l,(d=a>=(c=(y+b)/2))?y=c:b=c,(f=s>=(u=(_+x)/2))?_=u:x=u,e=g,!(g=g[p=f<<2|d<<1|h]))return this;if(!g.length)break;(e[p+1&7]||e[p+2&7]||e[p+3&7]||e[p+4&7]||e[p+5&7]||e[p+6&7]||e[p+7&7])&&(n=e,m=p)}for(;g.data!==t;)if(r=g,!(g=g.next))return this;return(i=g.next)&&delete g.next,r?(i?r.next=i:delete r.next,this):e?(i?e[p]=i:delete e[p],(g=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&g===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!g.length&&(n?n[m]=g:this._root=g),this):(this._root=i,this)},Ua.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Ua.root=function(){return this._root},Ua.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Ua.visit=function(t){var e,n,r,i,o,a,s,l,c=[],u=this._root;for(u&&c.push(new Ia(u,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));e=c.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.z0,a=e.x1,s=e.y1,l=e.z1)&&u.length){var h=(r+a)/2,d=(i+s)/2,f=(o+l)/2;(n=u[7])&&c.push(new Ia(n,h,d,f,a,s,l)),(n=u[6])&&c.push(new Ia(n,r,d,f,h,s,l)),(n=u[5])&&c.push(new Ia(n,h,i,f,a,d,l)),(n=u[4])&&c.push(new Ia(n,r,i,f,h,d,l)),(n=u[3])&&c.push(new Ia(n,h,d,o,a,s,f)),(n=u[2])&&c.push(new Ia(n,r,d,o,h,s,f)),(n=u[1])&&c.push(new Ia(n,h,i,o,a,d,f)),(n=u[0])&&c.push(new Ia(n,r,i,o,h,d,f))}return this},Ua.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Ia(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,l=e.z0,c=e.x1,u=e.y1,h=e.z1,d=(a+c)/2,f=(s+u)/2,p=(l+h)/2;(o=i[0])&&n.push(new Ia(o,a,s,l,d,f,p)),(o=i[1])&&n.push(new Ia(o,d,s,l,c,f,p)),(o=i[2])&&n.push(new Ia(o,a,f,l,d,u,p)),(o=i[3])&&n.push(new Ia(o,d,f,l,c,u,p)),(o=i[4])&&n.push(new Ia(o,a,s,p,d,f,h)),(o=i[5])&&n.push(new Ia(o,d,s,p,c,f,h)),(o=i[6])&&n.push(new Ia(o,a,f,p,d,u,h)),(o=i[7])&&n.push(new Ia(o,d,f,p,c,u,h))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.z0,e.x1,e.y1,e.z1);return this},Ua.x=function(t){return arguments.length?(this._x=t,this):this._x},Ua.y=function(t){return arguments.length?(this._y=t,this):this._y},Ua.z=function(t){return arguments.length?(this._z=t,this):this._z};const Ga=4294967296;function Fa(t){return t.x}function Va(t){return t.y}function Ya(t){return t.z}var qa=Math.PI*(3-Math.sqrt(5)),Wa=20*Math.PI/(9+Math.sqrt(221));function Xa(t,e){e=e||2;var n,r=Math.min(3,Math.max(1,Math.round(e))),i=1,o=.001,a=1-Math.pow(o,1/300),s=0,l=.6,c=new Map,u=Ei(f),h=nr("tick","end"),d=function(){let t=1;return()=>(t=(1664525*t+1013904223)%Ga)/Ga}();function f(){p(),h.call("tick",n),i<o&&(u.stop(),h.call("end",n))}function p(e){var o,u,h=t.length;void 0===e&&(e=1);for(var d=0;d<e;++d)for(i+=(s-i)*a,c.forEach((function(t){t(i)})),o=0;o<h;++o)null==(u=t[o]).fx?u.x+=u.vx*=l:(u.x=u.fx,u.vx=0),r>1&&(null==u.fy?u.y+=u.vy*=l:(u.y=u.fy,u.vy=0)),r>2&&(null==u.fz?u.z+=u.vz*=l:(u.z=u.fz,u.vz=0));return n}function m(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),null!=e.fz&&(e.z=e.fz),isNaN(e.x)||r>1&&isNaN(e.y)||r>2&&isNaN(e.z)){var o=10*(r>2?Math.cbrt(.5+n):r>1?Math.sqrt(.5+n):n),a=n*qa,s=n*Wa;1===r?e.x=o:2===r?(e.x=o*Math.cos(a),e.y=o*Math.sin(a)):(e.x=o*Math.sin(a)*Math.cos(s),e.y=o*Math.cos(a),e.z=o*Math.sin(a)*Math.sin(s))}(isNaN(e.vx)||r>1&&isNaN(e.vy)||r>2&&isNaN(e.vz))&&(e.vx=0,r>1&&(e.vy=0),r>2&&(e.vz=0))}}function g(e){return e.initialize&&e.initialize(t,d,r),e}return null==t&&(t=[]),m(),n={tick:p,restart:function(){return u.restart(f),n},stop:function(){return u.stop(),n},numDimensions:function(t){return arguments.length?(r=Math.min(3,Math.max(1,Math.round(t))),c.forEach(g),n):r},nodes:function(e){return arguments.length?(t=e,m(),c.forEach(g),n):t},alpha:function(t){return arguments.length?(i=+t,n):i},alphaMin:function(t){return arguments.length?(o=+t,n):o},alphaDecay:function(t){return arguments.length?(a=+t,n):+a},alphaTarget:function(t){return arguments.length?(s=+t,n):s},velocityDecay:function(t){return arguments.length?(l=1-t,n):1-l},randomSource:function(t){return arguments.length?(d=t,c.forEach(g),n):d},force:function(t,e){return arguments.length>1?(null==e?c.delete(t):c.set(t,g(e)),n):c.get(t)},find:function(){var e,n,i,o,a,s,l=Array.prototype.slice.call(arguments),c=l.shift()||0,u=(r>1?l.shift():null)||0,h=(r>2?l.shift():null)||0,d=l.shift()||1/0,f=0,p=t.length;for(d*=d,f=0;f<p;++f)(o=(e=c-(a=t[f]).x)*e+(n=u-(a.y||0))*n+(i=h-(a.z||0))*i)<d&&(s=a,d=o);return s},on:function(t,e){return arguments.length>1?(h.on(t,e),n):h.on(t)}}}function Za(){var t,e,n,r,i,o,a=ja(-30),s=1,l=1/0,c=.81;function u(r){var o,a=t.length,s=(1===e?ya(t,Fa):2===e?Ta(t,Fa,Va):3===e?Ra(t,Fa,Va,Ya):null).visitAfter(d);for(i=r,o=0;o<a;++o)n=t[o],s.visit(f)}function h(){if(t){var e,n,r=t.length;for(o=new Array(r),e=0;e<r;++e)n=t[e],o[n.index]=+a(n,e,t)}}function d(t){var n,r,i,a,s,l,c=0,u=0,h=t.length;if(h){for(i=a=s=l=0;l<h;++l)(n=t[l])&&(r=Math.abs(n.value))&&(c+=n.value,u+=r,i+=r*(n.x||0),a+=r*(n.y||0),s+=r*(n.z||0));c*=Math.sqrt(4/h),t.x=i/u,e>1&&(t.y=a/u),e>2&&(t.z=s/u)}else{(n=t).x=n.data.x,e>1&&(n.y=n.data.y),e>2&&(n.z=n.data.z);do{c+=o[n.data.index]}while(n=n.next)}t.value=c}function f(t,a,u,h,d){if(!t.value)return!0;var f=[u,h,d][e-1],p=t.x-n.x,m=e>1?t.y-n.y:0,g=e>2?t.z-n.z:0,v=f-a,y=p*p+m*m+g*g;if(v*v/c<y)return y<l&&(0===p&&(y+=(p=$a(r))*p),e>1&&0===m&&(y+=(m=$a(r))*m),e>2&&0===g&&(y+=(g=$a(r))*g),y<s&&(y=Math.sqrt(s*y)),n.vx+=p*t.value*i/y,e>1&&(n.vy+=m*t.value*i/y),e>2&&(n.vz+=g*t.value*i/y)),!0;if(!(t.length||y>=l)){(t.data!==n||t.next)&&(0===p&&(y+=(p=$a(r))*p),e>1&&0===m&&(y+=(m=$a(r))*m),e>2&&0===g&&(y+=(g=$a(r))*g),y<s&&(y=Math.sqrt(s*y)));do{t.data!==n&&(v=o[t.data.index]*i/y,n.vx+=p*v,e>1&&(n.vy+=m*v),e>2&&(n.vz+=g*v))}while(t=t.next)}}return u.initialize=function(n,...i){t=n,r=i.find((t=>"function"==typeof t))||Math.random,e=i.find((t=>[1,2,3].includes(t)))||2,h()},u.strength=function(t){return arguments.length?(a="function"==typeof t?t:ja(+t),h(),u):a},u.distanceMin=function(t){return arguments.length?(s=t*t,u):Math.sqrt(s)},u.distanceMax=function(t){return arguments.length?(l=t*t,u):Math.sqrt(l)},u.theta=function(t){return arguments.length?(c=t*t,u):Math.sqrt(c)},u}const{abs:Qa,cos:Ja,sin:ts,acos:es,atan2:ns,sqrt:rs,pow:is}=Math;function os(t){return t<0?-is(-t,1/3):is(t,1/3)}const as=Math.PI,ss=2*as,ls=as/2,cs=Number.MAX_SAFE_INTEGER||9007199254740991,us=Number.MIN_SAFE_INTEGER||-9007199254740991,hs={x:0,y:0,z:0},ds={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(t,e){const n=e(t);let r=n.x*n.x+n.y*n.y;return void 0!==n.z&&(r+=n.z*n.z),rs(r)},compute:function(t,e,n){if(0===t)return e[0].t=0,e[0];const r=e.length-1;if(1===t)return e[r].t=1,e[r];const i=1-t;let o=e;if(0===r)return e[0].t=t,e[0];if(1===r){const e={x:i*o[0].x+t*o[1].x,y:i*o[0].y+t*o[1].y,t:t};return n&&(e.z=i*o[0].z+t*o[1].z),e}if(r<4){let e,a,s,l=i*i,c=t*t,u=0;2===r?(o=[o[0],o[1],o[2],hs],e=l,a=i*t*2,s=c):3===r&&(e=l*i,a=l*t*3,s=i*c*3,u=t*c);const h={x:e*o[0].x+a*o[1].x+s*o[2].x+u*o[3].x,y:e*o[0].y+a*o[1].y+s*o[2].y+u*o[3].y,t:t};return n&&(h.z=e*o[0].z+a*o[1].z+s*o[2].z+u*o[3].z),h}const a=JSON.parse(JSON.stringify(e));for(;a.length>1;){for(let e=0;e<a.length-1;e++)a[e]={x:a[e].x+(a[e+1].x-a[e].x)*t,y:a[e].y+(a[e+1].y-a[e].y)*t},void 0!==a[e].z&&(a[e]=a[e].z+(a[e+1].z-a[e].z)*t);a.splice(a.length-1,1)}return a[0].t=t,a[0]},computeWithRatios:function(t,e,n,r){const i=1-t,o=n,a=e;let s,l=o[0],c=o[1],u=o[2],h=o[3];return l*=i,c*=t,2===a.length?(s=l+c,{x:(l*a[0].x+c*a[1].x)/s,y:(l*a[0].y+c*a[1].y)/s,z:!!r&&(l*a[0].z+c*a[1].z)/s,t:t}):(l*=i,c*=2*i,u*=t*t,3===a.length?(s=l+c+u,{x:(l*a[0].x+c*a[1].x+u*a[2].x)/s,y:(l*a[0].y+c*a[1].y+u*a[2].y)/s,z:!!r&&(l*a[0].z+c*a[1].z+u*a[2].z)/s,t:t}):(l*=i,c*=1.5*i,u*=3*i,h*=t*t*t,4===a.length?(s=l+c+u+h,{x:(l*a[0].x+c*a[1].x+u*a[2].x+h*a[3].x)/s,y:(l*a[0].y+c*a[1].y+u*a[2].y+h*a[3].y)/s,z:!!r&&(l*a[0].z+c*a[1].z+u*a[2].z+h*a[3].z)/s,t:t}):void 0))},derive:function(t,e){const n=[];for(let r=t,i=r.length,o=i-1;i>1;i--,o--){const t=[];for(let n,i=0;i<o;i++)n={x:o*(r[i+1].x-r[i].x),y:o*(r[i+1].y-r[i].y)},e&&(n.z=o*(r[i+1].z-r[i].z)),t.push(n);n.push(t),r=t}return n},between:function(t,e,n){return e<=t&&t<=n||ds.approximately(t,e)||ds.approximately(t,n)},approximately:function(t,e,n){return Qa(t-e)<=(n||1e-6)},length:function(t){const e=ds.Tvalues.length;let n=0;for(let r,i=0;i<e;i++)r=.5*ds.Tvalues[i]+.5,n+=ds.Cvalues[i]*ds.arcfn(r,t);return.5*n},map:function(t,e,n,r,i){return r+(i-r)*((t-e)/(n-e))},lerp:function(t,e,n){const r={x:e.x+t*(n.x-e.x),y:e.y+t*(n.y-e.y)};return void 0!==e.z&&void 0!==n.z&&(r.z=e.z+t*(n.z-e.z)),r},pointToString:function(t){let e=t.x+"/"+t.y;return void 0!==t.z&&(e+="/"+t.z),e},pointsToString:function(t){return"["+t.map(ds.pointToString).join(", ")+"]"},copy:function(t){return JSON.parse(JSON.stringify(t))},angle:function(t,e,n){const r=e.x-t.x,i=e.y-t.y,o=n.x-t.x,a=n.y-t.y;return ns(r*a-i*o,r*o+i*a)},round:function(t,e){const n=""+t,r=n.indexOf(".");return parseFloat(n.substring(0,r+1+e))},dist:function(t,e){const n=t.x-e.x,r=t.y-e.y;return rs(n*n+r*r)},closest:function(t,e){let n,r,i=is(2,63);return t.forEach((function(t,o){r=ds.dist(e,t),r<i&&(i=r,n=o)})),{mdist:i,mpos:n}},abcratio:function(t,e){if(2!==e&&3!==e)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;const n=is(t,e)+is(1-t,e);return Qa((n-1)/n)},projectionratio:function(t,e){if(2!==e&&3!==e)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;const n=is(1-t,e);return n/(is(t,e)+n)},lli8:function(t,e,n,r,i,o,a,s){const l=(t-n)*(o-s)-(e-r)*(i-a);return 0!=l&&{x:((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/l,y:((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/l}},lli4:function(t,e,n,r){const i=t.x,o=t.y,a=e.x,s=e.y,l=n.x,c=n.y,u=r.x,h=r.y;return ds.lli8(i,o,a,s,l,c,u,h)},lli:function(t,e){return ds.lli4(t,t.c,e,e.c)},makeline:function(t,e){const n=t.x,r=t.y,i=e.x,o=e.y,a=(i-n)/3,s=(o-r)/3;return new xs(n,r,n+a,r+s,n+2*a,r+2*s,i,o)},findbbox:function(t){let e=cs,n=cs,r=us,i=us;return t.forEach((function(t){const o=t.bbox();e>o.x.min&&(e=o.x.min),n>o.y.min&&(n=o.y.min),r<o.x.max&&(r=o.x.max),i<o.y.max&&(i=o.y.max)})),{x:{min:e,mid:(e+r)/2,max:r,size:r-e},y:{min:n,mid:(n+i)/2,max:i,size:i-n}}},shapeintersections:function(t,e,n,r,i){if(!ds.bboxoverlap(e,r))return[];const o=[],a=[t.startcap,t.forward,t.back,t.endcap],s=[n.startcap,n.forward,n.back,n.endcap];return a.forEach((function(e){e.virtual||s.forEach((function(r){if(r.virtual)return;const a=e.intersects(r,i);a.length>0&&(a.c1=e,a.c2=r,a.s1=t,a.s2=n,o.push(a))}))})),o},makeshape:function(t,e,n){const r=e.points.length,i=t.points.length,o=ds.makeline(e.points[r-1],t.points[0]),a=ds.makeline(t.points[i-1],e.points[0]),s={startcap:o,forward:t,back:e,endcap:a,bbox:ds.findbbox([o,t,e,a]),intersections:function(t){return ds.shapeintersections(s,s.bbox,t,t.bbox,n)}};return s},getminmax:function(t,e,n){if(!n)return{min:0,max:0};let r,i,o=cs,a=us;-1===n.indexOf(0)&&(n=[0].concat(n)),-1===n.indexOf(1)&&n.push(1);for(let s=0,l=n.length;s<l;s++)r=n[s],i=t.get(r),i[e]<o&&(o=i[e]),i[e]>a&&(a=i[e]);return{min:o,mid:(o+a)/2,max:a,size:a-o}},align:function(t,e){const n=e.p1.x,r=e.p1.y,i=-ns(e.p2.y-r,e.p2.x-n);return t.map((function(t){return{x:(t.x-n)*Ja(i)-(t.y-r)*ts(i),y:(t.x-n)*ts(i)+(t.y-r)*Ja(i)}}))},roots:function(t,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const n=t.length-1,r=ds.align(t,e),i=function(t){return 0<=t&&t<=1};if(2===n){const t=r[0].y,e=r[1].y,n=r[2].y,o=t-2*e+n;if(0!==o){const r=-rs(e*e-t*n),a=-t+e;return[-(r+a)/o,-(-r+a)/o].filter(i)}return e!==n&&0===o?[(2*e-n)/(2*e-2*n)].filter(i):[]}const o=r[0].y,a=r[1].y,s=r[2].y;let l=3*a-o-3*s+r[3].y,c=3*o-6*a+3*s,u=-3*o+3*a,h=o;if(ds.approximately(l,0)){if(ds.approximately(c,0))return ds.approximately(u,0)?[]:[-h/u].filter(i);const t=rs(u*u-4*c*h),e=2*c;return[(t-u)/e,(-u-t)/e].filter(i)}c/=l,u/=l,h/=l;const d=(3*u-c*c)/3,f=d/3,p=(2*c*c*c-9*c*u+27*h)/27,m=p/2,g=m*m+f*f*f;let v,y,_,w,b;if(g<0){const t=-d/3,e=rs(t*t*t),n=-p/(2*e),r=es(n<-1?-1:n>1?1:n),o=2*os(e);return _=o*Ja(r/3)-c/3,w=o*Ja((r+ss)/3)-c/3,b=o*Ja((r+2*ss)/3)-c/3,[_,w,b].filter(i)}if(0===g)return v=m<0?os(-m):-os(m),_=2*v-c/3,w=-v-c/3,[_,w].filter(i);{const t=rs(g);return v=os(-m+t),y=os(m+t),[v-y-c/3].filter(i)}},droots:function(t){if(3===t.length){const e=t[0],n=t[1],r=t[2],i=e-2*n+r;if(0!==i){const t=-rs(n*n-e*r),o=-e+n;return[-(t+o)/i,-(-t+o)/i]}return n!==r&&0===i?[(2*n-r)/(2*(n-r))]:[]}if(2===t.length){const e=t[0],n=t[1];return e!==n?[e/(e-n)]:[]}return[]},curvature:function(t,e,n,r,i){let o,a,s,l,c=0,u=0;const h=ds.compute(t,e),d=ds.compute(t,n),f=h.x*h.x+h.y*h.y;if(r?(o=rs(is(h.y*d.z-d.y*h.z,2)+is(h.z*d.x-d.z*h.x,2)+is(h.x*d.y-d.x*h.y,2)),a=is(f+h.z*h.z,1.5)):(o=h.x*d.y-h.y*d.x,a=is(f,1.5)),0===o||0===a)return{k:0,r:0};if(c=o/a,u=a/o,!i){const i=ds.curvature(t-.001,e,n,r,!0).k,o=ds.curvature(t+.001,e,n,r,!0).k;l=(o-c+(c-i))/2,s=(Qa(o-c)+Qa(c-i))/2}return{k:c,r:u,dk:l,adk:s}},inflections:function(t){if(t.length<4)return[];const e=ds.align(t,{p1:t[0],p2:t.slice(-1)[0]}),n=e[2].x*e[1].y,r=e[3].x*e[1].y,i=e[1].x*e[2].y,o=18*(-3*n+2*r+3*i-e[3].x*e[2].y),a=18*(3*n-r-3*i),s=18*(i-n);if(ds.approximately(o,0)){if(!ds.approximately(a,0)){let t=-s/a;if(0<=t&&t<=1)return[t]}return[]}const l=a*a-4*o*s,c=Math.sqrt(l),u=2*o;return ds.approximately(u,0)?[]:[(c-a)/u,-(a+c)/u].filter((function(t){return 0<=t&&t<=1}))},bboxoverlap:function(t,e){const n=["x","y"],r=n.length;for(let i,o,a,s,l=0;l<r;l++)if(i=n[l],o=t[i].mid,a=e[i].mid,s=(t[i].size+e[i].size)/2,Qa(o-a)>=s)return!1;return!0},expandbox:function(t,e){e.x.min<t.x.min&&(t.x.min=e.x.min),e.y.min<t.y.min&&(t.y.min=e.y.min),e.z&&e.z.min<t.z.min&&(t.z.min=e.z.min),e.x.max>t.x.max&&(t.x.max=e.x.max),e.y.max>t.y.max&&(t.y.max=e.y.max),e.z&&e.z.max>t.z.max&&(t.z.max=e.z.max),t.x.mid=(t.x.min+t.x.max)/2,t.y.mid=(t.y.min+t.y.max)/2,t.z&&(t.z.mid=(t.z.min+t.z.max)/2),t.x.size=t.x.max-t.x.min,t.y.size=t.y.max-t.y.min,t.z&&(t.z.size=t.z.max-t.z.min)},pairiteration:function(t,e,n){const r=t.bbox(),i=e.bbox(),o=1e5,a=n||.5;if(r.x.size+r.y.size<a&&i.x.size+i.y.size<a)return[(o*(t._t1+t._t2)/2|0)/o+"/"+(o*(e._t1+e._t2)/2|0)/o];let s=t.split(.5),l=e.split(.5),c=[{left:s.left,right:l.left},{left:s.left,right:l.right},{left:s.right,right:l.right},{left:s.right,right:l.left}];c=c.filter((function(t){return ds.bboxoverlap(t.left.bbox(),t.right.bbox())}));let u=[];return 0===c.length||(c.forEach((function(t){u=u.concat(ds.pairiteration(t.left,t.right,a))})),u=u.filter((function(t,e){return u.indexOf(t)===e}))),u},getccenter:function(t,e,n){const r=e.x-t.x,i=e.y-t.y,o=n.x-e.x,a=n.y-e.y,s=r*Ja(ls)-i*ts(ls),l=r*ts(ls)+i*Ja(ls),c=o*Ja(ls)-a*ts(ls),u=o*ts(ls)+a*Ja(ls),h=(t.x+e.x)/2,d=(t.y+e.y)/2,f=(e.x+n.x)/2,p=(e.y+n.y)/2,m=h+s,g=d+l,v=f+c,y=p+u,_=ds.lli8(h,d,m,g,f,p,v,y),w=ds.dist(_,t);let b,x=ns(t.y-_.y,t.x-_.x),C=ns(e.y-_.y,e.x-_.x),k=ns(n.y-_.y,n.x-_.x);return x<k?((x>C||C>k)&&(x+=ss),x>k&&(b=k,k=x,x=b)):k<C&&C<x?(b=k,k=x,x=b):k+=ss,_.s=x,_.e=k,_.r=w,_},numberSort:function(t,e){return t-e}};class fs{constructor(t){this.curves=[],this._3d=!1,t&&(this.curves=t,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map((function(t){return ds.pointsToString(t.points)})).join(", ")+"]"}addCurve(t){this.curves.push(t),this._3d=this._3d||t._3d}length(){return this.curves.map((function(t){return t.length()})).reduce((function(t,e){return t+e}))}curve(t){return this.curves[t]}bbox(){const t=this.curves;for(var e=t[0].bbox(),n=1;n<t.length;n++)ds.expandbox(e,t[n].bbox());return e}offset(t){const e=[];return this.curves.forEach((function(n){e.push(...n.offset(t))})),new fs(e)}}const{abs:ps,min:ms,max:gs,cos:vs,sin:ys,acos:_s,sqrt:ws}=Math,bs=Math.PI;class xs{constructor(t){let e=t&&t.forEach?t:Array.from(arguments).slice(),n=!1;if("object"==typeof e[0]){n=e.length;const t=[];e.forEach((function(e){["x","y","z"].forEach((function(n){void 0!==e[n]&&t.push(e[n])}))})),e=t}let r=!1;const i=e.length;if(n){if(n>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");r=!0}}else if(6!==i&&8!==i&&9!==i&&12!==i&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const o=this._3d=!r&&(9===i||12===i)||t&&t[0]&&void 0!==t[0].z,a=this.points=[];for(let h=0,d=o?3:2;h<i;h+=d){var s={x:e[h],y:e[h+1]};o&&(s.z=e[h+2]),a.push(s)}const l=this.order=a.length-1,c=this.dims=["x","y"];o&&c.push("z"),this.dimlen=c.length;const u=ds.align(a,{p1:a[0],p2:a[l]});this._linear=!u.some((t=>ps(t.y)>1e-4)),this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(t,e,n,r){if(void 0===r&&(r=.5),0===r)return new xs(e,e,n);if(1===r)return new xs(t,e,e);const i=xs.getABC(2,t,e,n,r);return new xs(t,i.A,n)}static cubicFromPoints(t,e,n,r,i){void 0===r&&(r=.5);const o=xs.getABC(3,t,e,n,r);void 0===i&&(i=ds.dist(e,o.C));const a=i*(1-r)/r,s=ds.dist(t,n),l=(n.x-t.x)/s,c=(n.y-t.y)/s,u=i*l,h=i*c,d=a*l,f=a*c,p=e.x-u,m=e.y-h,g=e.x+d,v=e.y+f,y=o.A,_=y.x+(p-y.x)/(1-r),w=y.y+(m-y.y)/(1-r),b=y.x+(g-y.x)/r,x=y.y+(v-y.y)/r,C={x:t.x+(_-t.x)/r,y:t.y+(w-t.y)/r},k={x:n.x+(b-n.x)/(1-r),y:n.y+(x-n.y)/(1-r)};return new xs(t,C,k,n)}static getUtils(){return ds}getUtils(){return xs.getUtils()}static get PolyBezier(){return fs}valueOf(){return this.toString()}toString(){return ds.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const t=this.points,e=["M",t[0].x,t[0].y,2===this.order?"Q":"C"];for(let n=1,r=t.length;n<r;n++)e.push(t[n].x),e.push(t[n].y);return e.join(" ")}setRatios(t){if(t.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=t,this._lut=[]}verify(){const t=this.coordDigest();t!==this._print&&(this._print=t,this.update())}coordDigest(){return this.points.map((function(t,e){return""+e+t.x+t.y+(t.z?t.z:0)})).join("")}update(){this._lut=[],this.dpoints=ds.derive(this.points,this._3d),this.computedirection()}computedirection(){const t=this.points,e=ds.angle(t[0],t[this.order],t[1]);this.clockwise=e>0}length(){return ds.length(this.derivative.bind(this))}static getABC(t=2,e,n,r,i=.5){const o=ds.projectionratio(i,t),a=1-o,s={x:o*e.x+a*r.x,y:o*e.y+a*r.y},l=ds.abcratio(i,t);return{A:{x:n.x+(n.x-s.x)/l,y:n.y+(n.y-s.y)/l},B:n,C:s,S:e,E:r}}getABC(t,e){e=e||this.get(t);let n=this.points[0],r=this.points[this.order];return xs.getABC(this.order,n,e,r,t)}getLUT(t){if(this.verify(),t=t||100,this._lut.length===t)return this._lut;this._lut=[],t--;for(let e,n,r=0;r<t;r++)n=r/(t-1),e=this.compute(n),e.t=n,this._lut.push(e);return this._lut}on(e,n){n=n||5;const r=this.getLUT(),i=[];for(let t,o=0,a=0;o<r.length;o++)t=r[o],ds.dist(t,e)<n&&(i.push(t),a+=o/r.length);return!!i.length&&(t/=i.length)}project(t){const e=this.getLUT(),n=e.length-1,r=ds.closest(e,t),i=r.mpos,o=(i-1)/n,a=(i+1)/n,s=.1/n;let l,c,u=r.mdist,h=o,d=h;for(u+=1;h<a+s;h+=s)l=this.compute(h),c=ds.dist(t,l),c<u&&(u=c,d=h);return d=d<0?0:d>1?1:d,l=this.compute(d),l.t=d,l.d=u,l}get(t){return this.compute(t)}point(t){return this.points[t]}compute(t){return this.ratios?ds.computeWithRatios(t,this.points,this.ratios,this._3d):ds.compute(t,this.points,this._3d,this.ratios)}raise(){const t=this.points,e=[t[0]],n=t.length;for(let r,i,o=1;o<n;o++)r=t[o],i=t[o-1],e[o]={x:(n-o)/n*r.x+o/n*i.x,y:(n-o)/n*r.y+o/n*i.y};return e[n]=t[n-1],new xs(e)}derivative(t){return ds.compute(t,this.dpoints[0],this._3d)}dderivative(t){return ds.compute(t,this.dpoints[1],this._3d)}align(){let t=this.points;return new xs(ds.align(t,{p1:t[0],p2:t[t.length-1]}))}curvature(t){return ds.curvature(t,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return ds.inflections(this.points)}normal(t){return this._3d?this.__normal3(t):this.__normal2(t)}__normal2(t){const e=this.derivative(t),n=ws(e.x*e.x+e.y*e.y);return{x:-e.y/n,y:e.x/n}}__normal3(t){const e=this.derivative(t),n=this.derivative(t+.01),r=ws(e.x*e.x+e.y*e.y+e.z*e.z),i=ws(n.x*n.x+n.y*n.y+n.z*n.z);e.x/=r,e.y/=r,e.z/=r,n.x/=i,n.y/=i,n.z/=i;const o={x:n.y*e.z-n.z*e.y,y:n.z*e.x-n.x*e.z,z:n.x*e.y-n.y*e.x},a=ws(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=a,o.y/=a,o.z/=a;const s=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z];return{x:s[0]*e.x+s[1]*e.y+s[2]*e.z,y:s[3]*e.x+s[4]*e.y+s[5]*e.z,z:s[6]*e.x+s[7]*e.y+s[8]*e.z}}hull(t){let e=this.points,n=[],r=[],i=0;for(r[i++]=e[0],r[i++]=e[1],r[i++]=e[2],3===this.order&&(r[i++]=e[3]);e.length>1;){n=[];for(let o,a=0,s=e.length-1;a<s;a++)o=ds.lerp(t,e[a],e[a+1]),r[i++]=o,n.push(o);e=n}return r}split(t,e){if(0===t&&e)return this.split(e).left;if(1===e)return this.split(t).right;const n=this.hull(t),r={left:2===this.order?new xs([n[0],n[3],n[5]]):new xs([n[0],n[4],n[7],n[9]]),right:2===this.order?new xs([n[5],n[4],n[2]]):new xs([n[9],n[8],n[6],n[3]]),span:n};return r.left._t1=ds.map(0,0,1,this._t1,this._t2),r.left._t2=ds.map(t,0,1,this._t1,this._t2),r.right._t1=ds.map(t,0,1,this._t1,this._t2),r.right._t2=ds.map(1,0,1,this._t1,this._t2),e?(e=ds.map(e,t,1,0,1),r.right.split(e).left):r}extrema(){const t={};let e=[];return this.dims.forEach(function(n){let r=function(t){return t[n]},i=this.dpoints[0].map(r);t[n]=ds.droots(i),3===this.order&&(i=this.dpoints[1].map(r),t[n]=t[n].concat(ds.droots(i))),t[n]=t[n].filter((function(t){return t>=0&&t<=1})),e=e.concat(t[n].sort(ds.numberSort))}.bind(this)),t.values=e.sort(ds.numberSort).filter((function(t,n){return e.indexOf(t)===n})),t}bbox(){const t=this.extrema(),e={};return this.dims.forEach(function(n){e[n]=ds.getminmax(this,n,t[n])}.bind(this)),e}overlaps(t){const e=this.bbox(),n=t.bbox();return ds.bboxoverlap(e,n)}offset(t,e){if(void 0!==e){const n=this.get(t),r=this.normal(t),i={c:n,n:r,x:n.x+r.x*e,y:n.y+r.y*e};return this._3d&&(i.z=n.z+r.z*e),i}if(this._linear){const e=this.normal(0),n=this.points.map((function(n){const r={x:n.x+t*e.x,y:n.y+t*e.y};return n.z&&e.z&&(r.z=n.z+t*e.z),r}));return[new xs(n)]}return this.reduce().map((function(e){return e._linear?e.offset(t)[0]:e.scale(t)}))}simple(){if(3===this.order){const t=ds.angle(this.points[0],this.points[3],this.points[1]),e=ds.angle(this.points[0],this.points[3],this.points[2]);if(t>0&&e<0||t<0&&e>0)return!1}const t=this.normal(0),e=this.normal(1);let n=t.x*e.x+t.y*e.y;return this._3d&&(n+=t.z*e.z),ps(_s(n))<bs/3}reduce(){let t,e,n=0,r=0,i=.01,o=[],a=[],s=this.extrema().values;for(-1===s.indexOf(0)&&(s=[0].concat(s)),-1===s.indexOf(1)&&s.push(1),n=s[0],t=1;t<s.length;t++)r=s[t],e=this.split(n,r),e._t1=n,e._t2=r,o.push(e),n=r;return o.forEach((function(t){for(n=0,r=0;r<=1;)for(r=n+i;r<=1.01;r+=i)if(e=t.split(n,r),!e.simple()){if(r-=i,ps(n-r)<i)return[];e=t.split(n,r),e._t1=ds.map(n,0,1,t._t1,t._t2),e._t2=ds.map(r,0,1,t._t1,t._t2),a.push(e),n=r;break}n<1&&(e=t.split(n,1),e._t1=ds.map(n,0,1,t._t1,t._t2),e._t2=t._t2,a.push(e))})),a}scale(t){const e=this.order;let n=!1;if("function"==typeof t&&(n=t),n&&2===e)return this.raise().scale(n);const r=this.clockwise,i=n?n(0):t,o=n?n(1):t,a=[this.offset(0,10),this.offset(1,10)],s=this.points,l=[],c=ds.lli4(a[0],a[0].c,a[1],a[1].c);if(!c)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach((function(t){const n=l[t*e]=ds.copy(s[t*e]);n.x+=(t?o:i)*a[t].n.x,n.y+=(t?o:i)*a[t].n.y})),n?([0,1].forEach((function(i){if(2!==e||!i){var o=s[i+1],a={x:o.x-c.x,y:o.y-c.y},u=n?n((i+1)/e):t;n&&!r&&(u=-u);var h=ws(a.x*a.x+a.y*a.y);a.x/=h,a.y/=h,l[i+1]={x:o.x+u*a.x,y:o.y+u*a.y}}})),new xs(l)):([0,1].forEach((t=>{if(2===e&&t)return;const n=l[t*e],r=this.derivative(t),i={x:n.x+r.x,y:n.y+r.y};l[t+1]=ds.lli4(n,i,c,s[t+1])})),new xs(l))}outline(t,e,n,r){e=void 0===e?t:e;const i=this.reduce(),o=i.length,a=[];let s,l=[],c=0,u=this.length();const h=void 0!==n&&void 0!==r;function d(t,e,n,r,i){return function(o){const a=r/n,s=(r+i)/n,l=e-t;return ds.map(o,0,1,t+a*l,t+s*l)}}i.forEach((function(i){const o=i.length();h?(a.push(i.scale(d(t,n,u,c,o))),l.push(i.scale(d(-e,-r,u,c,o)))):(a.push(i.scale(t)),l.push(i.scale(-e))),c+=o})),l=l.map((function(t){return s=t.points,s[3]?t.points=[s[3],s[2],s[1],s[0]]:t.points=[s[2],s[1],s[0]],t})).reverse();const f=a[0].points[0],p=a[o-1].points[a[o-1].points.length-1],m=l[o-1].points[l[o-1].points.length-1],g=l[0].points[0],v=ds.makeline(m,f),y=ds.makeline(p,g),_=[v].concat(a).concat([y]).concat(l);return _.length,new fs(_)}outlineshapes(t,e,n){e=e||t;const r=this.outline(t,e).curves,i=[];for(let o=1,a=r.length;o<a/2;o++){const t=ds.makeshape(r[o],r[a-o],n);t.startcap.virtual=o>1,t.endcap.virtual=o<a/2-1,i.push(t)}return i}intersects(t,e){return t?t.p1&&t.p2?this.lineIntersects(t):(t instanceof xs&&(t=t.reduce()),this.curveintersects(this.reduce(),t,e)):this.selfintersects(e)}lineIntersects(t){const e=ms(t.p1.x,t.p2.x),n=ms(t.p1.y,t.p2.y),r=gs(t.p1.x,t.p2.x),i=gs(t.p1.y,t.p2.y);return ds.roots(this.points,t).filter((t=>{var o=this.get(t);return ds.between(o.x,e,r)&&ds.between(o.y,n,i)}))}selfintersects(t){const e=this.reduce(),n=e.length-2,r=[];for(let i,o,a,s=0;s<n;s++)o=e.slice(s,s+1),a=e.slice(s+2),i=this.curveintersects(o,a,t),r.push(...i);return r}curveintersects(t,e,n){const r=[];t.forEach((function(t){e.forEach((function(e){t.overlaps(e)&&r.push({left:t,right:e})}))}));let i=[];return r.forEach((function(t){const e=ds.pairiteration(t.left,t.right,n);e.length>0&&(i=i.concat(e))})),i}arcs(t){return t=t||.5,this._iterate(t,[])}_error(t,e,n,r){const i=(r-n)/4,o=this.get(n+i),a=this.get(r-i),s=ds.dist(t,e),l=ds.dist(t,o),c=ds.dist(t,a);return ps(l-s)+ps(c-s)}_iterate(t,e){let n,r=0,i=1;do{n=0,i=1;let o,a,s,l,c,u=this.get(r),h=!1,d=!1,f=i,p=1;do{if(d=h,l=s,f=(r+i)/2,o=this.get(f),a=this.get(i),s=ds.getccenter(u,o,a),s.interval={start:r,end:i},h=this._error(s,u,r,i)<=t,c=d&&!h,c||(p=i),h){if(i>=1){if(s.interval.end=p=1,l=s,i>1){let t={x:s.x+s.r*vs(s.e),y:s.y+s.r*ys(s.e)};s.e+=ds.angle({x:s.x,y:s.y},t,this.get(1))}break}i+=(i-r)/2}else i=f}while(!c&&n++<100);if(n>=100)break;l=l||s,e.push(l),r=p}while(i<1);return e}}function Cs(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ks(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||Ts(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Es(t){return function(t){if(Array.isArray(t))return Ss(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ts(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ts(t,e){if(t){if("string"==typeof t)return Ss(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ss(t,e):void 0}}function Ss(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function As(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function Ms(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const Ds=Symbol("implicit");var Is=function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function Os(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ns(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Os(Object(n),!0).forEach((function(e){Rs(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Os(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zs(t){return(zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ps(t,e){return(Ps=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ls(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Us(t,e,n){return(Us=Ls()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Ps(i,n.prototype),i}).apply(null,arguments)}function js(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||Bs(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $s(t){return function(t){if(Array.isArray(t))return Ks(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Bs(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bs(t,e){if(t){if("string"==typeof t)return Ks(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ks(t,e):void 0}}function Ks(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}(".force-graph-container canvas {\n  display: block;\n  user-select: none;\n  outline: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.force-graph-container .graph-tooltip {\n  position: absolute;\n  transform: translate(-50%, 25px);\n  font-family: sans-serif;\n  font-size: 16px;\n  padding: 4px;\n  border-radius: 3px;\n  color: #eee;\n  background: rgba(0,0,0,0.65);\n  visibility: hidden; /* by default */\n}\n\n.force-graph-container .clickable {\n  cursor: pointer;\n}\n\n.force-graph-container .grabbable {\n  cursor: move;\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\n.force-graph-container .grabbable:active {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}\n");var Hs=function t(){var e=new Do,n=[],r=[],i=Ds;function o(t){let o=e.get(t);if(void 0===o){if(i!==Ds)return i;e.set(t,o=n.push(t)-1)}return r[o%r.length]}return o.domain=function(t){if(!arguments.length)return n.slice();n=[],e=new Do;for(const r of t)e.has(r)||e.set(r,n.push(r)-1);return o},o.range=function(t){return arguments.length?(r=Array.from(t),o):r.slice()},o.unknown=function(t){return arguments.length?(i=t,o):i},o.copy=function(){return t(n,r).unknown(i)},Ms.apply(o,arguments),o}(Is);function Gs(t,e,n){e&&"string"==typeof n&&t.filter((function(t){return!t[n]})).forEach((function(t){t[n]=Hs(e(t))}))}var Fs=function(t,e){return e.onNeedsRedraw&&e.onNeedsRedraw()},Vs=na({props:{graphData:{default:{nodes:[],links:[]},onChange:function(t,e){e.engineRunning=!1}},dagMode:{onChange:function(t,e){!t&&(e.graphData.nodes||[]).forEach((function(t){return t.fx=t.fy=void 0}))}},dagLevelDistance:{},dagNodeFilter:{default:function(t){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:Fs},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:Fs},nodeColor:{default:"color",triggerUpdate:!1,onChange:Fs},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:Fs},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Fs},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:Fs},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:Fs},linkColor:{default:"color",triggerUpdate:!1,onChange:Fs},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:Fs},linkWidth:{default:1,triggerUpdate:!1,onChange:Fs},linkCurvature:{default:0,triggerUpdate:!1,onChange:Fs},linkCanvasObject:{triggerUpdate:!1,onChange:Fs},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Fs},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:Fs},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:Fs},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:Fs},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(t,e){e.forceLayout.alphaDecay(t)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(t,e){e.forceLayout.alphaTarget(t)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(t,e){e.forceLayout.velocityDecay(t)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(t,e,n){return void 0===n?t.forceLayout.force(e):(t.forceLayout.force(e,n),this)},d3ReheatSimulation:function(t){return t.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(t){return t.cntTicks=0,t.startTickTime=new Date,t.engineRunning=!0,this},isEngineRunning:function(t){return!!t.engineRunning},tickFrame:function(t){var e,n,r,i,o,a;return!t.isShadow&&t.engineRunning&&(++t.cntTicks>t.cooldownTicks||new Date-t.startTickTime>t.cooldownTime||t.d3AlphaMin>0&&t.forceLayout.alpha()<t.d3AlphaMin?(t.engineRunning=!1,t.onEngineStop()):(t.forceLayout.tick(),t.onEngineTick())),function(){var e=ia(t.linkVisibility),n=ia(t.linkColor),r=ia(t.linkWidth),i=ia(t.linkLineDash),o=ia(t.linkCurvature),a=ia(t.linkCanvasObjectMode),s=t.ctx,l=2*t.isShadow,c=t.graphData.links.filter(e);c.forEach((function(t){var e=o(t);if(!e)return void(t.__controlPoints=null);var n=t.source,r=t.target;if(!(n&&r&&n.hasOwnProperty("x")&&r.hasOwnProperty("x")))return;var i=Math.sqrt(Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2));if(i>0){var a=Math.atan2(r.y-n.y,r.x-n.x),s=i*e,l={x:(n.x+r.x)/2+s*Math.cos(a-Math.PI/2),y:(n.y+r.y)/2+s*Math.sin(a-Math.PI/2)};t.__controlPoints=[l.x,l.y]}else{var c=70*e;t.__controlPoints=[r.x,r.y-c,r.x+c,r.y]}}));var u=[],h=[],d=c;if(t.linkCanvasObject){var f=[],p=[];c.forEach((function(t){return({before:u,after:h,replace:f}[a(t)]||p).push(t)})),d=[].concat($s(u),h,p),u=u.concat(f)}s.save(),u.forEach((function(e){return t.linkCanvasObject(e,s,t.globalScale)})),s.restore();var m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(e instanceof Array?e.length?e:[void 0]:[e]).map((function(t){return{keyAccessor:t,isProp:!(t instanceof Function)}})),o=t.reduce((function(t,e){var r=t,o=e;return i.forEach((function(t,e){var a,s=t.keyAccessor;if(t.isProp){var l=o,c=l[s],u=Cs(l,[s].map(As));a=c,o=u}else a=s(o,e);e+1<i.length?(r.hasOwnProperty(a)||(r[a]={}),r=r[a]):n?(r.hasOwnProperty(a)||(r[a]=[]),r[a].push(o)):r[a]=o})),t}),{});n instanceof Function&&function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;r===i.length?Object.keys(e).forEach((function(t){return e[t]=n(e[t])})):Object.values(e).forEach((function(e){return t(e,r+1)}))}(o);var a=o;return r&&(a=[],function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n.length===i.length?a.push({keys:n,vals:e}):Object.entries(e).forEach((function(e){var r=ks(e,2),i=r[0],o=r[1];return t(o,[].concat(Es(n),[i]))}))}(o),e instanceof Array&&0===e.length&&1===a.length&&(a[0].keys=[])),a}(d,[n,r,i]);s.save(),Object.entries(m).forEach((function(e){var n=js(e,2),r=n[0],o=n[1],a=r&&"undefined"!==r?r:"rgba(0,0,0,0.15)";Object.entries(o).forEach((function(e){var n=js(e,2),r=n[0],o=n[1],c=(r||1)/t.globalScale+l;Object.entries(o).forEach((function(t){var e=js(t,2);e[0];var n=e[1],r=i(n[0]);s.beginPath(),n.forEach((function(t){var e=t.source,n=t.target;if(e&&n&&e.hasOwnProperty("x")&&n.hasOwnProperty("x")){s.moveTo(e.x,e.y);var r=t.__controlPoints;r?s[2===r.length?"quadraticCurveTo":"bezierCurveTo"].apply(s,$s(r).concat([n.x,n.y])):s.lineTo(n.x,n.y)}})),s.strokeStyle=a,s.lineWidth=c,s.setLineDash(r||[]),s.stroke()}))}))})),s.restore(),s.save(),h.forEach((function(e){return t.linkCanvasObject(e,s,t.globalScale)})),s.restore()}(),!t.isShadow&&(e=ia(t.linkDirectionalArrowLength),n=ia(t.linkDirectionalArrowRelPos),r=ia(t.linkVisibility),i=ia(t.linkDirectionalArrowColor||t.linkColor),o=ia(t.nodeVal),(a=t.ctx).save(),t.graphData.links.filter(r).forEach((function(r){var s=e(r);if(s&&!(s<0)){var l=r.source,c=r.target;if(l&&c&&l.hasOwnProperty("x")&&c.hasOwnProperty("x")){var u=Math.sqrt(Math.max(0,o(l)||1))*t.nodeRelSize,h=Math.sqrt(Math.max(0,o(c)||1))*t.nodeRelSize,d=Math.min(1,Math.max(0,n(r))),f=i(r)||"rgba(0,0,0,0.28)",p=s/1.6/2,m=r.__controlPoints&&Us(xs,[l.x,l.y].concat($s(r.__controlPoints),[c.x,c.y])),g=m?function(t){return m.get(t)}:function(t){return{x:l.x+(c.x-l.x)*t||0,y:l.y+(c.y-l.y)*t||0}},v=m?m.length():Math.sqrt(Math.pow(c.x-l.x,2)+Math.pow(c.y-l.y,2)),y=u+s+(v-u-h-s)*d,_=g(y/v),w=g((y-s)/v),b=g((y-.8*s)/v),x=Math.atan2(_.y-w.y,_.x-w.x)-Math.PI/2;a.beginPath(),a.moveTo(_.x,_.y),a.lineTo(w.x+p*Math.cos(x),w.y+p*Math.sin(x)),a.lineTo(b.x,b.y),a.lineTo(w.x-p*Math.cos(x),w.y-p*Math.sin(x)),a.fillStyle=f,a.fill()}}})),a.restore()),!t.isShadow&&function(){var e=ia(t.linkDirectionalParticles),n=ia(t.linkDirectionalParticleSpeed),r=ia(t.linkDirectionalParticleWidth),i=ia(t.linkVisibility),o=ia(t.linkDirectionalParticleColor||t.linkColor),a=t.ctx;a.save(),t.graphData.links.filter(i).forEach((function(i){var s=e(i);if(i.hasOwnProperty("__photons")&&i.__photons.length){var l=i.source,c=i.target;if(l&&c&&l.hasOwnProperty("x")&&c.hasOwnProperty("x")){var u=n(i),h=i.__photons||[],d=Math.max(0,r(i)/2)/Math.sqrt(t.globalScale),f=o(i)||"rgba(0,0,0,0.28)";a.fillStyle=f;var p=i.__controlPoints?Us(xs,[l.x,l.y].concat($s(i.__controlPoints),[c.x,c.y])):null,m=0,g=!1;h.forEach((function(t){var e=!!t.__singleHop;if(t.hasOwnProperty("__progressRatio")||(t.__progressRatio=e?0:m/s),!e&&m++,t.__progressRatio+=u,t.__progressRatio>=1){if(e)return void(g=!0);t.__progressRatio=t.__progressRatio%1}var n=t.__progressRatio,r=p?p.get(n):{x:l.x+(c.x-l.x)*n||0,y:l.y+(c.y-l.y)*n||0};a.beginPath(),a.arc(r.x,r.y,d,0,2*Math.PI,!1),a.fill()})),g&&(i.__photons=i.__photons.filter((function(t){return!t.__singleHop||t.__progressRatio<=1})))}}})),a.restore()}(),function(){var e=ia(t.nodeVisibility),n=ia(t.nodeVal),r=ia(t.nodeColor),i=ia(t.nodeCanvasObjectMode),o=t.ctx,a=t.isShadow/t.globalScale,s=t.graphData.nodes.filter(e);o.save(),s.forEach((function(e){var s=i(e);if(!t.nodeCanvasObject||"before"!==s&&"replace"!==s||(t.nodeCanvasObject(e,o,t.globalScale),"replace"!==s)){var l=Math.sqrt(Math.max(0,n(e)||1))*t.nodeRelSize+a;o.beginPath(),o.arc(e.x,e.y,l,0,2*Math.PI,!1),o.fillStyle=r(e)||"rgba(31, 120, 180, 0.92)",o.fill(),t.nodeCanvasObject&&"after"===s&&t.nodeCanvasObject(e,t.ctx,t.globalScale)}else o.restore()})),o.restore()}(),this},emitParticle:function(t,e){return e&&(!e.__photons&&(e.__photons=[]),e.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:Xa().force("link",Ha()).force("charge",Za()).force("center",pa()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(t,e){e.ctx=t},update:function(t){if(t.engineRunning=!1,t.onUpdate(),null!==t.nodeAutoColorBy&&Gs(t.graphData.nodes,ia(t.nodeAutoColorBy),t.nodeColor),null!==t.linkAutoColorBy&&Gs(t.graphData.links,ia(t.linkAutoColorBy),t.linkColor),t.graphData.links.forEach((function(e){e.source=e[t.linkSource],e.target=e[t.linkTarget]})),!t.isShadow){var e=ia(t.linkDirectionalParticles);t.graphData.links.forEach((function(t){var n=Math.round(Math.abs(e(t)));n?t.__photons=$s(Array(n)).map((function(){return{}})):delete t.__photons}))}t.forceLayout.stop().alpha(1).nodes(t.graphData.nodes);var n=t.forceLayout.force("link");n&&n.id((function(e){return e[t.nodeId]})).links(t.graphData.links);var r=t.dagMode&&function(t,e){var n=t.nodes,r=t.links,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.nodeFilter,a=void 0===o?function(){return!0}:o,s=i.onLoopError,l=void 0===s?function(t){throw"Invalid DAG structure! Found cycle in node path: ".concat(t.join(" -> "),".")}:s,c={};n.forEach((function(t){return c[e(t)]={data:t,out:[],depth:-1,skip:!a(t)}})),r.forEach((function(t){var n=t.source,r=t.target,i=l(n),o=l(r);if(!c.hasOwnProperty(i))throw"Missing source node with id: ".concat(i);if(!c.hasOwnProperty(o))throw"Missing target node with id: ".concat(o);var a=c[i],s=c[o];function l(t){return"object"===zs(t)?e(t):t}a.out.push(s)}));var u=[];return h(Object.values(c)),Object.assign.apply(Object,[{}].concat($s(Object.entries(c).filter((function(t){return!js(t,2)[1].skip})).map((function(t){var e=js(t,2);return Rs({},e[0],e[1].depth)})))));function h(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0,o=t.length;i<o;i++){var a=t[i];if(-1!==n.indexOf(a))if("continue"===function(){var t=[].concat($s(n.slice(n.indexOf(a))),[a]).map((function(t){return e(t.data)}));return u.some((function(e){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))||(u.push(t),l(t)),"continue"}())continue;r>a.depth&&(a.depth=r,h(a.out,[].concat($s(n),[a]),r+(a.skip?0:1)))}}}(t.graphData,(function(e){return e[t.nodeId]}),{nodeFilter:t.dagNodeFilter,onLoopError:t.onDagError||void 0}),i=Math.max.apply(Math,$s(Object.values(r||[]))),o=t.dagLevelDistance||t.graphData.nodes.length/(i||1)*2*(-1!==["radialin","radialout"].indexOf(t.dagMode)?.7:1);if(t.dagMode){var a=function(e,n){return function(a){return e?(r[a[t.nodeId]]-i/2)*o*(n?-1:1):void 0}},s=a(-1!==["lr","rl"].indexOf(t.dagMode),"rl"===t.dagMode),l=a(-1!==["td","bu"].indexOf(t.dagMode),"bu"===t.dagMode);t.graphData.nodes.filter(t.dagNodeFilter).forEach((function(t){t.fx=s(t),t.fy=l(t)}))}t.forceLayout.force("dagRadial",-1!==["radialin","radialout"].indexOf(t.dagMode)?function(t,e,n,r){var i,o,a,s,l=ja(.1);function c(t){for(var l=0,c=i.length;l<c;++l){var u=i[l],h=u.x-e||1e-6,d=(u.y||0)-n||1e-6,f=(u.z||0)-r||1e-6,p=Math.sqrt(h*h+d*d+f*f),m=(s[l]-p)*a[l]*t/p;u.vx+=h*m,o>1&&(u.vy+=d*m),o>2&&(u.vz+=f*m)}}function u(){if(i){var e,n=i.length;for(a=new Array(n),s=new Array(n),e=0;e<n;++e)s[e]=+t(i[e],e,i),a[e]=isNaN(s[e])?0:+l(i[e],e,i)}}return"function"!=typeof t&&(t=ja(+t)),null==e&&(e=0),null==n&&(n=0),null==r&&(r=0),c.initialize=function(t,...e){i=t,o=e.find((t=>[1,2,3].includes(t)))||2,u()},c.strength=function(t){return arguments.length?(l="function"==typeof t?t:ja(+t),u(),c):l},c.radius=function(e){return arguments.length?(t="function"==typeof e?e:ja(+e),u(),c):t},c.x=function(t){return arguments.length?(e=+t,c):e},c.y=function(t){return arguments.length?(n=+t,c):n},c.z=function(t){return arguments.length?(r=+t,c):r},c}((function(e){var n=r[e[t.nodeId]]||-1;return("radialin"===t.dagMode?i-n:n)*o})).strength((function(e){return t.dagNodeFilter(e)?1:0})):null);for(var c=0;c<t.warmupTicks&&!(t.d3AlphaMin>0&&t.forceLayout.alpha()<t.d3AlphaMin);c++)t.forceLayout.tick();this.resetCountdown(),t.onFinishUpdate()}});function Ys(t,e){var n=t instanceof Array?t:[t],r=new e;return{linkProp:function(t){return{default:r[t](),onChange:function(e,r){n.forEach((function(n){return r[n][t](e)}))},triggerUpdate:!1}},linkMethod:function(t){return function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=[];return n.forEach((function(n){var r=e[n],o=r[t].apply(r,i);o!==r&&a.push(o)})),a.length?a[0]:this}}}}var qs=Ys("forceGraph",Vs),Ws=Ys(["forceGraph","shadowGraph"],Vs),Xs=Object.assign.apply(Object,$s(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map((function(t){return Rs({},t,qs.linkProp(t))}))).concat($s(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map((function(t){return Rs({},t,Ws.linkProp(t))}))))),Zs=Object.assign.apply(Object,$s(["d3Force","d3ReheatSimulation","emitParticle"].map((function(t){return Rs({},t,qs.linkMethod(t))}))));function Qs(t){if(t.canvas){var e=t.canvas.width,n=t.canvas.height;300===e&&150===n&&(e=n=0);var r=window.devicePixelRatio;e/=r,n/=r,[t.canvas,t.shadowCanvas].forEach((function(i){i.style.width="".concat(t.width,"px"),i.style.height="".concat(t.height,"px"),i.width=t.width*r,i.height=t.height*r,e||n||i.getContext("2d").scale(r,r)}));var i=wo(t.canvas).k;t.zoom.translateBy(t.zoom.__baseElem,(t.width-e)/2/i,(t.height-n)/2/i),t.needsRedraw=!0}}function Js(t){var e=window.devicePixelRatio;t.setTransform(e,0,0,e,0,0)}function tl(t,e,n){t.save(),Js(t),t.clearRect(0,0,e,n),t.restore()}var el=na({props:Ns({width:{default:window.innerWidth,onChange:function(t,e){return Qs(e)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(t,e){return Qs(e)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(t,e){[{type:"Node",objs:t.nodes},{type:"Link",objs:t.links}].forEach((function(t){var n=t.type;t.objs.filter((function(t){if(!t.hasOwnProperty("__indexColor"))return!0;var n=e.colorTracker.lookup(t.__indexColor);return!n||!n.hasOwnProperty("d")||n.d!==t})).forEach((function(t){t.__indexColor=e.colorTracker.register({type:n,d:t})}))})),e.forceGraph.graphData(t),e.shadowGraph.graphData(t)},triggerUpdate:!1},backgroundColor:{onChange:function(t,e){e.canvas&&t&&(e.canvas.style.background=t)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(t,e){e.shadowGraph.nodeCanvasObject(t?function(e,n,r){return t(e,e.__indexColor,n,r)}:null),e.flushShadowCanvas&&e.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(t,e){e.shadowGraph.linkCanvasObject(t?function(e,n,r){return t(e,e.__indexColor,n,r)}:null),e.flushShadowCanvas&&e.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(t,e){e.zoom.scaleExtent([t,e.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(t,e){e.zoom.scaleExtent([e.zoom.scaleExtent()[0],t])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(t,e){e.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{default:function(){},triggerUpdate:!1},onZoomEnd:{default:function(){},triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},Xs),aliases:{stopAnimation:"pauseAnimation"},methods:Ns({graph2ScreenCoords:function(t,e,n){var r=wo(t.canvas);return{x:e*r.k+r.x,y:n*r.k+r.y}},screen2GraphCoords:function(t,e,n){var r=wo(t.canvas);return{x:(e-r.x)/r.k,y:(n-r.y)/r.k}},centerAt:function(t,e,n,r){if(!t.canvas)return null;if(void 0!==e||void 0!==n){var i=Object.assign({},void 0!==e?{x:e}:{},void 0!==n?{y:n}:{});return r?new Xo.Tween(o()).to(i,r).easing(Xo.Easing.Quadratic.Out).onUpdate(a).start():a(i),this}return o();function o(){var e=wo(t.canvas);return{x:(t.width/2-e.x)/e.k,y:(t.height/2-e.y)/e.k}}function a(e){var n=e.x,r=e.y;t.zoom.translateTo(t.zoom.__baseElem,void 0===n?o().x:n,void 0===r?o().y:r),t.needsRedraw=!0}},zoom:function(t,e,n){return t.canvas?void 0!==e?(n?new Xo.Tween({k:r()}).to({k:e},n).easing(Xo.Easing.Quadratic.Out).onUpdate((function(t){return i(t.k)})).start():i(e),this):r():null;function r(){return wo(t.canvas).k}function i(e){t.zoom.scaleTo(t.zoom.__baseElem,e),t.needsRedraw=!0}},zoomToFit:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=this.getGraphBbox.apply(this,i);if(a){var s={x:(a.x[0]+a.x[1])/2,y:(a.y[0]+a.y[1])/2},l=Math.max(1e-12,Math.min(1e12,(t.width-2*n)/(a.x[1]-a.x[0]),(t.height-2*n)/(a.y[1]-a.y[0])));this.centerAt(s.x,s.y,e),this.zoom(l,e)}return this},getGraphBbox:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n=ia(t.nodeVal),r=function(e){return Math.sqrt(Math.max(0,n(e)||1))*t.nodeRelSize},i=t.graphData.nodes.filter(e).map((function(t){return{x:t.x,y:t.y,r:r(t)}}));return i.length?{x:[zo(i,(function(t){return t.x-t.r})),No(i,(function(t){return t.x+t.r}))],y:[zo(i,(function(t){return t.y-t.r})),No(i,(function(t){return t.y+t.r}))]}:null},pauseAnimation:function(t){return t.animationFrameRequestId&&(cancelAnimationFrame(t.animationFrameRequestId),t.animationFrameRequestId=null),this},resumeAnimation:function(t){return t.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},Zs),stateInit:function(){return{lastSetZoom:1,zoom:Mo(),forceGraph:new Vs,shadowGraph:(new Vs).cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new fa}},init:function(t,e){t.innerHTML="";var n=document.createElement("div");n.classList.add("force-graph-container"),n.style.position="relative",t.appendChild(n),e.canvas=document.createElement("canvas"),e.backgroundColor&&(e.canvas.style.background=e.backgroundColor),n.appendChild(e.canvas),e.shadowCanvas=document.createElement("canvas");var r=e.canvas.getContext("2d"),i=e.shadowCanvas.getContext("2d"),o={x:-1e12,y:-1e12},a=function(){var t=null,n=window.devicePixelRatio,r=o.x>0&&o.y>0?i.getImageData(o.x*n,o.y*n,1,1):null;return r&&(t=e.colorTracker.lookup(r.data)),t};Jn(e.canvas).call(function(){var t,e,n,r,i=mr,o=gr,a=vr,s=yr,l={},c=nr("start","drag","end"),u=0,h=0;function d(t){t.on("mousedown.drag",f).filter(s).on("touchstart.drag",g).on("touchmove.drag",v,sr).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(a,s){if(!r&&i.call(this,a,s)){var l=_(this,o.call(this,a,s),a,s,"mouse");l&&(Jn(a.view).on("mousemove.drag",p,lr).on("mouseup.drag",m,lr),hr(a.view),cr(a),n=!1,t=a.clientX,e=a.clientY,l("start",a))}}function p(r){if(ur(r),!n){var i=r.clientX-t,o=r.clientY-e;n=i*i+o*o>h}l.mouse("drag",r)}function m(t){Jn(t.view).on("mousemove.drag mouseup.drag",null),dr(t.view,n),ur(t),l.mouse("end",t)}function g(t,e){if(i.call(this,t,e)){var n,r,a=t.changedTouches,s=o.call(this,t,e),l=a.length;for(n=0;n<l;++n)(r=_(this,s,t,e,a[n].identifier,a[n]))&&(cr(t),r("start",t,a[n]))}}function v(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=l[r[e].identifier])&&(ur(t),n("drag",t,r[e]))}function y(t){var e,n,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<o;++e)(n=l[i[e].identifier])&&(cr(t),n("end",t,i[e]))}function _(t,e,n,r,i,o){var s,h,f,p=c.copy(),m=tr(o||n,e);if(null!=(f=a.call(t,new pr("beforestart",{sourceEvent:n,target:d,identifier:i,active:u,x:m[0],y:m[1],dx:0,dy:0,dispatch:p}),r)))return s=f.x-m[0]||0,h=f.y-m[1]||0,function n(o,a,c){var g,v=m;switch(o){case"start":l[i]=n,g=u++;break;case"end":delete l[i],--u;case"drag":m=tr(c||a,e),g=u}p.call(o,t,new pr(o,{sourceEvent:a,subject:f,target:d,identifier:i,active:g,x:m[0]+s,y:m[1]+h,dx:m[0]-v[0],dy:m[1]-v[1],dispatch:p}),r)}}return d.filter=function(t){return arguments.length?(i="function"==typeof t?t:fr(!!t),d):i},d.container=function(t){return arguments.length?(o="function"==typeof t?t:fr(t),d):o},d.subject=function(t){return arguments.length?(a="function"==typeof t?t:fr(t),d):a},d.touchable=function(t){return arguments.length?(s="function"==typeof t?t:fr(!!t),d):s},d.on=function(){var t=c.on.apply(c,arguments);return t===c?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d}().subject((function(){if(!e.enableNodeDrag)return null;var t=a();return t&&"Node"===t.type?t.d:null})).on("start",(function(t){var n=t.subject;n.__initialDragPos={x:n.x,y:n.y,fx:n.fx,fy:n.fy},t.active||(n.fx=n.x,n.fy=n.y),e.canvas.classList.add("grabbable")})).on("drag",(function(t){var n=t.subject,r=n.__initialDragPos,i=t,o=wo(e.canvas).k,a={x:r.x+(i.x-r.x)/o-n.x,y:r.y+(i.y-r.y)/o-n.y};["x","y"].forEach((function(t){return n["f".concat(t)]=n[t]=r[t]+(i[t]-r[t])/o})),e.forceGraph.d3AlphaTarget(.3).resetCountdown(),e.isPointerDragging=!0,n.__dragged=!0,e.onNodeDrag(n,a)})).on("end",(function(t){var n=t.subject,r=n.__initialDragPos,i={x:n.x-r.x,y:n.y-r.y};void 0===r.fx&&(n.fx=void 0),void 0===r.fy&&(n.fy=void 0),delete n.__initialDragPos,e.forceGraph.d3AlphaTarget(0).resetCountdown(),e.canvas.classList.remove("grabbable"),e.isPointerDragging=!1,n.__dragged&&(delete n.__dragged,e.onNodeDragEnd(n,i))}))),e.zoom(e.zoom.__baseElem=Jn(e.canvas)),e.zoom.__baseElem.on("dblclick.zoom",null),e.zoom.filter((function(t){return!t.button&&e.enableZoomPanInteraction&&(e.enableZoomInteraction||"wheel"!==t.type)&&(e.enablePanInteraction||"wheel"===t.type)})).on("zoom",(function(t){var n=t.transform;[r,i].forEach((function(t){Js(t),t.translate(n.x,n.y),t.scale(n.k,n.k)})),e.onZoom(Ns({},n)),e.needsRedraw=!0})).on("end",(function(t){return e.onZoomEnd(Ns({},t.transform))})),Qs(e),e.forceGraph.onNeedsRedraw((function(){return e.needsRedraw=!0})).onFinishUpdate((function(){wo(e.canvas).k===e.lastSetZoom&&e.graphData.nodes.length&&(e.zoom.scaleTo(e.zoom.__baseElem,e.lastSetZoom=4/Math.cbrt(e.graphData.nodes.length)),e.needsRedraw=!0)}));var s=document.createElement("div");s.classList.add("graph-tooltip"),n.appendChild(s),["pointermove","pointerdown"].forEach((function(t){return n.addEventListener(t,(function(r){"pointerdown"===t&&(e.isPointerPressed=!0,e.pointerDownEvent=r),!e.isPointerDragging&&"pointermove"===r.type&&e.onBackgroundClick&&(r.pressure>0||e.isPointerPressed)&&("touch"!==r.pointerType||void 0===r.movementX||[r.movementX,r.movementY].some((function(t){return Math.abs(t)>1})))&&(e.isPointerDragging=!0);var i,a,l,c=(i=n.getBoundingClientRect(),a=window.pageXOffset||document.documentElement.scrollLeft,l=window.pageYOffset||document.documentElement.scrollTop,{top:i.top+l,left:i.left+a});o.x=r.pageX-c.left,o.y=r.pageY-c.top,s.style.top="".concat(o.y,"px"),s.style.left="".concat(o.x,"px")}),{passive:!0})})),n.addEventListener("pointerup",(function(t){if(e.isPointerPressed=!1,e.isPointerDragging)e.isPointerDragging=!1;else{var n=[t,e.pointerDownEvent];requestAnimationFrame((function(){if(0===t.button)if(e.hoverObj){var r=e["on".concat(e.hoverObj.type,"Click")];r&&r.apply(void 0,[e.hoverObj.d].concat(n))}else e.onBackgroundClick&&e.onBackgroundClick.apply(e,n);if(2===t.button)if(e.hoverObj){var i=e["on".concat(e.hoverObj.type,"RightClick")];i&&i.apply(void 0,[e.hoverObj.d].concat(n))}else e.onBackgroundRightClick&&e.onBackgroundRightClick.apply(e,n)}))}}),{passive:!0}),n.addEventListener("contextmenu",(function(t){return!(e.onBackgroundRightClick||e.onNodeRightClick||e.onLinkRightClick)||(t.preventDefault(),!1)})),e.forceGraph(r),e.shadowGraph(i);var l=g((function(){tl(i,e.width,e.height),e.shadowGraph.linkWidth((function(t){return ia(e.linkWidth)(t)+e.linkHoverPrecision}));var t=wo(e.canvas);e.shadowGraph.globalScale(t.k).tickFrame()}),800);e.flushShadowCanvas=l.flush,(this._animationCycle=function t(){var n=!e.autoPauseRedraw||!!e.needsRedraw||e.forceGraph.isEngineRunning()||e.graphData.links.some((function(t){return t.__photons&&t.__photons.length}));if(e.needsRedraw=!1,e.enablePointerInteraction){var i=e.isPointerDragging?null:a();if(i!==e.hoverObj){var o=e.hoverObj,c=o?o.type:null,u=i?i.type:null;if(c&&c!==u){var h=e["on".concat(c,"Hover")];h&&h(null,o.d)}if(u){var d=e["on".concat(u,"Hover")];d&&d(i.d,c===u?o.d:null)}var f=i&&ia(e["".concat(i.type.toLowerCase(),"Label")])(i.d)||"";s.style.visibility=f?"visible":"hidden",s.innerHTML=f,e.canvas.classList[i&&e["on".concat(u,"Click")]||!i&&e.onBackgroundClick?"add":"remove"]("clickable"),e.hoverObj=i}n&&l()}if(n){tl(r,e.width,e.height);var p=wo(e.canvas).k;e.onRenderFramePre&&e.onRenderFramePre(r,p),e.forceGraph.globalScale(p).tickFrame(),e.onRenderFramePost&&e.onRenderFramePost(r,p)}Xo.update(),e.animationFrameRequestId=requestAnimationFrame(t)})()},update:function(t){}});const nl={};var rl=T({name:"Graph",components:{DocumentList:Ce},data:()=>({instance:null,selectedTag:null}),watch:{graph(){this.resize()}},computed:{colors(){return{edge:"dark"===this.theme?"#333":"#aaa",label:"dark"===this.theme?"rgba(200, 200, 200, 0.8)":"rgba(17, 17, 17, 0.8)",node:"rgba(224, 108, 117, 0.8)"}},connections(){return this.docs.flatMap((t=>t.tags.flatMap(((e,n)=>t.tags.slice(n+1).map((t=>{const[n,r]=[e,t].sort();return{id:n+"_"+r,source:n,target:r}}))))))},docs(){return this.$store.getters.allKept},edges(){return this.connections.reduce(((t,e)=>{const n=t.find((t=>t.id===e.id));return n?n.size+=1:t.push(c(l({},e),{color:this.colors.edge,size:1})),t}),[])},graph(){return{nodes:this.nodes,links:this.edges}},maxEdgeSize(){return Math.max(...this.edges.map((t=>t.size)))},maxNodeSize(){return Math.max(...this.nodes.map((t=>t.size)))},nodes(){return this.edges.flatMap((t=>[t.source,t.target])).reduce(((t,e)=>{const n=t.find((t=>t.id===e));return n?n.size+=1:t.push({id:e,name:e,size:1}),t}),[])},theme(){return this.$store.state.settings.theme}},methods:{resize(){this.instance&&this.instance.graphData(this.graph).height(this.$refs.graph.clientHeight).width(this.$refs.graph.clientWidth)}},mounted(){this.instance=el()(this.$refs.graph).height(this.$refs.graph.clientHeight).width(this.$refs.graph.clientWidth).graphData(this.graph).linkWidth((t=>t.size/this.maxEdgeSize*5)).nodeCanvasObject(((t,e,n)=>{const r=16/n,i=t.id,o=t.size/this.maxNodeSize*15/n;e.beginPath(),e.fillStyle=this.colors.node,e.arc(t.x,t.y,o,0,2*Math.PI,!1),e.fill(),e.closePath(),e.fillStyle=this.colors.label,e.font=`${r}px Inter`,e.textAlign="center",e.textBaseline="top",e.fillText(i,t.x,t.y+o+1)})).onNodeHover((t=>this.$refs.graph.style.cursor=t?"pointer":null)).onNodeClick((t=>{this.selectedTag=t.id,this.instance.centerAt(t.x,t.y,1e3),this.instance.zoom(6,2e3)})),window.addEventListener("resize",(()=>{this.resize()}))}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col md:flex-row items-stretch justify-end"},[n("div",{ref:"graph",staticClass:"graph flex flex-col overflow-hidden fixed left-0 right-0 top-0 bottom-0"}),t.selectedTag?n("div",{staticClass:"docs flex flex-col p-4"},[n("DocumentList",{staticClass:"z-index-1",attrs:{tag:t.selectedTag,cols:1}})],1):t._e()])}),[],!1,il,"3bf08216",null,null);function il(t){for(let e in nl)this[e]=nl[e]}var ol=function(){return rl.exports}();const al={};var sl=T({name:"Importer",components:{MarkdownEditor:p},data:()=>({text:""}),methods:{importDocs(){JSON.parse(this.text).forEach((t=>{const e=new gt(t);this.$store.dispatch("ADD_DOCUMENT",e)}))}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container mx-auto sm:px-4 flex flex-col"},[n("div",[n("button",{on:{click:t.importDocs}},[t._v("Import Docs")])]),n("MarkdownEditor",{ref:"editable",staticClass:"editable w-full",model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)}),[],!1,ll,null,null,null);function ll(t){for(let e in al)this[e]=al[e]}var cl=function(){return sl.exports}();const ul={};var hl=T({name:"QuickAction"},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"md:container md:mx-auto flex flex-col p-4 md:px-16 md:py-8"},[n("h2",{staticClass:"text-2xl mb-3"},[t._v("Quick Actions")]),n("h6",{staticClass:"text-gray-700 font-normal mb-5"},[t._v("The Quick Action button is always visible, and its function changes depending on what screen you are on.")]),n("div",{staticClass:"mb-8"},[n("h3",{staticClass:"flex items-center text-xl mb-2"},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}})]),n("span",{staticClass:"ml-3"},[t._v("Info")])]),n("p",[t._v("This button appears on an active document. It will take you to the document meta page.")])]),n("div",{staticClass:"mb-8"},[n("h3",{staticClass:"flex items-center text-xl mb-2"},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})]),n("span",{staticClass:"ml-3"},[t._v("Close")])]),n("p",[t._v("This button shows up on all non-document screens. It will take you back to the editor.")])]),n("div",{staticClass:"mb-8"},[n("h4",{staticClass:"flex items-center text-xl mb-2"},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}})]),n("span",{staticClass:"ml-3"},[t._v("Help")])]),n("p",[t._v("This button is visible on the dashboard, and it takes you to this page.")])])])}),[],!1,dl,null,null,null);function dl(t){for(let e in ul)this[e]=ul[e]}var fl=function(){return hl.exports}();const pl={};var ml=T({name:"TagList",components:{Tag:D},computed:{tags(){return this.$store.getters.tags}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col p-4 md:p-2"},t._l(t.tags,(function(t){return n("Tag",{key:t,staticClass:"sidebar-link mb-2",attrs:{tag:t}})})),1)}),[],!1,gl,"09118972",null,null);function gl(t){for(let e in pl)this[e]=pl[e]}var vl=function(){return ml.exports}();var yl={state:()=>({crypto:{enabled:!1,privateKey:null,publicKey:null},editor:{images:{enabled:!0,showCaptions:!0},keyMap:"default",ligatures:!0,spellcheck:!0,tabSize:2,version:"ink"},loaded:!1,theme:"dark"}),getters:{},mutations:{LOAD_SETTINGS(t,e){Object.assign(t,v(t,e))},SET_CRYPTO_ENABLED(t,e){t.crypto.enabled=e},SET_CRYPTO_KEYS(t,e){e.privateKey&&(t.crypto.privateKey=e.privateKey),e.publicKey&&(t.crypto.publicKey=e.publicKey)},SET_EDITOR_IMAGES_ENABLED(t,e){t.editor.images.enabled=e},SET_EDITOR_IMAGES_SHOW_CAPTIONS(t,e){t.editor.images.showCaptions=e},SET_EDITOR_KEY_MAP(t,e){t.editor.keyMap=e},SET_EDITOR_LIGATURES(t,e){t.editor.ligatures=e},SET_EDITOR_SPELLCHECK(t,e){t.editor.spellcheck=e},SET_EDITOR_TAB_SIZE(t,e){t.editor.tabSize=e},SET_EDITOR_VERSION(t,e){t.editor.version=e},SET_THEME(t,e){t.theme=e},SETTINGS_LOADED(t){t.loaded=!0}},actions:{async LOAD_SETTINGS(t,e){t.commit("LOAD_SETTINGS",e)},async SET_CRYPTO_ENABLED(t,e){t.commit("SET_CRYPTO_ENABLED",e)},async SET_CRYPTO_KEYS(t,e){t.commit("SET_CRYPTO_KEYS",e)},async SET_EDITOR_IMAGES_ENABLED(t,e){t.commit("SET_EDITOR_IMAGES_ENABLED",e)},async SET_EDITOR_IMAGES_SHOW_CAPTIONS(t,e){t.commit("SET_EDITOR_IMAGES_SHOW_CAPTIONS",e)},async SET_EDITOR_KEY_MAP(t,e){t.commit("SET_EDITOR_KEY_MAP",e)},async SET_EDITOR_TAB_SIZE(t,e){t.commit("SET_EDITOR_TAB_SIZE",e)},async SET_THEME(t,e){t.commit("SET_THEME",e)},async SETTINGS_LOADED(t){t.commit("SETTINGS_LOADED")}}};const _l={};var wl=T({name:"Editor",computed:{imagesEnabled:{get(){return this.$store.state.settings.editor.images.enabled},set(t){this.$store.dispatch("SET_EDITOR_IMAGES_ENABLED",t)}},keyMap:{get(){return this.$store.state.settings.editor.keyMap},set(t){this.$store.dispatch("SET_EDITOR_KEY_MAP",t)}},ligatures:{get(){return this.$store.state.settings.editor.ligatures},set(t){this.$store.commit("SET_EDITOR_LIGATURES",t)}},showCaptions:{get(){return this.$store.state.settings.editor.images.showCaptions},set(t){this.$store.dispatch("SET_EDITOR_IMAGES_SHOW_CAPTIONS",t)}},spellcheck:{get(){return this.$store.state.settings.editor.spellcheck},set(t){this.$store.commit("SET_EDITOR_SPELLCHECK",t)}},tabSize:{get(){return this.$store.state.settings.editor.tabSize},set(t){this.$store.dispatch("SET_EDITOR_TAB_SIZE",parseInt(t)||2)}},usingInk(){return"ink"===this.version},usingLegacy(){return"original"===this.version},version:{get(){return this.$store.state.settings.editor.version},set(t){this.$store.commit("SET_EDITOR_VERSION",t)}}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h3",{staticClass:"text-3xl"},[t._v("Editor")]),n("hr",{staticClass:"mt-2 mb-4"}),n("Extendable",{attrs:{scope:"app.settings.editor"}},[n("div",{staticClass:"mb-4"},[n("label",{attrs:{for:"config-editor-version"}},[t._v("Markdown Editor Version")]),n("div",[n("label",{staticClass:"button button-size-medium button-color-gray"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.version,expression:"version"}],staticClass:"radio",attrs:{type:"radio",value:"ink"},domProps:{checked:t._q(t.version,"ink")},on:{change:function(e){t.version="ink"}}}),n("span",{staticClass:"ml-3"},[t._v("Ink")])]),n("label",{staticClass:"button button-size-medium button-color-gray ml-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.version,expression:"version"}],staticClass:"radio",attrs:{type:"radio",value:"original"},domProps:{checked:t._q(t.version,"original")},on:{change:function(e){t.version="original"}}}),n("span",{staticClass:"ml-3"},[t._v("Original (deprecated)")])])]),n("small",{staticClass:"text-gray-700"},[t._v("Ink is the next generation of Octo's markdown editor. We are leaving the Original editor available for our Vim Mode users until this feature is implemented in Ink.")])]),t.usingInk?n("div",{staticClass:"mb-4"},[n("label",{attrs:{for:"config-editor-version"}},[t._v("Spellcheck")]),n("div",[n("label",{staticClass:"button button-size-medium button-color-gray items-baseline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.spellcheck,expression:"spellcheck"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.spellcheck)?t._i(t.spellcheck,null)>-1:t.spellcheck},on:{change:function(e){var n=t.spellcheck,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&(t.spellcheck=n.concat([null])):o>-1&&(t.spellcheck=n.slice(0,o).concat(n.slice(o+1)))}else t.spellcheck=i}}}),n("span",{staticClass:"ml-3 "},[t._v("Enable Spellcheck")])])]),n("small",{staticClass:"text-gray-700"},[t._v("Spellcheck (and Grammarly support) is only available with the Ink editor.")])]):t._e(),t.usingLegacy?n("div",{staticClass:"mb-4"},[n("label",{attrs:{for:"config-key-map"}},[t._v("Vim Mode")]),n("div",[n("label",{staticClass:"button button-size-medium button-color-gray"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.keyMap,expression:"keyMap"}],staticClass:"radio",attrs:{type:"radio",value:"default"},domProps:{checked:t._q(t.keyMap,"default")},on:{change:function(e){t.keyMap="default"}}}),n("span",{staticClass:"ml-3"},[t._v("Disable")])]),n("label",{staticClass:"button button-size-medium button-color-gray ml-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.keyMap,expression:"keyMap"}],staticClass:"radio",attrs:{type:"radio",value:"vim"},domProps:{checked:t._q(t.keyMap,"vim")},on:{change:function(e){t.keyMap="vim"}}}),n("span",{staticClass:"ml-3"},[t._v("Enable")])])])]):t._e(),n("div",{staticClass:"mb-4"},[n("label",{attrs:{for:"config-tab-size"}},[t._v("Tab length")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.tabSize,expression:"tabSize"}],staticClass:"form-text w-full",attrs:{type:"number",min:"2",id:"config-tab-size"},domProps:{value:t.tabSize},on:{input:function(e){e.target.composing||(t.tabSize=e.target.value)}}}),n("small",{staticClass:"text-gray-700"},[t._v("Set the number of spaces to use for each tab (minimum: 2).")])]),n("div",{staticClass:"mb-4"},[n("h4",{staticClass:"text-2xl mb-2"},[t._v("Font Ligatures")]),n("p",{staticClass:"mb-2"},[t._v("Whether or not to show "),n("a",{attrs:{href:"https://github.com/tonsky/FiraCode#whats-in-the-box",target:"_blank",rel:"noopener noreferrer"}},[t._v("font ligatures")]),t._v(" ("),n("code",{staticClass:"monospace ligatures-normal"},[t._v("=>")]),t._v(").")]),n("div",{staticClass:"mb-4"},[n("label",{staticClass:"button button-size-medium button-color-gray items-baseline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.ligatures,expression:"ligatures"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.ligatures)?t._i(t.ligatures,null)>-1:t.ligatures},on:{change:function(e){var n=t.ligatures,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&(t.ligatures=n.concat([null])):o>-1&&(t.ligatures=n.slice(0,o).concat(n.slice(o+1)))}else t.ligatures=i}}}),n("span",{staticClass:"ml-3 "},[t._v("Enable Ligatures")])])])]),n("div",{staticClass:"mb-4"},[n("h4",{staticClass:"text-2xl mb-2"},[t._v("Images")]),n("p",{staticClass:"mb-2"},[t._v("This setting determines whether or not image tags (e.g. "),n("code",{staticClass:"bg-gray-100 dark:bg-darkest p-0.5 rounded"},[t._v("![alt text](/path/to/image)")]),t._v(") will render images in your documents.")]),n("div",{staticClass:"mb-4"},[n("div",[n("label",{staticClass:"button button-size-medium button-color-gray items-baseline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.imagesEnabled,expression:"imagesEnabled"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.imagesEnabled)?t._i(t.imagesEnabled,null)>-1:t.imagesEnabled},on:{change:function(e){var n=t.imagesEnabled,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&(t.imagesEnabled=n.concat([null])):o>-1&&(t.imagesEnabled=n.slice(0,o).concat(n.slice(o+1)))}else t.imagesEnabled=i}}}),n("span",{staticClass:"ml-3 "},[t._v("Enable Images")])]),n("label",{staticClass:"button button-size-medium button-color-gray ml-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.showCaptions,expression:"showCaptions"}],staticClass:"checkbox",attrs:{disabled:!t.imagesEnabled,type:"checkbox"},domProps:{checked:Array.isArray(t.showCaptions)?t._i(t.showCaptions,null)>-1:t.showCaptions},on:{change:function(e){var n=t.showCaptions,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&(t.showCaptions=n.concat([null])):o>-1&&(t.showCaptions=n.slice(0,o).concat(n.slice(o+1)))}else t.showCaptions=i}}}),n("span",{staticClass:"ml-3"},[t._v("Show Captions")])])]),n("small",{staticClass:"text-gray-700"},[t._v("Note: Captions are pulled from alt text and rendered under your images in the image container.")])])])])],1)}),[],!1,bl,null,null,null);function bl(t){for(let e in _l)this[e]=_l[e]}var xl=function(){return wl.exports}();const Cl={};var kl=T({name:"Encryption",data:()=>({togglingCrypto:!1}),computed:{allowCrypto(){return this.privateKey&&this.publicKey},privateKey:{get(){return this.$store.state.settings.crypto.privateKey},set(t){this.$store.dispatch("SET_CRYPTO_KEYS",{privateKey:t})}},publicKey:{get(){return this.$store.state.settings.crypto.publicKey},set(t){this.$store.dispatch("SET_CRYPTO_KEYS",{publicKey:t})}},toggleCrypto:{get(){return this.$store.state.settings.crypto.enabled},async set(t){this.togglingCrypto=!0,await this.$store.dispatch("SET_CRYPTO_ENABLED",t),await Promise.all(this.$store.getters.decrypted.map((t=>this.$store.dispatch("TOUCH_DOCUMENT",t)))),this.togglingCrypto=!1}}},methods:{async generateKeys(){const t=await X(),{privateKey:e,publicKey:n}=await Y(t);this.privateKey=e,this.publicKey=n}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h3",{staticClass:"text-3xl"},[t._v("Client-side Encryption")]),n("hr",{staticClass:"mt-2 mb-4"}),t._m(0),n("div",{staticClass:"mb-4"},[n("div",[n("label",{staticClass:"button button-size-medium button-color-gray"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.toggleCrypto,expression:"toggleCrypto"}],staticClass:"checkbox",attrs:{disabled:!t.allowCrypto||t.togglingCrypto,type:"checkbox"},domProps:{checked:Array.isArray(t.toggleCrypto)?t._i(t.toggleCrypto,null)>-1:t.toggleCrypto},on:{change:function(e){var n=t.toggleCrypto,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&(t.toggleCrypto=n.concat([null])):o>-1&&(t.toggleCrypto=n.slice(0,o).concat(n.slice(o+1)))}else t.toggleCrypto=i}}}),n("span",{staticClass:"ml-3"},[t._v("Enable Encryption")])])]),n("small",{staticClass:"text-gray-700"},[t._v("Note: Toggling encryption will encrypt/decrypt all existing documents. "),t.allowCrypto?t._e():n("span",[t._v("Enabling encryption "),n("strong",[t._v("requires")]),t._v(" private/public keys. Generate or supply them below to enable.")])])]),n("div",{staticClass:"mb-4"},[n("label",{attrs:{for:"tags-search"}},[t._v("Private Key")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.privateKey,expression:"privateKey"}],staticClass:"form-text w-full",attrs:{rows:"5",placeholder:"Private key",autocomplete:"off"},domProps:{value:t.privateKey},on:{input:function(e){e.target.composing||(t.privateKey=e.target.value)}}}),t._m(1)]),n("div",{staticClass:"mb-4"},[n("label",{attrs:{for:"tags-search"}},[t._v("Public Key")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.publicKey,expression:"publicKey"}],staticClass:"form-text w-full",attrs:{rows:"5",placeholder:"Public key",autocomplete:"off"},domProps:{value:t.publicKey},on:{input:function(e){e.target.composing||(t.publicKey=e.target.value)}}}),t._m(2)]),n("div",{staticClass:"mb-4"},[n("button",{staticClass:"button button-size-medium button-color-gray",on:{click:t.generateKeys}},[t._v("Generate Keys")])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-4"},[n("label",{attrs:{for:"tags-search"}},[t._v("Documents are encrypted using a "),n("a",{attrs:{href:"https://en.wikipedia.org/wiki/Hybrid_cryptosystem",target:"_blank",rel:"noopener noreferrer"}},[t._v("hybrid cryptosystem")]),t._v(". You may provide your own keys or generate a new set here. If you choose to generate a new set, be sure to "),n("strong",[t._v("make a secure backup of your keys")]),t._v(". If you lose your private key, you will not be able to recover any data that is encrypted.")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("small",{staticClass:"text-gray-700"},[t._v("This key is used to "),n("em",[t._v("decrypt")]),t._v(" documents. It "),n("strong",[t._v("will not")]),t._v(" be synced across devices when signed in.")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("small",{staticClass:"text-gray-700"},[t._v("This key is used to "),n("em",[t._v("encrypt")]),t._v(" documents. It "),n("strong",[t._v("will")]),t._v(" be synced across devices when signed in.")])}],!1,El,null,null,null);function El(t){for(let e in Cl)this[e]=Cl[e]}var Tl=function(){return kl.exports}();const Sl={};var Al=T({name:"Export"},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h3",{staticClass:"text-3xl"},[t._v("Export Documents")]),n("hr",{staticClass:"mt-2 mb-4"}),t._m(0),n("div",{staticClass:"mb-4"},[n("router-link",{staticClass:"button button-size-medium button-color-gray",attrs:{to:{name:"export"}}},[t._v("Export Documents")])],1)])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-4"},[n("label",[t._v("Bundle all documents as JSON. Documents will be decrypted if the necessary keys are available.")])])}],!1,Ml,null,null,null);function Ml(t){for(let e in Sl)this[e]=Sl[e]}var Dl=function(){return Al.exports}();const Il={};var Ol=T({name:"Newsletter",methods:{trackNewsletterCta(){window.fathom.trackGoal("CGHY6SJ8",0)}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"bg-blue-300 dark:bg-blue-400 text-gray-900 shadow rounded p-2"},[n("div",{staticClass:"lg:flex items-center justify-between"},[n("div",{staticClass:"lg:flex items-center text-gray-900"},[n("strong",{staticClass:"inline-flex items-center"},[n("div",{staticClass:"bg-gray-900 bg-opacity-25 rounded p-2"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"}})])]),n("span",{staticClass:"whitespace-nowrap ml-2 xl:ml-4"},[t._v("Exploring the Depths")])]),n("br"),n("div",{staticClass:"whitespace-nowrap lg:ml-2 xl:ml-4"},[t._v("The Official Blog for Octo")])]),n("div",{staticClass:"flex items-center justify-end mt-4 lg:mt-0"},[n("a",{staticClass:"button button-size-medium w-full bg-gray-100 whitespace-nowrap lg:ml-2",attrs:{href:"https://by.octo.app",target:"_blank",rel:"noopener noreferrer"},on:{click:t.trackNewsletterCta}},[t._v("Read Now")])])])])}),[],!1,Nl,null,null,null);function Nl(t){for(let e in Il)this[e]=Il[e]}var zl=function(){return Ol.exports}();const Rl={};var Pl=T({name:"Theme",computed:{theme:{get(){return this.$store.state.settings.theme},set(t){this.$store.dispatch("SET_THEME",t)}}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h3",{staticClass:"text-3xl"},[t._v("Theme")]),n("hr",{staticClass:"mt-2 mb-4"}),n("Extendable",{attrs:{scope:"app.settings.theme"}},[n("div",{staticClass:"mb-4"},[n("div",[n("label",{staticClass:"button button-size-medium button-color-gray"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.theme,expression:"theme"}],staticClass:"radio",attrs:{type:"radio",value:"dark"},domProps:{checked:t._q(t.theme,"dark")},on:{change:function(e){t.theme="dark"}}}),n("span",{staticClass:"ml-3"},[t._v("Dark")])]),n("label",{staticClass:"button button-size-medium button-color-gray ml-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.theme,expression:"theme"}],staticClass:"radio",attrs:{type:"radio",value:"light"},domProps:{checked:t._q(t.theme,"light")},on:{change:function(e){t.theme="light"}}}),n("span",{staticClass:"ml-3"},[t._v("Light")])])])])])],1)}),[],!1,Ll,null,null,null);function Ll(t){for(let e in Rl)this[e]=Rl[e]}const Ul={};var jl=T({name:"TheSettings",components:{Editor:xl,Encryption:Tl,Export:Dl,Newsletter:zl,Theme:function(){return Pl.exports}()}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container flex flex-col mx-auto p-4 md:px-16 md:py-8"},[n("div",[n("h2",{staticClass:"text-4xl"},[t._v("Settings")]),n("p",{staticClass:"mt-1 mb-8 text-gray-500"},[t._v("Make yourself comfortable")]),n("Newsletter",{staticClass:"mb-4"}),n("Extendable",{attrs:{scope:"app.settings"}},[n("Editor",{staticClass:"mb-8"}),n("Theme",{staticClass:"mb-8"}),n("Encryption",{staticClass:"mb-8"}),n("Export",{staticClass:"mb-8"})],1)],1)])}),[],!1,$l,null,null,null);function $l(t){for(let e in Ul)this[e]=Ul[e]}var Bl=function(){return jl.exports}();const Kl={};var Hl=T({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{fill:"currentColor",viewBox:"0 0 136 133",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[e("path",{attrs:{d:"M67.867,0c-37.48,0 -67.867,30.388 -67.867,67.875c0,29.988 19.446,55.425 46.417,64.404c3.396,0.621 4.633,-1.475 4.633,-3.275c0,-1.608 -0.058,-5.879 -0.092,-11.541c-18.879,4.1 -22.862,-9.1 -22.862,-9.1c-3.088,-7.842 -7.538,-9.93 -7.538,-9.93c-6.162,-4.208 0.467,-4.125 0.467,-4.125c6.813,0.48 10.396,6.996 10.396,6.996c6.054,10.371 15.887,7.375 19.754,5.638c0.617,-4.384 2.367,-7.375 4.308,-9.071c-15.07,-1.713 -30.916,-7.538 -30.916,-33.546c-0,-7.408 2.646,-13.467 6.987,-18.212c-0.7,-1.717 -3.029,-8.617 0.663,-17.963c-0,0 5.7,-1.825 18.666,6.958c5.413,-1.508 11.221,-2.258 16.992,-2.283c5.763,0.025 11.571,0.775 16.992,2.283c12.958,-8.783 18.646,-6.958 18.646,-6.958c3.704,9.346 1.375,16.246 0.674,17.963c4.35,4.745 6.98,10.804 6.98,18.212c-0,26.075 -15.871,31.813 -30.992,33.492c2.438,2.096 4.608,6.237 4.608,12.571c0,9.07 -0.083,16.391 -0.083,18.616c0,1.817 1.221,3.929 4.667,3.267c26.95,-8.996 46.379,-34.417 46.379,-64.396c-0,-37.487 -30.392,-67.875 -67.879,-67.875"}})])}),[],!1,Gl,null,null,null);function Gl(t){for(let e in Kl)this[e]=Kl[e]}var Fl=function(){return Hl.exports}();const Vl={};var Yl=T({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{fill:"currentColor",viewBox:"0 0 256 262",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"}},[e("path",{attrs:{d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"}}),e("path",{attrs:{d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"}}),e("path",{attrs:{d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782"}}),e("path",{attrs:{d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"}})])}),[],!1,ql,null,null,null);function ql(t){for(let e in Vl)this[e]=Vl[e]}var Wl=function(){return Yl.exports}();const Xl={};var Zl=T({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticStyle:{"enable-background":"new 0 0 248 204"},attrs:{fill:"currentColor",version:"1.1",id:"Logo",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 248 204","xml:space":"preserve"}},[e("path",{attrs:{d:"M221.95,51.29c0.15,2.17,0.15,4.34,0.15,6.53c0,66.73-50.8,143.69-143.69,143.69v-0.04 C50.97,201.51,24.1,193.65,1,178.83c3.99,0.48,8,0.72,12.02,0.73c22.74,0.02,44.83-7.61,62.72-21.66 c-21.61-0.41-40.56-14.5-47.18-35.07c7.57,1.46,15.37,1.16,22.8-0.87C27.8,117.2,10.85,96.5,10.85,72.46c0-0.22,0-0.43,0-0.64 c7.02,3.91,14.88,6.08,22.92,6.32C11.58,63.31,4.74,33.79,18.14,10.71c25.64,31.55,63.47,50.73,104.08,52.76 c-4.07-17.54,1.49-35.92,14.61-48.25c20.34-19.12,52.33-18.14,71.45,2.19c11.31-2.23,22.15-6.38,32.07-12.26 c-3.77,11.69-11.66,21.62-22.2,27.93c10.01-1.18,19.79-3.86,29-7.95C240.37,35.29,231.83,44.14,221.95,51.29z"}})])}),[],!1,Ql,null,null,null);function Ql(t){for(let e in Xl)this[e]=Xl[e]}var Jl=function(){return Zl.exports}();const tc={};var ec=T({name:"Providers",components:{GitHubIcon:Fl,GoogleIcon:Wl,TwitterIcon:Jl},data:()=>({accountConflict:!1}),computed:{github(){return this.providers.find((t=>"github.com"===t.providerId))},google(){return this.providers.find((t=>"google.com"===t.providerId))},online(){return this.$store.state.online},providers(){return this.user?this.user.providerData:[]},twitter(){return this.providers.find((t=>"twitter.com"===t.providerId))},user(){return this.$store.state.auth.user}},methods:{linkGithub(){this.user.linkWithRedirect(new $.GithubAuthProvider)},linkGoogle(){this.user.linkWithRedirect(new $.GoogleAuthProvider)},linkTwitter(){this.user.linkWithRedirect(new $.TwitterAuthProvider)},signInGithub(){j.signInWithRedirect(new $.GithubAuthProvider)},signInGoogle(){j.signInWithRedirect(new $.GoogleAuthProvider)},signInTwitter(){j.signInWithRedirect(new $.TwitterAuthProvider)},signOut(){j.signOut()}},created(){j.getRedirectResult().then((t=>{t.additionalUserInfo&&t.additionalUserInfo.isNewUser&&window.fathom.trackGoal("SQC05HQB",0)})).catch((t=>{switch(t.code){case"auth/account-exists-with-different-credential":this.accountConflict=!0}}))}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"flex flex-col gap-4"},[n("div",[t.github?n("div",{staticClass:"mb-4"},[n("div",{staticClass:"flex items-center"},[n("GitHubIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"font-bold text-lg ml-3"},[t._v("GitHub")]),n("span",{staticClass:"bg-gray-100 dark:bg-gray-800 text-base font-normal px-1 rounded ml-2"},[t._v("Linked")])],1),n("p",[t._v(t._s(t.github.email))])]):t._e(),t.google?n("div",{staticClass:"mb-4"},[n("div",{staticClass:"flex items-center"},[n("GoogleIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"font-bold text-lg ml-3"},[t._v("Google")]),n("span",{staticClass:"bg-gray-100 dark:bg-gray-800 text-base font-normal px-1 rounded ml-2"},[t._v("Linked")])],1),n("p",[t._v(t._s(t.google.email))])]):t._e(),t.twitter?n("div",{staticClass:"mb-4"},[n("div",{staticClass:"flex items-center"},[n("TwitterIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"font-bold text-lg ml-3"},[t._v("Twitter")]),n("span",{staticClass:"bg-gray-100 dark:bg-gray-800 text-base font-normal px-1 rounded ml-2"},[t._v("Linked")])],1),n("p",[t._v(t._s(t.twitter.email))])]):t._e()]),n("div",{staticClass:"flex flex-col gap-2 lg:max-w-xs"},[t.github?t._e():n("button",{staticClass:"button-base button-size-medium button-color-gray shadow w-full lg:w-auto whitespace-nowrap justify-start",on:{click:t.linkGithub}},[n("GitHubIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"ml-3"},[t._v("Link GitHub")])],1),t.google?t._e():n("button",{staticClass:"button-base button-size-medium button-color-gray shadow w-full lg:w-auto whitespace-nowrap justify-start",on:{click:t.linkGoogle}},[n("GoogleIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"ml-3"},[t._v("Link Google")])],1),t.twitter?t._e():n("button",{staticClass:"button-base button-size-medium button-color-gray shadow w-full lg:w-auto whitespace-nowrap justify-start",on:{click:t.linkTwitter}},[n("TwitterIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"ml-3"},[t._v("Link Twitter")])],1),n("button",{staticClass:"button-base button-size-medium button-color-gray shadow w-full lg:w-auto whitespace-nowrap justify-start text-red-400",on:{click:t.signOut}},[n("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"}})]),n("span",{staticClass:"action ml-3"},[t._v("Sign Out")])])])])}),[],!1,nc,null,null,null);function nc(t){for(let e in tc)this[e]=tc[e]}var rc=function(){return ec.exports}(),ic={state:()=>({isEvaluated:!1,user:null}),getters:{},mutations:{SET_USER(t,e){t.user=e.user,t.isEvaluated=!0}},actions:{async SET_USER(t,e){t.commit("SET_USER",e)},SIGN_OUT:async(t,e)=>(j.signOut(),t.dispatch("SET_USER",{user:null}))}};const oc=(t,e)=>t.all.filter((t=>!t.encrypted)).find((t=>t.id===e));var ac={state:()=>({all:[],currentId:null,loaded:!1}),getters:{actionable:(t,e,n,r)=>e.kept.filter((t=>t.tasks.length>0)),allKept:(t,e)=>e.sorted.filter((t=>null===t.discardedAt)),daily:(t,e)=>e.sortedByCreated.find((t=>t.daily)),currentDoc:(t,e)=>e.decrypted.find((e=>e.id===t.currentId)),decrypted:t=>t.all.filter((t=>!t.encrypted)),discarded:(t,e)=>e.sorted.filter((t=>null!==t.discardedAt)),filtered:(t,e,n)=>n.context.active?e.sorted.filter((t=>n.context.tags.filter((e=>t.tags.includes(e))).length>0)):e.sorted,kept:(t,e)=>e.filtered.filter((t=>null===t.discardedAt)),sorted:(t,e)=>e.decrypted.sort(((t,e)=>e.updatedAt-t.updatedAt)),sortedByCreated:(t,e)=>e.decrypted.sort(((t,e)=>e.createdAt-t.createdAt)),untagged:(t,e)=>e.allKept.filter((t=>0==t.tags.length)),withTag:(t,e)=>t=>e.kept.filter((e=>!!e.tags.find((e=>e===t))))},mutations:{ADD_DOCUMENT(t,e){t.all.push(e)},DISCARD_DOCUMENT(t,{id:e}){oc(t,e).discard()},DOCUMENTS_LOADED(t){t.loaded=!0},EDIT_DOCUMENT(t,{id:e,text:n}){oc(t,e).update({text:n})},LOAD_DOCUMENT(t,e){t.all.push(e)},MERGE_DOCUMENT(t,e){oc(t,e.id).merge(e)},RESTORE_DOCUMENT(t,{id:e}){oc(t,e).restore()},RESTRICT_DOCUMENT(t,{id:e}){oc(t,e).restrict()},SET_DOCUMENT(t,{id:e}){t.currentId=e},SHARE_DOCUMENT(t,{id:e}){oc(t,e).share()},TOUCH_DOCUMENT(t,{id:e}){oc(t,e).touch()}},actions:{async ADD_DOCUMENT(t,e){t.commit("ADD_DOCUMENT",e)},async DISCARD_DOCUMENT(t,e){t.commit("DISCARD_DOCUMENT",e)},async DOCUMENTS_LOADED(t){t.commit("DOCUMENTS_LOADED")},async DUPLICATE_DOCUMENT(t,{id:e}){const n=oc(t.state,e).duplicate();return t.commit("ADD_DOCUMENT",n),n.id},async EDIT_DOCUMENT(t,e){t.commit("EDIT_DOCUMENT",e)},async LOAD_DOCUMENT(t,e){t.commit("LOAD_DOCUMENT",e)},LOAD_DOCUMENTS:async(t,e)=>Promise.all(e.map((e=>t.dispatch("LOAD_DOCUMENT",e)))),async MERGE_DOCUMENT(t,e){t.commit("MERGE_DOCUMENT",e)},async MERGE_DOCUMENTS(t,e){const n=e.map((e=>oc(t.state,e.id))),r=new gt({text:n.map((t=>t.text)).join("\n\n")});return t.commit("ADD_DOCUMENT",r),n.map((e=>t.dispatch("DISCARD_DOCUMENT",e)))},async RESTORE_DOCUMENT(t,e){t.commit("RESTORE_DOCUMENT",e)},async RESTRICT_DOCUMENT(t,e){t.commit("RESTRICT_DOCUMENT",e)},async SET_DOCUMENT(t,e){t.commit("SET_DOCUMENT",e)},async SHARE_DOCUMENT(t,e){t.commit("SHARE_DOCUMENT",e)},async TOUCH_DOCUMENT(t,e){t.commit("TOUCH_DOCUMENT",e)}}};const sc=(t,e)=>{y.bindGlobal(t,((t,n)=>{t.preventDefault(),e()}))},lc=t=>{Lc({name:t})},cc=(t,e)=>()=>{t(),e.dispatch("DISABLE_LISTENERS")},uc=(t,e,n)=>({keybinding:t,callback:cc(e,n)});var hc={state:()=>({activeElement:null,listeners:[],listening:!1,loaded:!1}),getters:{},mutations:{DISABLE_LISTENER(t,e){t.listeners=t.listeners.filter((t=>t!==e))},DISABLE_LISTENERS(t){t.listening=!1},ENABLE_LISTENER(t,e){t.listeners.push(e)},ENABLE_LISTENERS(t){t.listening=!0},KEYBINDINGS_LOADED(t){t.loaded=!0}},actions:{async LOAD_KEYBINDINGS(t){sc("esc",(()=>t.dispatch("DISABLE_LISTENERS"))),sc("mod+k",(()=>t.dispatch("TOGGLE_LISTENERS"))),sc("mod+s",(()=>t.dispatch("DISABLE_LISTENERS"))),sc("mod+shift+f",(()=>{t.dispatch("DISABLE_LISTENERS"),lc("documents")})),window.addEventListener("click",(()=>t.dispatch("DISABLE_LISTENERS"))),t.commit("KEYBINDINGS_LOADED")},async DISABLE_LISTENER(t,e){(({keybinding:t})=>{y.unbind(t)})(e),t.commit("DISABLE_LISTENER",e)},async DISABLE_LISTENERS(t){await Promise.all(t.state.listeners.map((e=>{t.dispatch("DISABLE_LISTENER",e)}))),t.state.activeElement&&(t.state.activeElement.focus(),t.state.activeElement=null),t.commit("DISABLE_LISTENERS")},async ENABLE_LISTENER(t,e){(({keybinding:t,callback:e})=>{y.bind(t,((t,n)=>{t.preventDefault(),e()}))})(e),t.commit("ENABLE_LISTENER",e)},async ENABLE_LISTENERS(t){t.state.activeElement=document.activeElement,t.state.activeElement.blur(),await Promise.all((t=>[uc("c",(()=>lc("context")),t),uc("d",(()=>lc("discarded")),t),uc("e",(()=>lc("graph")),t),uc("n",(()=>lc("dashboard")),t),uc("p",(()=>lc("daily")),t),uc("r",(()=>lc("recent")),t),uc("s",(()=>lc("settings")),t),uc("t",(()=>lc("actionable")),t),uc("u",(()=>lc("untagged")),t)])(t).map((e=>{t.dispatch("ENABLE_LISTENER",e)}))),t.commit("ENABLE_LISTENERS")},TOGGLE_LISTENERS:async(t,e)=>t.state.listening?t.dispatch("DISABLE_LISTENERS"):t.dispatch("ENABLE_LISTENERS")}};var dc={state:()=>({}),getters:{lastSyncedAt:(t,e,n)=>new Date(Math.max(0,...n.documents.all.map((t=>t.syncedAt))))},actions:{async PULL_DOCUMENT(t,e){const n=(r=t.rootState,i=e.id,r.documents.all.find((t=>t.id===i)));var r,i;if(!n)return t.dispatch("ADD_DOCUMENT",e);if(n.updatedAt<e.updatedAt)return t.dispatch("MERGE_DOCUMENT",e);if(n.updatedAt>e.updatedAt);else if(!n.syncedAt||n.syncedAt<e.syncedAt)return t.dispatch("MERGE_DOCUMENT",e)},async PULL_DOCUMENTS(t){const e=await B.collection("documents").where("ownerId","==",t.rootState.auth.user.uid).where("syncedAt",">",t.getters.lastSyncedAt).get();return Promise.all(e.docs.map((async e=>{const n=e.data(),r=c(l({},n),{id:n.id||n.clientId,firebaseId:e.id,textKey:n.textKey||n.dataKey,createdAt:n.createdAt?n.createdAt.toDate():null,discardedAt:n.discardedAt?n.discardedAt.toDate():null,updatedAt:n.updatedAt?n.updatedAt.toDate():null,touchedAt:n.touchedAt?n.touchedAt.toDate():null,syncedAt:n.syncedAt.toDate()}),i=await yt(r,{privateKey:t.rootState.settings.crypto.privateKey});return t.dispatch("PULL_DOCUMENT",i)})))},async PUSH_DOCUMENT(t,e){if(!t.rootState.settings.crypto.enabled||e.encrypted||e.public)n=await vt(e,{secure:!1});else var n=await vt(e,{publicKey:t.rootState.settings.crypto.publicKey});return n.syncedAt?n.updatedAt>n.syncedAt||n.touchedAt>n.syncedAt?B.collection("documents").doc(n.firebaseId).update(c(l({},n),{syncedAt:K.FieldValue.serverTimestamp()})):void 0:B.collection("documents").add(c(l({},n),{syncedAt:K.FieldValue.serverTimestamp(),ownerId:t.rootState.auth.user.uid})).then((t=>{}))},async PUSH_DOCUMENTS(t){await Promise.all(t.rootState.documents.all.map((e=>t.dispatch("PUSH_DOCUMENT",e))))},async SYNC(t){await t.dispatch("PULL_DOCUMENTS"),await t.dispatch("PUSH_DOCUMENTS"),await t.dispatch("PULL_DOCUMENTS")}}};class fc{constructor(t){this.timeout=t,this.timers=[]}debounce(t=null,e){const n=this._findTimer(t);n&&this._clearTimer(n),this._setTimer(t,e)}_clearTimer(t){clearTimeout(t.instance),this.timers=this.timers.filter((e=>e.identifier!==t.identifier))}_findTimer(t){return this.timers.find((e=>e.identifier===t))}_setTimer(t,e){this.timers.push({identifier:t,instance:setTimeout(e,this.timeout)})}}const pc=_.createInstance({name:"contexts"}),mc=new fc(800);const gc=_.createInstance({name:"firebase/documents"}),vc=new fc(800);const yc=_.createInstance({name:"settings"});const _c=new fc(1500);w.use(b);var wc=new b.Store({state:{context:{active:!1,editing:!1,tags:[]},editor:null,menu:{show:!1},modKey:"âŒƒ ctrl",online:!0,showLeftSidebar:!0,showRightSidebar:!1,showStripeModal:!1,showWelcome:!1,vimLoaded:!1},getters:{allTags:(t,e)=>Array.from(e.allKept.reduce(((t,e)=>{for(let n of e.tags)t.add(n);return t}),new Set)).sort(),contextTags:t=>t.context.tags.sort(),tags:(t,e)=>Array.from(e.kept.reduce(((t,e)=>{for(let n of e.tags)t.add(n);return t}),new Set)).sort()},mutations:{ACTIVATE_CONTEXT(t,e){t.context.active=!0},DEACTIVATE_CONTEXT(t,e){t.context.active=!1,t.context.tags=[]},HIDE_MENU(t,e){t.menu.show=!1},SET_CONTEXT_TAGS(t,e){t.context.tags=e.context.tags},SET_EDITOR(t,e){t.editor=e.editor},SET_MOD_KEY(t,e){t.modKey=e},SET_OFFLINE(t){t.online=!1},SET_ONLINE(t){t.online=!0},SET_RIGHT_SIDEBAR_VISIBILITY(t,e){t.showRightSidebar=e},SET_STRIPE_MODAL_VISIBILITY(t,e){t.showStripeModal=e},SET_VIM_LOADED(t,e){t.vimLoaded=e},SHOW_MENU(t){t.menu.show=!0},SET_SHOW_WELCOME(t,e){t.showWelcome=e}},actions:{async ACTIVATE_CONTEXT(t){t.commit("ACTIVATE_CONTEXT")},async BLUR_EDITOR(t){t.state.editor&&t.state.editor.getInputField().blur()},async DEACTIVATE_CONTEXT(t){t.commit("DEACTIVATE_CONTEXT")},async FOCUS_EDITOR(t){t.state.editor&&t.state.editor.focus()},async HIDE_MENU(t){t.commit("HIDE_MENU")},async SET_CONTEXT_TAGS(t,e){if(t.commit("SET_CONTEXT_TAGS",e),e.context.tags.length>0){if(!t.state.context.active)return t.dispatch("ACTIVATE_CONTEXT")}else if(t.state.context.active)return t.dispatch("DEACTIVATE_CONTEXT")},async SET_EDITOR(t,e){t.commit("SET_EDITOR",e)},async SET_MOD_KEY(t,e){t.commit("SET_MOD_KEY",e)},async SET_OFFLINE(t){t.commit("SET_OFFLINE")},async SET_ONLINE(t){t.commit("SET_ONLINE")},async SET_RIGHT_SIDEBAR_VISIBILITY(t,e){t.commit("SET_RIGHT_SIDEBAR_VISIBILITY",e)},async SET_SHOW_WELCOME(t,e){t.commit("SET_SHOW_WELCOME",e)},async SET_STRIPE_MODAL_VISIBILITY(t,e){t.commit("SET_STRIPE_MODAL_VISIBILITY",e),e&&setTimeout((()=>{t.state.showStripeModal&&t.commit("SET_STRIPE_MODAL_VISIBILITY",!1)}),15e3)},async SHOW_MENU(t){t.commit("SHOW_MENU")}},modules:{auth:ic,contexts:Me,documents:ac,keybindings:hc,settings:yl,sync:dc},plugins:[t=>{t.subscribe((({type:e,payload:n},r)=>{switch(e){case"ADD_CONTEXT":const e=((t,e)=>t.contexts.all.find((t=>t.id===e)))(r,n.id);e&&mc.debounce(e.id,(async()=>{pc.setItem(e.id,e)}));break;case"REMOVE_CONTEXT":pc.removeItem(n.id);break;case"SETTINGS_LOADED":pc.keys().then((t=>Promise.all(t.map((t=>pc.getItem(t)))))).then((e=>t.dispatch("LOAD_CONTEXTS",e)))}}))},t=>{t.subscribe((({type:e,payload:n},r)=>{switch(e){case"ADD_DOCUMENT":case"DISCARD_DOCUMENT":case"EDIT_DOCUMENT":case"MERGE_DOCUMENT":case"RESTORE_DOCUMENT":case"RESTRICT_DOCUMENT":case"SHARE_DOCUMENT":case"TOUCH_DOCUMENT":const e=((t,e)=>t.documents.all.find((t=>t.id===e)))(r,n.id);e&&vc.debounce(e.id,(async()=>{if(r.settings.crypto.enabled&&!e.encrypted)var t=await vt(e,{publicKey:r.settings.crypto.publicKey});else t=await vt(e,{secure:!1});gc.setItem(e.id,t)}));break;case"SETTINGS_LOADED":gc.keys().then((t=>Promise.all(t.map((t=>gc.getItem(t)))))).then((t=>Promise.all(t.map((t=>{const e=Object.assign({},t,{id:t.id||t.clientId,textKey:t.textKey||t.dataKey});return yt(e,{privateKey:r.settings.crypto.privateKey})}))))).then((e=>t.dispatch("LOAD_DOCUMENTS",e))).then((()=>t.dispatch("DOCUMENTS_LOADED")))}}))},t=>{t.subscribe((({type:e,_payload:n},r)=>{switch(e){case"SETTINGS_LOADED":t.dispatch("LOAD_KEYBINDINGS")}}))},t=>{yc.getItem("main").then((e=>{e?t.dispatch("LOAD_SETTINGS",e).then((()=>{t.dispatch("SETTINGS_LOADED")})):t.dispatch("SETTINGS_LOADED")})),t.subscribe((({type:t,_payload:e},n)=>{switch(t){case"SET_CRYPTO_ENABLED":case"SET_CRYPTO_KEYS":case"SET_EDITOR_IMAGES_ENABLED":case"SET_EDITOR_IMAGES_SHOW_CAPTIONS":case"SET_EDITOR_KEY_MAP":case"SET_EDITOR_LIGATURES":case"SET_EDITOR_SPELLCHECK":case"SET_EDITOR_TAB_SIZE":case"SET_EDITOR_VERSION":case"SET_THEME":yc.setItem("main",n.settings)}}))},t=>{t.subscribe((async({type:e,payload:n},r)=>{switch(e){case"ADD_DOCUMENT":case"DISCARD_DOCUMENT":case"DOCUMENTS_LOADED":case"EDIT_DOCUMENT":case"RESTORE_DOCUMENT":case"RESTRICT_DOCUMENT":case"SET_ONLINE":case"SET_USER":case"SHARE_DOCUMENT":case"TOUCH_DOCUMENT":t.state.online&&t.state.auth.user&&_c.debounce("sync",(()=>{t.dispatch("SYNC")}))}}))}]});const bc={};var xc=T({name:"Subscription",components:{GitHubIcon:Fl,GoogleIcon:Wl,TwitterIcon:Jl},data:()=>({accountConflict:!1,stripeError:null,subscribed:!1}),watch:{user(){this.user&&this.checkSubscription()}},computed:{github(){return this.providers.find((t=>"github.com"===t.providerId))},google(){return this.providers.find((t=>"google.com"===t.providerId))},online(){return this.$store.state.online},providers(){return this.user?this.user.providerData:[]},twitter(){return this.providers.find((t=>"twitter.com"===t.providerId))},user(){return this.$store.state.auth.user}},methods:{linkGithub(){this.user.linkWithRedirect(new $.GithubAuthProvider)},linkGoogle(){this.user.linkWithRedirect(new $.GoogleAuthProvider)},linkTwitter(){this.user.linkWithRedirect(new $.TwitterAuthProvider)},signInGithub(){j.signInWithRedirect(new $.GithubAuthProvider)},signInGithubPro(){window.location.hash="pro",this.trackCtaContinueWithPro(),this.signInGithub()},signInGoogle(){j.signInWithRedirect(new $.GoogleAuthProvider)},signInGooglePro(){window.location.hash="pro",this.trackCtaContinueWithPro(),this.signInGoogle()},signInTwitter(){j.signInWithRedirect(new $.TwitterAuthProvider)},signInTwitterPro(){window.location.hash="pro",this.trackCtaContinueWithPro(),this.signInTwitter()},signOut(){j.signOut()},trackCtaContinueWithPro(){window.fathom.trackGoal("YKH3CBR1",0)},trackCtaUpgradeToPro(){window.fathom.trackGoal("WGUAVK63",0)},upgrade(){this.trackCtaUpgradeToPro(),this.subscribe()},async checkSubscription(){await j.currentUser.getIdToken(!0);const t=await j.currentUser.getIdTokenResult();this.subscribed="subscriber"===t.claims.stripeRole},async subscribe(){this.$store.dispatch("SET_STRIPE_MODAL_VISIBILITY",!0);(await B.collection("customers").doc(this.user.uid).collection("checkout_sessions").add({price:"price_1JXGjVFSSDySG1smmI1f8krR",success_url:window.location.href,cancel_url:window.location.href})).onSnapshot((t=>{const{error:e,url:n}=t.data();e&&(console.error({error:e}),this.stripeError=e.message,this.$store.dispatch("SET_STRIPE_MODAL_VISIBILITY",!1)),n&&window.location.assign(n)}))}},created(){this.user&&this.checkSubscription(),j.getRedirectResult().then((t=>{t.additionalUserInfo&&t.additionalUserInfo.isNewUser&&window.fathom.trackGoal("SQC05HQB",0),"#pro"===window.location.hash&&this.checkSubscription().then((()=>{this.subscribed||this.subscribe()}))})).catch((t=>{switch(t.code){case"auth/account-exists-with-different-credential":this.accountConflict=!0}}))}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[t.accountConflict?n("div",{staticClass:"flex items-center rounded p-2 bg-blue-100 dark:bg-blue-400 text-gray-900 mb-4 shadow",attrs:{role:"alert"}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}})]),n("span",{staticClass:"ml-3"},[t._v("You have an account with another provider. If you want to link these accounts, you need to sign in with the correct provider first.")])]):t._e(),n("div",{staticClass:"flex flex-col justify-center lg:flex-row gap-4"},[n("div",{staticClass:"flex-shrink flex-basis-1/2 bg-gray-100 dark:bg-darkest shadow rounded p-4"},[n("h3",{staticClass:"flex items-center text-2xl font-bold mb-2"},[n("span",[t._v("Personal")]),t.user&&!t.subscribed?n("span",{staticClass:"bg-gray-200 dark:bg-gray-900 text-base font-normal py-0.5 px-2 rounded ml-2"},[t._v("Active")]):t._e()]),n("p",{staticClass:"mb-4"},[t._v("For hobbyists, students, and content consumers")]),t._m(0),t.user?t._e():n("div",{staticClass:"flex flex-col gap-2 mb-4"},[n("button",{staticClass:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center",attrs:{disabled:!t.online},on:{click:t.signInGithub}},[n("GitHubIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"action ml-3"},[t._v("Continue with GitHub")])],1),n("button",{staticClass:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center",attrs:{disabled:!t.online},on:{click:t.signInGoogle}},[n("GoogleIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"action ml-3"},[t._v("Continue with Google")])],1),n("button",{staticClass:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center",attrs:{disabled:!t.online},on:{click:t.signInTwitter}},[n("TwitterIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"action ml-3"},[t._v("Continue with Twitter")])],1)]),n("p",{staticClass:"font-bold mb-4"},[t._v("What's included?")]),n("ul",[n("li",{staticClass:"flex gap-4"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),n("span",[t._v("Unlimited private docs")])]),n("li",{staticClass:"flex gap-4"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),n("span",[t._v("Unlimited syncing")])]),n("li",{staticClass:"flex gap-4"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),n("span",[t._v("Backups and retention")])]),n("li",{staticClass:"flex gap-4"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),n("span",[t._v("End-to-end encryption")])])])]),n("div",{staticClass:"flex-grow flex-shrink flex-basis-1/2 bg-gray-100 dark:bg-darkest shadow rounded p-4 ring ring-blue-400 ring-opacity-75"},[n("h3",{staticClass:"flex items-center text-2xl font-bold mb-2"},[n("span",[t._v("Pro")]),t.user&&t.subscribed?n("span",{staticClass:"bg-gray-200 dark:bg-gray-900 text-base font-normal py-0.5 px-2 rounded ml-2"},[t._v("Active")]):t._e()]),n("p",{staticClass:"mb-4"},[t._v("For professionals, authors, and content creators")]),t._m(1),t.user?t._e():n("div",{staticClass:"flex flex-col gap-2 mb-4"},[n("button",{staticClass:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400",attrs:{disabled:!t.online},on:{click:t.signInGithubPro}},[n("GitHubIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"action ml-3"},[t._v("Continue with GitHub")])],1),n("button",{staticClass:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400",attrs:{disabled:!t.online},on:{click:t.signInGooglePro}},[n("GoogleIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"action ml-3"},[t._v("Continue with Google")])],1),n("button",{staticClass:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400",attrs:{disabled:!t.online},on:{click:t.signInTwitterPro}},[n("TwitterIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"action ml-3"},[t._v("Continue with Twitter")])],1)]),t.user&&!t.subscribed?n("div",{staticClass:"flex flex-col gap-2 mb-4"},[n("button",{staticClass:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400",attrs:{disabled:!t.online},on:{click:t.upgrade}},[n("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"}})]),n("span",{staticClass:"action ml-3"},[t._v("Upgrade Subscription")])])]):t._e(),n("p",{staticClass:"font-bold mb-4"},[t._v("What's included?")]),n("ul",[n("li",{staticClass:"flex gap-4"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),t._m(2)]),n("li",{staticClass:"flex gap-4"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),n("span",[t._v("Unlimited public docs")])]),n("li",{staticClass:"flex gap-4"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),n("span",[t._v("Unlimited attachments (coming soon)")])]),n("li",{staticClass:"flex gap-4"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),t._m(3)]),t._m(4)])])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"text-4xl font-bold mb-4"},[t._v("$0 "),n("span",{staticClass:"text-base font-normal"},[t._v("/mo")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"text-4xl font-bold mb-4"},[n("s",{staticClass:"font-normal text-3xl"},[t._v("$7")]),t._v(" "),n("span",{staticClass:"text-blue-400 ml-1"},[t._v("$4")]),t._v(" "),n("span",{staticClass:"text-base font-normal"},[t._v("/mo")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t._v("Everything in "),n("span",{staticClass:"font-bold"},[t._v("Personal")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t._v("Unlimited cross-posting "),n("sup",[t._v("1")]),t._v(" (coming soon)")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"mt-4 text-sm"},[n("span",[n("sup",[t._v("1")]),t._v(" Publish directly to dev.to, hashnode.com, and medium.com")])])}],!1,Cc,null,null,null);function Cc(t){for(let e in bc)this[e]=bc[e]}const kc={};var Ec=T({name:"Account",components:{Providers:rc,Subscriptions:function(){return xc.exports}()},computed:{online(){return this.$store.state.online},user(){return this.$store.state.auth.user}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container flex flex-col mx-auto p-4 md:px-16 md:py-8"},[n("h2",{staticClass:"text-4xl mb-1"},[t._v("Account")]),n("p",{staticClass:"text-gray-500 mb-8"},[t._v("Manage your account settings and subscriptions")]),t.user?t._e():n("p",{staticClass:"mb-4"},[t._v("By default, documents are only stored in your browser. This means an action such as "),n("strong",[t._v("clearing your history could erase everything")]),t._v(". To protect your data, you should sign up for an account.")]),t.user?n("section",{staticClass:"mb-8"},[n("h3",{staticClass:"text-3xl mb-4"},[t._v("Status")]),t.online?n("div",{staticClass:"flex items-center"},[n("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}})]),n("span",{staticClass:"ml-2"},[t._v("Docs are currently syncing to your account.")])]):n("div",{staticClass:"flex items-center text-red-400"},[n("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}})]),n("span",{staticClass:"ml-2"},[t._v("You are currently offline. Docs will continue syncing when you go online.")])])]):t._e(),n("section",{staticClass:"mb-8"},[t.user?n("h3",{staticClass:"text-3xl mb-4"},[t._v("Subscriptions")]):t._e(),n("Subscriptions")],1),t.user?n("section",{staticClass:"mb-8"},[n("h3",{staticClass:"text-3xl mb-4"},[t._v("Providers")]),n("Providers")],1):t._e()])}),[],!1,Tc,null,null,null);function Tc(t){for(let e in kc)this[e]=kc[e]}var Sc=function(){return Ec.exports}();const Ac={};var Mc=T({},(function(){var t=this;t.$createElement;return t._self._c,t._m(0)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"md:container md:mx-auto p-4 md:px-16 md:py-8"},[n("div",[n("h2",{staticClass:"text-4xl mb-4"},[t._v("Privacy Policy")]),n("p",{staticClass:"mb-2"},[t._v("David R. Myers built the Octo app as a Freemium app. This Service is provided by David R. Myers at no cost and is intended for use as is.")]),n("p",{staticClass:"mb-2"},[t._v("This page is used to inform visitors regarding my policies with the collection, use, and disclosure of Personal Information if anyone decided to use my Service.")]),n("p",{staticClass:"mb-2"},[t._v("If you choose to use my Service, then you agree to the collection and use of information in relation to this policy. The Personal Information that I collect is used for providing and improving the Service. I will not use or share your information with anyone except as described in this Privacy Policy.")]),n("p",{staticClass:"mb-2"},[t._v("The terms used in this Privacy Policy have the same meanings as in our Terms and Conditions, which is accessible at Octo unless otherwise defined in this Privacy Policy.")]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[t._v("Information Collection and Use")]),n("p",{staticClass:"mb-2"},[t._v("For a better experience, while using our Service, I may require you to provide us with certain personally identifiable information, including but not limited to email.")]),n("p",{staticClass:"mb-2"},[t._v("The app does use third party services that may collect information used to identify you.")]),n("p",{staticClass:"mb-2"},[t._v("Link to privacy policy of third party service providers used by the app")]),n("ul",{staticClass:"list-disc list-inside mb-2"},[n("li",[n("a",{attrs:{href:"https://firebase.google.com/support/privacy/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Firebase Crashlytics")])]),n("li",[n("a",{attrs:{href:"https://usefathom.com/privacy/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fathom Analytics")])]),n("li",[n("a",{attrs:{href:"https://sentry.io/privacy/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Sentry")])])]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[t._v("Log Data")]),n("p",{staticClass:"mb-2"},[t._v('I want to inform you that whenever you use my Service, in a case of an error in the app I collect data and information (through third party products) on your phone called Log Data. This Log Data may include information such as your device Internet Protocol ("IP") address, device name, operating system version, the configuration of the app when utilizing my Service, the time and date of your use of the Service, and other statistics.')]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[t._v("Cookies")]),n("p",{staticClass:"mb-2"},[t._v("Cookies are files with a small amount of data that are commonly used as anonymous unique identifiers. These are sent to your browser from the websites that you visit and are stored on your device's internal memory.")]),n("p",{staticClass:"mb-2"},[t._v('This Service does not use these "cookies" explicitly. However, the app may use third party code and libraries that use "cookies" to collect information and improve their services. You have the option to either accept or refuse these cookies and know when a cookie is being sent to your device. If you choose to refuse our cookies, you may not be able to use some portions of this Service.')]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[t._v("Service Providers")]),n("p",{staticClass:"mb-2"},[t._v("I may employ third-party companies and individuals due to the following reasons:")]),n("ul",{staticClass:"list-disc list-inside mb-2"},[n("li",[t._v("To facilitate our Service;")]),n("li",[t._v("To provide the Service on our behalf;")]),n("li",[t._v("To perform Service-related services; or")]),n("li",[t._v("To assist us in analyzing how our Service is used.")])]),n("p",{staticClass:"mb-2"},[t._v("I want to inform users of this Service that these third parties have access to your Personal Information. The reason is to perform the tasks assigned to them on our behalf. However, they are obligated not to disclose or use the information for any other purpose.")]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[t._v("Security")]),n("p",{staticClass:"mb-2"},[t._v("I value your trust in providing us your Personal Information, thus we are striving to use commercially acceptable means of protecting it. But remember that no method of transmission over the internet, or method of electronic storage is 100% secure and reliable, and I cannot guarantee its absolute security.")]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[t._v("Links to Other Sites")]),n("p",{staticClass:"mb-2"},[t._v("This Service may contain links to other sites. If you click on a third-party link, you will be directed to that site. Note that these external sites are not operated by me. Therefore, I strongly advise you to review the Privacy Policy of these websites. I have no control over and assume no responsibility for the content, privacy policies, or practices of any third-party sites or services.")]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[t._v("Childrenâ€™s Privacy")]),n("p",{staticClass:"mb-2"},[t._v("These Services do not address anyone under the age of 13. I do not knowingly collect personally identifiable information from children under 13 years of age. In the case I discover that a child under 13 has provided me with personal information, I immediately delete this from our servers. If you are a parent or guardian and you are aware that your child has provided us with personal information, please contact me so that I will be able to do necessary actions.")]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[t._v("Changes to This Privacy Policy")]),n("p",{staticClass:"mb-2"},[t._v("I may update our Privacy Policy from time to time. Thus, you are advised to review this page periodically for any changes. I will notify you of any changes by posting the new Privacy Policy on this page.")]),n("p",{staticClass:"mb-2"},[t._v("This policy is effective as of March 2nd, 2021.")]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[t._v("Contact Us")]),n("p",{staticClass:"mb-2"},[t._v("If you have any questions or suggestions about my Privacy Policy, do not hesitate to contact me at "),n("a",{attrs:{href:"mailto:david@octo.app",target:"_blank",rel:"noopener noreferrer"}},[t._v("david@octo.app")]),t._v(".")]),n("p",{staticClass:"mb-2"},[t._v("This privacy policy page was created at "),n("a",{attrs:{href:"https://privacypolicytemplate.net",target:"_blank",rel:"noopener noreferrer"}},[t._v("privacypolicytemplate.net")]),t._v(" and modified/generated by "),n("a",{attrs:{href:"https://app-privacy-policy-generator.nisrulz.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("App Privacy Policy Generator")])])])])}],!1,Dc,null,null,null);function Dc(t){for(let e in Ac)this[e]=Ac[e]}var Ic=function(){return Mc.exports}();const Oc={};var Nc=T({},(function(){var t=this;t.$createElement;return t._self._c,t._m(0)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"md:container md:mx-auto p-4 md:px-16 md:py-8"},[n("div",[n("h2",{staticClass:"text-4xl mb-4"},[t._v("Terms & Conditions")]),n("p",{staticClass:"mb-2"},[t._v("By downloading or using the app, these terms will automatically apply to you â€“ you should make sure therefore that you read them carefully before using the app. Youâ€™re not allowed to copy, or modify the app, any part of the app, or our trademarks in any way. Youâ€™re not allowed to attempt to extract the source code of the app, and you also shouldnâ€™t try to translate the app into other languages, or make derivative versions. The app itself, and all the trade marks, copyright, database rights and other intellectual property rights related to it, still belong to David R. Myers.")]),n("p",{staticClass:"mb-2"},[t._v("David R. Myers is committed to ensuring that the app is as useful and efficient as possible. For that reason, we reserve the right to make changes to the app or to charge for its services, at any time and for any reason. We will never charge you for the app or its services without making it very clear to you exactly what youâ€™re paying for.")]),n("p",{staticClass:"mb-2"},[t._v("The Octo app stores and processes personal data that you have provided to us, in order to provide my Service. Itâ€™s your responsibility to keep your phone and access to the app secure. We therefore recommend that you do not jailbreak or root your phone, which is the process of removing software restrictions and limitations imposed by the official operating system of your device. It could make your phone vulnerable to malware/viruses/malicious programs, compromise your phoneâ€™s security features and it could mean that the Octo app wonâ€™t work properly or at all.")]),n("p",{staticClass:"mb-2"},[t._v("The app does use third party services that declare their own Terms and Conditions.")]),n("p",{staticClass:"mb-2"},[t._v("Link to Terms and Conditions of third party service providers used by the app")]),n("ul",{staticClass:"list-disc list-inside mb-2"},[n("li",[n("a",{attrs:{href:"https://firebase.google.com/terms/crashlytics"}},[t._v("Firebase Crashlytics")])]),n("li",[n("a",{attrs:{href:"https://usefathom.com/terms/"}},[t._v("Fathom Analytics")])]),n("li",[n("a",{attrs:{href:"https://sentry.io/terms/"}},[t._v("Sentry")])])]),n("p",{staticClass:"mb-2"},[t._v("You should be aware that there are certain things that David R. Myers will not take responsibility for. Certain functions of the app will require the app to have an active internet connection. The connection can be Wi-Fi, or provided by your mobile network provider, but David R. Myers cannot take responsibility for the app not working at full functionality if you donâ€™t have access to Wi-Fi, and you donâ€™t have any of your data allowance left.")]),n("p",{staticClass:"mb-2"},[t._v("If youâ€™re using the app outside of an area with Wi-Fi, you should remember that your terms of the agreement with your mobile network provider will still apply. As a result, you may be charged by your mobile provider for the cost of data for the duration of the connection while accessing the app, or other third party charges. In using the app, youâ€™re accepting responsibility for any such charges, including roaming data charges if you use the app outside of your home territory (i.e. region or country) without turning off data roaming. If you are not the bill payer for the device on which youâ€™re using the app, please be aware that we assume that you have received permission from the bill payer for using the app.")]),n("p",{staticClass:"mb-2"},[t._v("Along the same lines, David R. Myers cannot always take responsibility for the way you use the app i.e. You need to make sure that your device stays charged â€“ if it runs out of battery and you canâ€™t turn it on to avail the Service, David R. Myers cannot accept responsibility.")]),n("p",{staticClass:"mb-2"},[t._v("With respect to David R. Myersâ€™s responsibility for your use of the app, when youâ€™re using the app, itâ€™s important to bear in mind that although we endeavour to ensure that it is updated and correct at all times, we do rely on third parties to provide information to us so that we can make it available to you. David R. Myers accepts no liability for any loss, direct or indirect, you experience as a result of relying wholly on this functionality of the app.")]),n("p",{staticClass:"mb-2"},[t._v("At some point, we may wish to update the app. The app is currently available on Android, iOS & KaiOS â€“ the requirements for system(and for any additional systems we decide to extend the availability of the app to) may change, and youâ€™ll need to download the updates if you want to keep using the app. David R. Myers does not promise that it will always update the app so that it is relevant to you and/or works with the Android, iOS & KaiOS version that you have installed on your device. However, you promise to always accept updates to the application when offered to you, We may also wish to stop providing the app, and may terminate use of it at any time without giving notice of termination to you. Unless we tell you otherwise, upon any termination, (a) the rights and licenses granted to you in these terms will end; (b) you must stop using the app, and (if needed) delete it from your device.")]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[t._v("Changes to This Terms and Conditions")]),n("p",{staticClass:"mb-2"},[t._v("I may update our Terms and Conditions from time to time. Thus, you are advised to review this page periodically for any changes. I will notify you of any changes by posting the new Terms and Conditions on this page.")]),n("p",{staticClass:"mb-2"},[t._v("These terms and conditions are effective as of March 2nd, 2021.")]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[t._v("Contact Us")]),n("p",{staticClass:"mb-2"},[t._v("If you have any questions or suggestions about my Terms and Conditions, do not hesitate to contact me at "),n("a",{attrs:{href:"mailto:david@octo.app"}},[t._v("david@octo.app")]),t._v(".")]),n("p",{staticClass:"mb-2"},[t._v("This Terms and Conditions page was generated by "),n("a",{attrs:{href:"https://app-privacy-policy-generator.nisrulz.com/"}},[t._v("App Privacy Policy Generator")])])])])}],!1,zc,null,null,null);function zc(t){for(let e in Oc)this[e]=Oc[e]}var Rc=function(){return Nc.exports}();w.use(x);const Pc=new x({mode:"history",routes:[{path:"/index.html",redirect:{name:"dashboard"}},{path:"/",name:"editor",component:pe,children:[{path:"",redirect:{name:"dashboard"}},{path:"account",name:"account",component:Sc},{path:"documents",name:"documents",component:Ae},{path:"documents/new",name:"dashboard",component:Ct,props:!0,beforeEnter(t,e,n){wc.dispatch("SET_DOCUMENT",{id:null}),wc.state.showWelcome?fetch("/welcome.md").then((t=>t.text())).then((t=>{const e=new gt({text:t});wc.dispatch("SET_SHOW_WELCOME",!1),wc.dispatch("ADD_DOCUMENT",e),localStorage.setItem("octo/welcome/v1","done"),n({name:"document",params:{id:e.id}})})).catch((t=>{n()})):n()}},{path:"documents/export",name:"export",component:Le},{path:"documents/import",name:"import",component:cl},{path:"documents/actionable",name:"actionable",component:Ae,props:{actionable:!0}},{path:"documents/discarded",name:"discarded",component:Ae,props:{discarded:!0}},{path:"documents/recent",name:"recent",component:Ae,props:{recent:!0}},{path:"documents/untagged",name:"untagged",component:Ae,props:{untagged:!0}},{path:"documents/daily",name:"daily",component:St,props:!0},{path:"documents/:id/meta",name:"document-meta",component:ue,props:!0,beforeEnter(t,e,n){wc.dispatch("SET_DOCUMENT",{id:t.params.id}),n()}},{path:"documents/:id",name:"document",component:Ct,props:!0,beforeEnter(t,e,n){wc.dispatch("SET_DOCUMENT",{id:t.params.id}),n()}},{path:"quick-action",name:"quick-action",component:fl},{path:"menu",name:"menu",component:te},{path:"shared/:id",name:"shared",component:Ct,props:{default:!0,readonly:!0}},{path:"context",name:"context",component:Ne},{path:"tags/:tag",name:"tag",component:Ae,props:!0},{path:"tags",name:"tags",component:vl,props:!0},{path:"settings",name:"settings",component:Bl},{path:"graph",name:"graph",component:ol},{path:"privacy-policy",name:"privacy_policy",component:Ic},{path:"terms-and-conditions",name:"terms_and_conditions",component:Rc}]}]}),Lc=t=>{Pc.push(t).catch((t=>{if("NavigationDuplicated"!==t.name)throw t}))};!function(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisterError:o}=t;let a,s;if("serviceWorker"in navigator){a=new C("/sw.js",{scope:"/"}),a.addEventListener("activated",(t=>{t.isUpdate||null==r||r()}));{const t=()=>{null==n||n()};a.addEventListener("waiting",t),a.addEventListener("externalwaiting",t)}a.register({immediate:e}).then((t=>{s=t,null==i||i(t)})).catch((t=>{null==o||o(t)}))}}({immediate:!0,onOfflineReady(){},onNeedRefresh(){window.dispatchEvent(new Event("swupdated"))},onRegistered(t){},onRegisterError(t){}});class Uc{constructor(){this.components=new Set}registerComponent({component:t,container:e,position:n}){this.components.add({component:t,container:e,position:n})}}var jc=new class{constructor(){this.packages=new Set,this.components=new Set}emit(t,e){this.packages.forEach((n=>n.emit(t,e)))}getComponents(t,e){return[...this.components].filter((n=>n.container===t&&n.position===e)).map((({component:t})=>t))}register(t){const e=new Uc;t.register(e),e.components.forEach((t=>this.components.add(t))),this.packages.add(t)}};w.prototype.$packageManager=jc,w.use(E,{breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1/0}}),null===localStorage.getItem("octo/welcome/v1")&&wc.dispatch("SET_SHOW_WELCOME",!0),w.component("Extendable",U),new w({router:Pc,store:wc,render:t=>t(z),async created(){window.addEventListener("offline",(()=>{this.$store.dispatch("SET_OFFLINE")})),window.addEventListener("online",(()=>{this.$store.dispatch("SET_ONLINE")})),navigator.onLine||await this.$store.dispatch("SET_OFFLINE"),/Mac|iPod|iPhone|iPad/.test(navigator.platform)&&this.$store.dispatch("SET_MOD_KEY","âŒ˜ cmd")}}).$mount("#app"),j.onAuthStateChanged((t=>{wc.dispatch("SET_USER",{user:t||null})}));
