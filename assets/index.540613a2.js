const g1=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}};g1();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},m1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},S0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(w0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):m1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw Error();const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},v1=function(t){const e=w0(t);return S0.encodeByteArray(e,!0)},uu=function(t){return v1(t).replace(/\./g,"")},y1=function(t){try{return S0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[uu(JSON.stringify(n)),uu(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A0(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function I0(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function C0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b1(){return Et().indexOf("Electron/")>=0}function O0(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _1(){return Et().indexOf("MSAppHost/")>=0}function w1(){return typeof indexedDB=="object"}function S1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="FirebaseError";class xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=T1,Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ha.prototype.create)}}class ha{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?A1(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new xr(i,a,r)}}function A1(t,e){return t.replace(I1,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const I1=/\{\$([^}]+)}/g;function C1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if($m(s)&&$m(o)){if(!Mo(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $m(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function O1(t,e){const n=new R1(t,e);return n.subscribe.bind(n)}class R1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");D1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=sh),i.error===void 0&&(i.error=sh),i.complete===void 0&&(i.complete=sh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D1(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class Sr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new E1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P1(e))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vr){return this.instances.has(e)}getOptions(e=Vr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vr){return this.component?this.component.multipleInstances?e:Vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k1(t){return t===Vr?void 0:t}function P1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new x1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const M1={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},$1=Me.INFO,L1={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},F1=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=L1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xd{constructor(e){this.name=e,this._logLevel=$1,this._logHandler=F1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const B1=(t,e)=>e.some(n=>t instanceof n);let Lm,Fm;function U1(){return Lm||(Lm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j1(){return Fm||(Fm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R0=new WeakMap,Pf=new WeakMap,D0=new WeakMap,oh=new WeakMap,Qd=new WeakMap;function V1(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(mr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&R0.set(n,t)}).catch(()=>{}),Qd.set(e,t),e}function K1(t){if(Pf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Pf.set(t,e)}let Nf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||D0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function z1(t){Nf=t(Nf)}function W1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ah(this),e,...n);return D0.set(r,e.sort?e.sort():[e]),mr(r)}:j1().includes(t)?function(...e){return t.apply(ah(this),e),mr(R0.get(this))}:function(...e){return mr(t.apply(ah(this),e))}}function H1(t){return typeof t=="function"?W1(t):(t instanceof IDBTransaction&&K1(t),B1(t,U1())?new Proxy(t,Nf):t)}function mr(t){if(t instanceof IDBRequest)return V1(t);if(oh.has(t))return oh.get(t);const e=H1(t);return e!==t&&(oh.set(t,e),Qd.set(e,t)),e}const ah=t=>Qd.get(t);function q1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=mr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(mr(o.result),c.oldVersion,c.newVersion,mr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const G1=["get","getKey","getAll","getAllKeys","count"],Y1=["put","add","delete","clear"],ch=new Map;function Bm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ch.get(e))return ch.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Y1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||G1.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return ch.set(e,s),s}z1(t=>({...t,get:(e,n,r)=>Bm(e,n)||t.get(e,n,r),has:(e,n)=>!!Bm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Q1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Q1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mf="@firebase/app",Um="0.7.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new Xd("@firebase/app"),J1="@firebase/app-compat",Z1="@firebase/analytics-compat",eO="@firebase/analytics",tO="@firebase/app-check-compat",nO="@firebase/app-check",rO="@firebase/auth",iO="@firebase/auth-compat",sO="@firebase/database",oO="@firebase/database-compat",aO="@firebase/functions",cO="@firebase/functions-compat",uO="@firebase/installations",lO="@firebase/installations-compat",hO="@firebase/messaging",fO="@firebase/messaging-compat",dO="@firebase/performance",pO="@firebase/performance-compat",gO="@firebase/remote-config",mO="@firebase/remote-config-compat",vO="@firebase/storage",yO="@firebase/storage-compat",EO="@firebase/firestore",bO="@firebase/firestore-compat",_O="firebase",wO="9.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="[DEFAULT]",SO={[Mf]:"fire-core",[J1]:"fire-core-compat",[eO]:"fire-analytics",[Z1]:"fire-analytics-compat",[nO]:"fire-app-check",[tO]:"fire-app-check-compat",[rO]:"fire-auth",[iO]:"fire-auth-compat",[sO]:"fire-rtdb",[oO]:"fire-rtdb-compat",[aO]:"fire-fn",[cO]:"fire-fn-compat",[uO]:"fire-iid",[lO]:"fire-iid-compat",[hO]:"fire-fcm",[fO]:"fire-fcm-compat",[dO]:"fire-perf",[pO]:"fire-perf-compat",[gO]:"fire-rc",[mO]:"fire-rc-compat",[vO]:"fire-gcs",[yO]:"fire-gcs-compat",[EO]:"fire-fst",[bO]:"fire-fst-compat","fire-js":"fire-js",[_O]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=new Map,$f=new Map;function TO(t,e){try{t.container.addComponent(e)}catch(n){Jd.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oi(t){const e=t.name;if($f.has(e))return Jd.debug(`There were multiple attempts to register component ${e}.`),!1;$f.set(e,t);for(const n of lu.values())TO(n,t);return!0}function da(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},ai=new ha("app","Firebase",AO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=wO;function CO(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:x0,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw ai.create("bad-app-name",{appName:String(r)});const i=lu.get(r);if(i){if(Mo(t,i.options)&&Mo(n,i.config))return i;throw ai.create("duplicate-app",{appName:r})}const s=new N1(r);for(const a of $f.values())s.addComponent(a);const o=new IO(t,n,s);return lu.set(r,o),o}function Zd(t=x0){const e=lu.get(t);if(!e)throw ai.create("no-app",{appName:t});return e}function Rn(t,e,n){var r;let i=(r=SO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jd.warn(a.join(" "));return}oi(new Sr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="firebase-heartbeat-database",RO=1,$o="firebase-heartbeat-store";let uh=null;function k0(){return uh||(uh=q1(OO,RO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore($o)}}}).catch(t=>{throw ai.create("storage-open",{originalErrorMessage:t.message})})),uh}async function DO(t){var e;try{return(await k0()).transaction($o).objectStore($o).get(P0(t))}catch(n){throw ai.create("storage-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message})}}async function jm(t,e){var n;try{const i=(await k0()).transaction($o,"readwrite");return await i.objectStore($o).put(e,P0(t)),i.done}catch(r){throw ai.create("storage-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message})}}function P0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=1024,kO=30*24*60*60*1e3;class PO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Vm();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=kO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Vm(),{heartbeatsToSend:n,unsentEntries:r}=NO(this._heartbeatsCache.heartbeats),i=uu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Vm(){return new Date().toISOString().substring(0,10)}function NO(t,e=xO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Km(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Km(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w1()?S1().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await DO(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Km(t){return uu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){oi(new Sr("platform-logger",e=>new X1(e),"PRIVATE")),oi(new Sr("heartbeat",e=>new PO(e),"PRIVATE")),Rn(Mf,Um,t),Rn(Mf,Um,"esm2017"),Rn("fire-js","")}$O("");function ep(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function N0(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LO=N0,M0=new ha("auth","Firebase",N0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=new Xd("@firebase/auth");function Nc(t,...e){zm.logLevel<=Me.ERROR&&zm.error(`Auth (${Os}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t,...e){throw tp(t,...e)}function Dn(t,...e){return tp(t,...e)}function $0(t,e,n){const r=Object.assign(Object.assign({},LO()),{[e]:n});return new ha("auth","Firebase",r).create(e,{appName:t.name})}function FO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Pn(t,"argument-error"),$0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return M0.create(t,...e)}function de(t,e,...n){if(!t)throw tp(e,...n)}function Kn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nc(e),new Error(e)}function Gn(t,e){t||Kn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=new Map;function zn(t){Gn(t instanceof Function,"Expected a class definition");let e=Wm.get(t);return e?(Gn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Wm.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t,e){const n=da(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Mo(s,e!=null?e:{}))return i;Pn(i,"already-initialized")}return n.initialize({options:e})}function UO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jO(){return Hm()==="http:"||Hm()==="https:"}function Hm(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jO()||I0()||"connection"in navigator)?navigator.onLine:!0}function KO(){if(typeof navigator=="undefined")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gn(n>e,"Short delay should be less than long delay!"),this.isMobile=A0()||C0()}get(){return VO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t,e){Gn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;Kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;Kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;Kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new pa(3e4,6e4);function HO(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qu(t,e,n,r,i={}){return F0(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=fa(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),L0.fetch()(B0(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function F0(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zO),e);try{const i=new GO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ha(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ha(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ha(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ha(t,"user-disabled",o);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw $0(t,l,u);Pn(t,l)}}catch(i){if(i instanceof xr)throw i;Pn(t,"network-request-failed")}}async function qO(t,e,n,r,i={}){const s=await qu(t,e,n,r,i);return"mfaPendingCredential"in s&&Pn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function B0(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?np(t.config,i):`${t.config.apiScheme}://${i}`}class GO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dn(this.auth,"network-request-failed")),WO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ha(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Dn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(t,e){return qu(t,"POST","/v1/accounts:delete",e)}async function XO(t,e){return qu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QO(t,e=!1){const n=At(t),r=await n.getIdToken(e),i=rp(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:lo(lh(i.auth_time)),issuedAtTime:lo(lh(i.iat)),expirationTime:lo(lh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function lh(t){return Number(t)*1e3}function rp(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const s=y1(r);return s?JSON.parse(s):(Nc("Failed to decode base64 JWT payload"),null)}catch(s){return Nc("Caught error parsing JWT payload as JSON",(e=s)===null||e===void 0?void 0:e.toString()),null}}function JO(t){const e=rp(t);return de(e,"internal-error"),de(typeof e.exp!="undefined","internal-error"),de(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xr&&ZO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ZO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lo(this.lastLoginAt),this.creationTime=lo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Lo(t,XO(n,{idToken:r}));de(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?rR(s.providerUserInfo):[],a=nR(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),l=c?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new U0(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,h)}async function tR(t){const e=At(t);await hu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nR(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rR(t){return t.map(e=>{var{providerId:n}=e,r=ep(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(t,e){const n=await F0(t,{},async()=>{const r=fa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=B0(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",L0.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken!="undefined","internal-error"),de(typeof e.refreshToken!="undefined","internal-error");const n="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):JO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return de(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await iR(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Fo;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return Kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,e){de(typeof t=="string"||typeof t=="undefined","internal-error",{appName:e})}class Xr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ep(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new U0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Lo(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QO(this,e)}reload(){return tR(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Xr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Lo(this,YO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,A=(u=n.createdAt)!==null&&u!==void 0?u:void 0,R=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:K,emailVerified:j,isAnonymous:k,providerData:N,stsTokenManager:b}=n;de(K&&b,e,"internal-error");const O=Fo.fromJSON(this.name,b);de(typeof K=="string",e,"internal-error"),nr(h,e.name),nr(f,e.name),de(typeof j=="boolean",e,"internal-error"),de(typeof k=="boolean",e,"internal-error"),nr(p,e.name),nr(v,e.name),nr(C,e.name),nr(S,e.name),nr(A,e.name),nr(R,e.name);const X=new Xr({uid:K,auth:e,email:f,emailVerified:j,displayName:h,isAnonymous:k,photoURL:v,phoneNumber:p,tenantId:C,stsTokenManager:O,createdAt:A,lastLoginAt:R});return N&&Array.isArray(N)&&(X.providerData=N.map(se=>Object.assign({},se))),S&&(X._redirectEventId=S),X}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fo;i.updateFromServerResponse(n);const s=new Xr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hu(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}j0.type="NONE";const qm=j0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t,e,n){return`firebase:${t}:${e}:${n}`}class Gi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Mc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Mc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Gi(zn(qm),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||zn(qm);const o=Mc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=await u._get(o);if(l){const h=Xr._fromJSON(e,l);u!==s&&(a=h),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Gi(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Gi(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(z0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(H0(e))return"Blackberry";if(q0(e))return"Webos";if(ip(e))return"Safari";if((e.includes("chrome/")||K0(e))&&!e.includes("edge/"))return"Chrome";if(W0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function V0(t=Et()){return/firefox\//i.test(t)}function ip(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function K0(t=Et()){return/crios\//i.test(t)}function z0(t=Et()){return/iemobile/i.test(t)}function W0(t=Et()){return/android/i.test(t)}function H0(t=Et()){return/blackberry/i.test(t)}function q0(t=Et()){return/webos/i.test(t)}function Gu(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sR(t=Et()){var e;return Gu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oR(){return O0()&&document.documentMode===10}function G0(t=Et()){return Gu(t)||W0(t)||q0(t)||H0(t)||/windows phone/i.test(t)||z0(t)}function aR(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(t,e=[]){let n;switch(t){case"Browser":n=Gm(Et());break;case"Worker":n=`${Gm(Et())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Os}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ym(this),this.idTokenSubscription=new Ym(this),this.beforeStateQueue=new cR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=M0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Gi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c==null?void 0:c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await hu(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?At(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(zn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ha("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zn(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await Gi.create(this,[zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return de(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Y0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function ga(t){return At(t)}class Ym{constructor(e){this.auth=e,this.observer=null,this.addObserver=O1(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function lR(t,e,n){const r=ga(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=X0(e),{host:o,port:a}=hR(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||fR()}function X0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hR(t){const e=X0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Xm(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Xm(o)}}}function Xm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kn("not implemented")}_getIdTokenResponse(e){return Kn("not implemented")}_linkToIdToken(e,n){return Kn("not implemented")}_getReauthenticationResolver(e){return Kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yi(t,e){return qO(t,"POST","/v1/accounts:signInWithIdp",HO(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="http://localhost";class ci extends Q0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ci(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ep(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ci(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Yi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yi(e,n)}buildRequest(){const e={requestUri:dR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends sp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends ma{constructor(){super("facebook.com")}static credential(e){return ci._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends ma{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ci._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return lr.credential(n,r)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends ma{constructor(){super("github.com")}static credential(e){return ci._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.GITHUB_SIGN_IN_METHOD="github.com";hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends ma{constructor(){super("twitter.com")}static credential(e,n){return ci._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fr.credential(n,r)}catch{return null}}}fr.TWITTER_SIGN_IN_METHOD="twitter.com";fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Xr._fromIdTokenResponse(e,r,i),o=Qm(r);return new os({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Qm(r);return new os({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Qm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends xr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new fu(e,n,r,i)}}function J0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?fu._fromErrorAndOperation(t,s,e,r):s})}async function pR(t,e,n=!1){const r=await Lo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return os._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const o=await Lo(t,J0(i,s,e,t),n);de(o.idToken,i,"internal-error");const a=rp(o.idToken);de(a,i,"internal-error");const{sub:c}=a;return de(t.uid===c,i,"user-mismatch"),os._forOperation(t,s,o)}catch(o){throw((r=o)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&Pn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(t,e,n=!1){const r="signIn",i=await J0(t,r,e),s=await os._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}const du="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(du,"1"),this.storage.removeItem(du),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(){const t=Et();return ip(t)||Gu(t)}const yR=1e3,ER=10;class e_ extends Z0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=vR()&&aR(),this.fallbackToPolling=G0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);oR()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ER):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},yR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}e_.type="LOCAL";const bR=e_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_ extends Z0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}t_.type="SESSION";const n_=t_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Yu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await _R(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=op("",20);i.port1.start();const l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return window}function SR(t){xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(){return typeof xn().WorkerGlobalScope!="undefined"&&typeof xn().importScripts=="function"}async function TR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function IR(){return r_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="firebaseLocalStorageDb",CR=1,pu="firebaseLocalStorage",s_="fbase_key";class va{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xu(t,e){return t.transaction([pu],e?"readwrite":"readonly").objectStore(pu)}function OR(){const t=indexedDB.deleteDatabase(i_);return new va(t).toPromise()}function Ff(){const t=indexedDB.open(i_,CR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pu,{keyPath:s_})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pu)?e(r):(r.close(),await OR(),e(await Ff()))})})}async function Jm(t,e,n){const r=Xu(t,!0).put({[s_]:e,value:n});return new va(r).toPromise()}async function RR(t,e){const n=Xu(t,!1).get(e),r=await new va(n).toPromise();return r===void 0?null:r.value}function Zm(t,e){const n=Xu(t,!0).delete(e);return new va(n).toPromise()}const DR=800,xR=3;class o_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ff(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yu._getInstance(IR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await TR(),!this.activeServiceWorker)return;this.sender=new wR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ff();return await Jm(e,du,"1"),await Zm(e,du),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Jm(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Xu(i,!1).getAll();return new va(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o_.type="LOCAL";const kR=o_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function NR(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Dn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",PR().appendChild(r)})}function MR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new pa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t,e){return e?zn(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap extends Q0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $R(t){return mR(t.auth,new ap(t),t.bypassAuthState)}function LR(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),gR(n,new ap(t),t.bypassAuthState)}async function FR(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),pR(n,new ap(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $R;case"linkViaPopup":case"linkViaRedirect":return FR;case"reauthViaPopup":case"reauthViaRedirect":return LR;default:Pn(this.auth,"internal-error")}}resolve(e){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=new pa(2e3,1e4);class ji extends c_{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ji.currentPopupAction&&ji.currentPopupAction.cancel(),ji.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Gn(this.filter.length===1,"Popup operations only handle one event");const e=op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ji.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,BR.get())};e()}}ji.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="pendingRedirect",$c=new Map;class jR extends c_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const r=await VR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VR(t,e){const n=l_(e),r=u_(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function KR(t,e){return u_(t)._set(l_(e),"true")}function zR(t,e){$c.set(t._key(),e)}function u_(t){return zn(t._redirectPersistence)}function l_(t){return Mc(UR,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(t,e,n){return WR(t,e,n)}async function WR(t,e,n){const r=ga(t);FO(t,e,sp);const i=a_(r,n);return await KR(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function K9(t,e){return await ga(t)._initializationPromise,h_(t,e,!1)}async function h_(t,e,n=!1){const r=ga(t),i=a_(r,e),o=await new jR(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=10*60*1e3;class qR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!f_(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HR&&this.cachedEventUids.clear(),this.cachedEventUids.has(ev(e))}saveEventToCache(e){this.cachedEventUids.add(ev(e)),this.lastProcessedEventTime=Date.now()}}function ev(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function f_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return f_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(t,e={}){return qu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QR=/^https?/;async function JR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await YR(t);for(const n of e)try{if(ZR(n))return}catch{}Pn(t,"unauthorized-domain")}function ZR(t){const e=Lf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!QR.test(n))return!1;if(XR.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=new pa(3e4,6e4);function tv(){const t=xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tD(t){return new Promise((e,n)=>{var r,i,s;function o(){tv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tv(),n(Dn(t,"network-request-failed"))},timeout:eD.get()})}if(!((i=(r=xn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xn().gapi)===null||s===void 0)&&s.load)o();else{const a=MR("iframefcb");return xn()[a]=()=>{gapi.load?o():n(Dn(t,"network-request-failed"))},NR(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Lc=null,e})}let Lc=null;function nD(t){return Lc=Lc||tD(t),Lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new pa(5e3,15e3),iD="__/auth/iframe",sD="emulator/auth/iframe",oD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cD(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?np(e,sD):`https://${t.config.authDomain}/${iD}`,r={apiKey:e.apiKey,appName:t.name,v:Os},i=aD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${fa(r).slice(1)}`}async function uD(t){const e=await nD(t),n=xn().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:cD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oD,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Dn(t,"network-request-failed"),a=xn().setTimeout(()=>{s(o)},rD.get());function c(){xn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hD=500,fD=600,dD="_blank",pD="http://localhost";class nv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gD(t,e,n,r=hD,i=fD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},lD),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Et().toLowerCase();n&&(a=K0(u)?dD:n),V0(u)&&(e=e||pD,c.scrollbars="yes");const l=Object.entries(c).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if(sR(u)&&a!=="_self")return mD(e||"",a),new nv(null);const h=window.open(e||"",a,l);de(h,t,"popup-blocked");try{h.focus()}catch{}return new nv(h)}function mD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="__/auth/handler",yD="emulator/auth/handler";function rv(t,e,n,r,i,s){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Os,eventId:i};if(e instanceof sp){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",C1(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,u]of Object.entries(s||{}))o[c]=u}if(e instanceof ma){const c=e.getScopes().filter(u=>u!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];return`${ED(t)}?${fa(a).slice(1)}`}function ED({config:t}){return t.emulator?np(t,yD):`https://${t.authDomain}/${vD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh="webStorageSupport";class bD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n_,this._completeRedirectFn=h_,this._overrideRedirectResult=zR}async _openPopup(e,n,r,i){var s;Gn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=rv(e,n,r,Lf(),i);return gD(e,o,op())}async _openRedirect(e,n,r,i){return await this._originValidation(e),SR(rv(e,n,r,Lf(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Gn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uD(e),r=new qR(e);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hh,{type:hh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[hh];o!==void 0&&n(!!o),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return G0()||ip()||Gu()}}const _D=bD;var iv="@firebase/auth",sv="0.20.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function TD(t){oi(new Sr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,c)=>{de(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),de(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y0(t)},l=new uR(a,c,u);return UO(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oi(new Sr("auth-internal",e=>{const n=ga(e.getProvider("auth").getImmediate());return(r=>new wD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rn(iv,sv,SD(t)),Rn(iv,sv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(t=Zd()){const e=da(t,"auth");return e.isInitialized()?e.getImmediate():BO(t,{popupRedirectResolver:_D,persistence:[kR,bR,n_]})}TD("Browser");function up(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const AD="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ID=up(AD);function d_(t){return!!t||t===""}function lp(t){if(le(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=pt(r)?RD(r):lp(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if(pt(t))return t;if(He(t))return t}}const CD=/;(?![^(]*\))/g,OD=/:(.+)/;function RD(t){const e={};return t.split(CD).forEach(n=>{if(n){const r=n.split(OD);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Qu(t){let e="";if(pt(t))e=t;else if(le(t))for(let n=0;n<t.length;n++){const r=Qu(t[n]);r&&(e+=r+" ")}else if(He(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function DD(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=as(t[r],e[r]);return n}function as(t,e){if(t===e)return!0;let n=ov(t),r=ov(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Bo(t),r=Bo(e),n||r)return t===e;if(n=le(t),r=le(e),n||r)return n&&r?DD(t,e):!1;if(n=He(t),r=He(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!as(t[o],e[o]))return!1}}return String(t)===String(e)}function p_(t,e){return t.findIndex(n=>as(n,e))}const z9=t=>pt(t)?t:t==null?"":le(t)||He(t)&&(t.toString===v_||!ye(t.toString))?JSON.stringify(t,g_,2):String(t),g_=(t,e)=>e&&e.__v_isRef?g_(t,e.value):Qi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Zu(e)?{[`Set(${e.size})`]:[...e.values()]}:He(e)&&!le(e)&&!y_(e)?String(e):e,Ke={},Xi=[],mn=()=>{},xD=()=>!1,kD=/^on[^a-z]/,Ju=t=>kD.test(t),hp=t=>t.startsWith("onUpdate:"),Kt=Object.assign,fp=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},PD=Object.prototype.hasOwnProperty,ke=(t,e)=>PD.call(t,e),le=Array.isArray,Qi=t=>ya(t)==="[object Map]",Zu=t=>ya(t)==="[object Set]",ov=t=>ya(t)==="[object Date]",ye=t=>typeof t=="function",pt=t=>typeof t=="string",Bo=t=>typeof t=="symbol",He=t=>t!==null&&typeof t=="object",m_=t=>He(t)&&ye(t.then)&&ye(t.catch),v_=Object.prototype.toString,ya=t=>v_.call(t),ND=t=>ya(t).slice(8,-1),y_=t=>ya(t)==="[object Object]",dp=t=>pt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Fc=up(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),el=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},MD=/-(\w)/g,Nn=el(t=>t.replace(MD,(e,n)=>n?n.toUpperCase():"")),$D=/\B([A-Z])/g,mi=el(t=>t.replace($D,"-$1").toLowerCase()),tl=el(t=>t.charAt(0).toUpperCase()+t.slice(1)),fh=el(t=>t?`on${tl(t)}`:""),Uo=(t,e)=>!Object.is(t,e),Bc=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},gu=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Bf=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let av;const LD=()=>av||(av=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let An;class E_{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&An&&(this.parent=An,this.index=(An.scopes||(An.scopes=[])).push(this)-1)}run(e){if(this.active){const n=An;try{return An=this,e()}finally{An=n}}}on(){An=this}off(){An=this.parent}stop(e){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function b_(t){return new E_(t)}function FD(t,e=An){e&&e.active&&e.effects.push(t)}const pp=t=>{const e=new Set(t);return e.w=0,e.n=0,e},__=t=>(t.w&Tr)>0,w_=t=>(t.n&Tr)>0,BD=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Tr},UD=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];__(i)&&!w_(i)?i.delete(t):e[n++]=i,i.w&=~Tr,i.n&=~Tr}e.length=n}},Uf=new WeakMap;let so=0,Tr=1;const jf=30;let pn;const Qr=Symbol(""),Vf=Symbol("");class gp{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,FD(this,r)}run(){if(!this.active)return this.fn();let e=pn,n=vr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=pn,pn=this,vr=!0,Tr=1<<++so,so<=jf?BD(this):cv(this),this.fn()}finally{so<=jf&&UD(this),Tr=1<<--so,pn=this.parent,vr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){pn===this?this.deferStop=!0:this.active&&(cv(this),this.onStop&&this.onStop(),this.active=!1)}}function cv(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let vr=!0;const S_=[];function Rs(){S_.push(vr),vr=!1}function Ds(){const t=S_.pop();vr=t===void 0?!0:t}function Zt(t,e,n){if(vr&&pn){let r=Uf.get(t);r||Uf.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=pp()),T_(i)}}function T_(t,e){let n=!1;so<=jf?w_(t)||(t.n|=Tr,n=!__(t)):n=!t.has(pn),n&&(t.add(pn),pn.deps.push(t))}function Yn(t,e,n,r,i,s){const o=Uf.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&le(t))o.forEach((c,u)=>{(u==="length"||u>=r)&&a.push(c)});else switch(n!==void 0&&a.push(o.get(n)),e){case"add":le(t)?dp(n)&&a.push(o.get("length")):(a.push(o.get(Qr)),Qi(t)&&a.push(o.get(Vf)));break;case"delete":le(t)||(a.push(o.get(Qr)),Qi(t)&&a.push(o.get(Vf)));break;case"set":Qi(t)&&a.push(o.get(Qr));break}if(a.length===1)a[0]&&Kf(a[0]);else{const c=[];for(const u of a)u&&c.push(...u);Kf(pp(c))}}function Kf(t,e){const n=le(t)?t:[...t];for(const r of n)r.computed&&uv(r);for(const r of n)r.computed||uv(r)}function uv(t,e){(t!==pn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const jD=up("__proto__,__v_isRef,__isVue"),A_=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Bo)),VD=mp(),KD=mp(!1,!0),zD=mp(!0),lv=WD();function WD(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=$e(this);for(let s=0,o=this.length;s<o;s++)Zt(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map($e)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Rs();const r=$e(this)[e].apply(this,n);return Ds(),r}}),t}function mp(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?ax:D_:e?R_:O_).get(r))return r;const o=le(r);if(!t&&o&&ke(lv,i))return Reflect.get(lv,i,s);const a=Reflect.get(r,i,s);return(Bo(i)?A_.has(i):jD(i))||(t||Zt(r,"get",i),e)?a:rt(a)?o&&dp(i)?a:a.value:He(a)?t?Pr(a):kr(a):a}}const HD=I_(),qD=I_(!0);function I_(t=!1){return function(n,r,i,s){let o=n[r];if(cs(o)&&rt(o)&&!rt(i))return!1;if(!t&&(!mu(i)&&!cs(i)&&(o=$e(o),i=$e(i)),!le(n)&&rt(o)&&!rt(i)))return o.value=i,!0;const a=le(n)&&dp(r)?Number(r)<n.length:ke(n,r),c=Reflect.set(n,r,i,s);return n===$e(s)&&(a?Uo(i,o)&&Yn(n,"set",r,i):Yn(n,"add",r,i)),c}}function GD(t,e){const n=ke(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Yn(t,"delete",e,void 0),r}function YD(t,e){const n=Reflect.has(t,e);return(!Bo(e)||!A_.has(e))&&Zt(t,"has",e),n}function XD(t){return Zt(t,"iterate",le(t)?"length":Qr),Reflect.ownKeys(t)}const C_={get:VD,set:HD,deleteProperty:GD,has:YD,ownKeys:XD},QD={get:zD,set(t,e){return!0},deleteProperty(t,e){return!0}},JD=Kt({},C_,{get:KD,set:qD}),vp=t=>t,nl=t=>Reflect.getPrototypeOf(t);function qa(t,e,n=!1,r=!1){t=t.__v_raw;const i=$e(t),s=$e(e);n||(e!==s&&Zt(i,"get",e),Zt(i,"get",s));const{has:o}=nl(i),a=r?vp:n?bp:jo;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function Ga(t,e=!1){const n=this.__v_raw,r=$e(n),i=$e(t);return e||(t!==i&&Zt(r,"has",t),Zt(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Ya(t,e=!1){return t=t.__v_raw,!e&&Zt($e(t),"iterate",Qr),Reflect.get(t,"size",t)}function hv(t){t=$e(t);const e=$e(this);return nl(e).has.call(e,t)||(e.add(t),Yn(e,"add",t,t)),this}function fv(t,e){e=$e(e);const n=$e(this),{has:r,get:i}=nl(n);let s=r.call(n,t);s||(t=$e(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?Uo(e,o)&&Yn(n,"set",t,e):Yn(n,"add",t,e),this}function dv(t){const e=$e(this),{has:n,get:r}=nl(e);let i=n.call(e,t);i||(t=$e(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Yn(e,"delete",t,void 0),s}function pv(){const t=$e(this),e=t.size!==0,n=t.clear();return e&&Yn(t,"clear",void 0,void 0),n}function Xa(t,e){return function(r,i){const s=this,o=s.__v_raw,a=$e(o),c=e?vp:t?bp:jo;return!t&&Zt(a,"iterate",Qr),o.forEach((u,l)=>r.call(i,c(u),c(l),s))}}function Qa(t,e,n){return function(...r){const i=this.__v_raw,s=$e(i),o=Qi(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,u=i[t](...r),l=n?vp:e?bp:jo;return!e&&Zt(s,"iterate",c?Vf:Qr),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[l(h[0]),l(h[1])]:l(h),done:f}},[Symbol.iterator](){return this}}}}function rr(t){return function(...e){return t==="delete"?!1:this}}function ZD(){const t={get(s){return qa(this,s)},get size(){return Ya(this)},has:Ga,add:hv,set:fv,delete:dv,clear:pv,forEach:Xa(!1,!1)},e={get(s){return qa(this,s,!1,!0)},get size(){return Ya(this)},has:Ga,add:hv,set:fv,delete:dv,clear:pv,forEach:Xa(!1,!0)},n={get(s){return qa(this,s,!0)},get size(){return Ya(this,!0)},has(s){return Ga.call(this,s,!0)},add:rr("add"),set:rr("set"),delete:rr("delete"),clear:rr("clear"),forEach:Xa(!0,!1)},r={get(s){return qa(this,s,!0,!0)},get size(){return Ya(this,!0)},has(s){return Ga.call(this,s,!0)},add:rr("add"),set:rr("set"),delete:rr("delete"),clear:rr("clear"),forEach:Xa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Qa(s,!1,!1),n[s]=Qa(s,!0,!1),e[s]=Qa(s,!1,!0),r[s]=Qa(s,!0,!0)}),[t,n,e,r]}const[ex,tx,nx,rx]=ZD();function yp(t,e){const n=e?t?rx:nx:t?tx:ex;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(ke(n,i)&&i in r?n:r,i,s)}const ix={get:yp(!1,!1)},sx={get:yp(!1,!0)},ox={get:yp(!0,!1)},O_=new WeakMap,R_=new WeakMap,D_=new WeakMap,ax=new WeakMap;function cx(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ux(t){return t.__v_skip||!Object.isExtensible(t)?0:cx(ND(t))}function kr(t){return cs(t)?t:Ep(t,!1,C_,ix,O_)}function lx(t){return Ep(t,!1,JD,sx,R_)}function Pr(t){return Ep(t,!0,QD,ox,D_)}function Ep(t,e,n,r,i){if(!He(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=ux(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function yr(t){return cs(t)?yr(t.__v_raw):!!(t&&t.__v_isReactive)}function cs(t){return!!(t&&t.__v_isReadonly)}function mu(t){return!!(t&&t.__v_isShallow)}function x_(t){return yr(t)||cs(t)}function $e(t){const e=t&&t.__v_raw;return e?$e(e):t}function us(t){return gu(t,"__v_skip",!0),t}const jo=t=>He(t)?kr(t):t,bp=t=>He(t)?Pr(t):t;function k_(t){vr&&pn&&(t=$e(t),T_(t.dep||(t.dep=pp())))}function P_(t,e){t=$e(t),t.dep&&Kf(t.dep)}function rt(t){return!!(t&&t.__v_isRef===!0)}function an(t){return N_(t,!1)}function hx(t){return N_(t,!0)}function N_(t,e){return rt(t)?t:new fx(t,e)}class fx{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:$e(e),this._value=n?e:jo(e)}get value(){return k_(this),this._value}set value(e){const n=this.__v_isShallow||mu(e)||cs(e);e=n?e:$e(e),Uo(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:jo(e),P_(this))}}function Jr(t){return rt(t)?t.value:t}const dx={get:(t,e,n)=>Jr(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return rt(i)&&!rt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function M_(t){return yr(t)?t:new Proxy(t,dx)}function px(t){const e=le(t)?new Array(t.length):{};for(const n in t)e[n]=mx(t,n);return e}class gx{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function mx(t,e,n){const r=t[e];return rt(r)?r:new gx(t,e,n)}var $_;class vx{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[$_]=!1,this._dirty=!0,this.effect=new gp(e,()=>{this._dirty||(this._dirty=!0,P_(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=$e(this);return k_(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}$_="__v_isReadonly";function yx(t,e,n=!1){let r,i;const s=ye(t);return s?(r=t,i=mn):(r=t.get,i=t.set),new vx(r,i,s||!i,n)}function Er(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){Ea(s,e,n)}return i}function vn(t,e,n,r){if(ye(t)){const s=Er(t,e,n,r);return s&&m_(s)&&s.catch(o=>{Ea(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(vn(t[s],e,n,r));return i}function Ea(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=n;for(;s;){const u=s.ec;if(u){for(let l=0;l<u.length;l++)if(u[l](t,o,a)===!1)return}s=s.parent}const c=e.appContext.config.errorHandler;if(c){Er(c,null,10,[t,o,a]);return}}Ex(t,n,i,r)}function Ex(t,e,n,r=!0){console.error(t)}let Vo=!1,zf=!1;const Dt=[];let Cn=0;const Ji=[];let jn=null,zr=0;const L_=Promise.resolve();let _p=null;function wp(t){const e=_p||L_;return t?e.then(this?t.bind(this):t):e}function bx(t){let e=Cn+1,n=Dt.length;for(;e<n;){const r=e+n>>>1;Ko(Dt[r])<t?e=r+1:n=r}return e}function rl(t){(!Dt.length||!Dt.includes(t,Vo&&t.allowRecurse?Cn+1:Cn))&&(t.id==null?Dt.push(t):Dt.splice(bx(t.id),0,t),F_())}function F_(){!Vo&&!zf&&(zf=!0,_p=L_.then(U_))}function _x(t){const e=Dt.indexOf(t);e>Cn&&Dt.splice(e,1)}function wx(t){le(t)?Ji.push(...t):(!jn||!jn.includes(t,t.allowRecurse?zr+1:zr))&&Ji.push(t),F_()}function gv(t,e=Vo?Cn+1:0){for(;e<Dt.length;e++){const n=Dt[e];n&&n.pre&&(Dt.splice(e,1),e--,n())}}function B_(t){if(Ji.length){const e=[...new Set(Ji)];if(Ji.length=0,jn){jn.push(...e);return}for(jn=e,jn.sort((n,r)=>Ko(n)-Ko(r)),zr=0;zr<jn.length;zr++)jn[zr]();jn=null,zr=0}}const Ko=t=>t.id==null?1/0:t.id,Sx=(t,e)=>{const n=Ko(t)-Ko(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function U_(t){zf=!1,Vo=!0,Dt.sort(Sx);const e=mn;try{for(Cn=0;Cn<Dt.length;Cn++){const n=Dt[Cn];n&&n.active!==!1&&Er(n,null,14)}}finally{Cn=0,Dt.length=0,B_(),Vo=!1,_p=null,(Dt.length||Ji.length)&&U_()}}function Tx(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ke;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const l=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=r[l]||Ke;f&&(i=n.map(p=>p.trim())),h&&(i=n.map(Bf))}let a,c=r[a=fh(e)]||r[a=fh(Nn(e))];!c&&s&&(c=r[a=fh(mi(e))]),c&&vn(c,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,vn(u,t,6,i)}}function j_(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!ye(t)){const c=u=>{const l=j_(u,e,!0);l&&(a=!0,Kt(o,l))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!s&&!a?(He(t)&&r.set(t,null),null):(le(s)?s.forEach(c=>o[c]=null):Kt(o,s),He(t)&&r.set(t,o),o)}function il(t,e){return!t||!Ju(e)?!1:(e=e.slice(2).replace(/Once$/,""),ke(t,e[0].toLowerCase()+e.slice(1))||ke(t,mi(e))||ke(t,e))}let kt=null,sl=null;function vu(t){const e=kt;return kt=t,sl=t&&t.type.__scopeId||null,e}function W9(t){sl=t}function H9(){sl=null}function Ax(t,e=kt,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Ov(-1);const s=vu(e),o=t(...i);return vu(s),r._d&&Ov(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function dh(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:c,emit:u,render:l,renderCache:h,data:f,setupState:p,ctx:v,inheritAttrs:C}=t;let S,A;const R=vu(t);try{if(n.shapeFlag&4){const j=i||r;S=In(l.call(j,j,h,s,p,f,v)),A=c}else{const j=e;S=In(j.length>1?j(s,{attrs:c,slots:a,emit:u}):j(s,null)),A=e.props?c:Ix(c)}}catch(j){fo.length=0,Ea(j,t,1),S=at(Ar)}let K=S;if(A&&C!==!1){const j=Object.keys(A),{shapeFlag:k}=K;j.length&&k&7&&(o&&j.some(hp)&&(A=Cx(A,o)),K=hs(K,A))}return n.dirs&&(K=hs(K),K.dirs=K.dirs?K.dirs.concat(n.dirs):n.dirs),n.transition&&(K.transition=n.transition),S=K,vu(R),S}const Ix=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ju(n))&&((e||(e={}))[n]=t[n]);return e},Cx=(t,e)=>{const n={};for(const r in t)(!hp(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Ox(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:c}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?mv(r,o,u):!!o;if(c&8){const l=e.dynamicProps;for(let h=0;h<l.length;h++){const f=l[h];if(o[f]!==r[f]&&!il(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?mv(r,o,u):!0:!!o;return!1}function mv(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!il(n,s))return!0}return!1}function Rx({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Dx=t=>t.__isSuspense;function xx(t,e){e&&e.pendingBranch?le(t)?e.effects.push(...t):e.effects.push(t):wx(t)}function Uc(t,e){if(ht){let n=ht.provides;const r=ht.parent&&ht.parent.provides;r===n&&(n=ht.provides=Object.create(r)),n[t]=e}}function cn(t,e,n=!1){const r=ht||kt;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ye(e)?e.call(r.proxy):e}}function q9(t,e){return Sp(t,null,e)}const vv={};function Zr(t,e,n){return Sp(t,e,n)}function Sp(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=Ke){const a=ht;let c,u=!1,l=!1;if(rt(t)?(c=()=>t.value,u=mu(t)):yr(t)?(c=()=>t,r=!0):le(t)?(l=!0,u=t.some(A=>yr(A)||mu(A)),c=()=>t.map(A=>{if(rt(A))return A.value;if(yr(A))return Hr(A);if(ye(A))return Er(A,a,2)})):ye(t)?e?c=()=>Er(t,a,2):c=()=>{if(!(a&&a.isUnmounted))return h&&h(),vn(t,a,3,[f])}:c=mn,e&&r){const A=c;c=()=>Hr(A())}let h,f=A=>{h=S.onStop=()=>{Er(A,a,4)}};if(ds)return f=mn,e?n&&vn(e,a,3,[c(),l?[]:void 0,f]):c(),mn;let p=l?[]:vv;const v=()=>{if(!!S.active)if(e){const A=S.run();(r||u||(l?A.some((R,K)=>Uo(R,p[K])):Uo(A,p)))&&(h&&h(),vn(e,a,3,[A,p===vv?void 0:p,f]),p=A)}else S.run()};v.allowRecurse=!!e;let C;i==="sync"?C=v:i==="post"?C=()=>Ht(v,a&&a.suspense):(v.pre=!0,a&&(v.id=a.uid),C=()=>rl(v));const S=new gp(c,C);return e?n?v():p=S.run():i==="post"?Ht(S.run.bind(S),a&&a.suspense):S.run(),()=>{S.stop(),a&&a.scope&&fp(a.scope.effects,S)}}function kx(t,e,n){const r=this.proxy,i=pt(t)?t.includes(".")?V_(r,t):()=>r[t]:t.bind(r,r);let s;ye(e)?s=e:(s=e.handler,n=e);const o=ht;fs(this);const a=Sp(i,s.bind(r),n);return o?fs(o):ei(),a}function V_(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Hr(t,e){if(!He(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),rt(t))Hr(t.value,e);else if(le(t))for(let n=0;n<t.length;n++)Hr(t[n],e);else if(Zu(t)||Qi(t))t.forEach(n=>{Hr(n,e)});else if(y_(t))for(const n in t)Hr(t[n],e);return t}function ba(t){return ye(t)?{setup:t,name:t.name}:t}const ho=t=>!!t.type.__asyncLoader;function Px(t){ye(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:o=!0,onError:a}=t;let c=null,u,l=0;const h=()=>(l++,c=null,f()),f=()=>{let p;return c||(p=c=e().catch(v=>{if(v=v instanceof Error?v:new Error(String(v)),a)return new Promise((C,S)=>{a(v,()=>C(h()),()=>S(v),l+1)});throw v}).then(v=>p!==c&&c?c:(v&&(v.__esModule||v[Symbol.toStringTag]==="Module")&&(v=v.default),u=v,v)))};return ba({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return u},setup(){const p=ht;if(u)return()=>ph(u,p);const v=R=>{c=null,Ea(R,p,13,!r)};if(o&&p.suspense||ds)return f().then(R=>()=>ph(R,p)).catch(R=>(v(R),()=>r?at(r,{error:R}):null));const C=an(!1),S=an(),A=an(!!i);return i&&setTimeout(()=>{A.value=!1},i),s!=null&&setTimeout(()=>{if(!C.value&&!S.value){const R=new Error(`Async component timed out after ${s}ms.`);v(R),S.value=R}},s),f().then(()=>{C.value=!0,p.parent&&Tp(p.parent.vnode)&&rl(p.parent.update)}).catch(R=>{v(R),S.value=R}),()=>{if(C.value&&u)return ph(u,p);if(S.value&&r)return at(r,{error:S.value});if(n&&!A.value)return at(n)}}})}function ph(t,{vnode:{ref:e,props:n,children:r,shapeFlag:i},parent:s}){const o=at(t,n,r);return o.ref=e,o}const Tp=t=>t.type.__isKeepAlive;function Nx(t,e){K_(t,"a",e)}function Mx(t,e){K_(t,"da",e)}function K_(t,e,n=ht){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(ol(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Tp(i.parent.vnode)&&$x(r,e,n,i),i=i.parent}}function $x(t,e,n,r){const i=ol(e,t,r,!0);Ap(()=>{fp(r[e],i)},n)}function ol(t,e,n=ht,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Rs(),fs(n);const a=vn(e,n,t,o);return ei(),Ds(),a});return r?i.unshift(s):i.push(s),s}}const Zn=t=>(e,n=ht)=>(!ds||t==="sp")&&ol(t,(...r)=>e(...r),n),Lx=Zn("bm"),Fx=Zn("m"),Bx=Zn("bu"),Ux=Zn("u"),jx=Zn("bum"),Ap=Zn("um"),Vx=Zn("sp"),Kx=Zn("rtg"),zx=Zn("rtc");function Wx(t,e=ht){ol("ec",t,e)}function G9(t,e){const n=kt;if(n===null)return t;const r=cl(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,c,u=Ke]=e[s];ye(o)&&(o={mounted:o,updated:o}),o.deep&&Hr(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:c,modifiers:u})}return t}function Br(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let c=a.dir[r];c&&(Rs(),vn(c,n,8,[t.el,a,t,e]),Ds())}}const Ip="components";function yv(t,e){return W_(Ip,t,!0,e)||t}const z_=Symbol();function Ev(t){return pt(t)?W_(Ip,t,!1)||t:t||z_}function W_(t,e,n=!0,r=!1){const i=kt||ht;if(i){const s=i.type;if(t===Ip){const a=bk(s,!1);if(a&&(a===e||a===Nn(e)||a===tl(Nn(e))))return s}const o=bv(i[t]||s[t],e)||bv(i.appContext[t],e);return!o&&r?s:o}}function bv(t,e){return t&&(t[e]||t[Nn(e)]||t[tl(Nn(e))])}function _v(t,e,n,r){let i;const s=n&&n[r];if(le(t)||pt(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(He(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function H_(t,e,n={},r,i){if(kt.isCE||kt.parent&&ho(kt.parent)&&kt.parent.isCE)return at("slot",e==="default"?null:{name:e},r&&r());let s=t[e];s&&s._c&&(s._d=!1),on();const o=s&&q_(s(n)),a=ls(Xt,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function q_(t){return t.some(e=>bu(e)?!(e.type===Ar||e.type===Xt&&!q_(e.children)):!0)?t:null}const Wf=t=>t?iw(t)?cl(t)||t.proxy:Wf(t.parent):null,yu=Kt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Wf(t.parent),$root:t=>Wf(t.root),$emit:t=>t.emit,$options:t=>Cp(t),$forceUpdate:t=>t.f||(t.f=()=>rl(t.update)),$nextTick:t=>t.n||(t.n=wp.bind(t.proxy)),$watch:t=>kx.bind(t)}),Hx={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:c}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(r!==Ke&&ke(r,e))return o[e]=1,r[e];if(i!==Ke&&ke(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&ke(u,e))return o[e]=3,s[e];if(n!==Ke&&ke(n,e))return o[e]=4,n[e];Hf&&(o[e]=0)}}const l=yu[e];let h,f;if(l)return e==="$attrs"&&Zt(t,"get",e),l(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Ke&&ke(n,e))return o[e]=4,n[e];if(f=c.config.globalProperties,ke(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return i!==Ke&&ke(i,e)?(i[e]=n,!0):r!==Ke&&ke(r,e)?(r[e]=n,!0):ke(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==Ke&&ke(t,o)||e!==Ke&&ke(e,o)||(a=s[0])&&ke(a,o)||ke(r,o)||ke(yu,o)||ke(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ke(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let Hf=!0;function qx(t){const e=Cp(t),n=t.proxy,r=t.ctx;Hf=!1,e.beforeCreate&&wv(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:c,inject:u,created:l,beforeMount:h,mounted:f,beforeUpdate:p,updated:v,activated:C,deactivated:S,beforeDestroy:A,beforeUnmount:R,destroyed:K,unmounted:j,render:k,renderTracked:N,renderTriggered:b,errorCaptured:O,serverPrefetch:X,expose:se,inheritAttrs:we,components:Ce,directives:et,filters:Je}=e;if(u&&Gx(u,r,null,t.appContext.config.unwrapInjectedRef),o)for(const Ie in o){const Pe=o[Ie];ye(Pe)&&(r[Ie]=Pe.bind(n))}if(i){const Ie=i.call(n,n);He(Ie)&&(t.data=kr(Ie))}if(Hf=!0,s)for(const Ie in s){const Pe=s[Ie],Mt=ye(Pe)?Pe.bind(n,n):ye(Pe.get)?Pe.get.bind(n,n):mn,nn=!ye(Pe)&&ye(Pe.set)?Pe.set.bind(n):mn,re=Qt({get:Mt,set:nn});Object.defineProperty(r,Ie,{enumerable:!0,configurable:!0,get:()=>re.value,set:he=>re.value=he})}if(a)for(const Ie in a)G_(a[Ie],r,n,Ie);if(c){const Ie=ye(c)?c.call(n):c;Reflect.ownKeys(Ie).forEach(Pe=>{Uc(Pe,Ie[Pe])})}l&&wv(l,t,"c");function Ve(Ie,Pe){le(Pe)?Pe.forEach(Mt=>Ie(Mt.bind(n))):Pe&&Ie(Pe.bind(n))}if(Ve(Lx,h),Ve(Fx,f),Ve(Bx,p),Ve(Ux,v),Ve(Nx,C),Ve(Mx,S),Ve(Wx,O),Ve(zx,N),Ve(Kx,b),Ve(jx,R),Ve(Ap,j),Ve(Vx,X),le(se))if(se.length){const Ie=t.exposed||(t.exposed={});se.forEach(Pe=>{Object.defineProperty(Ie,Pe,{get:()=>n[Pe],set:Mt=>n[Pe]=Mt})})}else t.exposed||(t.exposed={});k&&t.render===mn&&(t.render=k),we!=null&&(t.inheritAttrs=we),Ce&&(t.components=Ce),et&&(t.directives=et)}function Gx(t,e,n=mn,r=!1){le(t)&&(t=qf(t));for(const i in t){const s=t[i];let o;He(s)?"default"in s?o=cn(s.from||i,s.default,!0):o=cn(s.from||i):o=cn(s),rt(o)&&r?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[i]=o}}function wv(t,e,n){vn(le(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function G_(t,e,n,r){const i=r.includes(".")?V_(n,r):()=>n[r];if(pt(t)){const s=e[t];ye(s)&&Zr(i,s)}else if(ye(t))Zr(i,t.bind(n));else if(He(t))if(le(t))t.forEach(s=>G_(s,e,n,r));else{const s=ye(t.handler)?t.handler.bind(n):e[t.handler];ye(s)&&Zr(i,s,t)}}function Cp(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let c;return a?c=a:!i.length&&!n&&!r?c=e:(c={},i.length&&i.forEach(u=>Eu(c,u,o,!0)),Eu(c,e,o)),He(e)&&s.set(e,c),c}function Eu(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Eu(t,s,n,!0),i&&i.forEach(o=>Eu(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=Yx[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Yx={data:Sv,props:Kr,emits:Kr,methods:Kr,computed:Kr,beforeCreate:Ft,created:Ft,beforeMount:Ft,mounted:Ft,beforeUpdate:Ft,updated:Ft,beforeDestroy:Ft,beforeUnmount:Ft,destroyed:Ft,unmounted:Ft,activated:Ft,deactivated:Ft,errorCaptured:Ft,serverPrefetch:Ft,components:Kr,directives:Kr,watch:Qx,provide:Sv,inject:Xx};function Sv(t,e){return e?t?function(){return Kt(ye(t)?t.call(this,this):t,ye(e)?e.call(this,this):e)}:e:t}function Xx(t,e){return Kr(qf(t),qf(e))}function qf(t){if(le(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ft(t,e){return t?[...new Set([].concat(t,e))]:e}function Kr(t,e){return t?Kt(Kt(Object.create(null),t),e):e}function Qx(t,e){if(!t)return e;if(!e)return t;const n=Kt(Object.create(null),t);for(const r in e)n[r]=Ft(t[r],e[r]);return n}function Jx(t,e,n,r=!1){const i={},s={};gu(s,al,1),t.propsDefaults=Object.create(null),Y_(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:lx(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function Zx(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=$e(i),[c]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const l=t.vnode.dynamicProps;for(let h=0;h<l.length;h++){let f=l[h];if(il(t.emitsOptions,f))continue;const p=e[f];if(c)if(ke(s,f))p!==s[f]&&(s[f]=p,u=!0);else{const v=Nn(f);i[v]=Gf(c,a,v,p,t,!1)}else p!==s[f]&&(s[f]=p,u=!0)}}}else{Y_(t,e,i,s)&&(u=!0);let l;for(const h in a)(!e||!ke(e,h)&&((l=mi(h))===h||!ke(e,l)))&&(c?n&&(n[h]!==void 0||n[l]!==void 0)&&(i[h]=Gf(c,a,h,void 0,t,!0)):delete i[h]);if(s!==a)for(const h in s)(!e||!ke(e,h)&&!0)&&(delete s[h],u=!0)}u&&Yn(t,"set","$attrs")}function Y_(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Fc(c))continue;const u=e[c];let l;i&&ke(i,l=Nn(c))?!s||!s.includes(l)?n[l]=u:(a||(a={}))[l]=u:il(t.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,o=!0)}if(s){const c=$e(n),u=a||Ke;for(let l=0;l<s.length;l++){const h=s[l];n[h]=Gf(i,c,h,u[h],t,!ke(u,h))}}return o}function Gf(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=ke(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&ye(c)){const{propsDefaults:u}=i;n in u?r=u[n]:(fs(i),r=u[n]=c.call(null,e),ei())}else r=c}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===mi(n))&&(r=!0))}return r}function X_(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let c=!1;if(!ye(t)){const l=h=>{c=!0;const[f,p]=X_(h,e,!0);Kt(o,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}if(!s&&!c)return He(t)&&r.set(t,Xi),Xi;if(le(s))for(let l=0;l<s.length;l++){const h=Nn(s[l]);Tv(h)&&(o[h]=Ke)}else if(s)for(const l in s){const h=Nn(l);if(Tv(h)){const f=s[l],p=o[h]=le(f)||ye(f)?{type:f}:f;if(p){const v=Cv(Boolean,p.type),C=Cv(String,p.type);p[0]=v>-1,p[1]=C<0||v<C,(v>-1||ke(p,"default"))&&a.push(h)}}}const u=[o,a];return He(t)&&r.set(t,u),u}function Tv(t){return t[0]!=="$"}function Av(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Iv(t,e){return Av(t)===Av(e)}function Cv(t,e){return le(e)?e.findIndex(n=>Iv(n,t)):ye(e)&&Iv(e,t)?0:-1}const Q_=t=>t[0]==="_"||t==="$stable",Op=t=>le(t)?t.map(In):[In(t)],ek=(t,e,n)=>{if(e._n)return e;const r=Ax((...i)=>Op(e(...i)),n);return r._c=!1,r},J_=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Q_(i))continue;const s=t[i];if(ye(s))e[i]=ek(i,s,r);else if(s!=null){const o=Op(s);e[i]=()=>o}}},Z_=(t,e)=>{const n=Op(e);t.slots.default=()=>n},tk=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=$e(e),gu(e,"_",n)):J_(e,t.slots={})}else t.slots={},e&&Z_(t,e);gu(t.slots,al,1)},nk=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Ke;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(Kt(i,e),!n&&a===1&&delete i._):(s=!e.$stable,J_(e,i)),o=e}else e&&(Z_(t,e),o={default:1});if(s)for(const a in i)!Q_(a)&&!(a in o)&&delete i[a]};function ew(){return{app:null,config:{isNativeTag:xD,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let rk=0;function ik(t,e){return function(r,i=null){ye(r)||(r=Object.assign({},r)),i!=null&&!He(i)&&(i=null);const s=ew(),o=new Set;let a=!1;const c=s.app={_uid:rk++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Sk,get config(){return s.config},set config(u){},use(u,...l){return o.has(u)||(u&&ye(u.install)?(o.add(u),u.install(c,...l)):ye(u)&&(o.add(u),u(c,...l))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,l){return l?(s.components[u]=l,c):s.components[u]},directive(u,l){return l?(s.directives[u]=l,c):s.directives[u]},mount(u,l,h){if(!a){const f=at(r,i);return f.appContext=s,l&&e?e(f,u):t(f,u,h),a=!0,c._container=u,u.__vue_app__=c,cl(f.component)||f.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(u,l){return s.provides[u]=l,c}};return c}}function Yf(t,e,n,r,i=!1){if(le(t)){t.forEach((f,p)=>Yf(f,e&&(le(e)?e[p]:e),n,r,i));return}if(ho(r)&&!i)return;const s=r.shapeFlag&4?cl(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:c}=t,u=e&&e.r,l=a.refs===Ke?a.refs={}:a.refs,h=a.setupState;if(u!=null&&u!==c&&(pt(u)?(l[u]=null,ke(h,u)&&(h[u]=null)):rt(u)&&(u.value=null)),ye(c))Er(c,a,12,[o,l]);else{const f=pt(c),p=rt(c);if(f||p){const v=()=>{if(t.f){const C=f?l[c]:c.value;i?le(C)&&fp(C,s):le(C)?C.includes(s)||C.push(s):f?(l[c]=[s],ke(h,c)&&(h[c]=l[c])):(c.value=[s],t.k&&(l[t.k]=c.value))}else f?(l[c]=o,ke(h,c)&&(h[c]=o)):p&&(c.value=o,t.k&&(l[t.k]=o))};o?(v.id=-1,Ht(v,n)):v()}}}const Ht=xx;function sk(t){return ok(t)}function ok(t,e){const n=LD();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:c,setText:u,setElementText:l,parentNode:h,nextSibling:f,setScopeId:p=mn,insertStaticContent:v}=t,C=(m,E,x,P=null,L=null,q=null,J=!1,H=null,Y=!!E.dynamicChildren)=>{if(m===E)return;m&&!Ys(m,E)&&(P=F(m),he(m,L,q,!0),m=null),E.patchFlag===-2&&(Y=!1,E.dynamicChildren=null);const{type:B,ref:oe,shapeFlag:ne}=E;switch(B){case Rp:S(m,E,x,P);break;case Ar:A(m,E,x,P);break;case jc:m==null&&R(E,x,P,J);break;case Xt:Ce(m,E,x,P,L,q,J,H,Y);break;default:ne&1?k(m,E,x,P,L,q,J,H,Y):ne&6?et(m,E,x,P,L,q,J,H,Y):(ne&64||ne&128)&&B.process(m,E,x,P,L,q,J,H,Y,me)}oe!=null&&L&&Yf(oe,m&&m.ref,q,E||m,!E)},S=(m,E,x,P)=>{if(m==null)r(E.el=a(E.children),x,P);else{const L=E.el=m.el;E.children!==m.children&&u(L,E.children)}},A=(m,E,x,P)=>{m==null?r(E.el=c(E.children||""),x,P):E.el=m.el},R=(m,E,x,P)=>{[m.el,m.anchor]=v(m.children,E,x,P,m.el,m.anchor)},K=({el:m,anchor:E},x,P)=>{let L;for(;m&&m!==E;)L=f(m),r(m,x,P),m=L;r(E,x,P)},j=({el:m,anchor:E})=>{let x;for(;m&&m!==E;)x=f(m),i(m),m=x;i(E)},k=(m,E,x,P,L,q,J,H,Y)=>{J=J||E.type==="svg",m==null?N(E,x,P,L,q,J,H,Y):X(m,E,L,q,J,H,Y)},N=(m,E,x,P,L,q,J,H)=>{let Y,B;const{type:oe,props:ne,shapeFlag:ae,transition:fe,dirs:be}=m;if(Y=m.el=o(m.type,q,ne&&ne.is,ne),ae&8?l(Y,m.children):ae&16&&O(m.children,Y,null,P,L,q&&oe!=="foreignObject",J,H),be&&Br(m,null,P,"created"),ne){for(const Ne in ne)Ne!=="value"&&!Fc(Ne)&&s(Y,Ne,null,ne[Ne],q,m.children,P,L,Q);"value"in ne&&s(Y,"value",null,ne.value),(B=ne.onVnodeBeforeMount)&&wn(B,P,m)}b(Y,m,m.scopeId,J,P),be&&Br(m,null,P,"beforeMount");const Be=(!L||L&&!L.pendingBranch)&&fe&&!fe.persisted;Be&&fe.beforeEnter(Y),r(Y,E,x),((B=ne&&ne.onVnodeMounted)||Be||be)&&Ht(()=>{B&&wn(B,P,m),Be&&fe.enter(Y),be&&Br(m,null,P,"mounted")},L)},b=(m,E,x,P,L)=>{if(x&&p(m,x),P)for(let q=0;q<P.length;q++)p(m,P[q]);if(L){let q=L.subTree;if(E===q){const J=L.vnode;b(m,J,J.scopeId,J.slotScopeIds,L.parent)}}},O=(m,E,x,P,L,q,J,H,Y=0)=>{for(let B=Y;B<m.length;B++){const oe=m[B]=H?ar(m[B]):In(m[B]);C(null,oe,E,x,P,L,q,J,H)}},X=(m,E,x,P,L,q,J)=>{const H=E.el=m.el;let{patchFlag:Y,dynamicChildren:B,dirs:oe}=E;Y|=m.patchFlag&16;const ne=m.props||Ke,ae=E.props||Ke;let fe;x&&Ur(x,!1),(fe=ae.onVnodeBeforeUpdate)&&wn(fe,x,E,m),oe&&Br(E,m,x,"beforeUpdate"),x&&Ur(x,!0);const be=L&&E.type!=="foreignObject";if(B?se(m.dynamicChildren,B,H,x,P,be,q):J||Pe(m,E,H,null,x,P,be,q,!1),Y>0){if(Y&16)we(H,E,ne,ae,x,P,L);else if(Y&2&&ne.class!==ae.class&&s(H,"class",null,ae.class,L),Y&4&&s(H,"style",ne.style,ae.style,L),Y&8){const Be=E.dynamicProps;for(let Ne=0;Ne<Be.length;Ne++){const Ze=Be[Ne],Wt=ne[Ze],Ln=ae[Ze];(Ln!==Wt||Ze==="value")&&s(H,Ze,Wt,Ln,L,m.children,x,P,Q)}}Y&1&&m.children!==E.children&&l(H,E.children)}else!J&&B==null&&we(H,E,ne,ae,x,P,L);((fe=ae.onVnodeUpdated)||oe)&&Ht(()=>{fe&&wn(fe,x,E,m),oe&&Br(E,m,x,"updated")},P)},se=(m,E,x,P,L,q,J)=>{for(let H=0;H<E.length;H++){const Y=m[H],B=E[H],oe=Y.el&&(Y.type===Xt||!Ys(Y,B)||Y.shapeFlag&70)?h(Y.el):x;C(Y,B,oe,null,P,L,q,J,!0)}},we=(m,E,x,P,L,q,J)=>{if(x!==P){if(x!==Ke)for(const H in x)!Fc(H)&&!(H in P)&&s(m,H,x[H],null,J,E.children,L,q,Q);for(const H in P){if(Fc(H))continue;const Y=P[H],B=x[H];Y!==B&&H!=="value"&&s(m,H,B,Y,J,E.children,L,q,Q)}"value"in P&&s(m,"value",x.value,P.value)}},Ce=(m,E,x,P,L,q,J,H,Y)=>{const B=E.el=m?m.el:a(""),oe=E.anchor=m?m.anchor:a("");let{patchFlag:ne,dynamicChildren:ae,slotScopeIds:fe}=E;fe&&(H=H?H.concat(fe):fe),m==null?(r(B,x,P),r(oe,x,P),O(E.children,x,oe,L,q,J,H,Y)):ne>0&&ne&64&&ae&&m.dynamicChildren?(se(m.dynamicChildren,ae,x,L,q,J,H),(E.key!=null||L&&E===L.subTree)&&tw(m,E,!0)):Pe(m,E,x,oe,L,q,J,H,Y)},et=(m,E,x,P,L,q,J,H,Y)=>{E.slotScopeIds=H,m==null?E.shapeFlag&512?L.ctx.activate(E,x,P,J,Y):Je(E,x,P,L,q,J,Y):ze(m,E,Y)},Je=(m,E,x,P,L,q,J)=>{const H=m.component=mk(m,P,L);if(Tp(m)&&(H.ctx.renderer=me),vk(H),H.asyncDep){if(L&&L.registerDep(H,Ve),!m.el){const Y=H.subTree=at(Ar);A(null,Y,E,x)}return}Ve(H,m,E,x,L,q,J)},ze=(m,E,x)=>{const P=E.component=m.component;if(Ox(m,E,x))if(P.asyncDep&&!P.asyncResolved){Ie(P,E,x);return}else P.next=E,_x(P.update),P.update();else E.el=m.el,P.vnode=E},Ve=(m,E,x,P,L,q,J)=>{const H=()=>{if(m.isMounted){let{next:oe,bu:ne,u:ae,parent:fe,vnode:be}=m,Be=oe,Ne;Ur(m,!1),oe?(oe.el=be.el,Ie(m,oe,J)):oe=be,ne&&Bc(ne),(Ne=oe.props&&oe.props.onVnodeBeforeUpdate)&&wn(Ne,fe,oe,be),Ur(m,!0);const Ze=dh(m),Wt=m.subTree;m.subTree=Ze,C(Wt,Ze,h(Wt.el),F(Wt),m,L,q),oe.el=Ze.el,Be===null&&Rx(m,Ze.el),ae&&Ht(ae,L),(Ne=oe.props&&oe.props.onVnodeUpdated)&&Ht(()=>wn(Ne,fe,oe,be),L)}else{let oe;const{el:ne,props:ae}=E,{bm:fe,m:be,parent:Be}=m,Ne=ho(E);if(Ur(m,!1),fe&&Bc(fe),!Ne&&(oe=ae&&ae.onVnodeBeforeMount)&&wn(oe,Be,E),Ur(m,!0),ne&&ve){const Ze=()=>{m.subTree=dh(m),ve(ne,m.subTree,m,L,null)};Ne?E.type.__asyncLoader().then(()=>!m.isUnmounted&&Ze()):Ze()}else{const Ze=m.subTree=dh(m);C(null,Ze,x,P,m,L,q),E.el=Ze.el}if(be&&Ht(be,L),!Ne&&(oe=ae&&ae.onVnodeMounted)){const Ze=E;Ht(()=>wn(oe,Be,Ze),L)}(E.shapeFlag&256||Be&&ho(Be.vnode)&&Be.vnode.shapeFlag&256)&&m.a&&Ht(m.a,L),m.isMounted=!0,E=x=P=null}},Y=m.effect=new gp(H,()=>rl(B),m.scope),B=m.update=()=>Y.run();B.id=m.uid,Ur(m,!0),B()},Ie=(m,E,x)=>{E.component=m;const P=m.vnode.props;m.vnode=E,m.next=null,Zx(m,E.props,P,x),nk(m,E.children,x),Rs(),gv(),Ds()},Pe=(m,E,x,P,L,q,J,H,Y=!1)=>{const B=m&&m.children,oe=m?m.shapeFlag:0,ne=E.children,{patchFlag:ae,shapeFlag:fe}=E;if(ae>0){if(ae&128){nn(B,ne,x,P,L,q,J,H,Y);return}else if(ae&256){Mt(B,ne,x,P,L,q,J,H,Y);return}}fe&8?(oe&16&&Q(B,L,q),ne!==B&&l(x,ne)):oe&16?fe&16?nn(B,ne,x,P,L,q,J,H,Y):Q(B,L,q,!0):(oe&8&&l(x,""),fe&16&&O(ne,x,P,L,q,J,H,Y))},Mt=(m,E,x,P,L,q,J,H,Y)=>{m=m||Xi,E=E||Xi;const B=m.length,oe=E.length,ne=Math.min(B,oe);let ae;for(ae=0;ae<ne;ae++){const fe=E[ae]=Y?ar(E[ae]):In(E[ae]);C(m[ae],fe,x,null,L,q,J,H,Y)}B>oe?Q(m,L,q,!0,!1,ne):O(E,x,P,L,q,J,H,Y,ne)},nn=(m,E,x,P,L,q,J,H,Y)=>{let B=0;const oe=E.length;let ne=m.length-1,ae=oe-1;for(;B<=ne&&B<=ae;){const fe=m[B],be=E[B]=Y?ar(E[B]):In(E[B]);if(Ys(fe,be))C(fe,be,x,null,L,q,J,H,Y);else break;B++}for(;B<=ne&&B<=ae;){const fe=m[ne],be=E[ae]=Y?ar(E[ae]):In(E[ae]);if(Ys(fe,be))C(fe,be,x,null,L,q,J,H,Y);else break;ne--,ae--}if(B>ne){if(B<=ae){const fe=ae+1,be=fe<oe?E[fe].el:P;for(;B<=ae;)C(null,E[B]=Y?ar(E[B]):In(E[B]),x,be,L,q,J,H,Y),B++}}else if(B>ae)for(;B<=ne;)he(m[B],L,q,!0),B++;else{const fe=B,be=B,Be=new Map;for(B=be;B<=ae;B++){const $t=E[B]=Y?ar(E[B]):In(E[B]);$t.key!=null&&Be.set($t.key,B)}let Ne,Ze=0;const Wt=ae-be+1;let Ln=!1,Hs=0;const er=new Array(Wt);for(B=0;B<Wt;B++)er[B]=0;for(B=fe;B<=ne;B++){const $t=m[B];if(Ze>=Wt){he($t,L,q,!0);continue}let rn;if($t.key!=null)rn=Be.get($t.key);else for(Ne=be;Ne<=ae;Ne++)if(er[Ne-be]===0&&Ys($t,E[Ne])){rn=Ne;break}rn===void 0?he($t,L,q,!0):(er[rn-be]=B+1,rn>=Hs?Hs=rn:Ln=!0,C($t,E[rn],x,null,L,q,J,H,Y),Ze++)}const Ci=Ln?ak(er):Xi;for(Ne=Ci.length-1,B=Wt-1;B>=0;B--){const $t=be+B,rn=E[$t],Oi=$t+1<oe?E[$t+1].el:P;er[B]===0?C(null,rn,x,Oi,L,q,J,H,Y):Ln&&(Ne<0||B!==Ci[Ne]?re(rn,x,Oi,2):Ne--)}}},re=(m,E,x,P,L=null)=>{const{el:q,type:J,transition:H,children:Y,shapeFlag:B}=m;if(B&6){re(m.component.subTree,E,x,P);return}if(B&128){m.suspense.move(E,x,P);return}if(B&64){J.move(m,E,x,me);return}if(J===Xt){r(q,E,x);for(let ne=0;ne<Y.length;ne++)re(Y[ne],E,x,P);r(m.anchor,E,x);return}if(J===jc){K(m,E,x);return}if(P!==2&&B&1&&H)if(P===0)H.beforeEnter(q),r(q,E,x),Ht(()=>H.enter(q),L);else{const{leave:ne,delayLeave:ae,afterLeave:fe}=H,be=()=>r(q,E,x),Be=()=>{ne(q,()=>{be(),fe&&fe()})};ae?ae(q,be,Be):Be()}else r(q,E,x)},he=(m,E,x,P=!1,L=!1)=>{const{type:q,props:J,ref:H,children:Y,dynamicChildren:B,shapeFlag:oe,patchFlag:ne,dirs:ae}=m;if(H!=null&&Yf(H,null,x,m,!0),oe&256){E.ctx.deactivate(m);return}const fe=oe&1&&ae,be=!ho(m);let Be;if(be&&(Be=J&&J.onVnodeBeforeUnmount)&&wn(Be,E,m),oe&6)D(m.component,x,P);else{if(oe&128){m.suspense.unmount(x,P);return}fe&&Br(m,null,E,"beforeUnmount"),oe&64?m.type.remove(m,E,x,L,me,P):B&&(q!==Xt||ne>0&&ne&64)?Q(B,E,x,!1,!0):(q===Xt&&ne&384||!L&&oe&16)&&Q(Y,E,x),P&&Re(m)}(be&&(Be=J&&J.onVnodeUnmounted)||fe)&&Ht(()=>{Be&&wn(Be,E,m),fe&&Br(m,null,E,"unmounted")},x)},Re=m=>{const{type:E,el:x,anchor:P,transition:L}=m;if(E===Xt){Se(x,P);return}if(E===jc){j(m);return}const q=()=>{i(x),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(m.shapeFlag&1&&L&&!L.persisted){const{leave:J,delayLeave:H}=L,Y=()=>J(x,q);H?H(m.el,q,Y):Y()}else q()},Se=(m,E)=>{let x;for(;m!==E;)x=f(m),i(m),m=x;i(E)},D=(m,E,x)=>{const{bum:P,scope:L,update:q,subTree:J,um:H}=m;P&&Bc(P),L.stop(),q&&(q.active=!1,he(J,m,E,x)),H&&Ht(H,E),Ht(()=>{m.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},Q=(m,E,x,P=!1,L=!1,q=0)=>{for(let J=q;J<m.length;J++)he(m[J],E,x,P,L)},F=m=>m.shapeFlag&6?F(m.component.subTree):m.shapeFlag&128?m.suspense.next():f(m.anchor||m.el),Z=(m,E,x)=>{m==null?E._vnode&&he(E._vnode,null,null,!0):C(E._vnode||null,m,E,null,null,null,x),gv(),B_(),E._vnode=m},me={p:C,um:he,m:re,r:Re,mt:Je,mc:O,pc:Pe,pbc:se,n:F,o:t};let De,ve;return e&&([De,ve]=e(me)),{render:Z,hydrate:De,createApp:ik(Z,De)}}function Ur({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function tw(t,e,n=!1){const r=t.children,i=e.children;if(le(r)&&le(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=ar(i[s]),a.el=o.el),n||tw(o,a))}}function ak(t){const e=t.slice(),n=[0];let r,i,s,o,a;const c=t.length;for(r=0;r<c;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}const ck=t=>t.__isTeleport,Xt=Symbol(void 0),Rp=Symbol(void 0),Ar=Symbol(void 0),jc=Symbol(void 0),fo=[];let gn=null;function on(t=!1){fo.push(gn=t?null:[])}function uk(){fo.pop(),gn=fo[fo.length-1]||null}let zo=1;function Ov(t){zo+=t}function nw(t){return t.dynamicChildren=zo>0?gn||Xi:null,uk(),zo>0&&gn&&gn.push(t),t}function Zi(t,e,n,r,i,s){return nw(lt(t,e,n,r,i,s,!0))}function ls(t,e,n,r,i){return nw(at(t,e,n,r,i,!0))}function bu(t){return t?t.__v_isVNode===!0:!1}function Ys(t,e){return t.type===e.type&&t.key===e.key}const al="__vInternal",rw=({key:t})=>t!=null?t:null,Vc=({ref:t,ref_key:e,ref_for:n})=>t!=null?pt(t)||rt(t)||ye(t)?{i:kt,r:t,k:e,f:!!n}:t:null;function lt(t,e=null,n=null,r=0,i=null,s=t===Xt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&rw(e),ref:e&&Vc(e),scopeId:sl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(Dp(c,n),s&128&&t.normalize(c)):n&&(c.shapeFlag|=pt(n)?8:16),zo>0&&!o&&gn&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&gn.push(c),c}const at=lk;function lk(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===z_)&&(t=Ar),bu(t)){const a=hs(t,e,!0);return n&&Dp(a,n),zo>0&&!s&&gn&&(a.shapeFlag&6?gn[gn.indexOf(t)]=a:gn.push(a)),a.patchFlag|=-2,a}if(_k(t)&&(t=t.__vccOpts),e){e=hk(e);let{class:a,style:c}=e;a&&!pt(a)&&(e.class=Qu(a)),He(c)&&(x_(c)&&!le(c)&&(c=Kt({},c)),e.style=lp(c))}const o=pt(t)?1:Dx(t)?128:ck(t)?64:He(t)?4:ye(t)?2:0;return lt(t,e,n,r,i,o,s,!0)}function hk(t){return t?x_(t)||al in t?Kt({},t):t:null}function hs(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?dk(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&rw(a),ref:e&&e.ref?n&&i?le(i)?i.concat(Vc(e)):[i,Vc(e)]:Vc(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Xt?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&hs(t.ssContent),ssFallback:t.ssFallback&&hs(t.ssFallback),el:t.el,anchor:t.anchor}}function fk(t=" ",e=0){return at(Rp,null,t,e)}function Y9(t,e){const n=at(jc,null,t);return n.staticCount=e,n}function Rv(t="",e=!1){return e?(on(),ls(Ar,null,t)):at(Ar,null,t)}function In(t){return t==null||typeof t=="boolean"?at(Ar):le(t)?at(Xt,null,t.slice()):typeof t=="object"?ar(t):at(Rp,null,String(t))}function ar(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:hs(t)}function Dp(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(le(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Dp(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(al in e)?e._ctx=kt:i===3&&kt&&(kt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ye(e)?(e={default:e,_ctx:kt},n=32):(e=String(e),r&64?(n=16,e=[fk(e)]):n=8);t.children=e,t.shapeFlag|=n}function dk(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Qu([e.class,r.class]));else if(i==="style")e.style=lp([e.style,r.style]);else if(Ju(i)){const s=e[i],o=r[i];o&&s!==o&&!(le(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function wn(t,e,n,r=null){vn(t,e,7,[n,r])}const pk=ew();let gk=0;function mk(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||pk,s={uid:gk++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new E_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:X_(r,i),emitsOptions:j_(r,i),emit:null,emitted:null,propsDefaults:Ke,inheritAttrs:r.inheritAttrs,ctx:Ke,data:Ke,props:Ke,attrs:Ke,slots:Ke,refs:Ke,setupState:Ke,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Tx.bind(null,s),t.ce&&t.ce(s),s}let ht=null;const xp=()=>ht||kt,fs=t=>{ht=t,t.scope.on()},ei=()=>{ht&&ht.scope.off(),ht=null};function iw(t){return t.vnode.shapeFlag&4}let ds=!1;function vk(t,e=!1){ds=e;const{props:n,children:r}=t.vnode,i=iw(t);Jx(t,n,i,e),tk(t,r);const s=i?yk(t,e):void 0;return ds=!1,s}function yk(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=us(new Proxy(t.ctx,Hx));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?ow(t):null;fs(t),Rs();const s=Er(r,t,0,[t.props,i]);if(Ds(),ei(),m_(s)){if(s.then(ei,ei),e)return s.then(o=>{Dv(t,o,e)}).catch(o=>{Ea(o,t,0)});t.asyncDep=s}else Dv(t,s,e)}else sw(t,e)}function Dv(t,e,n){ye(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:He(e)&&(t.setupState=M_(e)),sw(t,n)}let xv;function sw(t,e,n){const r=t.type;if(!t.render){if(!e&&xv&&!r.render){const i=r.template||Cp(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=r,u=Kt(Kt({isCustomElement:s,delimiters:a},o),c);r.render=xv(i,u)}}t.render=r.render||mn}fs(t),Rs(),qx(t),Ds(),ei()}function Ek(t){return new Proxy(t.attrs,{get(e,n){return Zt(t,"get","$attrs"),e[n]}})}function ow(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=Ek(t))},slots:t.slots,emit:t.emit,expose:e}}function cl(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(M_(us(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in yu)return yu[n](t)}}))}function bk(t,e=!0){return ye(t)?t.displayName||t.name:t.name||e&&t.__name}function _k(t){return ye(t)&&"__vccOpts"in t}const Qt=(t,e)=>yx(t,e,ds);function X9(){return wk().slots}function wk(){const t=xp();return t.setupContext||(t.setupContext=ow(t))}function aw(t,e,n){const r=arguments.length;return r===2?He(e)&&!le(e)?bu(e)?at(t,null,[e]):at(t,e):at(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&bu(n)&&(n=[n]),at(t,e,n))}const Sk="3.2.40",Tk="http://www.w3.org/2000/svg",Wr=typeof document!="undefined"?document:null,kv=Wr&&Wr.createElement("template"),Ak={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Wr.createElementNS(Tk,t):Wr.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Wr.createTextNode(t),createComment:t=>Wr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Wr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{kv.innerHTML=r?`<svg>${t}</svg>`:t;const a=kv.content;if(r){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Ik(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Ck(t,e,n){const r=t.style,i=pt(n);if(n&&!i){for(const s in n)Xf(r,s,n[s]);if(e&&!pt(e))for(const s in e)n[s]==null&&Xf(r,s,"")}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const Pv=/\s*!important$/;function Xf(t,e,n){if(le(n))n.forEach(r=>Xf(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Ok(t,e);Pv.test(n)?t.setProperty(mi(r),n.replace(Pv,""),"important"):t[r]=n}}const Nv=["Webkit","Moz","ms"],gh={};function Ok(t,e){const n=gh[e];if(n)return n;let r=Nn(e);if(r!=="filter"&&r in t)return gh[e]=r;r=tl(r);for(let i=0;i<Nv.length;i++){const s=Nv[i]+r;if(s in t)return gh[e]=s}return e}const Mv="http://www.w3.org/1999/xlink";function Rk(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Mv,e.slice(6,e.length)):t.setAttributeNS(Mv,e,n);else{const s=ID(e);n==null||s&&!d_(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function Dk(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const c=n==null?"":n;(t.value!==c||t.tagName==="OPTION")&&(t.value=c),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=d_(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}const[cw,xk]=(()=>{let t=Date.now,e=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(n&&Number(n[1])<=53)}return[t,e]})();let Qf=0;const kk=Promise.resolve(),Pk=()=>{Qf=0},Nk=()=>Qf||(kk.then(Pk),Qf=cw());function dr(t,e,n,r){t.addEventListener(e,n,r)}function Mk(t,e,n,r){t.removeEventListener(e,n,r)}function $k(t,e,n,r,i=null){const s=t._vei||(t._vei={}),o=s[e];if(r&&o)o.value=r;else{const[a,c]=Lk(e);if(r){const u=s[e]=Fk(r,i);dr(t,a,u,c)}else o&&(Mk(t,a,o,c),s[e]=void 0)}}const $v=/(?:Once|Passive|Capture)$/;function Lk(t){let e;if($v.test(t)){e={};let r;for(;r=t.match($v);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):mi(t.slice(2)),e]}function Fk(t,e){const n=r=>{const i=r.timeStamp||cw();(xk||i>=n.attached-1)&&vn(Bk(r,n.value),e,5,[r])};return n.value=t,n.attached=Nk(),n}function Bk(t,e){if(le(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Lv=/^on[a-z]/,Uk=(t,e,n,r,i=!1,s,o,a,c)=>{e==="class"?Ik(t,r,i):e==="style"?Ck(t,n,r):Ju(e)?hp(e)||$k(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):jk(t,e,r,i))?Dk(t,e,r,s,o,a,c):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Rk(t,e,r,i))};function jk(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&Lv.test(e)&&ye(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Lv.test(e)&&pt(n)?!1:e in t}const ps=t=>{const e=t.props["onUpdate:modelValue"]||!1;return le(e)?n=>Bc(e,n):e};function Vk(t){t.target.composing=!0}function Fv(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Q9={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=ps(i);const s=r||i.props&&i.props.type==="number";dr(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Bf(a)),t._assign(a)}),n&&dr(t,"change",()=>{t.value=t.value.trim()}),e||(dr(t,"compositionstart",Vk),dr(t,"compositionend",Fv),dr(t,"change",Fv))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t._assign=ps(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&Bf(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},J9={deep:!0,created(t,e,n){t._assign=ps(n),dr(t,"change",()=>{const r=t._modelValue,i=uw(t),s=t.checked,o=t._assign;if(le(r)){const a=p_(r,i),c=a!==-1;if(s&&!c)o(r.concat(i));else if(!s&&c){const u=[...r];u.splice(a,1),o(u)}}else if(Zu(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(lw(t,s))})},mounted:Bv,beforeUpdate(t,e,n){t._assign=ps(n),Bv(t,e,n)}};function Bv(t,{value:e,oldValue:n},r){t._modelValue=e,le(e)?t.checked=p_(e,r.props.value)>-1:Zu(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=as(e,lw(t,!0)))}const Z9={created(t,{value:e},n){t.checked=as(e,n.props.value),t._assign=ps(n),dr(t,"change",()=>{t._assign(uw(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t._assign=ps(r),e!==n&&(t.checked=as(e,r.props.value))}};function uw(t){return"_value"in t?t._value:t.value}function lw(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Kk=["ctrl","shift","alt","meta"],zk={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Kk.some(n=>t[`${n}Key`]&&!e.includes(n))},e5=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const s=zk[e[i]];if(s&&s(n,e))return}return t(n,...r)},Wk={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},t5=(t,e)=>n=>{if(!("key"in n))return;const r=mi(n.key);if(e.some(i=>i===r||Wk[i]===r))return t(n)},Hk=Kt({patchProp:Uk},Ak);let Uv;function qk(){return Uv||(Uv=sk(Hk))}const Gk=(...t)=>{const e=qk().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Yk(r);if(!i)return;const s=e._component;!ye(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function Yk(t){return pt(t)?document.querySelector(t):t}var Xk=!1;function Qk(){return hw().__VUE_DEVTOOLS_GLOBAL_HOOK__}function hw(){return typeof navigator!="undefined"&&typeof window!="undefined"?window:typeof global!="undefined"?global:{}}const Jk=typeof Proxy=="function",Zk="devtools-plugin:setup",eP="plugin:settings:set";let Di,Jf;function tP(){var t;return Di!==void 0||(typeof window!="undefined"&&window.performance?(Di=!0,Jf=window.performance):typeof global!="undefined"&&((t=global.perf_hooks)===null||t===void 0?void 0:t.performance)?(Di=!0,Jf=global.perf_hooks.performance):Di=!1),Di}function nP(){return tP()?Jf.now():Date.now()}class rP{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const o in e.settings){const a=e.settings[o];r[o]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const o=localStorage.getItem(i),a=JSON.parse(o);Object.assign(s,a)}catch{}this.fallbacks={getSettings(){return s},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}s=o},now(){return nP()}},n&&n.on(eP,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...c)=>{this.onQueue.push({method:a,args:c})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...c)=>(this.targetQueue.push({method:a,args:c,resolve:()=>{}}),this.fallbacks[a](...c)):(...c)=>new Promise(u=>{this.targetQueue.push({method:a,args:c,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function iP(t,e){const n=t,r=hw(),i=Qk(),s=Jk&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(Zk,t,e);else{const o=s?new rP(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let fw;const ul=t=>fw=t,dw=Symbol();function Zf(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var po;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(po||(po={}));function sP(){const t=b_(!0),e=t.run(()=>an({}));let n=[],r=[];const i=us({install(s){ul(i),i._a=s,s.provide(dw,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!Xk?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const pw=()=>{};function jv(t,e,n,r=pw){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&xp()&&Ap(i),i}function xi(t,...e){t.slice().forEach(n=>{n(...e)})}function ed(t,e){for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Zf(i)&&Zf(r)&&t.hasOwnProperty(n)&&!rt(r)&&!yr(r)?t[n]=ed(i,r):t[n]=r}return t}const oP=Symbol();function aP(t){return!Zf(t)||!t.hasOwnProperty(oP)}const{assign:Vn}=Object;function cP(t){return!!(rt(t)&&t.effect)}function uP(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let c;function u(){a||(n.state.value[t]=i?i():{});const l=px(n.state.value[t]);return Vn(l,s,Object.keys(o||{}).reduce((h,f)=>(h[f]=us(Qt(()=>{ul(n);const p=n._s.get(t);return o[f].call(p,p)})),h),{}))}return c=gw(t,u,e,n,r,!0),c.$reset=function(){const h=i?i():{};this.$patch(f=>{Vn(f,h)})},c}function gw(t,e,n={},r,i,s){let o;const a=Vn({actions:{}},n),c={deep:!0};let u,l,h=us([]),f=us([]),p;const v=r.state.value[t];!s&&!v&&(r.state.value[t]={}),an({});let C;function S(b){let O;u=l=!1,typeof b=="function"?(b(r.state.value[t]),O={type:po.patchFunction,storeId:t,events:p}):(ed(r.state.value[t],b),O={type:po.patchObject,payload:b,storeId:t,events:p});const X=C=Symbol();wp().then(()=>{C===X&&(u=!0)}),l=!0,xi(h,O,r.state.value[t])}const A=pw;function R(){o.stop(),h=[],f=[],r._s.delete(t)}function K(b,O){return function(){ul(r);const X=Array.from(arguments),se=[],we=[];function Ce(ze){se.push(ze)}function et(ze){we.push(ze)}xi(f,{args:X,name:b,store:k,after:Ce,onError:et});let Je;try{Je=O.apply(this&&this.$id===t?this:k,X)}catch(ze){throw xi(we,ze),ze}return Je instanceof Promise?Je.then(ze=>(xi(se,ze),ze)).catch(ze=>(xi(we,ze),Promise.reject(ze))):(xi(se,Je),Je)}}const j={_p:r,$id:t,$onAction:jv.bind(null,f),$patch:S,$reset:A,$subscribe(b,O={}){const X=jv(h,b,O.detached,()=>se()),se=o.run(()=>Zr(()=>r.state.value[t],we=>{(O.flush==="sync"?l:u)&&b({storeId:t,type:po.direct,events:p},we)},Vn({},c,O)));return X},$dispose:R},k=kr(Vn({},j));r._s.set(t,k);const N=r._e.run(()=>(o=b_(),o.run(()=>e())));for(const b in N){const O=N[b];if(rt(O)&&!cP(O)||yr(O))s||(v&&aP(O)&&(rt(O)?O.value=v[b]:ed(O,v[b])),r.state.value[t][b]=O);else if(typeof O=="function"){const X=K(b,O);N[b]=X,a.actions[b]=O}}return Vn(k,N),Vn($e(k),N),Object.defineProperty(k,"$state",{get:()=>r.state.value[t],set:b=>{S(O=>{Vn(O,b)})}}),r._p.forEach(b=>{Vn(k,o.run(()=>b({store:k,app:r._a,pinia:r,options:a})))}),v&&s&&n.hydrate&&n.hydrate(k.$state,v),u=!0,l=!0,k}function n5(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,c){const u=xp();return a=a||u&&cn(dw),a&&ul(a),a=fw,a._s.has(r)||(s?gw(r,e,i,a):uP(r,i,a)),a._s.get(r)}return o.$id=r,o}const mw=an([]),vw=an(null),yw=an(null),Ew=an(null),bw=an(null),Pt=kr({current:""}),td=[],lP=an(!1),nd=Pr(mw),hP=Pr(vw),fP=Pr(yw),dP=Pr(Ew),pP=Pr(bw),gP=Pr(Pt),mP=t=>{mw.value=t},vP=t=>{vw.value=t},yP=t=>{yw.value=t},EP=t=>{Ew.value=t},bP=t=>{bw.value=t},_w=(t=hP.value)=>{Pt.current=t;const e=nd.value.findIndex(r=>r.name===t),n=nd.value.map(r=>r.name);for(let r=0;r<n.length;r++){if(r>0&&r<n.length-1){const i=n[r]+"Minus",s=n[r]+"Plus";Pt[i]=e<=r,Pt[s]=e>=r}Pt[n[r]]=n[r]===t}},_P=()=>{const t=Object.keys(Pt);for(let e of t)delete Pt[e];_w(),ww(),Sw(),Tw()},ww=(t=fP.value)=>{Pt.orientation=t,Pt.isLandscape=t==="landscape",Pt.isPortrait=t==="portrait"},Sw=(t=dP.value||"light")=>{Pt.theme=t,Pt.isDark=t==="dark",Pt.isLight=t==="light"},Tw=(t=pP.value||"no-preference")=>{Pt.motionPreference=t,Pt.isMotion=t==="no-preference",Pt.isInert=t==="reduce"};function wP(){for(;td.length>0;){const t=td.shift();if(t&&typeof t=="object"){const{mql:e,cb:n}=t;e.addEventListener&&typeof e.addEventListener=="function"?e.removeEventListener("change",n):e.removeListener(n)}}}function SP(){return nd.value.reduce((e,n,r,i)=>{const s=`(min-width: ${n.min}px)`,o=r<i.length-1?`(max-width: ${i[r+1].min-1}px)`:null,a=s+(o?" and "+o:"");return Object.assign(e,{[n.name]:a})},{})}function Ja(t,e){if(typeof window=="undefined"||!window.matchMedia)return!1;if(typeof window!="undefined"&&!window.matchMedia)return console.error("Vue3 Mq: No MatchMedia support detected in this browser. Responsive breakpoints not available."),!1;{lP.value=!0;const n=window.matchMedia(t),r=({matches:s})=>{s&&e()};td.push({mql:n,cb:r}),n.addEventListener&&typeof n.addEventListener=="function"?n.addEventListener("change",r):n.addListener(r),r(n)}}const TP={xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400},AP={xs:0,sm:576,md:768,lg:992,xl:1200},IP={xs:0,sm:768,md:992,lg:1200},CP={xs:0,sm:600,md:960,lg:1264,xl:1904},OP={xs:0,sm:640,md:768,lg:1024,xl:1280,xxl:1536},RP={phone:0,tablet:768,laptop:1370,desktop:1906},DP={mobile:0,small:600,medium:782,large:960,xlarge:1080,wide:1280,huge:1440};var mh=Object.freeze(Object.defineProperty({__proto__:null,bootstrap5:TP,bootstrap4:AP,bootstrap3:IP,vuetify:CP,tailwind:OP,devices:RP,wordpress:DP},Symbol.toStringTag,{value:"Module"}));const xP=t=>{if(typeof t=="string"&&mh[t])return mh[t];{const e=Object.keys(mh);return console.error(`Vue3 Mq: "${t}" is not a valid preset. Available options are: ${e.join(", ")}`),!1}},kP=t=>["landscape","portrait"].includes(t)===!1?(console.error(`Vue3 Mq: "${t}" is not a valid default orientation. Reverting to unset value.`),null):t,PP=(t=null)=>["dark","light"].includes(t)===!1&&t!==null?(console.error(`Vue3 Mq: "${t}" is not a valid default theme. Reverting to unset value.`),null):t,NP=(t=null)=>["no-preference","reduce"].includes(t)===!1&&t!==null?(console.error(`Vue3 Mq: "${t}" is not a valid default motion preference. Reverting to unset value.`),null):t,Vv=t=>{if(!t||typeof t!="object")return!1;const e=[];for(let i in t){const s=parseFloat(t[i]);if(!i||typeof i!="string"){console.warn(`Vue3 Mq: Invalid or missing breakpoint key (${JSON.stringify(i)}). Skipping.`);continue}else if(/^[^a-z]/i.test(i)||/[^a-zA-Z0-9_]/.test(i)){console.warn(`Vue3 Mq: "${i}" is an invalid breakpoint key. Breakpoint keys must start with a letter and contain only alphanumeric characters and underscores. Skipping.`);continue}else if(!s&&s!==0||isNaN(s)||s<0){console.warn(`Vue3 Mq: "${i}: ${t[i]}" is not a valid breakpoint. Breakpoints should be a number of zero or above. Skipping.`);continue}e.push({name:i,min:s})}return e.some(i=>i.min===0)||console.warn("Vue3 Mq: You have not declared a breakpoint with a minimum value of 0. There may be screen sizes to which Vue3Mq does not respond."),new Set(e.map(i=>i.min)).size<e.length&&console.warn("Vue3 Mq: Your breakpoint configuration contains duplicate values. Behaviour may be unpredictable."),e.length===0?!1:e.sort((i,s)=>i.min-s.min)};function Kv({breakpoints:t,preset:e}){const n=xP(e),r=Vv(t);if(n===!1&&!r)throw new TypeError("Vue3 Mq: You must provide a valid preset, or valid breakpoint settings.");mP(r||Vv(n)),wP(),_P();const i=SP();for(const s in i){const o=i[s];Ja(o,()=>{_w(s)})}["portrait","landscape"].forEach(s=>{const o=()=>{ww(s)};Ja(`(orientation: ${s})`,o)}),["light","dark"].forEach(s=>{const o=()=>{Sw(s)};Ja(`(prefers-color-scheme: ${s})`,o)}),["reduce","no-preference"].forEach(s=>{const o=()=>{Tw(s)};Ja(`(prefers-reduced-motion: ${s})`,o)})}const MP=(t,{preset:e="bootstrap5",breakpoints:n,defaultBreakpoint:r,defaultOrientation:i="landscape",defaultMotion:s="no-preference",defaultTheme:o}={})=>{try{const a=kP(i),c=PP(o),u=NP(s);vP(r),yP(a),EP(c),bP(u),t.provide("mq",gP),t.provide("updateBreakpoints",Kv),Kv({breakpoints:n,preset:e})}catch(a){console.error(a)}};var $P={install:MP};const LP="modulepreload",zv={},FP="/",Ge=function(e,n){return!n||n.length===0?e():Promise.all(n.map(r=>{if(r=`${FP}${r}`,r in zv)return;zv[r]=!0;const i=r.endsWith(".css"),s=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${s}`))return;const o=document.createElement("link");if(o.rel=i?"stylesheet":LP,i||(o.as="script",o.crossOrigin=""),o.href=r,document.head.appendChild(o),i)return new Promise((a,c)=>{o.addEventListener("load",a),o.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())},BP=ba({__name:"AsyncChangeLog",setup(t){const e=Px(()=>Ge(()=>import("./ChangeLog.aada45ad.js"),["assets/ChangeLog.aada45ad.js","assets/account.3888494d.js"]));return(n,r)=>(on(),ls(Jr(e)))}});var kp=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const UP={components:{AsyncChangeLog:BP},inject:["mq"],watch:{theme(t){this.updateTheme()}},computed:{home(){return this.$route.name==="home"},ligatures(){return this.$store.state.settings.editor.ligatures},publicDoc(){return this.$route.name==="public-doc"},showStripeModal(){return this.$store.state.showStripeModal},sizes(){return this.mq.current==="xs"?["xs xs-plus"]:this.mq.current==="sm"?["sm xs-plus sm-plus"]:this.mq.current==="md"?["md xs-plus sm-plus md-plus"]:this.mq.current==="lg"?["lg xs-plus sm-plus md-plus lg-plus"]:this.mq.current==="xl"?["xl xs-plus sm-plus md-plus lg-plus xl-plus"]:[]},theme(){return this.$store.state.settings.theme}},methods:{closeChangelog(){this.showChangelog=!1},updateTheme(){switch(document.documentElement.classList.remove("auto","dark","light","october"),this.theme){case"dark":document.documentElement.classList.add("dark");break;case"light":document.documentElement.classList.add("light");break;case"october":document.documentElement.classList.add("dark","october");break;case"auto":const e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";document.documentElement.classList.add("auto",e);break;default:document.documentElement.classList.add("dark");break}}},created(){this.updateTheme(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{this.updateTheme()})}},jP={key:0,class:"flex items-center justify-center fixed top-0 left-0 h-full w-full z-50 bg-darkest"},VP=lt("div",{class:"flex flex-col items-center justify-center gap-8 text-center text-2xl"},[lt("svg",{class:"animate-spin mr-3 h-10 w-10 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[lt("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),lt("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),lt("span",null,"Redirecting you to Stripe for checkout")],-1),KP=[VP];function zP(t,e,n,r,i,s){const o=yv("AsyncChangeLog"),a=yv("router-view");return on(),Zi("div",{id:"app",class:Qu(["h-screen",s.sizes.concat([!s.ligatures&&"ligatures-none"])])},[s.showStripeModal?(on(),Zi("div",jP,KP)):Rv("",!0),!s.home&&!s.publicDoc?(on(),ls(o,{key:1})):Rv("",!0),at(a,{inheritAttrs:!0,class:"flex-grow flex-shrink min-h-0"})],2)}var WP=kp(UP,[["render",zP]]);const HP={props:{scope:String},computed:{appendable(){return this.$packageManager.getComponents(this.scope,"append")},prependable(){return this.$packageManager.getComponents(this.scope,"prepend")}},created(){[...this.appendable,...this.prependable].forEach(t=>{this.$options.components[t.name]=t})}};function qP(t,e,n,r,i,s){return on(),Zi("div",null,[(on(!0),Zi(Xt,null,_v(s.prependable,o=>(on(),ls(Ev(o.name),{key:o.name}))),128)),H_(t.$slots,"default"),(on(!0),Zi(Xt,null,_v(s.appendable,o=>(on(),ls(Ev(o.name),{key:o.name}))),128))])}var GP=kp(HP,[["render",qP]]);var yt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function r5(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),e}function Za(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ec=function(t){return t&&t.Math==Math&&t},_e=ec(typeof globalThis=="object"&&globalThis)||ec(typeof window=="object"&&window)||ec(typeof self=="object"&&self)||ec(typeof yt=="object"&&yt)||function(){return this}()||Function("return this")(),ll={exports:{}},Wv=_e,YP=Object.defineProperty,Pp=function(t,e){try{YP(Wv,t,{value:e,configurable:!0,writable:!0})}catch{Wv[t]=e}return e},XP=_e,QP=Pp,Hv="__core-js_shared__",JP=XP[Hv]||QP(Hv,{}),Np=JP,qv=Np;(ll.exports=function(t,e){return qv[t]||(qv[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.22.6",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.6/LICENSE",source:"https://github.com/zloirock/core-js"});var Qe=function(t){try{return!!t()}catch{return!0}},ZP=Qe,hl=!ZP(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),Aw=hl,Iw=Function.prototype,eN=Iw.bind,rd=Iw.call,tN=Aw&&eN.bind(rd,rd),qe=Aw?function(t){return t&&tN(t)}:function(t){return t&&function(){return rd.apply(t,arguments)}},nN=_e,rN=nN.TypeError,xs=function(t){if(t==null)throw rN("Can't call method on "+t);return t},iN=_e,sN=xs,oN=iN.Object,ks=function(t){return oN(sN(t))},aN=qe,cN=ks,uN=aN({}.hasOwnProperty),En=Object.hasOwn||function(e,n){return uN(cN(e),n)},lN=qe,hN=0,fN=Math.random(),dN=lN(1 .toString),Mp=function(t){return"Symbol("+(t===void 0?"":t)+")_"+dN(++hN+fN,36)},ut=function(t){return typeof t=="function"},vh=_e,pN=ut,gN=function(t){return pN(t)?t:void 0},_a=function(t,e){return arguments.length<2?gN(vh[t]):vh[t]&&vh[t][e]},mN=_a,vN=mN("navigator","userAgent")||"",Cw=_e,yh=vN,Gv=Cw.process,Yv=Cw.Deno,Xv=Gv&&Gv.versions||Yv&&Yv.version,Qv=Xv&&Xv.v8,dn,_u;Qv&&(dn=Qv.split("."),_u=dn[0]>0&&dn[0]<4?1:+(dn[0]+dn[1]));!_u&&yh&&(dn=yh.match(/Edge\/(\d+)/),(!dn||dn[1]>=74)&&(dn=yh.match(/Chrome\/(\d+)/),dn&&(_u=+dn[1])));var $p=_u,Jv=$p,yN=Qe,Ow=!!Object.getOwnPropertySymbols&&!yN(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Jv&&Jv<41}),EN=Ow,Rw=EN&&!Symbol.sham&&typeof Symbol.iterator=="symbol",bN=_e,_N=ll.exports,Zv=En,wN=Mp,ey=Ow,Dw=Rw,ki=_N("wks"),ti=bN.Symbol,ty=ti&&ti.for,SN=Dw?ti:ti&&ti.withoutSetter||wN,zt=function(t){if(!Zv(ki,t)||!(ey||typeof ki[t]=="string")){var e="Symbol."+t;ey&&Zv(ti,t)?ki[t]=ti[t]:Dw&&ty?ki[t]=ty(e):ki[t]=SN(e)}return ki[t]},TN=zt,AN=TN("toStringTag"),xw={};xw[AN]="z";var Lp=String(xw)==="[object z]",IN=Qe,bn=!IN(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),$n={},CN=ut,ln=function(t){return typeof t=="object"?t!==null:CN(t)},ON=_e,ny=ln,id=ON.document,RN=ny(id)&&ny(id.createElement),Fp=function(t){return RN?id.createElement(t):{}},DN=bn,xN=Qe,kN=Fp,kw=!DN&&!xN(function(){return Object.defineProperty(kN("div"),"a",{get:function(){return 7}}).a!=7}),PN=bn,NN=Qe,Pw=PN&&NN(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),Nw=_e,MN=ln,$N=Nw.String,LN=Nw.TypeError,tn=function(t){if(MN(t))return t;throw LN($N(t)+" is not an object")},FN=hl,tc=Function.prototype.call,hn=FN?tc.bind(tc):function(){return tc.apply(tc,arguments)},BN=qe,Bp=BN({}.isPrototypeOf),UN=_e,jN=_a,VN=ut,KN=Bp,zN=Rw,WN=UN.Object,Mw=zN?function(t){return typeof t=="symbol"}:function(t){var e=jN("Symbol");return VN(e)&&KN(e.prototype,WN(t))},HN=_e,qN=HN.String,Up=function(t){try{return qN(t)}catch{return"Object"}},GN=_e,YN=ut,XN=Up,QN=GN.TypeError,fl=function(t){if(YN(t))return t;throw QN(XN(t)+" is not a function")},JN=fl,wa=function(t,e){var n=t[e];return n==null?void 0:JN(n)},ZN=_e,Eh=hn,bh=ut,_h=ln,eM=ZN.TypeError,tM=function(t,e){var n,r;if(e==="string"&&bh(n=t.toString)&&!_h(r=Eh(n,t))||bh(n=t.valueOf)&&!_h(r=Eh(n,t))||e!=="string"&&bh(n=t.toString)&&!_h(r=Eh(n,t)))return r;throw eM("Can't convert object to primitive value")},nM=_e,rM=hn,ry=ln,iy=Mw,iM=wa,sM=tM,oM=zt,aM=nM.TypeError,cM=oM("toPrimitive"),uM=function(t,e){if(!ry(t)||iy(t))return t;var n=iM(t,cM),r;if(n){if(e===void 0&&(e="default"),r=rM(n,t,e),!ry(r)||iy(r))return r;throw aM("Can't convert object to primitive value")}return e===void 0&&(e="number"),sM(t,e)},lM=uM,hM=Mw,jp=function(t){var e=lM(t,"string");return hM(e)?e:e+""},fM=_e,dM=bn,pM=kw,gM=Pw,nc=tn,sy=jp,mM=fM.TypeError,wh=Object.defineProperty,vM=Object.getOwnPropertyDescriptor,Sh="enumerable",Th="configurable",Ah="writable";$n.f=dM?gM?function(e,n,r){if(nc(e),n=sy(n),nc(r),typeof e=="function"&&n==="prototype"&&"value"in r&&Ah in r&&!r[Ah]){var i=vM(e,n);i&&i[Ah]&&(e[n]=r.value,r={configurable:Th in r?r[Th]:i[Th],enumerable:Sh in r?r[Sh]:i[Sh],writable:!1})}return wh(e,n,r)}:wh:function(e,n,r){if(nc(e),n=sy(n),nc(r),pM)try{return wh(e,n,r)}catch{}if("get"in r||"set"in r)throw mM("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var dl=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},yM=bn,EM=$n,bM=dl,vi=yM?function(t,e,n){return EM.f(t,e,bM(1,n))}:function(t,e,n){return t[e]=n,t},$w={exports:{}},sd=bn,_M=En,Lw=Function.prototype,wM=sd&&Object.getOwnPropertyDescriptor,Vp=_M(Lw,"name"),SM=Vp&&function(){}.name==="something",TM=Vp&&(!sd||sd&&wM(Lw,"name").configurable),Kp={EXISTS:Vp,PROPER:SM,CONFIGURABLE:TM},AM=qe,IM=ut,od=Np,CM=AM(Function.toString);IM(od.inspectSource)||(od.inspectSource=function(t){return CM(t)});var zp=od.inspectSource,OM=_e,RM=ut,DM=zp,oy=OM.WeakMap,Fw=RM(oy)&&/native code/.test(DM(oy)),xM=ll.exports,kM=Mp,ay=xM("keys"),Wp=function(t){return ay[t]||(ay[t]=kM(t))},pl={},PM=Fw,Bw=_e,Ih=qe,NM=ln,MM=vi,Ch=En,Oh=Np,$M=Wp,LM=pl,cy="Object already initialized",ad=Bw.TypeError,FM=Bw.WeakMap,wu,Wo,Su,BM=function(t){return Su(t)?Wo(t):wu(t,{})},UM=function(t){return function(e){var n;if(!NM(e)||(n=Wo(e)).type!==t)throw ad("Incompatible receiver, "+t+" required");return n}};if(PM||Oh.state){var jr=Oh.state||(Oh.state=new FM),jM=Ih(jr.get),uy=Ih(jr.has),VM=Ih(jr.set);wu=function(t,e){if(uy(jr,t))throw new ad(cy);return e.facade=t,VM(jr,t,e),e},Wo=function(t){return jM(jr,t)||{}},Su=function(t){return uy(jr,t)}}else{var Pi=$M("state");LM[Pi]=!0,wu=function(t,e){if(Ch(t,Pi))throw new ad(cy);return e.facade=t,MM(t,Pi,e),e},Wo=function(t){return Ch(t,Pi)?t[Pi]:{}},Su=function(t){return Ch(t,Pi)}}var Ps={set:wu,get:Wo,has:Su,enforce:BM,getterFor:UM},KM=Qe,zM=ut,rc=En,Uw=bn,WM=Kp.CONFIGURABLE,HM=zp,jw=Ps,qM=jw.enforce,GM=jw.get,Kc=Object.defineProperty,YM=Uw&&!KM(function(){return Kc(function(){},"length",{value:8}).length!==8}),XM=String(String).split("String"),QM=$w.exports=function(t,e,n){if(String(e).slice(0,7)==="Symbol("&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!rc(t,"name")||WM&&t.name!==e)&&Kc(t,"name",{value:e,configurable:!0}),YM&&n&&rc(n,"arity")&&t.length!==n.arity&&Kc(t,"length",{value:n.arity}),n&&rc(n,"constructor")&&n.constructor){if(Uw)try{Kc(t,"prototype",{writable:!1})}catch{}}else t.prototype=void 0;var r=qM(t);return rc(r,"source")||(r.source=XM.join(typeof e=="string"?e:"")),t};Function.prototype.toString=QM(function(){return zM(this)&&GM(this).source||HM(this)},"toString");var JM=ut,ZM=vi,e$=$w.exports,t$=Pp,yi=function(t,e,n,r){r||(r={});var i=r.enumerable,s=r.name!==void 0?r.name:e;return JM(n)&&e$(n,s,r),r.global?i?t[e]=n:t$(e,n):(r.unsafe?t[e]&&(i=!0):delete t[e],i?t[e]=n:ZM(t,e,n)),t},Vw=qe,n$=Vw({}.toString),r$=Vw("".slice),Ei=function(t){return r$(n$(t),8,-1)},i$=_e,s$=Lp,o$=ut,zc=Ei,a$=zt,c$=a$("toStringTag"),u$=i$.Object,l$=zc(function(){return arguments}())=="Arguments",h$=function(t,e){try{return t[e]}catch{}},gl=s$?zc:function(t){var e,n,r;return t===void 0?"Undefined":t===null?"Null":typeof(n=h$(e=u$(t),c$))=="string"?n:l$?zc(e):(r=zc(e))=="Object"&&o$(e.callee)?"Arguments":r},f$=Lp,d$=gl,p$=f$?{}.toString:function(){return"[object "+d$(this)+"]"},g$=Lp,m$=yi,v$=p$;g$||m$(Object.prototype,"toString",v$,{unsafe:!0});var Kw={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},y$=Fp,Rh=y$("span").classList,ly=Rh&&Rh.constructor&&Rh.constructor.prototype,zw=ly===Object.prototype?void 0:ly,hy=qe,E$=fl,b$=hl,_$=hy(hy.bind),Ww=function(t,e){return E$(t),e===void 0?t:b$?_$(t,e):function(){return t.apply(e,arguments)}},w$=_e,S$=qe,T$=Qe,A$=Ei,Dh=w$.Object,I$=S$("".split),ml=T$(function(){return!Dh("z").propertyIsEnumerable(0)})?function(t){return A$(t)=="String"?I$(t,""):Dh(t)}:Dh,C$=Math.ceil,O$=Math.floor,R$=Math.trunc||function(e){var n=+e;return(n>0?O$:C$)(n)},D$=R$,vl=function(t){var e=+t;return e!==e||e===0?0:D$(e)},x$=vl,k$=Math.min,Hp=function(t){return t>0?k$(x$(t),9007199254740991):0},P$=Hp,Sa=function(t){return P$(t.length)},N$=Ei,M$=Array.isArray||function(e){return N$(e)=="Array"},$$=qe,L$=Qe,Hw=ut,F$=gl,B$=_a,U$=zp,qw=function(){},j$=[],Gw=B$("Reflect","construct"),qp=/^\s*(?:class|function)\b/,V$=$$(qp.exec),K$=!qp.exec(qw),Xs=function(e){if(!Hw(e))return!1;try{return Gw(qw,j$,e),!0}catch{return!1}},Yw=function(e){if(!Hw(e))return!1;switch(F$(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return K$||!!V$(qp,U$(e))}catch{return!0}};Yw.sham=!0;var z$=!Gw||L$(function(){var t;return Xs(Xs.call)||!Xs(Object)||!Xs(function(){t=!0})||t})?Yw:Xs,W$=_e,fy=M$,H$=z$,q$=ln,G$=zt,Y$=G$("species"),dy=W$.Array,X$=function(t){var e;return fy(t)&&(e=t.constructor,H$(e)&&(e===dy||fy(e.prototype))?e=void 0:q$(e)&&(e=e[Y$],e===null&&(e=void 0))),e===void 0?dy:e},Q$=X$,J$=function(t,e){return new(Q$(t))(e===0?0:e)},Z$=Ww,eL=qe,tL=ml,nL=ks,rL=Sa,iL=J$,py=eL([].push),ir=function(t){var e=t==1,n=t==2,r=t==3,i=t==4,s=t==6,o=t==7,a=t==5||s;return function(c,u,l,h){for(var f=nL(c),p=tL(f),v=Z$(u,l),C=rL(p),S=0,A=h||iL,R=e?A(c,C):n||o?A(c,0):void 0,K,j;C>S;S++)if((a||S in p)&&(K=p[S],j=v(K,S,f),t))if(e)R[S]=j;else if(j)switch(t){case 3:return!0;case 5:return K;case 6:return S;case 2:py(R,K)}else switch(t){case 4:return!1;case 7:py(R,K)}return s?-1:r||i?i:R}},Gp={forEach:ir(0),map:ir(1),filter:ir(2),some:ir(3),every:ir(4),find:ir(5),findIndex:ir(6),filterReject:ir(7)},sL=Qe,Xw=function(t,e){var n=[][t];return!!n&&sL(function(){n.call(null,e||function(){return 1},1)})},oL=Gp.forEach,aL=Xw,cL=aL("forEach"),uL=cL?[].forEach:function(e){return oL(this,e,arguments.length>1?arguments[1]:void 0)},gy=_e,my=Kw,lL=zw,xh=uL,hL=vi,Qw=function(t){if(t&&t.forEach!==xh)try{hL(t,"forEach",xh)}catch{t.forEach=xh}};for(var kh in my)my[kh]&&Qw(gy[kh]&&gy[kh].prototype);Qw(lL);var fL=!!(typeof window!="undefined"&&window.document&&window.document.createElement),Yp=fL,Xp={},Qp={},Jw={}.propertyIsEnumerable,Zw=Object.getOwnPropertyDescriptor,dL=Zw&&!Jw.call({1:2},1);Qp.f=dL?function(e){var n=Zw(this,e);return!!n&&n.enumerable}:Jw;var pL=ml,gL=xs,Ns=function(t){return pL(gL(t))},mL=bn,vL=hn,yL=Qp,EL=dl,bL=Ns,_L=jp,wL=En,SL=kw,vy=Object.getOwnPropertyDescriptor;Xp.f=mL?vy:function(e,n){if(e=bL(e),n=_L(n),SL)try{return vy(e,n)}catch{}if(wL(e,n))return EL(!vL(yL.f,e,n),e[n])};var yl={},TL=vl,AL=Math.max,IL=Math.min,eS=function(t,e){var n=TL(t);return n<0?AL(n+e,0):IL(n,e)},CL=Ns,OL=eS,RL=Sa,yy=function(t){return function(e,n,r){var i=CL(e),s=RL(i),o=OL(r,s),a;if(t&&n!=n){for(;s>o;)if(a=i[o++],a!=a)return!0}else for(;s>o;o++)if((t||o in i)&&i[o]===n)return t||o||0;return!t&&-1}},DL={includes:yy(!0),indexOf:yy(!1)},xL=qe,Ph=En,kL=Ns,PL=DL.indexOf,NL=pl,Ey=xL([].push),tS=function(t,e){var n=kL(t),r=0,i=[],s;for(s in n)!Ph(NL,s)&&Ph(n,s)&&Ey(i,s);for(;e.length>r;)Ph(n,s=e[r++])&&(~PL(i,s)||Ey(i,s));return i},Jp=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ML=tS,$L=Jp,LL=$L.concat("length","prototype");yl.f=Object.getOwnPropertyNames||function(e){return ML(e,LL)};var Zp={};Zp.f=Object.getOwnPropertySymbols;var FL=_a,BL=qe,UL=yl,jL=Zp,VL=tn,KL=BL([].concat),zL=FL("Reflect","ownKeys")||function(e){var n=UL.f(VL(e)),r=jL.f;return r?KL(n,r(e)):n},by=En,WL=zL,HL=Xp,qL=$n,GL=function(t,e,n){for(var r=WL(e),i=qL.f,s=HL.f,o=0;o<r.length;o++){var a=r[o];!by(t,a)&&!(n&&by(n,a))&&i(t,a,s(e,a))}},YL=Qe,XL=ut,QL=/#|\.prototype\./,Ta=function(t,e){var n=ZL[JL(t)];return n==tF?!0:n==eF?!1:XL(e)?YL(e):!!e},JL=Ta.normalize=function(t){return String(t).replace(QL,".").toLowerCase()},ZL=Ta.data={},eF=Ta.NATIVE="N",tF=Ta.POLYFILL="P",nS=Ta,Nh=_e,nF=Xp.f,rF=vi,iF=yi,sF=Pp,oF=GL,aF=nS,Nr=function(t,e){var n=t.target,r=t.global,i=t.stat,s,o,a,c,u,l;if(r?o=Nh:i?o=Nh[n]||sF(n,{}):o=(Nh[n]||{}).prototype,o)for(a in e){if(u=e[a],t.dontCallGetSet?(l=nF(o,a),c=l&&l.value):c=o[a],s=aF(r?a:n+(i?".":"#")+a,t.forced),!s&&c!==void 0){if(typeof u==typeof c)continue;oF(u,c)}(t.sham||c&&c.sham)&&rF(u,"sham",!0),iF(o,a,u,t)}},cF=_e,uF=gl,lF=cF.String,bi=function(t){if(uF(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return lF(t)},rS=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,hF=qe,fF=xs,dF=bi,pF=rS,_y=hF("".replace),Tu="["+pF+"]",gF=RegExp("^"+Tu+Tu+"*"),mF=RegExp(Tu+Tu+"*$"),Mh=function(t){return function(e){var n=dF(fF(e));return t&1&&(n=_y(n,gF,"")),t&2&&(n=_y(n,mF,"")),n}},vF={start:Mh(1),end:Mh(2),trim:Mh(3)},iS=_e,yF=Qe,EF=qe,bF=bi,_F=vF.trim,wy=rS,go=iS.parseInt,Sy=iS.Symbol,Ty=Sy&&Sy.iterator,sS=/^[+-]?0x/i,wF=EF(sS.exec),SF=go(wy+"08")!==8||go(wy+"0x16")!==22||Ty&&!yF(function(){go(Object(Ty))}),TF=SF?function(e,n){var r=_F(bF(e));return go(r,n>>>0||(wF(sS,r)?16:10))}:go,AF=Nr,Ay=TF;AF({global:!0,forced:parseInt!=Ay},{parseInt:Ay});var IF=tS,CF=Jp,oS=Object.keys||function(e){return IF(e,CF)},Iy=bn,OF=qe,RF=hn,DF=Qe,$h=oS,xF=Zp,kF=Qp,PF=ks,NF=ml,Ni=Object.assign,Cy=Object.defineProperty,MF=OF([].concat),$F=!Ni||DF(function(){if(Iy&&Ni({b:1},Ni(Cy({},"a",{enumerable:!0,get:function(){Cy(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(i){e[i]=i}),Ni({},t)[n]!=7||$h(Ni({},e)).join("")!=r})?function(e,n){for(var r=PF(e),i=arguments.length,s=1,o=xF.f,a=kF.f;i>s;)for(var c=NF(arguments[s++]),u=o?MF($h(c),o(c)):$h(c),l=u.length,h=0,f;l>h;)f=u[h++],(!Iy||RF(a,c,f))&&(r[f]=c[f]);return r}:Ni,LF=Nr,Oy=$F;LF({target:"Object",stat:!0,arity:2,forced:Object.assign!==Oy},{assign:Oy});var FF=Qe,BF=zt,UF=$p,jF=BF("species"),VF=function(t){return UF>=51||!FF(function(){var e=[],n=e.constructor={};return n[jF]=function(){return{foo:1}},e[t](Boolean).foo!==1})},KF=Nr,zF=Gp.filter,WF=VF,HF=WF("filter");KF({target:"Array",proto:!0,forced:!HF},{filter:function(e){return zF(this,e,arguments.length>1?arguments[1]:void 0)}});var aS={},qF=bn,GF=Pw,YF=$n,XF=tn,QF=Ns,JF=oS;aS.f=qF&&!GF?Object.defineProperties:function(e,n){XF(e);for(var r=QF(n),i=JF(n),s=i.length,o=0,a;s>o;)YF.f(e,a=i[o++],r[a]);return e};var ZF=_a,eB=ZF("document","documentElement"),tB=tn,nB=aS,Ry=Jp,rB=pl,iB=eB,sB=Fp,oB=Wp,Dy=">",xy="<",cd="prototype",ud="script",cS=oB("IE_PROTO"),Lh=function(){},uS=function(t){return xy+ud+Dy+t+xy+"/"+ud+Dy},ky=function(t){t.write(uS("")),t.close();var e=t.parentWindow.Object;return t=null,e},aB=function(){var t=sB("iframe"),e="java"+ud+":",n;return t.style.display="none",iB.appendChild(t),t.src=String(e),n=t.contentWindow.document,n.open(),n.write(uS("document.F=Object")),n.close(),n.F},ic,Wc=function(){try{ic=new ActiveXObject("htmlfile")}catch{}Wc=typeof document!="undefined"?document.domain&&ic?ky(ic):aB():ky(ic);for(var t=Ry.length;t--;)delete Wc[cd][Ry[t]];return Wc()};rB[cS]=!0;var eg=Object.create||function(e,n){var r;return e!==null?(Lh[cd]=tB(e),r=new Lh,Lh[cd]=null,r[cS]=e):r=Wc(),n===void 0?r:nB.f(r,n)},cB=zt,uB=eg,lB=$n.f,ld=cB("unscopables"),hd=Array.prototype;hd[ld]==null&&lB(hd,ld,{configurable:!0,value:uB(null)});var hB=function(t){hd[ld][t]=!0},Aa={},fB=Qe,dB=!fB(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),pB=_e,gB=En,mB=ut,vB=ks,yB=Wp,EB=dB,Py=yB("IE_PROTO"),fd=pB.Object,bB=fd.prototype,lS=EB?fd.getPrototypeOf:function(t){var e=vB(t);if(gB(e,Py))return e[Py];var n=e.constructor;return mB(n)&&e instanceof n?n.prototype:e instanceof fd?bB:null},_B=Qe,wB=ut,Ny=lS,SB=yi,TB=zt,dd=TB("iterator"),hS=!1,ui,Fh,Bh;[].keys&&(Bh=[].keys(),"next"in Bh?(Fh=Ny(Ny(Bh)),Fh!==Object.prototype&&(ui=Fh)):hS=!0);var AB=ui==null||_B(function(){var t={};return ui[dd].call(t)!==t});AB&&(ui={});wB(ui[dd])||SB(ui,dd,function(){return this});var fS={IteratorPrototype:ui,BUGGY_SAFARI_ITERATORS:hS},IB=$n.f,CB=En,OB=zt,My=OB("toStringTag"),tg=function(t,e,n){t&&!n&&(t=t.prototype),t&&!CB(t,My)&&IB(t,My,{configurable:!0,value:e})},RB=fS.IteratorPrototype,DB=eg,xB=dl,kB=tg,PB=Aa,NB=function(){return this},MB=function(t,e,n,r){var i=e+" Iterator";return t.prototype=DB(RB,{next:xB(+!r,n)}),kB(t,i,!1),PB[i]=NB,t},dS=_e,$B=ut,LB=dS.String,FB=dS.TypeError,BB=function(t){if(typeof t=="object"||$B(t))return t;throw FB("Can't set "+LB(t)+" as a prototype")},UB=qe,jB=tn,VB=BB,pS=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},n;try{n=UB(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),n(e,[]),t=e instanceof Array}catch{}return function(i,s){return jB(i),VB(s),t?n(i,s):i.__proto__=s,i}}():void 0),KB=Nr,zB=hn,gS=Kp,WB=ut,HB=MB,$y=lS,Ly=pS,qB=tg,GB=vi,Uh=yi,YB=zt,XB=Aa,mS=fS,QB=gS.PROPER,JB=gS.CONFIGURABLE,Fy=mS.IteratorPrototype,sc=mS.BUGGY_SAFARI_ITERATORS,Qs=YB("iterator"),By="keys",Js="values",Uy="entries",ZB=function(){return this},vS=function(t,e,n,r,i,s,o){HB(n,e,r);var a=function(A){if(A===i&&f)return f;if(!sc&&A in l)return l[A];switch(A){case By:return function(){return new n(this,A)};case Js:return function(){return new n(this,A)};case Uy:return function(){return new n(this,A)}}return function(){return new n(this)}},c=e+" Iterator",u=!1,l=t.prototype,h=l[Qs]||l["@@iterator"]||i&&l[i],f=!sc&&h||a(i),p=e=="Array"&&l.entries||h,v,C,S;if(p&&(v=$y(p.call(new t)),v!==Object.prototype&&v.next&&($y(v)!==Fy&&(Ly?Ly(v,Fy):WB(v[Qs])||Uh(v,Qs,ZB)),qB(v,c,!0))),QB&&i==Js&&h&&h.name!==Js&&(JB?GB(l,"name",Js):(u=!0,f=function(){return zB(h,this)})),i)if(C={values:a(Js),keys:s?f:a(By),entries:a(Uy)},o)for(S in C)(sc||u||!(S in l))&&Uh(l,S,C[S]);else KB({target:e,proto:!0,forced:sc||u},C);return l[Qs]!==f&&Uh(l,Qs,f,{name:i}),XB[e]=f,C},eU=Ns,ng=hB,jy=Aa,yS=Ps,tU=$n.f,nU=vS,rU=bn,ES="Array Iterator",iU=yS.set,sU=yS.getterFor(ES),oU=nU(Array,"Array",function(t,e){iU(this,{type:ES,target:eU(t),index:0,kind:e})},function(){var t=sU(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):n=="keys"?{value:r,done:!1}:n=="values"?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),Vy=jy.Arguments=jy.Array;ng("keys");ng("values");ng("entries");if(rU&&Vy.name!=="values")try{tU(Vy,"name",{value:"values"})}catch{}var rg=qe,aU=vl,cU=bi,uU=xs,lU=rg("".charAt),Ky=rg("".charCodeAt),hU=rg("".slice),zy=function(t){return function(e,n){var r=cU(uU(e)),i=aU(n),s=r.length,o,a;return i<0||i>=s?t?"":void 0:(o=Ky(r,i),o<55296||o>56319||i+1===s||(a=Ky(r,i+1))<56320||a>57343?t?lU(r,i):o:t?hU(r,i,i+2):(o-55296<<10)+(a-56320)+65536)}},bS={codeAt:zy(!1),charAt:zy(!0)},fU=bS.charAt,dU=bi,_S=Ps,pU=vS,wS="String Iterator",gU=_S.set,mU=_S.getterFor(wS);pU(String,"String",function(t){gU(this,{type:wS,string:dU(t),index:0})},function(){var e=mU(this),n=e.string,r=e.index,i;return r>=n.length?{value:void 0,done:!0}:(i=fU(n,r),e.index+=i.length,{value:i,done:!1})});var vU=yi,SS=function(t,e,n){for(var r in e)vU(t,r,e[r],n);return t},El={exports:{}},TS={},yU=jp,EU=$n,bU=dl,_U=function(t,e,n){var r=yU(e);r in t?EU.f(t,r,bU(0,n)):t[r]=n},wU=_e,Wy=eS,SU=Sa,TU=_U,AU=wU.Array,IU=Math.max,CU=function(t,e,n){for(var r=SU(t),i=Wy(e,r),s=Wy(n===void 0?r:n,r),o=AU(IU(s-i,0)),a=0;i<s;i++,a++)TU(o,a,t[i]);return o.length=a,o},OU=Ei,RU=Ns,AS=yl.f,DU=CU,IS=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],xU=function(t){try{return AS(t)}catch{return DU(IS)}};TS.f=function(e){return IS&&OU(e)=="Window"?xU(e):AS(RU(e))};var kU=Qe,PU=kU(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),NU=Qe,MU=ln,$U=Ei,Hy=PU,Hc=Object.isExtensible,LU=NU(function(){Hc(1)}),CS=LU||Hy?function(e){return!MU(e)||Hy&&$U(e)=="ArrayBuffer"?!1:Hc?Hc(e):!0}:Hc,FU=Qe,BU=!FU(function(){return Object.isExtensible(Object.preventExtensions({}))}),UU=Nr,jU=qe,VU=pl,KU=ln,ig=En,zU=$n.f,qy=yl,WU=TS,sg=CS,HU=Mp,qU=BU,OS=!1,Xn=HU("meta"),GU=0,og=function(t){zU(t,Xn,{value:{objectID:"O"+GU++,weakData:{}}})},YU=function(t,e){if(!KU(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!ig(t,Xn)){if(!sg(t))return"F";if(!e)return"E";og(t)}return t[Xn].objectID},XU=function(t,e){if(!ig(t,Xn)){if(!sg(t))return!0;if(!e)return!1;og(t)}return t[Xn].weakData},QU=function(t){return qU&&OS&&sg(t)&&!ig(t,Xn)&&og(t),t},JU=function(){ZU.enable=function(){},OS=!0;var t=qy.f,e=jU([].splice),n={};n[Xn]=1,t(n).length&&(qy.f=function(r){for(var i=t(r),s=0,o=i.length;s<o;s++)if(i[s]===Xn){e(i,s,1);break}return i},UU({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:WU.f}))},ZU=El.exports={enable:JU,fastKey:YU,getWeakData:XU,onFreeze:QU};VU[Xn]=!0;var ej=zt,tj=Aa,nj=ej("iterator"),rj=Array.prototype,ij=function(t){return t!==void 0&&(tj.Array===t||rj[nj]===t)},sj=gl,Gy=wa,oj=Aa,aj=zt,cj=aj("iterator"),RS=function(t){if(t!=null)return Gy(t,cj)||Gy(t,"@@iterator")||oj[sj(t)]},uj=_e,lj=hn,hj=fl,fj=tn,dj=Up,pj=RS,gj=uj.TypeError,mj=function(t,e){var n=arguments.length<2?pj(t):e;if(hj(n))return fj(lj(n,t));throw gj(dj(t)+" is not iterable")},vj=hn,Yy=tn,yj=wa,Ej=function(t,e,n){var r,i;Yy(t);try{if(r=yj(t,"return"),!r){if(e==="throw")throw n;return n}r=vj(r,t)}catch(s){i=!0,r=s}if(e==="throw")throw n;if(i)throw r;return Yy(r),n},bj=_e,_j=Ww,wj=hn,Sj=tn,Tj=Up,Aj=ij,Ij=Sa,Xy=Bp,Cj=mj,Oj=RS,Qy=Ej,Rj=bj.TypeError,qc=function(t,e){this.stopped=t,this.result=e},Jy=qc.prototype,DS=function(t,e,n){var r=n&&n.that,i=!!(n&&n.AS_ENTRIES),s=!!(n&&n.IS_ITERATOR),o=!!(n&&n.INTERRUPTED),a=_j(e,r),c,u,l,h,f,p,v,C=function(A){return c&&Qy(c,"normal",A),new qc(!0,A)},S=function(A){return i?(Sj(A),o?a(A[0],A[1],C):a(A[0],A[1])):o?a(A,C):a(A)};if(s)c=t;else{if(u=Oj(t),!u)throw Rj(Tj(t)+" is not iterable");if(Aj(u)){for(l=0,h=Ij(t);h>l;l++)if(f=S(t[l]),f&&Xy(Jy,f))return f;return new qc(!1)}c=Cj(t,u)}for(p=c.next;!(v=wj(p,c)).done;){try{f=S(v.value)}catch(A){Qy(c,"throw",A)}if(typeof f=="object"&&f&&Xy(Jy,f))return f}return new qc(!1)},Dj=_e,xj=Bp,kj=Dj.TypeError,xS=function(t,e){if(xj(e,t))return t;throw kj("Incorrect invocation")},Pj=zt,kS=Pj("iterator"),PS=!1;try{var Nj=0,Zy={next:function(){return{done:!!Nj++}},return:function(){PS=!0}};Zy[kS]=function(){return this},Array.from(Zy,function(){throw 2})}catch{}var Mj=function(t,e){if(!e&&!PS)return!1;var n=!1;try{var r={};r[kS]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch{}return n},$j=ut,Lj=ln,eE=pS,Fj=function(t,e,n){var r,i;return eE&&$j(r=e.constructor)&&r!==n&&Lj(i=r.prototype)&&i!==n.prototype&&eE(t,i),t},Bj=Nr,Uj=_e,jj=qe,tE=nS,Vj=yi,Kj=El.exports,zj=DS,Wj=xS,Hj=ut,jh=ln,Vh=Qe,qj=Mj,Gj=tg,Yj=Fj,Xj=function(t,e,n){var r=t.indexOf("Map")!==-1,i=t.indexOf("Weak")!==-1,s=r?"set":"add",o=Uj[t],a=o&&o.prototype,c=o,u={},l=function(A){var R=jj(a[A]);Vj(a,A,A=="add"?function(j){return R(this,j===0?0:j),this}:A=="delete"?function(K){return i&&!jh(K)?!1:R(this,K===0?0:K)}:A=="get"?function(j){return i&&!jh(j)?void 0:R(this,j===0?0:j)}:A=="has"?function(j){return i&&!jh(j)?!1:R(this,j===0?0:j)}:function(j,k){return R(this,j===0?0:j,k),this})},h=tE(t,!Hj(o)||!(i||a.forEach&&!Vh(function(){new o().entries().next()})));if(h)c=n.getConstructor(e,t,r,s),Kj.enable();else if(tE(t,!0)){var f=new c,p=f[s](i?{}:-0,1)!=f,v=Vh(function(){f.has(1)}),C=qj(function(A){new o(A)}),S=!i&&Vh(function(){for(var A=new o,R=5;R--;)A[s](R,R);return!A.has(-0)});C||(c=e(function(A,R){Wj(A,a);var K=Yj(new o,A,c);return R!=null&&zj(R,K[s],{that:K,AS_ENTRIES:r}),K}),c.prototype=a,a.constructor=c),(v||S)&&(l("delete"),l("has"),r&&l("get")),(S||p)&&l(s),i&&a.clear&&delete a.clear}return u[t]=c,Bj({global:!0,constructor:!0,forced:c!=o},u),Gj(c,t),i||n.setStrong(c,t,r),c},Qj=qe,nE=SS,oc=El.exports.getWeakData,Jj=tn,Kh=ln,Zj=xS,e2=DS,NS=Gp,rE=En,MS=Ps,t2=MS.set,n2=MS.getterFor,r2=NS.find,i2=NS.findIndex,s2=Qj([].splice),o2=0,ac=function(t){return t.frozen||(t.frozen=new $S)},$S=function(){this.entries=[]},zh=function(t,e){return r2(t.entries,function(n){return n[0]===e})};$S.prototype={get:function(t){var e=zh(this,t);if(e)return e[1]},has:function(t){return!!zh(this,t)},set:function(t,e){var n=zh(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=i2(this.entries,function(n){return n[0]===t});return~e&&s2(this.entries,e,1),!!~e}};var a2={getConstructor:function(t,e,n,r){var i=t(function(c,u){Zj(c,s),t2(c,{type:e,id:o2++,frozen:void 0}),u!=null&&e2(u,c[r],{that:c,AS_ENTRIES:n})}),s=i.prototype,o=n2(e),a=function(c,u,l){var h=o(c),f=oc(Jj(u),!0);return f===!0?ac(h).set(u,l):f[h.id]=l,c};return nE(s,{delete:function(c){var u=o(this);if(!Kh(c))return!1;var l=oc(c);return l===!0?ac(u).delete(c):l&&rE(l,u.id)&&delete l[u.id]},has:function(u){var l=o(this);if(!Kh(u))return!1;var h=oc(u);return h===!0?ac(l).has(u):h&&rE(h,l.id)}}),nE(s,n?{get:function(u){var l=o(this);if(Kh(u)){var h=oc(u);return h===!0?ac(l).get(u):h?h[l.id]:void 0}},set:function(u,l){return a(this,u,l)}}:{add:function(u){return a(this,u,!0)}}),i}},iE=_e,cc=qe,c2=SS,u2=El.exports,l2=Xj,LS=a2,uc=ln,lc=CS,hc=Ps.enforce,h2=Fw,f2=!iE.ActiveXObject&&"ActiveXObject"in iE,Zs,FS=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},d2=l2("WeakMap",FS,LS);if(h2&&f2){Zs=LS.getConstructor(FS,"WeakMap",!0),u2.enable();var eo=d2.prototype,sE=cc(eo.delete),fc=cc(eo.has),oE=cc(eo.get),aE=cc(eo.set);c2(eo,{delete:function(t){if(uc(t)&&!lc(t)){var e=hc(this);return e.frozen||(e.frozen=new Zs),sE(this,t)||e.frozen.delete(t)}return sE(this,t)},has:function(e){if(uc(e)&&!lc(e)){var n=hc(this);return n.frozen||(n.frozen=new Zs),fc(this,e)||n.frozen.has(e)}return fc(this,e)},get:function(e){if(uc(e)&&!lc(e)){var n=hc(this);return n.frozen||(n.frozen=new Zs),fc(this,e)?oE(this,e):n.frozen.get(e)}return oE(this,e)},set:function(e,n){if(uc(e)&&!lc(e)){var r=hc(this);r.frozen||(r.frozen=new Zs),fc(this,e)?aE(this,e,n):r.frozen.set(e,n)}else aE(this,e,n);return this}})}var cE=_e,BS=Kw,p2=zw,oo=oU,Wh=vi,US=zt,Hh=US("iterator"),uE=US("toStringTag"),qh=oo.values,jS=function(t,e){if(t){if(t[Hh]!==qh)try{Wh(t,Hh,qh)}catch{t[Hh]=qh}if(t[uE]||Wh(t,uE,e),BS[e]){for(var n in oo)if(t[n]!==oo[n])try{Wh(t,n,oo[n])}catch{t[n]=oo[n]}}}};for(var Gh in BS)jS(cE[Gh]&&cE[Gh].prototype,Gh);jS(p2,"DOMTokenList");var VS="Expected a function",lE=0/0,g2="[object Symbol]",m2=/^\s+|\s+$/g,v2=/^[-+]0x[0-9a-f]+$/i,y2=/^0b[01]+$/i,E2=/^0o[0-7]+$/i,b2=parseInt,_2=typeof yt=="object"&&yt&&yt.Object===Object&&yt,w2=typeof self=="object"&&self&&self.Object===Object&&self,S2=_2||w2||Function("return this")(),T2=Object.prototype,A2=T2.toString,I2=Math.max,C2=Math.min,Yh=function(){return S2.Date.now()};function O2(t,e,n){var r,i,s,o,a,c,u=0,l=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(VS);e=hE(e)||0,Au(n)&&(l=!!n.leading,h="maxWait"in n,s=h?I2(hE(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function p(N){var b=r,O=i;return r=i=void 0,u=N,o=t.apply(O,b),o}function v(N){return u=N,a=setTimeout(A,e),l?p(N):o}function C(N){var b=N-c,O=N-u,X=e-b;return h?C2(X,s-O):X}function S(N){var b=N-c,O=N-u;return c===void 0||b>=e||b<0||h&&O>=s}function A(){var N=Yh();if(S(N))return R(N);a=setTimeout(A,C(N))}function R(N){return a=void 0,f&&r?p(N):(r=i=void 0,o)}function K(){a!==void 0&&clearTimeout(a),u=0,r=c=i=a=void 0}function j(){return a===void 0?o:R(Yh())}function k(){var N=Yh(),b=S(N);if(r=arguments,i=this,c=N,b){if(a===void 0)return v(c);if(h)return a=setTimeout(A,e),p(c)}return a===void 0&&(a=setTimeout(A,e)),o}return k.cancel=K,k.flush=j,k}function R2(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(VS);return Au(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),O2(t,e,{leading:r,maxWait:e,trailing:i})}function Au(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function D2(t){return!!t&&typeof t=="object"}function x2(t){return typeof t=="symbol"||D2(t)&&A2.call(t)==g2}function hE(t){if(typeof t=="number")return t;if(x2(t))return lE;if(Au(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Au(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(m2,"");var n=y2.test(t);return n||E2.test(t)?b2(t.slice(2),n?2:8):v2.test(t)?lE:+t}var fE=R2,k2="Expected a function",dE=0/0,P2="[object Symbol]",N2=/^\s+|\s+$/g,M2=/^[-+]0x[0-9a-f]+$/i,$2=/^0b[01]+$/i,L2=/^0o[0-7]+$/i,F2=parseInt,B2=typeof yt=="object"&&yt&&yt.Object===Object&&yt,U2=typeof self=="object"&&self&&self.Object===Object&&self,j2=B2||U2||Function("return this")(),V2=Object.prototype,K2=V2.toString,z2=Math.max,W2=Math.min,Xh=function(){return j2.Date.now()};function H2(t,e,n){var r,i,s,o,a,c,u=0,l=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(k2);e=pE(e)||0,pd(n)&&(l=!!n.leading,h="maxWait"in n,s=h?z2(pE(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function p(N){var b=r,O=i;return r=i=void 0,u=N,o=t.apply(O,b),o}function v(N){return u=N,a=setTimeout(A,e),l?p(N):o}function C(N){var b=N-c,O=N-u,X=e-b;return h?W2(X,s-O):X}function S(N){var b=N-c,O=N-u;return c===void 0||b>=e||b<0||h&&O>=s}function A(){var N=Xh();if(S(N))return R(N);a=setTimeout(A,C(N))}function R(N){return a=void 0,f&&r?p(N):(r=i=void 0,o)}function K(){a!==void 0&&clearTimeout(a),u=0,r=c=i=a=void 0}function j(){return a===void 0?o:R(Xh())}function k(){var N=Xh(),b=S(N);if(r=arguments,i=this,c=N,b){if(a===void 0)return v(c);if(h)return a=setTimeout(A,e),p(c)}return a===void 0&&(a=setTimeout(A,e)),o}return k.cancel=K,k.flush=j,k}function pd(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function q2(t){return!!t&&typeof t=="object"}function G2(t){return typeof t=="symbol"||q2(t)&&K2.call(t)==P2}function pE(t){if(typeof t=="number")return t;if(G2(t))return dE;if(pd(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=pd(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(N2,"");var n=$2.test(t);return n||L2.test(t)?F2(t.slice(2),n?2:8):M2.test(t)?dE:+t}var gE=H2,Y2="Expected a function",KS="__lodash_hash_undefined__",X2="[object Function]",Q2="[object GeneratorFunction]",J2=/[\\^$.*+?()[\]{}|]/g,Z2=/^\[object .+?Constructor\]$/,eV=typeof yt=="object"&&yt&&yt.Object===Object&&yt,tV=typeof self=="object"&&self&&self.Object===Object&&self,zS=eV||tV||Function("return this")();function nV(t,e){return t==null?void 0:t[e]}function rV(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var iV=Array.prototype,sV=Function.prototype,WS=Object.prototype,Qh=zS["__core-js_shared__"],mE=function(){var t=/[^.]+$/.exec(Qh&&Qh.keys&&Qh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),HS=sV.toString,ag=WS.hasOwnProperty,oV=WS.toString,aV=RegExp("^"+HS.call(ag).replace(J2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cV=iV.splice,uV=qS(zS,"Map"),Ho=qS(Object,"create");function li(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function lV(){this.__data__=Ho?Ho(null):{}}function hV(t){return this.has(t)&&delete this.__data__[t]}function fV(t){var e=this.__data__;if(Ho){var n=e[t];return n===KS?void 0:n}return ag.call(e,t)?e[t]:void 0}function dV(t){var e=this.__data__;return Ho?e[t]!==void 0:ag.call(e,t)}function pV(t,e){var n=this.__data__;return n[t]=Ho&&e===void 0?KS:e,this}li.prototype.clear=lV;li.prototype.delete=hV;li.prototype.get=fV;li.prototype.has=dV;li.prototype.set=pV;function Ms(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function gV(){this.__data__=[]}function mV(t){var e=this.__data__,n=bl(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():cV.call(e,n,1),!0}function vV(t){var e=this.__data__,n=bl(e,t);return n<0?void 0:e[n][1]}function yV(t){return bl(this.__data__,t)>-1}function EV(t,e){var n=this.__data__,r=bl(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}Ms.prototype.clear=gV;Ms.prototype.delete=mV;Ms.prototype.get=vV;Ms.prototype.has=yV;Ms.prototype.set=EV;function _i(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function bV(){this.__data__={hash:new li,map:new(uV||Ms),string:new li}}function _V(t){return _l(this,t).delete(t)}function wV(t){return _l(this,t).get(t)}function SV(t){return _l(this,t).has(t)}function TV(t,e){return _l(this,t).set(t,e),this}_i.prototype.clear=bV;_i.prototype.delete=_V;_i.prototype.get=wV;_i.prototype.has=SV;_i.prototype.set=TV;function bl(t,e){for(var n=t.length;n--;)if(RV(t[n][0],e))return n;return-1}function AV(t){if(!GS(t)||CV(t))return!1;var e=DV(t)||rV(t)?aV:Z2;return e.test(OV(t))}function _l(t,e){var n=t.__data__;return IV(e)?n[typeof e=="string"?"string":"hash"]:n.map}function qS(t,e){var n=nV(t,e);return AV(n)?n:void 0}function IV(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function CV(t){return!!mE&&mE in t}function OV(t){if(t!=null){try{return HS.call(t)}catch{}try{return t+""}catch{}}return""}function cg(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(Y2);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o),o};return n.cache=new(cg.Cache||_i),n}cg.Cache=_i;function RV(t,e){return t===e||t!==t&&e!==e}function DV(t){var e=GS(t)?oV.call(t):"";return e==X2||e==Q2}function GS(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}var xV=cg,ni=[],kV=function(){return ni.some(function(t){return t.activeTargets.length>0})},PV=function(){return ni.some(function(t){return t.skippedTargets.length>0})},vE="ResizeObserver loop completed with undelivered notifications.",NV=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:vE}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=vE),window.dispatchEvent(t)},qo;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(qo||(qo={}));var ri=function(t){return Object.freeze(t)},MV=function(){function t(e,n){this.inlineSize=e,this.blockSize=n,ri(this)}return t}(),YS=function(){function t(e,n,r,i){return this.x=e,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ri(this)}return t.prototype.toJSON=function(){var e=this,n=e.x,r=e.y,i=e.top,s=e.right,o=e.bottom,a=e.left,c=e.width,u=e.height;return{x:n,y:r,top:i,right:s,bottom:o,left:a,width:c,height:u}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),ug=function(t){return t instanceof SVGElement&&"getBBox"in t},XS=function(t){if(ug(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var i=t,s=i.offsetWidth,o=i.offsetHeight;return!(s||o||t.getClientRects().length)},yE=function(t){var e,n;if(t instanceof Element)return!0;var r=(n=(e=t)===null||e===void 0?void 0:e.ownerDocument)===null||n===void 0?void 0:n.defaultView;return!!(r&&t instanceof r.Element)},$V=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},mo=typeof window!="undefined"?window:{},dc=new WeakMap,EE=/auto|scroll/,LV=/^tb|vertical/,FV=/msie|trident/i.test(mo.navigator&&mo.navigator.userAgent),Sn=function(t){return parseFloat(t||"0")},es=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new MV((n?e:t)||0,(n?t:e)||0)},bE=ri({devicePixelContentBoxSize:es(),borderBoxSize:es(),contentBoxSize:es(),contentRect:new YS(0,0,0,0)}),QS=function(t,e){if(e===void 0&&(e=!1),dc.has(t)&&!e)return dc.get(t);if(XS(t))return dc.set(t,bE),bE;var n=getComputedStyle(t),r=ug(t)&&t.ownerSVGElement&&t.getBBox(),i=!FV&&n.boxSizing==="border-box",s=LV.test(n.writingMode||""),o=!r&&EE.test(n.overflowY||""),a=!r&&EE.test(n.overflowX||""),c=r?0:Sn(n.paddingTop),u=r?0:Sn(n.paddingRight),l=r?0:Sn(n.paddingBottom),h=r?0:Sn(n.paddingLeft),f=r?0:Sn(n.borderTopWidth),p=r?0:Sn(n.borderRightWidth),v=r?0:Sn(n.borderBottomWidth),C=r?0:Sn(n.borderLeftWidth),S=h+u,A=c+l,R=C+p,K=f+v,j=a?t.offsetHeight-K-t.clientHeight:0,k=o?t.offsetWidth-R-t.clientWidth:0,N=i?S+R:0,b=i?A+K:0,O=r?r.width:Sn(n.width)-N-k,X=r?r.height:Sn(n.height)-b-j,se=O+S+k+R,we=X+A+j+K,Ce=ri({devicePixelContentBoxSize:es(Math.round(O*devicePixelRatio),Math.round(X*devicePixelRatio),s),borderBoxSize:es(se,we,s),contentBoxSize:es(O,X,s),contentRect:new YS(h,c,O,X)});return dc.set(t,Ce),Ce},JS=function(t,e,n){var r=QS(t,n),i=r.borderBoxSize,s=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(e){case qo.DEVICE_PIXEL_CONTENT_BOX:return o;case qo.BORDER_BOX:return i;default:return s}},BV=function(){function t(e){var n=QS(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=ri([n.borderBoxSize]),this.contentBoxSize=ri([n.contentBoxSize]),this.devicePixelContentBoxSize=ri([n.devicePixelContentBoxSize])}return t}(),ZS=function(t){if(XS(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},UV=function(){var t=1/0,e=[];ni.forEach(function(o){if(o.activeTargets.length!==0){var a=[];o.activeTargets.forEach(function(u){var l=new BV(u.target),h=ZS(u.target);a.push(l),u.lastReportedSize=JS(u.target,u.observedBox),h<t&&(t=h)}),e.push(function(){o.callback.call(o.observer,a,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var n=0,r=e;n<r.length;n++){var i=r[n];i()}return t},_E=function(t){ni.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(ZS(i.target)>t?n.activeTargets.push(i):n.skippedTargets.push(i))})})},jV=function(){var t=0;for(_E(t);kV();)t=UV(),_E(t);return PV()&&NV(),t>0},Jh,eT=[],VV=function(){return eT.splice(0).forEach(function(t){return t()})},KV=function(t){if(!Jh){var e=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return VV()}).observe(n,r),Jh=function(){n.textContent=""+(e?e--:e++)}}eT.push(t),Jh()},zV=function(t){KV(function(){requestAnimationFrame(t)})},Gc=0,WV=function(){return!!Gc},HV=250,qV={attributes:!0,characterData:!0,childList:!0,subtree:!0},wE=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],SE=function(t){return t===void 0&&(t=0),Date.now()+t},Zh=!1,GV=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var n=this;if(e===void 0&&(e=HV),!Zh){Zh=!0;var r=SE(e);zV(function(){var i=!1;try{i=jV()}finally{if(Zh=!1,e=r-SE(),!WV())return;i?n.run(1e3):e>0?n.run(e):n.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,n=function(){return e.observer&&e.observer.observe(document.body,qV)};document.body?n():mo.addEventListener("DOMContentLoaded",n)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),wE.forEach(function(n){return mo.addEventListener(n,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),wE.forEach(function(n){return mo.removeEventListener(n,e.listener,!0)}),this.stopped=!0)},t}(),gd=new GV,TE=function(t){!Gc&&t>0&&gd.start(),Gc+=t,!Gc&&gd.stop()},YV=function(t){return!ug(t)&&!$V(t)&&getComputedStyle(t).display==="inline"},XV=function(){function t(e,n){this.target=e,this.observedBox=n||qo.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=JS(this.target,this.observedBox,!0);return YV(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),QV=function(){function t(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n}return t}(),pc=new WeakMap,AE=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},gc=function(){function t(){}return t.connect=function(e,n){var r=new QV(e,n);pc.set(e,r)},t.observe=function(e,n,r){var i=pc.get(e),s=i.observationTargets.length===0;AE(i.observationTargets,n)<0&&(s&&ni.push(i),i.observationTargets.push(new XV(n,r&&r.box)),TE(1),gd.schedule())},t.unobserve=function(e,n){var r=pc.get(e),i=AE(r.observationTargets,n),s=r.observationTargets.length===1;i>=0&&(s&&ni.splice(ni.indexOf(r),1),r.observationTargets.splice(i,1),TE(-1))},t.disconnect=function(e){var n=this,r=pc.get(e);r.observationTargets.slice().forEach(function(i){return n.unobserve(e,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},t}(),JV=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");gc.connect(this,e)}return t.prototype.observe=function(e,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!yE(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");gc.observe(this,e,n)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!yE(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");gc.unobserve(this,e)},t.prototype.disconnect=function(){gc.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}(),ZV=_e,e3=fl,t3=ks,n3=ml,r3=Sa,i3=ZV.TypeError,IE=function(t){return function(e,n,r,i){e3(n);var s=t3(e),o=n3(s),a=r3(s),c=t?a-1:0,u=t?-1:1;if(r<2)for(;;){if(c in o){i=o[c],c+=u;break}if(c+=u,t?c<0:a<=c)throw i3("Reduce of empty array with no initial value")}for(;t?c>=0:a>c;c+=u)c in o&&(i=n(i,o[c],c,s));return i}},s3={left:IE(!1),right:IE(!0)},o3=Ei,a3=_e,c3=o3(a3.process)=="process",u3=Nr,l3=s3.left,h3=Xw,CE=$p,f3=c3,d3=h3("reduce"),p3=!f3&&CE>79&&CE<83;u3({target:"Array",proto:!0,forced:!d3||p3},{reduce:function(e){var n=arguments.length;return l3(this,e,n,n>1?arguments[1]:void 0)}});var g3=tn,m3=function(){var t=g3(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},lg=Qe,v3=_e,hg=v3.RegExp,fg=lg(function(){var t=hg("a","y");return t.lastIndex=2,t.exec("abcd")!=null}),y3=fg||lg(function(){return!hg("a","y").sticky}),E3=fg||lg(function(){var t=hg("^r","gy");return t.lastIndex=2,t.exec("str")!=null}),b3={BROKEN_CARET:E3,MISSED_STICKY:y3,UNSUPPORTED_Y:fg},_3=Qe,w3=_e,S3=w3.RegExp,T3=_3(function(){var t=S3(".","s");return!(t.dotAll&&t.exec(`
`)&&t.flags==="s")}),A3=Qe,I3=_e,C3=I3.RegExp,O3=A3(function(){var t=C3("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"}),Vi=hn,wl=qe,R3=bi,D3=m3,x3=b3,k3=ll.exports,P3=eg,N3=Ps.get,M3=T3,$3=O3,L3=k3("native-string-replace",String.prototype.replace),Iu=RegExp.prototype.exec,md=Iu,F3=wl("".charAt),B3=wl("".indexOf),U3=wl("".replace),ef=wl("".slice),vd=function(){var t=/a/,e=/b*/g;return Vi(Iu,t,"a"),Vi(Iu,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),tT=x3.BROKEN_CARET,yd=/()??/.exec("")[1]!==void 0,j3=vd||yd||tT||M3||$3;j3&&(md=function(e){var n=this,r=N3(n),i=R3(e),s=r.raw,o,a,c,u,l,h,f;if(s)return s.lastIndex=n.lastIndex,o=Vi(md,s,i),n.lastIndex=s.lastIndex,o;var p=r.groups,v=tT&&n.sticky,C=Vi(D3,n),S=n.source,A=0,R=i;if(v&&(C=U3(C,"y",""),B3(C,"g")===-1&&(C+="g"),R=ef(i,n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&F3(i,n.lastIndex-1)!==`
`)&&(S="(?: "+S+")",R=" "+R,A++),a=new RegExp("^(?:"+S+")",C)),yd&&(a=new RegExp("^"+S+"$(?!\\s)",C)),vd&&(c=n.lastIndex),u=Vi(Iu,v?a:n,R),v?u?(u.input=ef(u.input,A),u[0]=ef(u[0],A),u.index=n.lastIndex,n.lastIndex+=u[0].length):n.lastIndex=0:vd&&u&&(n.lastIndex=n.global?u.index+u[0].length:c),yd&&u&&u.length>1&&Vi(L3,u[0],a,function(){for(l=1;l<arguments.length-2;l++)arguments[l]===void 0&&(u[l]=void 0)}),u&&p)for(u.groups=h=P3(null),l=0;l<p.length;l++)f=p[l],h[f[0]]=u[f[1]];return u});var dg=md,V3=Nr,OE=dg;V3({target:"RegExp",proto:!0,forced:/./.exec!==OE},{exec:OE});var RE=qe,DE=yi,K3=dg,xE=Qe,nT=zt,z3=vi,W3=nT("species"),tf=RegExp.prototype,rT=function(t,e,n,r){var i=nT(t),s=!xE(function(){var u={};return u[i]=function(){return 7},""[t](u)!=7}),o=s&&!xE(function(){var u=!1,l=/a/;return t==="split"&&(l={},l.constructor={},l.constructor[W3]=function(){return l},l.flags="",l[i]=/./[i]),l.exec=function(){return u=!0,null},l[i](""),!u});if(!s||!o||n){var a=RE(/./[i]),c=e(i,""[t],function(u,l,h,f,p){var v=RE(u),C=l.exec;return C===K3||C===tf.exec?s&&!p?{done:!0,value:a(l,h,f)}:{done:!0,value:v(h,l,f)}:{done:!1}});DE(String.prototype,t,c[0]),DE(tf,i,c[1])}r&&z3(tf[i],"sham",!0)},H3=bS.charAt,iT=function(t,e,n){return e+(n?H3(t,e).length:1)},q3=_e,kE=hn,G3=tn,Y3=ut,X3=Ei,Q3=dg,J3=q3.TypeError,sT=function(t,e){var n=t.exec;if(Y3(n)){var r=kE(n,t,e);return r!==null&&G3(r),r}if(X3(t)==="RegExp")return kE(Q3,t,e);throw J3("RegExp#exec called on incompatible receiver")},Z3=hn,eK=rT,tK=tn,nK=Hp,nf=bi,rK=xs,iK=wa,sK=iT,PE=sT;eK("match",function(t,e,n){return[function(i){var s=rK(this),o=i==null?void 0:iK(i,t);return o?Z3(o,i,s):new RegExp(i)[t](nf(s))},function(r){var i=tK(this),s=nf(r),o=n(e,i,s);if(o.done)return o.value;if(!i.global)return PE(i,s);var a=i.unicode;i.lastIndex=0;for(var c=[],u=0,l;(l=PE(i,s))!==null;){var h=nf(l[0]);c[u]=h,h===""&&(i.lastIndex=sK(s,nK(i.lastIndex),a)),u++}return u===0?null:c}]});var oK=bn,aK=Kp.EXISTS,oT=qe,cK=$n.f,aT=Function.prototype,uK=oT(aT.toString),cT=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,lK=oT(cT.exec),hK="name";oK&&!aK&&cK(aT,hK,{configurable:!0,get:function(){try{return lK(cT,uK(this))[1]}catch{return""}}});var fK=hl,uT=Function.prototype,NE=uT.apply,ME=uT.call,dK=typeof Reflect=="object"&&Reflect.apply||(fK?ME.bind(NE):function(){return ME.apply(NE,arguments)}),pg=qe,pK=ks,gK=Math.floor,rf=pg("".charAt),mK=pg("".replace),sf=pg("".slice),vK=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,yK=/\$([$&'`]|\d{1,2})/g,EK=function(t,e,n,r,i,s){var o=n+t.length,a=r.length,c=yK;return i!==void 0&&(i=pK(i),c=vK),mK(s,c,function(u,l){var h;switch(rf(l,0)){case"$":return"$";case"&":return t;case"`":return sf(e,0,n);case"'":return sf(e,o);case"<":h=i[sf(l,1,-1)];break;default:var f=+l;if(f===0)return u;if(f>a){var p=gK(f/10);return p===0?u:p<=a?r[p-1]===void 0?rf(l,1):r[p-1]+rf(l,1):u}h=r[f-1]}return h===void 0?"":h})},bK=dK,$E=hn,Sl=qe,_K=rT,wK=Qe,SK=tn,TK=ut,AK=vl,IK=Hp,Mi=bi,CK=xs,OK=iT,RK=wa,DK=EK,xK=sT,kK=zt,Ed=kK("replace"),PK=Math.max,NK=Math.min,MK=Sl([].concat),of=Sl([].push),LE=Sl("".indexOf),FE=Sl("".slice),$K=function(t){return t===void 0?t:String(t)},LK=function(){return"a".replace(/./,"$0")==="$0"}(),BE=function(){return/./[Ed]?/./[Ed]("a","$0")==="":!1}(),FK=!wK(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});_K("replace",function(t,e,n){var r=BE?"$":"$0";return[function(s,o){var a=CK(this),c=s==null?void 0:RK(s,Ed);return c?$E(c,s,a,o):$E(e,Mi(a),s,o)},function(i,s){var o=SK(this),a=Mi(i);if(typeof s=="string"&&LE(s,r)===-1&&LE(s,"$<")===-1){var c=n(e,o,a,s);if(c.done)return c.value}var u=TK(s);u||(s=Mi(s));var l=o.global;if(l){var h=o.unicode;o.lastIndex=0}for(var f=[];;){var p=xK(o,a);if(p===null||(of(f,p),!l))break;var v=Mi(p[0]);v===""&&(o.lastIndex=OK(a,IK(o.lastIndex),h))}for(var C="",S=0,A=0;A<f.length;A++){p=f[A];for(var R=Mi(p[0]),K=PK(NK(AK(p.index),a.length),0),j=[],k=1;k<p.length;k++)of(j,$K(p[k]));var N=p.groups;if(u){var b=MK([R],j,K,a);N!==void 0&&of(b,N);var O=Mi(bK(s,void 0,b))}else O=DK(R,a,K,j,N,s);K>=S&&(C+=FE(a,S,K)+O,S=K+R.length)}return C+FE(a,S)}]},!FK||!LK||BE);var Cu=function(e){var n=Array.prototype.reduce.call(e,function(r,i){var s=i.name.match(/data-simplebar-(.+)/);if(s){var o=s[1].replace(/\W+(.)/g,function(a,c){return c.toUpperCase()});switch(i.value){case"true":r[o]=!0;break;case"false":r[o]=!1;break;case void 0:r[o]=!0;break;default:r[o]=i.value}}return r},{});return n};function sr(t){return!t||!t.ownerDocument||!t.ownerDocument.defaultView?window:t.ownerDocument.defaultView}function Yc(t){return!t||!t.ownerDocument?document:t.ownerDocument}var Bi=null,UE=null;Yp&&window.addEventListener("resize",function(){UE!==window.devicePixelRatio&&(UE=window.devicePixelRatio,Bi=null)});function jE(t){if(Bi===null){var e=Yc(t);if(typeof e=="undefined")return Bi=0,Bi;var n=e.body,r=e.createElement("div");r.classList.add("simplebar-hide-scrollbar"),n.appendChild(r);var i=r.getBoundingClientRect().right;n.removeChild(r),Bi=i}return Bi}var nt=function(){function t(n,r){var i=this;this.onScroll=function(){var s=sr(i.el);i.scrollXTicking||(s.requestAnimationFrame(i.scrollX),i.scrollXTicking=!0),i.scrollYTicking||(s.requestAnimationFrame(i.scrollY),i.scrollYTicking=!0)},this.scrollX=function(){i.axis.x.isOverflowing&&(i.showScrollbar("x"),i.positionScrollbar("x")),i.scrollXTicking=!1},this.scrollY=function(){i.axis.y.isOverflowing&&(i.showScrollbar("y"),i.positionScrollbar("y")),i.scrollYTicking=!1},this.onMouseEnter=function(){i.showScrollbar("x"),i.showScrollbar("y")},this.onMouseMove=function(s){i.mouseX=s.clientX,i.mouseY=s.clientY,(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&i.onMouseMoveForAxis("x"),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&i.onMouseMoveForAxis("y")},this.onMouseLeave=function(){i.onMouseMove.cancel(),(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&i.onMouseLeaveForAxis("x"),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&i.onMouseLeaveForAxis("y"),i.mouseX=-1,i.mouseY=-1},this.onWindowResize=function(){i.scrollbarWidth=i.getScrollbarWidth(),i.hideNativeScrollbar()},this.hideScrollbars=function(){i.axis.x.track.rect=i.axis.x.track.el.getBoundingClientRect(),i.axis.y.track.rect=i.axis.y.track.el.getBoundingClientRect(),i.isWithinBounds(i.axis.y.track.rect)||(i.axis.y.scrollbar.el.classList.remove(i.classNames.visible),i.axis.y.isVisible=!1),i.isWithinBounds(i.axis.x.track.rect)||(i.axis.x.scrollbar.el.classList.remove(i.classNames.visible),i.axis.x.isVisible=!1)},this.onPointerEvent=function(s){var o,a;i.axis.x.track.rect=i.axis.x.track.el.getBoundingClientRect(),i.axis.y.track.rect=i.axis.y.track.el.getBoundingClientRect(),(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&(o=i.isWithinBounds(i.axis.x.track.rect)),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&(a=i.isWithinBounds(i.axis.y.track.rect)),(o||a)&&(s.preventDefault(),s.stopPropagation(),s.type==="mousedown"&&(o&&(i.axis.x.scrollbar.rect=i.axis.x.scrollbar.el.getBoundingClientRect(),i.isWithinBounds(i.axis.x.scrollbar.rect)?i.onDragStart(s,"x"):i.onTrackClick(s,"x")),a&&(i.axis.y.scrollbar.rect=i.axis.y.scrollbar.el.getBoundingClientRect(),i.isWithinBounds(i.axis.y.scrollbar.rect)?i.onDragStart(s,"y"):i.onTrackClick(s,"y"))))},this.drag=function(s){var o,a=i.axis[i.draggedAxis].track,c=a.rect[i.axis[i.draggedAxis].sizeAttr],u=i.axis[i.draggedAxis].scrollbar,l=i.contentWrapperEl[i.axis[i.draggedAxis].scrollSizeAttr],h=parseInt(i.elStyles[i.axis[i.draggedAxis].sizeAttr],10);s.preventDefault(),s.stopPropagation(),i.draggedAxis==="y"?o=s.pageY:o=s.pageX;var f=o-a.rect[i.axis[i.draggedAxis].offsetAttr]-i.axis[i.draggedAxis].dragOffset,p=f/(c-u.size),v=p*(l-h);i.draggedAxis==="x"&&(v=i.isRtl&&t.getRtlHelpers().isRtlScrollbarInverted?v-(c+u.size):v,v=i.isRtl&&t.getRtlHelpers().isRtlScrollingInverted?-v:v),i.contentWrapperEl[i.axis[i.draggedAxis].scrollOffsetAttr]=v},this.onEndDrag=function(s){var o=Yc(i.el),a=sr(i.el);s.preventDefault(),s.stopPropagation(),i.el.classList.remove(i.classNames.dragging),o.removeEventListener("mousemove",i.drag,!0),o.removeEventListener("mouseup",i.onEndDrag,!0),i.removePreventClickId=a.setTimeout(function(){o.removeEventListener("click",i.preventClick,!0),o.removeEventListener("dblclick",i.preventClick,!0),i.removePreventClickId=null})},this.preventClick=function(s){s.preventDefault(),s.stopPropagation()},this.el=n,this.minScrollbarWidth=20,this.options=Object.assign({},t.defaultOptions,r),this.classNames=Object.assign({},t.defaultOptions.classNames,this.options.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,!t.instances.has(this.el)&&(this.recalculate=fE(this.recalculate.bind(this),64),this.onMouseMove=fE(this.onMouseMove.bind(this),64),this.hideScrollbars=gE(this.hideScrollbars.bind(this),this.options.timeout),this.onWindowResize=gE(this.onWindowResize.bind(this),64,{leading:!0}),t.getRtlHelpers=xV(t.getRtlHelpers),this.init())}t.getRtlHelpers=function(){var r=document.createElement("div");r.innerHTML='<div class="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>';var i=r.firstElementChild;document.body.appendChild(i);var s=i.firstElementChild;i.scrollLeft=0;var o=t.getOffset(i),a=t.getOffset(s);i.scrollLeft=999;var c=t.getOffset(s);return{isRtlScrollingInverted:o.left!==a.left&&a.left-c.left!==0,isRtlScrollbarInverted:o.left!==a.left}},t.getOffset=function(r){var i=r.getBoundingClientRect(),s=Yc(r),o=sr(r);return{top:i.top+(o.pageYOffset||s.documentElement.scrollTop),left:i.left+(o.pageXOffset||s.documentElement.scrollLeft)}};var e=t.prototype;return e.init=function(){t.instances.set(this.el,this),Yp&&(this.initDOM(),this.setAccessibilityAttributes(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},e.initDOM=function(){var r=this;if(Array.prototype.filter.call(this.el.children,function(o){return o.classList.contains(r.classNames.wrapper)}).length)this.wrapperEl=this.el.querySelector("."+this.classNames.wrapper),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector("."+this.classNames.contentWrapper),this.contentEl=this.options.contentNode||this.el.querySelector("."+this.classNames.contentEl),this.offsetEl=this.el.querySelector("."+this.classNames.offset),this.maskEl=this.el.querySelector("."+this.classNames.mask),this.placeholderEl=this.findChild(this.wrapperEl,"."+this.classNames.placeholder),this.heightAutoObserverWrapperEl=this.el.querySelector("."+this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl=this.el.querySelector("."+this.classNames.heightAutoObserverEl),this.axis.x.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.horizontal),this.axis.y.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.vertical);else{for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),this.wrapperEl.classList.add(this.classNames.wrapper),this.contentWrapperEl.classList.add(this.classNames.contentWrapper),this.offsetEl.classList.add(this.classNames.offset),this.maskEl.classList.add(this.classNames.mask),this.contentEl.classList.add(this.classNames.contentEl),this.placeholderEl.classList.add(this.classNames.placeholder),this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl)}if(!this.axis.x.track.el||!this.axis.y.track.el){var i=document.createElement("div"),s=document.createElement("div");i.classList.add(this.classNames.track),s.classList.add(this.classNames.scrollbar),i.appendChild(s),this.axis.x.track.el=i.cloneNode(!0),this.axis.x.track.el.classList.add(this.classNames.horizontal),this.axis.y.track.el=i.cloneNode(!0),this.axis.y.track.el.classList.add(this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}this.axis.x.scrollbar.el=this.axis.x.track.el.querySelector("."+this.classNames.scrollbar),this.axis.y.scrollbar.el=this.axis.y.track.el.querySelector("."+this.classNames.scrollbar),this.options.autoHide||(this.axis.x.scrollbar.el.classList.add(this.classNames.visible),this.axis.y.scrollbar.el.classList.add(this.classNames.visible)),this.el.setAttribute("data-simplebar","init")},e.setAccessibilityAttributes=function(){var r=this.options.ariaLabel||"scrollable content";this.contentWrapperEl.setAttribute("tabindex","0"),this.contentWrapperEl.setAttribute("role","region"),this.contentWrapperEl.setAttribute("aria-label",r)},e.initListeners=function(){var r=this,i=sr(this.el);this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach(function(a){r.el.addEventListener(a,r.onPointerEvent,!0)}),["touchstart","touchend","touchmove"].forEach(function(a){r.el.addEventListener(a,r.onPointerEvent,{capture:!0,passive:!0})}),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.addEventListener("scroll",this.onScroll),i.addEventListener("resize",this.onWindowResize);var s=!1,o=i.ResizeObserver||JV;this.resizeObserver=new o(function(){!s||r.recalculate()}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),i.requestAnimationFrame(function(){s=!0}),this.mutationObserver=new i.MutationObserver(this.recalculate),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})},e.recalculate=function(){var r=sr(this.el);this.elStyles=r.getComputedStyle(this.el),this.isRtl=this.elStyles.direction==="rtl";var i=this.heightAutoObserverEl.offsetHeight<=1,s=this.heightAutoObserverEl.offsetWidth<=1,o=this.contentEl.offsetWidth,a=this.contentWrapperEl.offsetWidth,c=this.elStyles.overflowX,u=this.elStyles.overflowY;this.contentEl.style.padding=this.elStyles.paddingTop+" "+this.elStyles.paddingRight+" "+this.elStyles.paddingBottom+" "+this.elStyles.paddingLeft,this.wrapperEl.style.margin="-"+this.elStyles.paddingTop+" -"+this.elStyles.paddingRight+" -"+this.elStyles.paddingBottom+" -"+this.elStyles.paddingLeft;var l=this.contentEl.scrollHeight,h=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=i?"auto":"100%",this.placeholderEl.style.width=s?o+"px":"auto",this.placeholderEl.style.height=l+"px";var f=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=h>o,this.axis.y.isOverflowing=l>f,this.axis.x.isOverflowing=c==="hidden"?!1:this.axis.x.isOverflowing,this.axis.y.isOverflowing=u==="hidden"?!1:this.axis.y.isOverflowing,this.axis.x.forceVisible=this.options.forceVisible==="x"||this.options.forceVisible===!0,this.axis.y.forceVisible=this.options.forceVisible==="y"||this.options.forceVisible===!0,this.hideNativeScrollbar();var p=this.axis.x.isOverflowing?this.scrollbarWidth:0,v=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&h>a-v,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&l>f-p,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el.style.width=this.axis.x.scrollbar.size+"px",this.axis.y.scrollbar.el.style.height=this.axis.y.scrollbar.size+"px",this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")},e.getScrollbarSize=function(r){if(r===void 0&&(r="y"),!this.axis[r].isOverflowing)return 0;var i=this.contentEl[this.axis[r].scrollSizeAttr],s=this.axis[r].track.el[this.axis[r].offsetSizeAttr],o,a=s/i;return o=Math.max(~~(a*s),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(o=Math.min(o,this.options.scrollbarMaxSize)),o},e.positionScrollbar=function(r){if(r===void 0&&(r="y"),!!this.axis[r].isOverflowing){var i=this.contentWrapperEl[this.axis[r].scrollSizeAttr],s=this.axis[r].track.el[this.axis[r].offsetSizeAttr],o=parseInt(this.elStyles[this.axis[r].sizeAttr],10),a=this.axis[r].scrollbar,c=this.contentWrapperEl[this.axis[r].scrollOffsetAttr];c=r==="x"&&this.isRtl&&t.getRtlHelpers().isRtlScrollingInverted?-c:c;var u=c/(i-o),l=~~((s-a.size)*u);l=r==="x"&&this.isRtl&&t.getRtlHelpers().isRtlScrollbarInverted?l+(s-a.size):l,a.el.style.transform=r==="x"?"translate3d("+l+"px, 0, 0)":"translate3d(0, "+l+"px, 0)"}},e.toggleTrackVisibility=function(r){r===void 0&&(r="y");var i=this.axis[r].track.el,s=this.axis[r].scrollbar.el;this.axis[r].isOverflowing||this.axis[r].forceVisible?(i.style.visibility="visible",this.contentWrapperEl.style[this.axis[r].overflowAttr]="scroll"):(i.style.visibility="hidden",this.contentWrapperEl.style[this.axis[r].overflowAttr]="hidden"),this.axis[r].isOverflowing?s.style.display="block":s.style.display="none"},e.hideNativeScrollbar=function(){this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-"+this.scrollbarWidth+"px":0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-"+this.scrollbarWidth+"px":0},e.onMouseMoveForAxis=function(r){r===void 0&&(r="y"),this.axis[r].track.rect=this.axis[r].track.el.getBoundingClientRect(),this.axis[r].scrollbar.rect=this.axis[r].scrollbar.el.getBoundingClientRect();var i=this.isWithinBounds(this.axis[r].scrollbar.rect);i?this.axis[r].scrollbar.el.classList.add(this.classNames.hover):this.axis[r].scrollbar.el.classList.remove(this.classNames.hover),this.isWithinBounds(this.axis[r].track.rect)?(this.showScrollbar(r),this.axis[r].track.el.classList.add(this.classNames.hover)):this.axis[r].track.el.classList.remove(this.classNames.hover)},e.onMouseLeaveForAxis=function(r){r===void 0&&(r="y"),this.axis[r].track.el.classList.remove(this.classNames.hover),this.axis[r].scrollbar.el.classList.remove(this.classNames.hover)},e.showScrollbar=function(r){r===void 0&&(r="y");var i=this.axis[r].scrollbar.el;this.axis[r].isVisible||(i.classList.add(this.classNames.visible),this.axis[r].isVisible=!0),this.options.autoHide&&this.hideScrollbars()},e.onDragStart=function(r,i){i===void 0&&(i="y");var s=Yc(this.el),o=sr(this.el),a=this.axis[i].scrollbar,c=i==="y"?r.pageY:r.pageX;this.axis[i].dragOffset=c-a.rect[this.axis[i].offsetAttr],this.draggedAxis=i,this.el.classList.add(this.classNames.dragging),s.addEventListener("mousemove",this.drag,!0),s.addEventListener("mouseup",this.onEndDrag,!0),this.removePreventClickId===null?(s.addEventListener("click",this.preventClick,!0),s.addEventListener("dblclick",this.preventClick,!0)):(o.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},e.onTrackClick=function(r,i){var s=this;if(i===void 0&&(i="y"),!!this.options.clickOnTrack){var o=sr(this.el);this.axis[i].scrollbar.rect=this.axis[i].scrollbar.el.getBoundingClientRect();var a=this.axis[i].scrollbar,c=a.rect[this.axis[i].offsetAttr],u=parseInt(this.elStyles[this.axis[i].sizeAttr],10),l=this.contentWrapperEl[this.axis[i].scrollOffsetAttr],h=i==="y"?this.mouseY-c:this.mouseX-c,f=h<0?-1:1,p=f===-1?l-u:l+u,v=function C(){if(f===-1){if(l>p){var S;l-=s.options.clickOnTrackSpeed,s.contentWrapperEl.scrollTo((S={},S[s.axis[i].offsetAttr]=l,S)),o.requestAnimationFrame(C)}}else if(l<p){var A;l+=s.options.clickOnTrackSpeed,s.contentWrapperEl.scrollTo((A={},A[s.axis[i].offsetAttr]=l,A)),o.requestAnimationFrame(C)}};v()}},e.getContentElement=function(){return this.contentEl},e.getScrollElement=function(){return this.contentWrapperEl},e.getScrollbarWidth=function(){try{return getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display==="none"||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:jE(this.el)}catch{return jE(this.el)}},e.removeListeners=function(){var r=this,i=sr(this.el);this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach(function(s){r.el.removeEventListener(s,r.onPointerEvent,!0)}),["touchstart","touchend","touchmove"].forEach(function(s){r.el.removeEventListener(s,r.onPointerEvent,{capture:!0,passive:!0})}),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),i.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.recalculate.cancel(),this.onMouseMove.cancel(),this.hideScrollbars.cancel(),this.onWindowResize.cancel()},e.unMount=function(){this.removeListeners(),t.instances.delete(this.el)},e.isWithinBounds=function(r){return this.mouseX>=r.left&&this.mouseX<=r.left+r.width&&this.mouseY>=r.top&&this.mouseY<=r.top+r.height},e.findChild=function(r,i){var s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;return Array.prototype.filter.call(r.children,function(o){return s.call(o,i)})[0]},t}();nt.defaultOptions={autoHide:!0,forceVisible:!1,clickOnTrack:!0,clickOnTrackSpeed:40,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging"},scrollbarMinSize:25,scrollbarMaxSize:0,timeout:1e3};nt.instances=new WeakMap;nt.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),function(t){t.getAttribute("data-simplebar")!=="init"&&!nt.instances.has(t)&&new nt(t,Cu(t.attributes))})};nt.removeObserver=function(){this.globalObserver.disconnect()};nt.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),typeof MutationObserver!="undefined"&&(this.globalObserver=new MutationObserver(nt.handleMutations),this.globalObserver.observe(document,{childList:!0,subtree:!0})),document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))};nt.handleMutations=function(t){t.forEach(function(e){Array.prototype.forEach.call(e.addedNodes,function(n){n.nodeType===1&&(n.hasAttribute("data-simplebar")?!nt.instances.has(n)&&document.documentElement.contains(n)&&new nt(n,Cu(n.attributes)):Array.prototype.forEach.call(n.querySelectorAll("[data-simplebar]"),function(r){r.getAttribute("data-simplebar")!=="init"&&!nt.instances.has(r)&&document.documentElement.contains(r)&&new nt(r,Cu(r.attributes))}))}),Array.prototype.forEach.call(e.removedNodes,function(n){n.nodeType===1&&(n.getAttribute("data-simplebar")==="init"?nt.instances.has(n)&&!document.documentElement.contains(n)&&nt.instances.get(n).unMount():Array.prototype.forEach.call(n.querySelectorAll('[data-simplebar="init"]'),function(r){nt.instances.has(r)&&!document.documentElement.contains(r)&&nt.instances.get(r).unMount()}))})})};nt.getOptions=Cu;Yp&&nt.initHtmlApi();const BK=ba({data(){return{SimpleBar:null}},computed:{contentElement(){return this.$refs.contentElement},scrollElement(){return this.$refs.scrollElement}},mounted(){const t=nt.getOptions(this.$refs.element.attributes);this.SimpleBar=new nt(this.$refs.element,t)}}),UK={ref:"element"},jK={class:"simplebar-wrapper"},VK=lt("div",{class:"simplebar-height-auto-observer-wrapper"},[lt("div",{class:"simplebar-height-auto-observer"})],-1),KK={class:"simplebar-mask"},zK={class:"simplebar-offset"},WK={class:"simplebar-content-wrapper",ref:"scrollElement"},HK={class:"simplebar-content",ref:"contentElement"},qK=lt("div",{class:"simplebar-placeholder"},null,-1),GK=lt("div",{class:"simplebar-track simplebar-horizontal"},[lt("div",{class:"simplebar-scrollbar"})],-1),YK=lt("div",{class:"simplebar-track simplebar-vertical"},[lt("div",{class:"simplebar-scrollbar"})],-1);function XK(t,e,n,r,i,s){return on(),Zi("div",UK,[lt("div",jK,[VK,lt("div",KK,[lt("div",zK,[lt("div",WK,[lt("div",HK,[H_(t.$slots,"default")],512)],512)])]),qK]),GK,YK],512)}var QK=kp(BK,[["render",XK]]),JK="firebase",ZK="9.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn(JK,ZK,"app");var ez=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ee,gg=gg||{},pe=ez||self;function Ou(){}function bd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ia(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function tz(t){return Object.prototype.hasOwnProperty.call(t,af)&&t[af]||(t[af]=++nz)}var af="closure_uid_"+(1e9*Math.random()>>>0),nz=0;function rz(t,e,n){return t.call.apply(t.bind,arguments)}function iz(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function St(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?St=rz:St=iz,St.apply(null,arguments)}function mc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ct(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Mr(){this.s=this.s,this.o=this.o}var sz=0;Mr.prototype.s=!1;Mr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),sz!=0)&&tz(this)};Mr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},hT=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function oz(t){e:{var e=Qz;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function VE(t){return Array.prototype.concat.apply([],arguments)}function mg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ru(t){return/^[\s\xa0]*$/.test(t)}var KE=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Bt(t,e){return t.indexOf(e)!=-1}function cf(t,e){return t<e?-1:t>e?1:0}var Ut;e:{var zE=pe.navigator;if(zE){var WE=zE.userAgent;if(WE){Ut=WE;break e}}Ut=""}function vg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function fT(t){const e={};for(const n in t)e[n]=t[n];return e}var HE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dT(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<HE.length;s++)n=HE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yg(t){return yg[" "](t),t}yg[" "]=Ou;function az(t){var e=lz;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var cz=Bt(Ut,"Opera"),gs=Bt(Ut,"Trident")||Bt(Ut,"MSIE"),pT=Bt(Ut,"Edge"),_d=pT||gs,gT=Bt(Ut,"Gecko")&&!(Bt(Ut.toLowerCase(),"webkit")&&!Bt(Ut,"Edge"))&&!(Bt(Ut,"Trident")||Bt(Ut,"MSIE"))&&!Bt(Ut,"Edge"),uz=Bt(Ut.toLowerCase(),"webkit")&&!Bt(Ut,"Edge");function mT(){var t=pe.document;return t?t.documentMode:void 0}var Du;e:{var uf="",lf=function(){var t=Ut;if(gT)return/rv:([^\);]+)(\)|;)/.exec(t);if(pT)return/Edge\/([\d\.]+)/.exec(t);if(gs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(uz)return/WebKit\/(\S+)/.exec(t);if(cz)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(lf&&(uf=lf?lf[1]:""),gs){var hf=mT();if(hf!=null&&hf>parseFloat(uf)){Du=String(hf);break e}}Du=uf}var lz={};function hz(){return az(function(){let t=0;const e=KE(String(Du)).split("."),n=KE("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=cf(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||cf(i[2].length==0,s[2].length==0)||cf(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var wd;if(pe.document&&gs){var qE=mT();wd=qE||parseInt(Du,10)||void 0}else wd=void 0;var fz=wd,dz=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{pe.addEventListener("test",Ou,e),pe.removeEventListener("test",Ou,e)}catch{}return t}();function Nt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};function Go(t,e){if(Nt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(gT){e:{try{yg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:pz[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Go.Z.h.call(this)}}Ct(Go,Nt);var pz={2:"touch",3:"pen",4:"mouse"};Go.prototype.h=function(){Go.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ca="closure_listenable_"+(1e6*Math.random()|0),gz=0;function mz(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++gz,this.ca=this.fa=!1}function Tl(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Al(t){this.src=t,this.g={},this.h=0}Al.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Td(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new mz(e,this.src,s,!!r,i),e.fa=n,t.push(e)),e};function Sd(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=lT(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Tl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Td(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}var Eg="closure_lm_"+(1e6*Math.random()|0),ff={};function vT(t,e,n,r,i){if(r&&r.once)return ET(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)vT(t,e[s],n,r,i);return null}return n=wg(n),t&&t[Ca]?t.N(e,n,Ia(r)?!!r.capture:!!r,i):yT(t,e,n,!1,r,i)}function yT(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ia(i)?!!i.capture:!!i,a=_g(t);if(a||(t[Eg]=a=new Al(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=vz(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)dz||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_T(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function vz(){function t(n){return e.call(t.src,t.listener,n)}var e=yz;return t}function ET(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ET(t,e[s],n,r,i);return null}return n=wg(n),t&&t[Ca]?t.O(e,n,Ia(r)?!!r.capture:!!r,i):yT(t,e,n,!0,r,i)}function bT(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)bT(t,e[s],n,r,i);else r=Ia(r)?!!r.capture:!!r,n=wg(n),t&&t[Ca]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Td(s,n,r,i),-1<n&&(Tl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=_g(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Td(e,n,r,i)),(n=-1<t?e[t]:null)&&bg(n))}function bg(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[Ca])Sd(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_T(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_g(e))?(Sd(n,t),n.h==0&&(n.src=null,e[Eg]=null)):Tl(t)}}}function _T(t){return t in ff?ff[t]:ff[t]="on"+t}function yz(t,e){if(t.ca)t=!0;else{e=new Go(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&bg(t),t=n.call(r,e)}return t}function _g(t){return t=t[Eg],t instanceof Al?t:null}var df="__closure_events_fn_"+(1e9*Math.random()>>>0);function wg(t){return typeof t=="function"?t:(t[df]||(t[df]=function(e){return t.handleEvent(e)}),t[df])}function bt(){Mr.call(this),this.i=new Al(this),this.P=this,this.I=null}Ct(bt,Mr);bt.prototype[Ca]=!0;bt.prototype.removeEventListener=function(t,e,n,r){bT(this,t,e,n,r)};function Tt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Nt(e,t);else if(e instanceof Nt)e.target=e.target||t;else{var i=e;e=new Nt(r,t),dT(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=vc(o,r,!0,e)&&i}if(o=e.g=t,i=vc(o,r,!0,e)&&i,i=vc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=vc(o,r,!1,e)&&i}bt.prototype.M=function(){if(bt.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Tl(n[r]);delete t.g[e],t.h--}}this.I=null};bt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};bt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function vc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&Sd(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Sg=pe.JSON.stringify;function Ez(){var t=ST;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class bz{constructor(){this.h=this.g=null}add(e,n){const r=wT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var wT=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new _z,t=>t.reset());class _z{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function wz(t){pe.setTimeout(()=>{throw t},0)}function Tg(t,e){Ad||Sz(),Id||(Ad(),Id=!0),ST.add(t,e)}var Ad;function Sz(){var t=pe.Promise.resolve(void 0);Ad=function(){t.then(Tz)}}var Id=!1,ST=new bz;function Tz(){for(var t;t=Ez();){try{t.h.call(t.g)}catch(n){wz(n)}var e=wT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Id=!1}function Il(t,e){bt.call(this),this.h=t||1,this.g=e||pe,this.j=St(this.kb,this),this.l=Date.now()}Ct(Il,bt);ee=Il.prototype;ee.da=!1;ee.S=null;ee.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Tt(this,"tick"),this.da&&(Ag(this),this.start()))}};ee.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ag(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}ee.M=function(){Il.Z.M.call(this),Ag(this),delete this.g};function Ig(t,e,n){if(typeof t=="function")n&&(t=St(t,n));else if(t&&typeof t.handleEvent=="function")t=St(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:pe.setTimeout(t,e||0)}function TT(t){t.g=Ig(()=>{t.g=null,t.i&&(t.i=!1,TT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Az extends Mr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:TT(this)}M(){super.M(),this.g&&(pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yo(t){Mr.call(this),this.h=t,this.g={}}Ct(Yo,Mr);var GE=[];function AT(t,e,n,r){Array.isArray(n)||(n&&(GE[0]=n.toString()),n=GE);for(var i=0;i<n.length;i++){var s=vT(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function IT(t){vg(t.g,function(e,n){this.g.hasOwnProperty(n)&&bg(e)},t),t.g={}}Yo.prototype.M=function(){Yo.Z.M.call(this),IT(this)};Yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Cl(){this.g=!0}Cl.prototype.Aa=function(){this.g=!1};function Iz(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&h[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Cz(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ki(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Rz(t,n)+(r?" "+r:"")})}function Oz(t,e){t.info(function(){return"TIMEOUT: "+e})}Cl.prototype.info=function(){};function Rz(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Sg(n)}catch{return e}}var wi={},YE=null;function Ol(){return YE=YE||new bt}wi.Ma="serverreachability";function CT(t){Nt.call(this,wi.Ma,t)}Ct(CT,Nt);function Xo(t){const e=Ol();Tt(e,new CT(e))}wi.STAT_EVENT="statevent";function OT(t,e){Nt.call(this,wi.STAT_EVENT,t),this.stat=e}Ct(OT,Nt);function jt(t){const e=Ol();Tt(e,new OT(e,t))}wi.Na="timingevent";function RT(t,e){Nt.call(this,wi.Na,t),this.size=e}Ct(RT,Nt);function Oa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){t()},e)}var Rl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},DT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Cg(){}Cg.prototype.h=null;function XE(t){return t.h||(t.h=t.i())}function xT(){}var Ra={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Og(){Nt.call(this,"d")}Ct(Og,Nt);function Rg(){Nt.call(this,"c")}Ct(Rg,Nt);var Cd;function Dl(){}Ct(Dl,Cg);Dl.prototype.g=function(){return new XMLHttpRequest};Dl.prototype.i=function(){return{}};Cd=new Dl;function Da(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Yo(this),this.P=Dz,t=_d?125:void 0,this.W=new Il(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new kT}function kT(){this.i=null,this.g="",this.h=!1}var Dz=45e3,Od={},xu={};ee=Da.prototype;ee.setTimeout=function(t){this.P=t};function Rd(t,e,n){t.K=1,t.v=kl(Qn(e)),t.s=n,t.U=!0,PT(t,null)}function PT(t,e){t.F=Date.now(),xa(t),t.A=Qn(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),UT(n.h,"t",r),t.C=0,n=t.l.H,t.h=new kT,t.g=oA(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Az(St(t.Ia,t,t.g),t.O)),AT(t.V,t.g,"readystatechange",t.gb),e=t.H?fT(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Xo(),Iz(t.j,t.u,t.A,t.m,t.X,t.s)}ee.gb=function(t){t=t.target;const e=this.L;e&&Wn(t)==3?e.l():this.Ia(t)};ee.Ia=function(t){try{if(t==this.g)e:{const l=Wn(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>l)&&(l!=3||_d||this.g&&(this.h.h||this.g.ga()||eb(this.g)))){this.I||l!=4||e==7||(e==8||0>=h?Xo(3):Xo(2)),xl(this);var n=this.g.ba();this.N=n;t:if(NT(this)){var r=eb(this.g);t="";var i=r.length,s=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){qr(this),vo(this);var o="";break t}this.h.i=new pe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,Cz(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ru(a)){var u=a;break t}}u=null}if(n=u)Ki(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Dd(this,n);else{this.i=!1,this.o=3,jt(12),qr(this),vo(this);break e}}this.U?(MT(this,l,o),_d&&this.i&&l==3&&(AT(this.V,this.W,"tick",this.fb),this.W.start())):(Ki(this.j,this.m,o,null),Dd(this,o)),l==4&&qr(this),this.i&&!this.I&&(l==4?nA(this.l,this):(this.i=!1,xa(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,jt(12)):(this.o=0,jt(13)),qr(this),vo(this)}}}catch{}finally{}};function NT(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function MT(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=xz(t,n),i==xu){e==4&&(t.o=4,jt(14),r=!1),Ki(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Od){t.o=4,jt(15),Ki(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ki(t.j,t.m,i,null),Dd(t,i);NT(t)&&i!=xu&&i!=Od&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,jt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fg(e),e.L=!0,jt(11))):(Ki(t.j,t.m,n,"[Invalid Chunked Response]"),qr(t),vo(t))}ee.fb=function(){if(this.g){var t=Wn(this.g),e=this.g.ga();this.C<e.length&&(xl(this),MT(this,t,e),this.i&&t!=4&&xa(this))}};function xz(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?xu:(n=Number(e.substring(n,r)),isNaN(n)?Od:(r+=1,r+n>e.length?xu:(e=e.substr(r,n),t.C=r+n,e)))}ee.cancel=function(){this.I=!0,qr(this)};function xa(t){t.Y=Date.now()+t.P,$T(t,t.P)}function $T(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Oa(St(t.eb,t),e)}function xl(t){t.B&&(pe.clearTimeout(t.B),t.B=null)}ee.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Oz(this.j,this.A),this.K!=2&&(Xo(),jt(17)),qr(this),this.o=2,vo(this)):$T(this,this.Y-t)};function vo(t){t.l.G==0||t.I||nA(t.l,t)}function qr(t){xl(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Ag(t.W),IT(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Dd(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||xd(n.i,t))){if(n.I=t.N,!t.J&&xd(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Mu(n),Ml(n);else break e;Lg(n),jt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Oa(St(n.ab,n),6e3));if(1>=KT(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Gr(n,11)}else if((t.J||n.g==t)&&Mu(n),!Ru(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];const l=u[3];l!=null&&(n.ma=l,n.h.info("VER="+n.ma));const h=u[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;!s.g&&(Bt(v,"spdy")||Bt(v,"quic")||Bt(v,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(kg(s,s.h),s.h=null))}if(r.D){const C=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.sa=C,Xe(r.F,r.D,C))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=t;if(r.oa=sA(r,r.H?r.la:null,r.W),o.J){zT(r.i,o);var a=o,c=r.K;c&&a.setTimeout(c),a.B&&(xl(a),xa(a)),r.g=o}else eA(r);0<n.l.length&&$l(n)}else u[0]!="stop"&&u[0]!="close"||Gr(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Gr(n,7):$g(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Xo(4)}catch{}}function kz(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(bd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Dg(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(bd(t)||typeof t=="string")hT(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(bd(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=kz(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function $s(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof $s)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}ee=$s.prototype;ee.R=function(){xg(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};ee.T=function(){return xg(this),this.g.concat()};function xg(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];hi(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],hi(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}ee.get=function(t,e){return hi(this.h,t)?this.h[t]:e};ee.set=function(t,e){hi(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};ee.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function hi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var LT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pz(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function fi(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof fi){this.g=e!==void 0?e:t.g,ku(this,t.j),this.s=t.s,Pu(this,t.i),Nu(this,t.m),this.l=t.l,e=t.h;var n=new Qo;n.i=e.i,e.g&&(n.g=new $s(e.g),n.h=e.h),QE(this,n),this.o=t.o}else t&&(n=String(t).match(LT))?(this.g=!!e,ku(this,n[1]||"",!0),this.s=yo(n[2]||""),Pu(this,n[3]||"",!0),Nu(this,n[4]),this.l=yo(n[5]||"",!0),QE(this,n[6]||"",!0),this.o=yo(n[7]||"")):(this.g=!!e,this.h=new Qo(null,this.g))}fi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ao(e,JE,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ao(e,JE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(ao(n,n.charAt(0)=="/"?Fz:Lz,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ao(n,Uz)),t.join("")};function Qn(t){return new fi(t)}function ku(t,e,n){t.j=n?yo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Pu(t,e,n){t.i=n?yo(e,!0):e}function Nu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function QE(t,e,n){e instanceof Qo?(t.h=e,jz(t.h,t.g)):(n||(e=ao(e,Bz)),t.h=new Qo(e,t.g))}function Xe(t,e,n){t.h.set(e,n)}function kl(t){return Xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Nz(t){return t instanceof fi?Qn(t):new fi(t,void 0)}function Mz(t,e,n,r){var i=new fi(null,void 0);return t&&ku(i,t),e&&Pu(i,e),n&&Nu(i,n),r&&(i.l=r),i}function yo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ao(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,$z),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $z(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var JE=/[#\/\?@]/g,Lz=/[#\?:]/g,Fz=/[#\?]/g,Bz=/[#\?@]/g,Uz=/#/g;function Qo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function $r(t){t.g||(t.g=new $s,t.h=0,t.i&&Pz(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ee=Qo.prototype;ee.add=function(t,e){$r(this),this.i=null,t=Ls(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function FT(t,e){$r(t),e=Ls(t,e),hi(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,hi(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&xg(t)))}function BT(t,e){return $r(t),e=Ls(t,e),hi(t.g.h,e)}ee.forEach=function(t,e){$r(this),this.g.forEach(function(n,r){hT(n,function(i){t.call(e,i,r,this)},this)},this)};ee.T=function(){$r(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};ee.R=function(t){$r(this);var e=[];if(typeof t=="string")BT(this,t)&&(e=VE(e,this.g.get(Ls(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=VE(e,t[n])}return e};ee.set=function(t,e){return $r(this),this.i=null,t=Ls(this,t),BT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ee.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function UT(t,e,n){FT(t,e),0<n.length&&(t.i=null,t.g.set(Ls(t,e),mg(n)),t.h+=n.length)}ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;r[s]!==""&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};function Ls(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function jz(t,e){e&&!t.j&&($r(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(FT(this,r),UT(this,i,n))},t)),t.j=e}var Vz=class{constructor(t,e){this.h=t,this.g=e}};function jT(t){this.l=t||Kz,pe.PerformanceNavigationTiming?(t=pe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(pe.g&&pe.g.Ea&&pe.g.Ea()&&pe.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Kz=10;function VT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function KT(t){return t.h?1:t.g?t.g.size:0}function xd(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function kg(t,e){t.g?t.g.add(e):t.h=e}function zT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}jT.prototype.cancel=function(){if(this.i=WT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function WT(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return mg(t.i)}function Pg(){}Pg.prototype.stringify=function(t){return pe.JSON.stringify(t,void 0)};Pg.prototype.parse=function(t){return pe.JSON.parse(t,void 0)};function zz(){this.g=new Pg}function Wz(t,e,n){const r=n||"";try{Dg(t,function(i,s){let o=i;Ia(i)&&(o=Sg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Hz(t,e){const n=new Cl;if(pe.Image){const r=new Image;r.onload=mc(yc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=mc(yc,n,r,"TestLoadImage: error",!1,e),r.onabort=mc(yc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=mc(yc,n,r,"TestLoadImage: timeout",!1,e),pe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function yc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ka(t){this.l=t.$b||null,this.j=t.ib||!1}Ct(ka,Cg);ka.prototype.g=function(){return new Pl(this.l,this.j)};ka.prototype.i=function(t){return function(){return t}}({});function Pl(t,e){bt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Ng,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ct(Pl,bt);var Ng=0;ee=Pl.prototype;ee.open=function(t,e){if(this.readyState!=Ng)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Jo(this)};ee.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||pe).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pa(this)),this.readyState=Ng};ee.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Jo(this)),this.g&&(this.readyState=3,Jo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof pe.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HT(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function HT(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}ee.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Pa(this):Jo(this),this.readyState==3&&HT(this)}};ee.Ua=function(t){this.g&&(this.response=this.responseText=t,Pa(this))};ee.Ta=function(t){this.g&&(this.response=t,Pa(this))};ee.ha=function(){this.g&&Pa(this)};function Pa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Jo(t)}ee.setRequestHeader=function(t,e){this.v.append(t,e)};ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Jo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Pl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var qz=pe.JSON.parse;function ct(t){bt.call(this),this.headers=new $s,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qT,this.K=this.L=!1}Ct(ct,bt);var qT="",Gz=/^https?$/i,Yz=["POST","PUT"];ee=ct.prototype;ee.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cd.g(),this.C=this.u?XE(this.u):XE(Cd),this.g.onreadystatechange=St(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){ZE(this,s);return}t=n||"";const i=new $s(this.headers);r&&Dg(r,function(s,o){i.set(o,s)}),r=oz(i.T()),n=pe.FormData&&t instanceof pe.FormData,!(0<=lT(Yz,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{XT(this),0<this.B&&((this.K=Xz(this.g))?(this.g.timeout=this.B,this.g.ontimeout=St(this.pa,this)):this.A=Ig(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ZE(this,s)}};function Xz(t){return gs&&hz()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function Qz(t){return t.toLowerCase()=="content-type"}ee.pa=function(){typeof gg!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tt(this,"timeout"),this.abort(8))};function ZE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,GT(t),Nl(t)}function GT(t){t.D||(t.D=!0,Tt(t,"complete"),Tt(t,"error"))}ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tt(this,"complete"),Tt(this,"abort"),Nl(this))};ee.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nl(this,!0)),ct.Z.M.call(this)};ee.Fa=function(){this.s||(this.F||this.v||this.l?YT(this):this.cb())};ee.cb=function(){YT(this)};function YT(t){if(t.h&&typeof gg!="undefined"&&(!t.C[1]||Wn(t)!=4||t.ba()!=2)){if(t.v&&Wn(t)==4)Ig(t.Fa,0,t);else if(Tt(t,"readystatechange"),Wn(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(LT)[1]||null;if(!i&&pe.self&&pe.self.location){var s=pe.self.location.protocol;i=s.substr(0,s.length-1)}r=!Gz.test(i?i.toLowerCase():"")}n=r}if(n)Tt(t,"complete"),Tt(t,"success");else{t.m=6;try{var o=2<Wn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",GT(t)}}finally{Nl(t)}}}}function Nl(t,e){if(t.g){XT(t);const n=t.g,r=t.C[0]?Ou:null;t.g=null,t.C=null,e||Tt(t,"ready");try{n.onreadystatechange=r}catch{}}}function XT(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(pe.clearTimeout(t.A),t.A=null)}function Wn(t){return t.g?t.g.readyState:0}ee.ba=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}};ee.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ee.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),qz(e)}};function eb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case qT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ee.Da=function(){return this.m};ee.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function Jz(t){let e="";return vg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Mg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Jz(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Xe(t,e,n))}function to(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function QT(t){this.za=0,this.l=[],this.h=new Cl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=to("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=to("baseRetryDelayMs",5e3,t),this.$a=to("retryDelaySeedMs",1e4,t),this.Ya=to("forwardChannelMaxRetries",2,t),this.ra=to("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new jT(t&&t.concurrentRequestLimit),this.Ca=new zz,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}ee=QT.prototype;ee.ma=8;ee.G=1;function $g(t){if(JT(t),t.G==3){var e=t.V++,n=Qn(t.F);Xe(n,"SID",t.J),Xe(n,"RID",e),Xe(n,"TYPE","terminate"),Na(t,n),e=new Da(t,t.h,e,void 0),e.K=2,e.v=kl(Qn(n)),n=!1,pe.navigator&&pe.navigator.sendBeacon&&(n=pe.navigator.sendBeacon(e.v.toString(),"")),!n&&pe.Image&&(new Image().src=e.v,n=!0),n||(e.g=oA(e.l,null),e.g.ea(e.v)),e.F=Date.now(),xa(e)}iA(t)}ee.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Ml(t){t.g&&(Fg(t),t.g.cancel(),t.g=null)}function JT(t){Ml(t),t.u&&(pe.clearTimeout(t.u),t.u=null),Mu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&pe.clearTimeout(t.m),t.m=null)}function pf(t,e){t.l.push(new Vz(t.Za++,e)),t.G==3&&$l(t)}function $l(t){VT(t.i)||t.m||(t.m=!0,Tg(t.Ha,t),t.C=0)}function Zz(t,e){return KT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Oa(St(t.Ha,t,e),rA(t,t.C)),t.C++,!0)}ee.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Da(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=fT(s),dT(s,this.P)):s=this.P),this.o===null&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ZT(this,i,e),n=Qn(this.F),Xe(n,"RID",t),Xe(n,"CVER",22),this.D&&Xe(n,"X-HTTP-Session-Id",this.D),Na(this,n),this.o&&s&&Mg(n,this.o,s),kg(this.i,i),this.Ra&&Xe(n,"TYPE","init"),this.ja?(Xe(n,"$req",e),Xe(n,"SID","null"),i.$=!0,Rd(i,n,null)):Rd(i,n,e),this.G=2}}else this.G==3&&(t?tb(this,t):this.l.length==0||VT(this.i)||tb(this))};function tb(t,e){var n;e?n=e.m:n=t.V++;const r=Qn(t.F);Xe(r,"SID",t.J),Xe(r,"RID",n),Xe(r,"AID",t.U),Na(t,r),t.o&&t.s&&Mg(r,t.o,t.s),n=new Da(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=ZT(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),kg(t.i,n),Rd(n,r,e)}function Na(t,e){t.j&&Dg({},function(n,r){Xe(e,r,n)})}function ZT(t,e,n){n=Math.min(t.l.length,n);var r=t.j?St(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].h;const l=i[c].g;if(u-=s,0>u)s=Math.max(0,i[c].h-100),a=!1;else try{Wz(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function eA(t){t.g||t.u||(t.Y=1,Tg(t.Ga,t),t.A=0)}function Lg(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Oa(St(t.Ga,t),rA(t,t.A)),t.A++,!0)}ee.Ga=function(){if(this.u=null,tA(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Oa(St(this.bb,this),t)}};ee.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,jt(10),Ml(this),tA(this))};function Fg(t){t.B!=null&&(pe.clearTimeout(t.B),t.B=null)}function tA(t){t.g=new Da(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Qn(t.oa);Xe(e,"RID","rpc"),Xe(e,"SID",t.J),Xe(e,"CI",t.N?"0":"1"),Xe(e,"AID",t.U),Na(t,e),Xe(e,"TYPE","xmlhttp"),t.o&&t.s&&Mg(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=kl(Qn(e)),n.s=null,n.U=!0,PT(n,t)}ee.ab=function(){this.v!=null&&(this.v=null,Ml(this),Lg(this),jt(19))};function Mu(t){t.v!=null&&(pe.clearTimeout(t.v),t.v=null)}function nA(t,e){var n=null;if(t.g==e){Mu(t),Fg(t),t.g=null;var r=2}else if(xd(t.i,e))n=e.D,zT(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Ol(),Tt(r,new RT(r,n)),$l(t)}else eA(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&Zz(t,e)||r==2&&Lg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Gr(t,5);break;case 4:Gr(t,10);break;case 3:Gr(t,6);break;default:Gr(t,2)}}}function rA(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Gr(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=St(t.jb,t);n||(n=new fi("//www.google.com/images/cleardot.gif"),pe.location&&pe.location.protocol=="http"||ku(n,"https"),kl(n)),Hz(n.toString(),r)}else jt(2);t.G=0,t.j&&t.j.va(e),iA(t),JT(t)}ee.jb=function(t){t?(this.h.info("Successfully pinged google.com"),jt(2)):(this.h.info("Failed to ping google.com"),jt(1))};function iA(t){t.G=0,t.I=-1,t.j&&((WT(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,mg(t.l),t.l.length=0),t.j.ua())}function sA(t,e,n){let r=Nz(n);if(r.i!="")e&&Pu(r,e+"."+r.i),Nu(r,r.m);else{const i=pe.location;r=Mz(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&vg(t.aa,function(i,s){Xe(r,s,i)}),e=t.D,n=t.sa,e&&n&&Xe(r,e,n),Xe(r,"VER",t.ma),Na(t,r),r}function oA(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new ct(new ka({ib:!0})):new ct(t.qa),e.L=t.H,e}function aA(){}ee=aA.prototype;ee.xa=function(){};ee.wa=function(){};ee.va=function(){};ee.ua=function(){};ee.Oa=function(){};function $u(){if(gs&&!(10<=Number(fz)))throw Error("Environmental error: no available transport.")}$u.prototype.g=function(t,e){return new en(t,e)};function en(t,e){bt.call(this),this.g=new QT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ru(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ru(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Fs(this)}Ct(en,bt);en.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Tg(St(t.hb,t,e))),jt(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=sA(t,null,t.W),$l(t)};en.prototype.close=function(){$g(this.g)};en.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,pf(this.g,e)}else this.v?(e={},e.__data__=Sg(t),pf(this.g,e)):pf(this.g,t)};en.prototype.M=function(){this.g.j=null,delete this.j,$g(this.g),delete this.g,en.Z.M.call(this)};function cA(t){Og.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ct(cA,Og);function uA(){Rg.call(this),this.status=1}Ct(uA,Rg);function Fs(t){this.g=t}Ct(Fs,aA);Fs.prototype.xa=function(){Tt(this.g,"a")};Fs.prototype.wa=function(t){Tt(this.g,new cA(t))};Fs.prototype.va=function(t){Tt(this.g,new uA)};Fs.prototype.ua=function(){Tt(this.g,"b")};$u.prototype.createWebChannel=$u.prototype.g;en.prototype.send=en.prototype.u;en.prototype.open=en.prototype.m;en.prototype.close=en.prototype.close;Rl.NO_ERROR=0;Rl.TIMEOUT=8;Rl.HTTP_ERROR=6;DT.COMPLETE="complete";xT.EventType=Ra;Ra.OPEN="a";Ra.CLOSE="b";Ra.ERROR="c";Ra.MESSAGE="d";bt.prototype.listen=bt.prototype.N;ct.prototype.listenOnce=ct.prototype.O;ct.prototype.getLastError=ct.prototype.La;ct.prototype.getLastErrorCode=ct.prototype.Da;ct.prototype.getStatus=ct.prototype.ba;ct.prototype.getResponseJson=ct.prototype.Qa;ct.prototype.getResponseText=ct.prototype.ga;ct.prototype.send=ct.prototype.ea;var e6=function(){return new $u},t6=function(){return Ol()},gf=Rl,n6=DT,r6=wi,nb={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},i6=ka,Ec=xT,s6=ct;const rb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="9.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new Xd("@firebase/firestore");function ib(){return Ir.logLevel}function o6(t){Ir.setLogLevel(t)}function ce(t,...e){if(Ir.logLevel<=Me.DEBUG){const n=e.map(Bg);Ir.debug(`Firestore (${Bs}): ${t}`,...n)}}function Cr(t,...e){if(Ir.logLevel<=Me.ERROR){const n=e.map(Bg);Ir.error(`Firestore (${Bs}): ${t}`,...n)}}function kd(t,...e){if(Ir.logLevel<=Me.WARN){const n=e.map(Bg);Ir.warn(`Firestore (${Bs}): ${t}`,...n)}}function Bg(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: `+t;throw Cr(e),new Error(e)}function We(t,e){t||ge()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class c6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class u6{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new br;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new br,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new br)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string"),new lA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new Ot(e)}}class l6{constructor(e,n,r){this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class h6{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new l6(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d6{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{s.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string"),this.p=n.token,new f6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=p6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function ms(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ft(0,0))}static max(){return new Ae(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ye extends Zo{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const g6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends Zo{construct(e,n,r){return new xt(e,n,r)}static isValidIdentifier(e){return g6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new te($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(n)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Ye.fromString(e))}static fromName(e){return new ue(Ye.fromString(e).popFirst(5))}static empty(){return new ue(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Ye(e.slice()))}}function m6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new Or(i,ue.empty(),e)}function v6(t){return new Or(t.readTime,t.key,-1)}class Or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Or(Ae.min(),ue.empty(),-1)}static max(){return new Or(Ae.max(),ue.empty(),-1)}}function y6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==E6)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new V((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function $a(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.it(r),this.rt=r=>n.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Si(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ug.ot=-1;class gt{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:_t.RED,this.left=i!=null?i:_t.EMPTY,this.right=s!=null?s:_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new _t(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(t,e,n,r,i){return this}insert(t,e,n){return new _t(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ob(this.data.getIterator())}getIteratorFrom(e){return new ob(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dt(this.comparator);return n.data=e,n}}class ob{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new un([])}unionWith(e){let n=new dt(xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ms(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new It(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const _6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(t){if(We(!!t),typeof t=="string"){let e=0;const n=_6.exec(t);if(We(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vs(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pA(t){const e=t.mapValue.fields.__previous_value__;return dA(e)?pA(e):e}function ea(t){const e=Rr(t.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n,r,i,s,o,a,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=c}}class ys{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ys("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ys&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t){return t==null}function Lu(t){return t===0&&1/t==-1/0}function S6(t){return typeof t=="number"&&Number.isInteger(t)&&!Lu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function di(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dA(t)?4:T6(t)?9007199254740991:10:ge()}function Mn(t,e){if(t===e)return!0;const n=di(t);if(n!==di(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ea(t).isEqual(ea(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Rr(r.timestampValue),o=Rr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return vs(r.bytesValue).isEqual(vs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ot(r.geoPointValue.latitude)===ot(i.geoPointValue.latitude)&&ot(r.geoPointValue.longitude)===ot(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ot(r.integerValue)===ot(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ot(r.doubleValue),o=ot(i.doubleValue);return s===o?Lu(s)===Lu(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ms(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(sb(s)!==sb(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Mn(s[a],o[a])))return!1;return!0}(t,e);default:return ge()}}function ta(t,e){return(t.values||[]).find(n=>Mn(n,e))!==void 0}function Es(t,e){if(t===e)return 0;const n=di(t),r=di(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ot(i.integerValue||i.doubleValue),a=ot(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return ab(t.timestampValue,e.timestampValue);case 4:return ab(ea(t),ea(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=vs(i),a=vs(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const u=Fe(o[c],a[c]);if(u!==0)return u}return Fe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Fe(ot(i.latitude),ot(s.latitude));return o!==0?o:Fe(ot(i.longitude),ot(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const u=Es(o[c],a[c]);if(u)return u}return Fe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===_c.mapValue&&s===_c.mapValue)return 0;if(i===_c.mapValue)return 1;if(s===_c.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const h=Fe(a[l],u[l]);if(h!==0)return h;const f=Es(o[a[l]],c[u[l]]);if(f!==0)return f}return Fe(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ge()}}function ab(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Rr(t),r=Rr(e),i=Fe(n.seconds,r.seconds);return i!==0?i:Fe(n.nanos,r.nanos)}function ts(t){return Pd(t)}function Pd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Rr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?vs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ue.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Pd(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Pd(r.fields[a])}`;return s+"}"}(t.mapValue):ge();var e,n}function cb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Nd(t){return!!t&&"integerValue"in t}function jg(t){return!!t&&"arrayValue"in t}function ub(t){return!!t&&"nullValue"in t}function lb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xc(t){return!!t&&"mapValue"in t}function Eo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Si(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Eo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function T6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eo(n)}setAll(e){let n=xt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Eo(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Si(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qt(Eo(this.value))}}function gA(t){const e=[];return Si(t.fields,(n,r)=>{const i=new xt([n]);if(Xc(r)){const s=gA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new wt(e,0,Ae.min(),Ae.min(),qt.empty(),0)}static newFoundDocument(e,n,r){return new wt(e,1,n,Ae.min(),r,0)}static newNoDocument(e,n){return new wt(e,2,n,Ae.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new wt(e,3,n,Ae.min(),qt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ut=null}}function hb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new A6(t,e,n,r,i,s,o)}function Vg(t){const e=Ee(t);if(e.ut===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+ts(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ll(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ts(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ts(r)).join(",")),e.ut=n}return e.ut}function I6(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${ts(r.value)}`;var r}).join(", ")}]`),Ll(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>ts(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>ts(n)).join(",")),`Target(${e})`}function Kg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!N6(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Mn(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!db(t.startAt,e.startAt)&&db(t.endAt,e.endAt)}function Md(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Vt extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.ct(e,n,r):new C6(e,n,r):n==="array-contains"?new D6(e,r):n==="in"?new x6(e,r):n==="not-in"?new k6(e,r):n==="array-contains-any"?new P6(e,r):new Vt(e,n,r)}static ct(e,n,r){return n==="in"?new O6(e,r):new R6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.at(Es(n,this.value)):n!==null&&di(this.value)===di(n)&&this.at(Es(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class C6 extends Vt{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.at(n)}}class O6 extends Vt{constructor(e,n){super(e,"in",n),this.keys=mA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class R6 extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=mA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class D6 extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jg(n)&&ta(n.arrayValue,this.value)}}class x6 extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ta(this.value.arrayValue,n)}}class k6 extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ta(this.value.arrayValue,n)}}class P6 extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ta(this.value.arrayValue,r))}}class Fu{constructor(e,n){this.position=e,this.inclusive=n}}class bo{constructor(e,n="asc"){this.field=e,this.dir=n}}function N6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function fb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=Es(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function db(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.lt=null,this.ft=null,this.startAt,this.endAt}}function M6(t,e,n,r,i,s,o,a){return new La(t,e,n,r,i,s,o,a)}function zg(t){return new La(t)}function $6(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vA(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function yA(t){for(const e of t.filters)if(e.ht())return e.field;return null}function EA(t){return t.collectionGroup!==null}function na(t){const e=Ee(t);if(e.lt===null){e.lt=[];const n=yA(e),r=vA(e);if(n!==null&&r===null)n.isKeyField()||e.lt.push(new bo(n)),e.lt.push(new bo(xt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.lt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new bo(xt.keyField(),s))}}}return e.lt}function pi(t){const e=Ee(t);if(!e.ft)if(e.limitType==="F")e.ft=hb(e.path,e.collectionGroup,na(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of na(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new bo(s.field,o))}const r=e.endAt?new Fu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Fu(e.startAt.position,e.startAt.inclusive):null;e.ft=hb(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.ft}function L6(t,e,n){return new La(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fl(t,e){return Kg(pi(t),pi(e))&&t.limitType===e.limitType}function bA(t){return`${Vg(pi(t))}|lt:${t.limitType}`}function $d(t){return`Query(target=${I6(pi(t))}; limitType=${t.limitType})`}function Wg(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ue.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=fb(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,na(n),r)||n.endAt&&!function(i,s,o){const a=fb(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,na(n),r))}(t,e)}function F6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _A(t){return(e,n)=>{let r=!1;for(const i of na(t)){const s=B6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function B6(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return a!==null&&c!==null?Es(a,c):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t,e){if(t.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lu(e)?"-0":e}}function SA(t){return{integerValue:""+t}}function U6(t,e){return S6(e)?SA(e):wA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this._=void 0}}function j6(t,e,n){return t instanceof ra?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ia?AA(t,e):t instanceof sa?IA(t,e):function(r,i){const s=TA(r,i),o=pb(s)+pb(r._t);return Nd(s)&&Nd(r._t)?SA(o):wA(r.wt,o)}(t,e)}function V6(t,e,n){return t instanceof ia?AA(t,e):t instanceof sa?IA(t,e):n}function TA(t,e){return t instanceof Bu?Nd(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class ra extends Bl{}class ia extends Bl{constructor(e){super(),this.elements=e}}function AA(t,e){const n=CA(e);for(const r of t.elements)n.some(i=>Mn(i,r))||n.push(r);return{arrayValue:{values:n}}}class sa extends Bl{constructor(e){super(),this.elements=e}}function IA(t,e){let n=CA(e);for(const r of t.elements)n=n.filter(i=>!Mn(i,r));return{arrayValue:{values:n}}}class Bu extends Bl{constructor(e,n){super(),this.wt=e,this._t=n}}function pb(t){return ot(t.integerValue||t.doubleValue)}function CA(t){return jg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n){this.field=e,this.transform=n}}function z6(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ia&&r instanceof ia||n instanceof sa&&r instanceof sa?ms(n.elements,r.elements,Mn):n instanceof Bu&&r instanceof Bu?Mn(n._t,r._t):n instanceof ra&&r instanceof ra}(t.transform,e.transform)}class W6{constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ul{}function OA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new DA(t.key,kn.none()):new Fa(t.key,t.data,kn.none());{const n=t.data,r=qt.empty();let i=new dt(xt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Lr(t.key,r,new un(i.toArray()),kn.none())}}function H6(t,e,n){t instanceof Fa?function(r,i,s){const o=r.value.clone(),a=mb(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Lr?function(r,i,s){if(!Qc(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=mb(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(RA(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function _o(t,e,n,r){return t instanceof Fa?function(i,s,o,a){if(!Qc(i.precondition,s))return o;const c=i.value.clone(),u=vb(i.fieldTransforms,a,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Lr?function(i,s,o,a){if(!Qc(i.precondition,s))return o;const c=vb(i.fieldTransforms,a,s),u=s.data;return u.setAll(RA(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):function(i,s,o){return Qc(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function q6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=TA(r.transform,i||null);s!=null&&(n===null&&(n=qt.empty()),n.set(r.field,s))}return n||null}function gb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ms(n,r,(i,s)=>z6(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fa extends Ul{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Lr extends Ul{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function RA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mb(t,e,n){const r=new Map;We(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,V6(o,a,n[i]))}return r}function vb(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,j6(s,o,e))}return r}class DA extends Ul{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G6 extends Ul{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,xe;function X6(t){switch(t){default:return ge();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function xA(t){if(t===void 0)return Cr("GRPC error has no .code"),$.UNKNOWN;switch(t){case st.OK:return $.OK;case st.CANCELLED:return $.CANCELLED;case st.UNKNOWN:return $.UNKNOWN;case st.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case st.INTERNAL:return $.INTERNAL;case st.UNAVAILABLE:return $.UNAVAILABLE;case st.UNAUTHENTICATED:return $.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case st.NOT_FOUND:return $.NOT_FOUND;case st.ALREADY_EXISTS:return $.ALREADY_EXISTS;case st.PERMISSION_DENIED:return $.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case st.ABORTED:return $.ABORTED;case st.OUT_OF_RANGE:return $.OUT_OF_RANGE;case st.UNIMPLEMENTED:return $.UNIMPLEMENTED;case st.DATA_LOSS:return $.DATA_LOSS;default:return ge()}}(xe=st||(st={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return fA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=new gt(ue.comparator);function Jn(){return Q6}const kA=new gt(ue.comparator);function co(...t){let e=kA;for(const n of t)e=e.insert(n.key,n);return e}function PA(t){let e=kA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yr(){return wo()}function NA(){return wo()}function wo(){return new Us(t=>t.toString(),(t,e)=>t.isEqual(e))}const J6=new gt(ue.comparator),Z6=new dt(ue.comparator);function Oe(...t){let e=Z6;for(const n of t)e=e.add(n);return e}const eW=new dt(Fe);function MA(){return eW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Ba.createSynthesizedTargetChangeForCurrentChange(e,n)),new jl(Ae.min(),r,MA(),Jn(),Oe())}}class Ba{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Ba(It.EMPTY_BYTE_STRING,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,r,i){this.gt=e,this.removedTargetIds=n,this.key=r,this.yt=i}}class $A{constructor(e,n){this.targetId=e,this.It=n}}class LA{constructor(e,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class yb{constructor(){this.Tt=0,this.Et=bb(),this.At=It.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return this.Tt!==0}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Oe(),n=Oe(),r=Oe();return this.Et.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new Ba(this.At,this.Rt,e,n,r)}Dt(){this.bt=!1,this.Et=bb()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class tW{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Jn(),this.Bt=Eb(),this.Lt=new dt(Fe)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const r=this.Qt(n);switch(e.state){case 0:this.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),r.Vt(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((r,i)=>{this.jt(i)&&n(i)})}zt(e){const n=e.targetId,r=e.It.count,i=this.Ht(n);if(i){const s=i.target;if(Md(s))if(r===0){const o=new ue(s.path);this.Kt(n,o,wt.newNoDocument(o,Ae.min()))}else We(r===1);else this.Jt(n)!==r&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((s,o)=>{const a=this.Ht(o);if(a){if(s.current&&Md(a.target)){const c=new ue(a.target.path);this.$t.get(c)!==null||this.Xt(o,c)||this.Kt(o,c,wt.newNoDocument(c,e))}s.vt&&(n.set(o,s.St()),s.Dt())}});let r=Oe();this.Bt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Ht(c);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.$t.forEach((s,o)=>o.setReadTime(e));const i=new jl(e,n,this.Lt,this.$t,r);return this.$t=Jn(),this.Bt=Eb(),this.Lt=new dt(Fe),i}qt(e,n){if(!this.jt(e))return;const r=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,r),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,n)?i.Ct(n,1):i.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),r&&(this.$t=this.$t.insert(n,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new yb,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new dt(Fe),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=this.Ht(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new yb),this.Mt.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Mt.getRemoteKeysForTarget(e).has(n)}}function Eb(){return new gt(ue.comparator)}function bb(){return new gt(ue.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),rW=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class iW{constructor(e,n){this.databaseId=e,this.dt=n}}function Uu(t,e){return t.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FA(t,e){return t.dt?e.toBase64():e.toUint8Array()}function sW(t,e){return Uu(t,e.toTimestamp())}function Hn(t){return We(!!t),Ae.fromTimestamp(function(e){const n=Rr(e);return new ft(n.seconds,n.nanos)}(t))}function Hg(t,e){return function(n){return new Ye(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function BA(t){const e=Ye.fromString(t);return We(VA(e)),e}function Ld(t,e){return Hg(t.databaseId,e.path)}function mf(t,e){const n=BA(e);if(n.get(1)!==t.databaseId.projectId)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(UA(n))}function Fd(t,e){return Hg(t.databaseId,e)}function oW(t){const e=BA(t);return e.length===4?Ye.emptyPath():UA(e)}function Bd(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UA(t){return We(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _b(t,e,n){return{name:Ld(t,e),fields:n.value.mapValue.fields}}function aW(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.dt?(We(u===void 0||typeof u=="string"),It.fromBase64String(u||"")):(We(u===void 0||u instanceof Uint8Array),It.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?$.UNKNOWN:xA(c.code);return new te(u,c.message||"")}(o);n=new LA(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=mf(t,r.document.name),s=Hn(r.document.updateTime),o=new qt({mapValue:{fields:r.document.fields}}),a=wt.newFoundDocument(i,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Jc(c,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=mf(t,r.document),s=r.readTime?Hn(r.readTime):Ae.min(),o=wt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Jc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=mf(t,r.document),s=r.removedTargetIds||[];n=new Jc([],s,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new Y6(i),o=r.targetId;n=new $A(o,s)}}return n}function cW(t,e){let n;if(e instanceof Fa)n={update:_b(t,e.key,e.value)};else if(e instanceof DA)n={delete:Ld(t,e.key)};else if(e instanceof Lr)n={update:_b(t,e.key,e.data),updateMask:yW(e.fieldMask)};else{if(!(e instanceof G6))return ge();n={verify:Ld(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ra)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ia)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof sa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Bu)return{fieldPath:s.field.canonicalString(),increment:o._t};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:sW(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ge()}(t,e.precondition)),n}function uW(t,e){return t&&t.length>0?(We(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Hn(r.updateTime):Hn(i);return s.isEqual(Ae.min())&&(s=Hn(i)),new W6(s,r.transformResults||[])}(n,e))):[]}function lW(t,e){return{documents:[Fd(t,e.path)]}}function hW(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Fd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Fd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(c.length===0)return;const u=c.map(l=>function(h){if(h.op==="=="){if(lb(h.value))return{unaryFilter:{field:$i(h.field),op:"IS_NAN"}};if(ub(h.value))return{unaryFilter:{field:$i(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(lb(h.value))return{unaryFilter:{field:$i(h.field),op:"IS_NOT_NAN"}};if(ub(h.value))return{unaryFilter:{field:$i(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$i(h.field),op:gW(h.op),value:h.value}}}(l));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(l){return{field:$i(l.field),direction:pW(l.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(c,u){return c.dt||Ll(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function fW(t){let e=oW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){We(r===1);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=jA(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>function(h){return new bo(zi(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(l)));let a=null;n.limit&&(a=function(l){let h;return h=typeof l=="object"?l.value:l,Ll(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(l){const h=!!l.before,f=l.values||[];return new Fu(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(l){const h=!l.before,f=l.values||[];return new Fu(f,h)}(n.endAt)),M6(e,i,o,s,a,"F",c,u)}function dW(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ge()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function jA(t){return t?t.unaryFilter!==void 0?[vW(t)]:t.fieldFilter!==void 0?[mW(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>jA(e)).reduce((e,n)=>e.concat(n)):ge():[]}function pW(t){return nW[t]}function gW(t){return rW[t]}function $i(t){return{fieldPath:t.canonicalString()}}function zi(t){return xt.fromServerFormat(t.fieldPath)}function mW(t){return Vt.create(zi(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(t.fieldFilter.op),t.fieldFilter.value)}function vW(t){switch(t.unaryFilter.op){case"IS_NAN":const e=zi(t.unaryFilter.field);return Vt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=zi(t.unaryFilter.field);return Vt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=zi(t.unaryFilter.field);return Vt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=zi(t.unaryFilter.field);return Vt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}function yW(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&H6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_o(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_o(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=OA(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&ms(this.mutations,e.mutations,(n,r)=>gb(n,r))&&ms(this.baseMutations,e.baseMutations,(n,r)=>gb(n,r))}}class qg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){We(e.mutations.length===r.length);let i=J6;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new qg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bW{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n,r,i,s=Ae.min(),o=Ae.min(),a=It.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _W{constructor(e){this.ne=e}}function wW(t){const e=fW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?L6(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(){this.ze=new TW}addToCollectionParentIndex(e,n){return this.ze.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(Or.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class TW{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dt(Ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new bs(0)}static Rn(){return new bs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(){this.changes=new Us(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&_o(r.mutation,i,un.empty(),ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const i=Yr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=co();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Yr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Jn();const o=wo(),a=wo();return n.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Lr)?s=s.insert(u.key,u):l!==void 0&&(o.set(u.key,l.mutation.getFieldMask()),_o(l.mutation,u,l.mutation.getFieldMask(),ft.now()))}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var h;return a.set(u,new IW(l,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=wo();let i=new gt((o,a)=>o-a),s=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let l=r.get(c)||un.empty();l=a.applyToLocalView(u,l),r.set(c,l);const h=(i.get(a.batchId)||Oe()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,h=NA();l.forEach(f=>{if(!s.has(f)){const p=OA(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ue.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):V.resolve(Yr());let a=-1,c=s;return o.next(u=>V.forEach(u,(l,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(l)?V.resolve():this.getBaseDocument(e,l,h).next(f=>{c=c.insert(l,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Oe())).next(l=>({batchId:a,changes:PA(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=co();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=co();return this.indexManager.getCollectionParents(e,i).next(o=>V.forEach(o,a=>{const c=function(u,l){return new La(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,h)=>{s=s.insert(l,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,c)=>{const u=c.getKey();i.get(u)===null&&(i=i.insert(u,wt.newInvalidDocument(u)))});let o=co();return i.forEach((a,c)=>{const u=s.get(a);u!==void 0&&_o(u.mutation,c,un.empty(),ft.now()),Wg(n,c)&&(o=o.insert(a,c))}),o})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):V.resolve(wt.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return V.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var r;return this.Jn.set(n.id,{id:(r=n).id,version:r.version,createTime:Hn(r.createTime)}),V.resolve()}getNamedQuery(e,n){return V.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,function(r){return{name:r.name,query:wW(r.bundledQuery),readTime:Hn(r.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RW{constructor(){this.overlays=new gt(ue.comparator),this.Xn=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yr();return V.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ie(e,n,s)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Xn.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=Yr(),s=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new gt((u,l)=>u-l);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Yr(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=Yr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return V.resolve(a)}ie(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bW(n,r));let s=this.Xn.get(n);s===void 0&&(s=Oe(),this.Xn.set(n,s)),this.Xn.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(){this.Zn=new dt(vt.ts),this.es=new dt(vt.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const r=new vt(e,n);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.rs(new vt(e,n))}os(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new ue(new Ye([])),r=new vt(n,e),i=new vt(n,e+1),s=[];return this.es.forEachInRange([r,i],o=>{this.rs(o),s.push(o.key)}),s}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new ue(new Ye([])),r=new vt(n,e),i=new vt(n,e+1);let s=Oe();return this.es.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new vt(e,0),r=this.Zn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vt{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return ue.comparator(e.key,n.key)||Fe(e.ls,n.ls)}static ns(e,n){return Fe(e.ls,n.ls)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new dt(vt.ts)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new EW(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.ds=this.ds.add(new vt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ws(r),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.fs-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vt(n,0),i=new vt(n,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],o=>{const a=this._s(o.ls);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(Fe);return n.forEach(i=>{const s=new vt(i,0),o=new vt(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,o],a=>{r=r.add(a.ls)})}),V.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ue.isDocumentKey(s)||(s=s.child(""));const o=new vt(new ue(s),0);let a=new dt(Fe);return this.ds.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.ls)),!0)},o),V.resolve(this.gs(a))}gs(e){const n=[];return e.forEach(r=>{const i=this._s(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){We(this.ys(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ds;return V.forEach(n.mutations,i=>{const s=new vt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,n){const r=new vt(n,0),i=this.ds.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ys(e,n){return this.ws(e)}ws(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e){this.ps=e,this.docs=new gt(ue.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():wt.newInvalidDocument(n))}getEntries(e,n){let r=Jn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():wt.newInvalidDocument(i))}),V.resolve(r)}getAllFromCollection(e,n,r){let i=Jn();const s=new ue(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:c}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||y6(v6(c),r)<=0||(i=i.insert(c.key,c.mutableCopy()))}return V.resolve(i)}getAllFromCollectionGroup(e,n,r,i){ge()}Is(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kW(this)}getSize(e){return V.resolve(this.size)}}class kW extends AW{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(e){this.persistence=e,this.Ts=new Us(n=>Vg(n),Kg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Es=0,this.As=new Gg,this.targetCount=0,this.Rs=bs.An()}forEachTarget(e,n){return this.Ts.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Es&&(this.Es=n),V.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new bs(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.vn(n),V.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Ts.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.Ts.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.As.ss(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.As.os(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.As.hs(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.As.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(e,n){this.bs={},this.overlays={},this.Ps=new Ug(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new PW(this),this.indexManager=new SW,this.remoteDocumentCache=function(r){return new xW(r)}(r=>this.referenceDelegate.Ss(r)),this.wt=new _W(n),this.Ds=new OW(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.bs[e.toKey()];return r||(r=new DW(n,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new MW(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(s=>this.referenceDelegate.xs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ns(e,n){return V.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class MW extends b6{constructor(e){super(),this.currentSequenceNumber=e}}class Yg{constructor(e){this.persistence=e,this.ks=new Gg,this.Os=null}static Ms(e){return new Yg(e)}get Fs(){if(this.Os)return this.Os;throw ge()}addReference(e,n,r){return this.ks.addReference(r,n),this.Fs.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.ks.removeReference(r,n),this.Fs.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),V.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Fs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Cs(){this.Os=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Fs,r=>{const i=ue.fromPath(r);return this.$s(e,i).next(s=>{s||n.removeEntry(i,Ae.min())})}).next(()=>(this.Os=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return V.or([()=>V.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Pi=r,this.vi=i}static Vi(e,n){let r=Oe(),i=Oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Xg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ci(e,n).next(s=>s||this.xi(e,n,i,r)).next(s=>s||this.Ni(e,n))}Ci(e,n){return V.resolve(null)}xi(e,n,r,i){return $6(n)||i.isEqual(Ae.min())?this.Ni(e,n):this.Di.getDocuments(e,r).next(s=>{const o=this.ki(n,s);return this.Oi(n,o,r,i)?this.Ni(e,n):(ib()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$d(n)),this.Mi(e,o,n,m6(i,-1)))})}ki(e,n){let r=new dt(_A(e));return n.forEach((i,s)=>{Wg(e,s)&&(r=r.add(s))}),r}Oi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ni(e,n){return ib()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",$d(n)),this.Di.getDocumentsMatchingQuery(e,n,Or.min())}Mi(e,n,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e,n,r,i){this.persistence=e,this.Fi=n,this.wt=i,this.$i=new gt(Fe),this.Bi=new Us(s=>Vg(s),Kg),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CW(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function FW(t,e,n,r){return new LW(t,e,n,r)}async function KA(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=Oe();for(const u of i){o.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of s){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ki:u,removedBatchIds:o,addedBatchIds:a}))})})}function BW(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ui.newChangeBuffer({trackRemovals:!0});return function(o,a,c,u){const l=c.batch,h=l.keys();let f=V.resolve();return h.forEach(p=>{f=f.next(()=>u.getEntry(a,p)).next(v=>{const C=c.docVersions.get(p);We(C!==null),v.version.compareTo(C)<0&&(l.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Oe();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function zA(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function UW(t,e){const n=Ee(t),r=e.snapshotVersion;let i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;const a=[];e.targetChanges.forEach((l,h)=>{const f=i.get(h);if(!f)return;a.push(n.Vs.removeMatchingKeys(s,l.removedDocuments,h).next(()=>n.Vs.addMatchingKeys(s,l.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?p=p.withResumeToken(It.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):l.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(l.resumeToken,r)),i=i.insert(h,p),function(v,C,S){return v.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(f,p,l)&&a.push(n.Vs.updateTargetData(s,p))});let c=Jn(),u=Oe();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(jW(s,o,e.documentUpdates).next(l=>{c=l.Gi,u=l.Qi})),!r.isEqual(Ae.min())){const l=n.Vs.getLastRemoteSnapshotVersion(s).next(h=>n.Vs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.$i=i,s))}function jW(t,e,n){let r=Oe(),i=Oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Jn();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Ae.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Gi:o,Qi:i}})}function VW(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function KW(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Vs.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):n.Vs.allocateTargetId(r).next(o=>(i=new ii(e,o,0,r.currentSequenceNumber),n.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.$i.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.$i=n.$i.insert(r.targetId,r),n.Bi.set(e,r.targetId)),r})}async function Ud(t,e,n){const r=Ee(t),i=r.$i.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!$a(o))throw o;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}function wb(t,e,n){const r=Ee(t);let i=Ae.min(),s=Oe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,u){const l=Ee(a),h=l.Bi.get(u);return h!==void 0?V.resolve(l.$i.get(h)):l.Vs.getTargetData(c,u)}(r,o,pi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Fi.getDocumentsMatchingQuery(o,e,n?i:Ae.min(),n?s:Oe())).next(a=>(zW(r,F6(e),a),{documents:a,ji:s})))}function zW(t,e,n){let r=Ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Li.set(e,r)}class Sb{constructor(){this.activeTargetIds=MA()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WW{constructor(){this.Fr=new Sb,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,r){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Sb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{Br(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.so=n+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,r,i,s){const o=this.oo(e,n);ce("RestConnection","Sending: ",o,r);const a={};return this.uo(a,i,s),this.co(e,o,a,r).then(c=>(ce("RestConnection","Received: ",c),c),c=>{throw kd("RestConnection",`${e} failed with error: `,c,"url: ",o,"request:",r),c})}ao(e,n,r,i,s,o){return this.ro(e,n,r,i,s)}uo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}oo(e,n){const r=qW[e];return`${this.so}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,r,i){return new Promise((s,o)=>{const a=new s6;a.listenOnce(n6.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case gf.NO_ERROR:const u=a.getResponseJson();ce("Connection","XHR received:",JSON.stringify(u)),s(u);break;case gf.TIMEOUT:ce("Connection",'RPC "'+e+'" timed out'),o(new te($.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const l=a.getStatus();if(ce("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const f=function(p){const v=p.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(v)>=0?v:$.UNKNOWN}(h.status);o(new te(f,h.message))}else o(new te($.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new te($.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{ce("Connection",'RPC "'+e+'" completed.')}});const c=JSON.stringify(i);a.send(n,"POST",c,r,15)})}ho(e,n,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=e6(),o=t6(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new i6({})),this.uo(a.initMessageHeaders,n,r),A0()||C0()||b1()||O0()||_1()||I0()||(a.httpHeadersOverwriteParam="$httpHeaders");const c=i.join("");ce("Connection","Creating WebChannel: "+c,a);const u=s.createWebChannel(c,a);let l=!1,h=!1;const f=new GW({jr:v=>{h?ce("Connection","Not sending because WebChannel is closed:",v):(l||(ce("Connection","Opening WebChannel transport."),u.open(),l=!0),ce("Connection","WebChannel sending:",v),u.send(v))},Wr:()=>u.close()}),p=(v,C,S)=>{v.listen(C,A=>{try{S(A)}catch(R){setTimeout(()=>{throw R},0)}})};return p(u,Ec.EventType.OPEN,()=>{h||ce("Connection","WebChannel transport opened.")}),p(u,Ec.EventType.CLOSE,()=>{h||(h=!0,ce("Connection","WebChannel transport closed"),f.eo())}),p(u,Ec.EventType.ERROR,v=>{h||(h=!0,kd("Connection","WebChannel transport errored:",v),f.eo(new te($.UNAVAILABLE,"The operation could not be completed")))}),p(u,Ec.EventType.MESSAGE,v=>{var C;if(!h){const S=v.data[0];We(!!S);const A=S,R=A.error||((C=A[0])===null||C===void 0?void 0:C.error);if(R){ce("Connection","WebChannel received error:",R);const K=R.status;let j=function(N){const b=st[N];if(b!==void 0)return xA(b)}(K),k=R.message;j===void 0&&(j=$.INTERNAL,k="Unknown error status: "+K+" with message "+R.message),h=!0,f.eo(new te(j,k)),u.close()}else ce("Connection","WebChannel received:",S),f.no(S)}}),p(o,r6.STAT_EVENT,v=>{v.stat===nb.PROXY?ce("Connection","Detected buffering proxy"):v.stat===nb.NOPROXY&&ce("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.Zr()},0),f}}function vf(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){return new iW(t,!0)}class WA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.js=e,this.timerId=n,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){this.mo!==null&&(this.mo.skipDelay(),this.mo=null)}cancel(){this.mo!==null&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n,r,i,s,o,a,c){this.js=e,this.Ao=r,this.Ro=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new WA(e,n)}Do(){return this.state===1||this.state===5||this.Co()}Co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&this.vo===null&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}async Oo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(e,n){this.Fo(),this.$o(),this.So.cancel(),this.Po++,e!==4?this.So.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Bo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Jr(n)}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===n&&this.Uo(r,i)},r=>{e(()=>{const i=new te($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,n){const r=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){this.state=5,this.So.Io(async()=>{this.state=0,this.start()})}qo(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XW extends HA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.wt=s}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=aW(this.wt,e),r=function(i){if(!("targetChange"in i))return Ae.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Ae.min():s.readTime?Hn(s.readTime):Ae.min()}(e);return this.listener.Go(n,r)}Qo(e){const n={};n.database=Bd(this.wt),n.addTarget=function(i,s){let o;const a=s.target;return o=Md(a)?{documents:lW(i,a)}:{query:hW(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=FA(i,s.resumeToken):s.snapshotVersion.compareTo(Ae.min())>0&&(o.readTime=Uu(i,s.snapshotVersion.toTimestamp())),o}(this.wt,e);const r=dW(this.wt,e);r&&(n.labels=r),this.Mo(n)}jo(e){const n={};n.database=Bd(this.wt),n.removeTarget=e,this.Mo(n)}}class QW extends HA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=uW(e.writeResults,e.commitTime),r=Hn(e.commitTime);return this.listener.Jo(r,n)}return We(!e.writeResults||e.writeResults.length===0),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Bd(this.wt),this.Mo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>cW(this.wt,r))};this.Mo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ro(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te($.UNKNOWN,i.toString())})}ao(e,n,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.bo.ao(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te($.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class ZW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){this.eu===0&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){this.state==="Online"?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,e==="Online"&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Cr(n),this.su=!1):ce("OnlineStateTracker",n)}cu(){this.nu!==null&&(this.nu.cancel(),this.nu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(o=>{r.enqueueAndForget(async()=>{Ti(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=Ee(a);c.lu.add(4),await Ua(c),c._u.set("Unknown"),c.lu.delete(4),await Kl(c)}(this))})}),this._u=new ZW(r,i)}}async function Kl(t){if(Ti(t))for(const e of t.fu)await e(!0)}async function Ua(t){for(const e of t.fu)await e(!1)}function qA(t,e){const n=Ee(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),Zg(n)?Jg(n):js(n).Co()&&Qg(n,e))}function GA(t,e){const n=Ee(t),r=js(n);n.hu.delete(e),r.Co()&&YA(n,e),n.hu.size===0&&(r.Co()?r.ko():Ti(n)&&n._u.set("Unknown"))}function Qg(t,e){t.wu.Nt(e.targetId),js(t).Qo(e)}function YA(t,e){t.wu.Nt(e),js(t).jo(e)}function Jg(t){t.wu=new tW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),te:e=>t.hu.get(e)||null}),js(t).start(),t._u.iu()}function Zg(t){return Ti(t)&&!js(t).Do()&&t.hu.size>0}function Ti(t){return Ee(t).lu.size===0}function XA(t){t.wu=void 0}async function tH(t){t.hu.forEach((e,n)=>{Qg(t,e)})}async function nH(t,e){XA(t),Zg(t)?(t._u.uu(e),Jg(t)):t._u.set("Unknown")}async function rH(t,e,n){if(t._u.set("Online"),e instanceof LA&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.hu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.hu.delete(o),r.wu.removeTarget(o))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ju(t,r)}else if(e instanceof Jc?t.wu.Ut(e):e instanceof $A?t.wu.zt(e):t.wu.Gt(e),!n.isEqual(Ae.min()))try{const r=await zA(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.wu.Yt(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.hu.get(c);u&&i.hu.set(c,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const c=i.hu.get(a);if(!c)return;i.hu.set(a,c.withResumeToken(It.EMPTY_BYTE_STRING,c.snapshotVersion)),YA(i,a);const u=new ii(c.target,a,1,c.sequenceNumber);Qg(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await ju(t,r)}}async function ju(t,e,n){if(!$a(e))throw e;t.lu.add(1),await Ua(t),t._u.set("Offline"),n||(n=()=>zA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.lu.delete(1),await Kl(t)})}function QA(t,e){return e().catch(n=>ju(t,n,e))}async function zl(t){const e=Ee(t),n=Dr(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;iH(e);)try{const i=await VW(e.localStore,r);if(i===null){e.au.length===0&&n.ko();break}r=i.batchId,sH(e,i)}catch(i){await ju(e,i)}JA(e)&&ZA(e)}function iH(t){return Ti(t)&&t.au.length<10}function sH(t,e){t.au.push(e);const n=Dr(t);n.Co()&&n.zo&&n.Ho(e.mutations)}function JA(t){return Ti(t)&&!Dr(t).Do()&&t.au.length>0}function ZA(t){Dr(t).start()}async function oH(t){Dr(t).Xo()}async function aH(t){const e=Dr(t);for(const n of t.au)e.Ho(n.mutations)}async function cH(t,e,n){const r=t.au.shift(),i=qg.from(r,e,n);await QA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await zl(t)}async function uH(t,e){e&&Dr(t).zo&&await async function(n,r){if(i=r.code,X6(i)&&i!==$.ABORTED){const s=n.au.shift();Dr(n).No(),await QA(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await zl(n)}var i}(t,e),JA(t)&&ZA(t)}async function Ab(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=Ti(n);n.lu.add(3),await Ua(n),r&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),await Kl(n)}async function lH(t,e){const n=Ee(t);e?(n.lu.delete(2),await Kl(n)):e||(n.lu.add(2),await Ua(n),n._u.set("Unknown"))}function js(t){return t.mu||(t.mu=function(e,n,r){const i=Ee(e);return i.tu(),new XW(n,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(t.datastore,t.asyncQueue,{zr:tH.bind(null,t),Jr:nH.bind(null,t),Go:rH.bind(null,t)}),t.fu.push(async e=>{e?(t.mu.No(),Zg(t)?Jg(t):t._u.set("Unknown")):(await t.mu.stop(),XA(t))})),t.mu}function Dr(t){return t.gu||(t.gu=function(e,n,r){const i=Ee(e);return i.tu(),new QW(n,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(t.datastore,t.asyncQueue,{zr:oH.bind(null,t),Jr:uH.bind(null,t),Yo:aH.bind(null,t),Jo:cH.bind(null,t)}),t.fu.push(async e=>{e?(t.gu.No(),await zl(t)):(await t.gu.stop(),t.au.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.au.length} pending writes`),t.au=[]))})),t.gu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new em(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tm(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),$a(t))return new te($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=co(),this.sortedSet=new gt(this.comparator)}static emptySet(e){return new ns(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ns)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ns;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this.yu=new gt(ue.comparator)}track(e){const n=e.doc.key,r=this.yu.get(n);r?e.type!==0&&r.type===3?this.yu=this.yu.insert(n,e):e.type===3&&r.type!==1?this.yu=this.yu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.yu=this.yu.remove(n):e.type===1&&r.type===2?this.yu=this.yu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):ge():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,r)=>{e.push(r)}),e}}class _s{constructor(e,n,r,i,s,o,a,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new _s(e,n,ns.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(){this.Iu=void 0,this.listeners=[]}}class fH{constructor(){this.queries=new Us(e=>bA(e),Fl),this.onlineState="Unknown",this.Tu=new Set}}async function eI(t,e){const n=Ee(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new hH),i)try{s.Iu=await n.onListen(r)}catch(o){const a=tm(o,`Initialization of query '${$d(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Eu(n.onlineState),s.Iu&&e.Au(s.Iu)&&nm(n)}async function tI(t,e){const n=Ee(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function dH(t,e){const n=Ee(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Au(i)&&(r=!0);o.Iu=i}}r&&nm(n)}function pH(t,e,n){const r=Ee(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function nm(t){t.Tu.forEach(e=>{e.next()})}class nI{constructor(e,n,r){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new _s(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Du||!r)&&(!e.docs.isEmpty()||n==="Offline")}vu(e){if(e.docChanges.length>0)return!0;const n=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Su(e){e=_s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.key=e}}class iI{constructor(e){this.key=e}}class gH{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Oe(),this.mutatedKeys=Oe(),this.Lu=_A(e),this.Uu=new ns(this.Lu)}get qu(){return this.Fu}Ku(e,n){const r=n?n.Gu:new Ib,i=n?n.Uu:this.Uu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,h)=>{const f=i.get(l),p=Wg(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),C=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let S=!1;f&&p?f.data.isEqual(p.data)?v!==C&&(r.track({type:3,doc:p}),S=!0):this.Qu(f,p)||(r.track({type:2,doc:p}),S=!0,(c&&this.Lu(p,c)>0||u&&this.Lu(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),S=!0):f&&!p&&(r.track({type:1,doc:f}),S=!0,(c||u)&&(a=!0)),S&&(p?(o=o.add(p),s=C?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:a,mutatedKeys:s}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Gu.pu();s.sort((u,l)=>function(h,f){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return p(h)-p(f)}(u.type,l.type)||this.Lu(u.doc,l.doc)),this.ju(r);const o=n?this.Wu():[],a=this.Bu.size===0&&this.current?1:0,c=a!==this.$u;return this.$u=a,s.length!==0||c?{snapshot:new _s(this.query,e.Uu,i,s,e.mutatedKeys,a===0,c,!1),zu:o}:{zu:o}}Eu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Ib,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Oe(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const n=[];return e.forEach(r=>{this.Bu.has(r)||n.push(new iI(r))}),this.Bu.forEach(r=>{e.has(r)||n.push(new rI(r))}),n}Ju(e){this.Fu=e.ji,this.Bu=Oe();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return _s.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,this.$u===0)}}class mH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vH{constructor(e){this.key=e,this.Xu=!1}}class yH{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Us(a=>bA(a),Fl),this.ec=new Map,this.nc=new Set,this.sc=new gt(ue.comparator),this.ic=new Map,this.rc=new Gg,this.oc={},this.uc=new Map,this.cc=bs.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return this.ac===!0}}async function EH(t,e){const n=RH(t);let r,i;const s=n.tc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const o=await KW(n.localStore,pi(e));n.isPrimaryClient&&qA(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await bH(n,e,r,a==="current")}return i}async function bH(t,e,n,r){t.hc=(l,h,f)=>async function(p,v,C,S){let A=v.view.Ku(C);A.Oi&&(A=await wb(p.localStore,v.query,!1).then(({documents:j})=>v.view.Ku(j,A)));const R=S&&S.targetChanges.get(v.targetId),K=v.view.applyChanges(A,p.isPrimaryClient,R);return Ob(p,v.targetId,K.zu),K.snapshot}(t,l,h,f);const i=await wb(t.localStore,e,!0),s=new gH(e,i.ji),o=s.Ku(i.documents),a=Ba.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),c=s.applyChanges(o,t.isPrimaryClient,a);Ob(t,n,c.zu);const u=new mH(e,n,s);return t.tc.set(e,u),t.ec.has(n)?t.ec.get(n).push(e):t.ec.set(n,[e]),c.snapshot}async function _H(t,e){const n=Ee(t),r=n.tc.get(e),i=n.ec.get(r.targetId);if(i.length>1)return n.ec.set(r.targetId,i.filter(s=>!Fl(s,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ud(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),GA(n.remoteStore,r.targetId),jd(n,r.targetId)}).catch(Ma)):(jd(n,r.targetId),await Ud(n.localStore,r.targetId,!0))}async function wH(t,e,n){const r=DH(t);try{const i=await function(s,o){const a=Ee(s),c=ft.now(),u=o.reduce((f,p)=>f.add(p.key),Oe());let l,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Jn(),v=Oe();return a.Ui.getEntries(f,u).next(C=>{p=C,p.forEach((S,A)=>{A.isValidDocument()||(v=v.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(C=>{l=C;const S=[];for(const A of o){const R=q6(A,l.get(A.key).overlayedDocument);R!=null&&S.push(new Lr(A.key,R,gA(R.value.mapValue),kn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,c,S,o)}).next(C=>{h=C;const S=C.applyToLocalDocumentSet(l,v);return a.documentOverlayCache.saveOverlays(f,C.batchId,S)})}).then(()=>({batchId:h.batchId,changes:PA(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.oc[s.currentUser.toKey()];c||(c=new gt(Fe)),c=c.insert(o,a),s.oc[s.currentUser.toKey()]=c}(r,i.batchId,n),await ja(r,i.changes),await zl(r.remoteStore)}catch(i){const s=tm(i,"Failed to persist write");n.reject(s)}}async function sI(t,e){const n=Ee(t);try{const r=await UW(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ic.get(s);o&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Xu=!0:i.modifiedDocuments.size>0?We(o.Xu):i.removedDocuments.size>0&&(We(o.Xu),o.Xu=!1))}),await ja(n,r,e)}catch(r){await Ma(r)}}function Cb(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.tc.forEach((s,o)=>{const a=o.view.Eu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=Ee(s);a.onlineState=o;let c=!1;a.queries.forEach((u,l)=>{for(const h of l.listeners)h.Eu(o)&&(c=!0)}),c&&nm(a)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SH(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ic.get(e),s=i&&i.key;if(s){let o=new gt(ue.comparator);o=o.insert(s,wt.newNoDocument(s,Ae.min()));const a=Oe().add(s),c=new jl(Ae.min(),new Map,new dt(Fe),o,a);await sI(r,c),r.sc=r.sc.remove(s),r.ic.delete(e),rm(r)}else await Ud(r.localStore,e,!1).then(()=>jd(r,e,n)).catch(Ma)}async function TH(t,e){const n=Ee(t),r=e.batch.batchId;try{const i=await BW(n.localStore,e);aI(n,r,null),oI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ja(n,i)}catch(i){await Ma(i)}}async function AH(t,e,n){const r=Ee(t);try{const i=await function(s,o){const a=Ee(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,o).next(l=>(We(l!==null),u=l.keys(),a.mutationQueue.removeMutationBatch(c,l))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);aI(r,e,n),oI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ja(r,i)}catch(i){await Ma(i)}}function oI(t,e){(t.uc.get(e)||[]).forEach(n=>{n.resolve()}),t.uc.delete(e)}function aI(t,e,n){const r=Ee(t);let i=r.oc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function jd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ec.get(e))t.tc.delete(r),n&&t.Zu.lc(r,n);t.ec.delete(e),t.isPrimaryClient&&t.rc.us(e).forEach(r=>{t.rc.containsKey(r)||cI(t,r)})}function cI(t,e){t.nc.delete(e.path.canonicalString());const n=t.sc.get(e);n!==null&&(GA(t.remoteStore,n),t.sc=t.sc.remove(e),t.ic.delete(n),rm(t))}function Ob(t,e,n){for(const r of n)r instanceof rI?(t.rc.addReference(r.key,e),IH(t,r)):r instanceof iI?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.rc.removeReference(r.key,e),t.rc.containsKey(r.key)||cI(t,r.key)):ge()}function IH(t,e){const n=e.key,r=n.path.canonicalString();t.sc.get(n)||t.nc.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.nc.add(r),rm(t))}function rm(t){for(;t.nc.size>0&&t.sc.size<t.maxConcurrentLimboResolutions;){const e=t.nc.values().next().value;t.nc.delete(e);const n=new ue(Ye.fromString(e)),r=t.cc.next();t.ic.set(r,new vH(n)),t.sc=t.sc.insert(n,r),qA(t.remoteStore,new ii(pi(zg(n.path)),r,2,Ug.ot))}}async function ja(t,e,n){const r=Ee(t),i=[],s=[],o=[];r.tc.isEmpty()||(r.tc.forEach((a,c)=>{o.push(r.hc(c,e,n).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u.fromCache?"not-current":"current"),i.push(u);const l=Xg.Vi(c.targetId,u);s.push(l)}}))}),await Promise.all(o),r.Zu.Go(i),await async function(a,c){const u=Ee(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",l=>V.forEach(c,h=>V.forEach(h.Pi,f=>u.persistence.referenceDelegate.addReference(l,h.targetId,f)).next(()=>V.forEach(h.vi,f=>u.persistence.referenceDelegate.removeReference(l,h.targetId,f)))))}catch(l){if(!$a(l))throw l;ce("LocalStore","Failed to update sequence numbers: "+l)}for(const l of c){const h=l.targetId;if(!l.fromCache){const f=u.$i.get(h),p=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(p);u.$i=u.$i.insert(h,v)}}}(r.localStore,s))}async function CH(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await KA(n.localStore,e);n.currentUser=e,function(i,s){i.uc.forEach(o=>{o.forEach(a=>{a.reject(new te($.CANCELLED,s))})}),i.uc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ja(n,r.Ki)}}function OH(t,e){const n=Ee(t),r=n.ic.get(e);if(r&&r.Xu)return Oe().add(r.key);{let i=Oe();const s=n.ec.get(e);if(!s)return i;for(const o of s){const a=n.tc.get(o);i=i.unionWith(a.view.qu)}return i}}function RH(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SH.bind(null,e),e.Zu.Go=dH.bind(null,e.eventManager),e.Zu.lc=pH.bind(null,e.eventManager),e}function DH(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AH.bind(null,e),e}class xH{constructor(){this.synchronizeTabs=!1}async initialize(e){this.wt=Vl(e.databaseInfo.databaseId),this.sharedClientState=this.dc(e),this.persistence=this._c(e),await this.persistence.start(),this.localStore=this.wc(e),this.gcScheduler=this.mc(e,this.localStore),this.indexBackfillerScheduler=this.gc(e,this.localStore)}mc(e,n){return null}gc(e,n){return null}wc(e){return FW(this.persistence,new $W,e.initialUser,this.wt)}_c(e){return new NW(Yg.Ms,this.wt)}dc(e){return new WW}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kH{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Cb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CH.bind(null,this.syncEngine),await lH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new fH}createDatastore(e){const n=Vl(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new YW(i));var i;return function(s,o,a,c){return new JW(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Cb(this.syncEngine,a,0),o=Tb.V()?new Tb:new HW,new eH(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,c,u){const l=new yH(r,i,s,o,a,c);return u&&(l.ac=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Ee(e);ce("RemoteStore","RemoteStore shutting down."),n.lu.add(5),await Ua(n),n.du.shutdown(),n._u.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ot.UNAUTHENTICATED,this.clientId=hA.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ce("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ce("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function NH(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function MH(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $H(t);ce("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Ab(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Ab(e.remoteStore,s)),t.onlineComponents=e}async function $H(t){return t.offlineComponents||(ce("FirestoreClient","Using default OfflineComponentProvider"),await NH(t,new xH)),t.offlineComponents}async function lI(t){return t.onlineComponents||(ce("FirestoreClient","Using default OnlineComponentProvider"),await MH(t,new kH)),t.onlineComponents}function LH(t){return lI(t).then(e=>e.syncEngine)}async function Vd(t){const e=await lI(t),n=e.eventManager;return n.onListen=EH.bind(null,e.syncEngine),n.onUnlisten=_H.bind(null,e.syncEngine),n}function FH(t,e,n={}){const r=new br;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,c){const u=new uI({next:h=>{s.enqueueAndForget(()=>tI(i,l)),h.fromCache&&a.source==="server"?c.reject(new te($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),l=new nI(o,u,{includeMetadataChanges:!0,Du:!0});return eI(i,l)}(await Vd(t),t.asyncQueue,e,n,r)),r.promise}const Rb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e,n){if(!n)throw new te($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BH(t,e,n,r){if(e===!0&&r===!0)throw new te($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Db(t){if(!ue.isDocumentKey(t))throw new te($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xb(t){if(ue.isDocumentKey(t))throw new te($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wl(t);throw new te($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new te($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,BH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kb({}),this._settingsFrozen=!1,e instanceof ys?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new te($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ys(i.options.projectId)}(e))}get app(){if(!this._app)throw new te($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kb(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new a6;switch(n.type){case"gapi":const r=n.client;return We(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new h6(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new te($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Rb.get(e);n&&(ce("ComponentProvider","Removing Datastore"),Rb.delete(e),n.terminate())}(this),Promise.resolve()}}function UH(t,e,n,r={}){var i;const s=(t=qn(t,Hl))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&kd("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Ot.MOCK_USER;else{o=T0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new te($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Ot(c)}t._authCredentials=new c6(new lA(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}}class Vs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vs(this.firestore,e,this._query)}}class _r extends Vs{constructor(e,n,r){super(e,n,zg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new ue(e))}withConverter(e){return new _r(this.firestore,e,this._path)}}function ws(t,e,...n){if(t=At(t),hI("collection","path",e),t instanceof Hl){const r=Ye.fromString(e,...n);return xb(r),new _r(t,null,r)}{if(!(t instanceof Gt||t instanceof _r))throw new te($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return xb(r),new _r(t.firestore,null,r)}}function im(t,e,...n){if(t=At(t),arguments.length===1&&(e=hA.I()),hI("doc","path",e),t instanceof Hl){const r=Ye.fromString(e,...n);return Db(r),new Gt(t,null,new ue(r))}{if(!(t instanceof Gt||t instanceof _r))throw new te($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return Db(r),new Gt(t.firestore,t instanceof _r?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new WA(this,"async_queue_retry"),this.Kc=()=>{const n=vf();n&&ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=vf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=vf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new br;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}async jc(){if(this.Mc.length!==0){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(e){if(!$a(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Mc.length>0&&this.So.Io(()=>this.jc())}}Qc(e){const n=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{this.Bc=r,this.Lc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Cr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Lc=!1,r))));return this.Oc=n,n}enqueueAfterDelay(e,n,r){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const i=em.createAndSchedule(this,e,n,r,s=>this.Wc(s));return this.$c.push(i),i}Gc(){this.Bc&&ge()}verifyOperationInProgress(){}async zc(){let e;do e=this.Oc,await e;while(e!==this.Oc)}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function Pb(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ss extends Hl{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new jH,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||fI(this),this._firestoreClient.terminate()}}function VH(t,e){const n=da(t,"firestore");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(Mo(i,e))return r;throw new te($.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return n.initialize({options:e})}function Ks(t=Zd()){return da(t,"firestore").getImmediate()}function sm(t){return t._firestoreClient||fI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function fI(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new w6(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new PH(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts(It.fromBase64String(e))}catch(n){throw new te($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ts(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KH=/^__.*__$/;class zH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Lr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fa(e,this.data,n,this.fieldTransforms)}}class dI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Lr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class am{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new am(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Vu(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(e.length===0)throw this.oa("Document fields must not be empty");if(pI(this.Zc)&&KH.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class WH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=r||Vl(e)}aa(e,n,r,i=!1){return new am({Zc:e,methodName:n,ca:r,path:xt.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function cm(t){const e=t._freezeSettings(),n=Vl(t._databaseId);return new WH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HH(t,e,n,r,i,s={}){const o=t.aa(s.merge||s.mergeFields?2:0,e,n,i);lm("Data must be an object, but it was:",o,r);const a=gI(r,o);let c,u;if(s.merge)c=new un(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const h of s.mergeFields){const f=Kd(e,h,n);if(!o.contains(f))throw new te($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);vI(l,f)||l.push(f)}c=new un(l),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new zH(new qt(a),c,u)}class Yl extends Gl{_toFieldTransform(e){if(e.Zc!==2)throw e.Zc===1?e.oa(`${this._methodName}() can only appear at the top level of your update data`):e.oa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yl}}class um extends Gl{_toFieldTransform(e){return new K6(e.path,new ra)}isEqual(e){return e instanceof um}}function qH(t,e,n,r){const i=t.aa(1,e,n);lm("Data must be an object, but it was:",i,r);const s=[],o=qt.empty();Si(r,(c,u)=>{const l=hm(e,c,n);u=At(u);const h=i.ia(l);if(u instanceof Yl)s.push(l);else{const f=Va(u,h);f!=null&&(s.push(l),o.set(l,f))}});const a=new un(s);return new dI(o,a,i.fieldTransforms)}function GH(t,e,n,r,i,s){const o=t.aa(1,e,n),a=[Kd(e,r,n)],c=[i];if(s.length%2!=0)throw new te($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Kd(e,s[f])),c.push(s[f+1]);const u=[],l=qt.empty();for(let f=a.length-1;f>=0;--f)if(!vI(u,a[f])){const p=a[f];let v=c[f];v=At(v);const C=o.ia(p);if(v instanceof Yl)u.push(p);else{const S=Va(v,C);S!=null&&(u.push(p),l.set(p,S))}}const h=new un(u);return new dI(l,h,o.fieldTransforms)}function YH(t,e,n,r=!1){return Va(n,t.aa(r?4:3,e))}function Va(t,e){if(mI(t=At(t)))return lm("Unsupported field value:",e,t),gI(t,e);if(t instanceof Gl)return function(n,r){if(!pI(r.Zc))throw r.oa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.na&&e.Zc!==4)throw e.oa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Va(o,r.ra(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=At(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return U6(r.wt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ft.fromDate(n);return{timestampValue:Uu(r.wt,i)}}if(n instanceof ft){const i=new ft(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Uu(r.wt,i)}}if(n instanceof om)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ts)return{bytesValue:FA(r.wt,n._byteString)};if(n instanceof Gt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Hg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.oa(`Unsupported field value: ${Wl(n)}`)}(t,e)}function gI(t,e){const n={};return fA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(t,(r,i)=>{const s=Va(i,e.ea(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function mI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof om||t instanceof Ts||t instanceof Gt||t instanceof Gl)}function lm(t,e,n){if(!mI(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Wl(n);throw r==="an object"?e.oa(t+" a custom object"):e.oa(t+" "+r)}}function Kd(t,e,n){if((e=At(e))instanceof ql)return e._internalPath;if(typeof e=="string")return hm(t,e);throw Vu("Field path arguments must be of type string or ",t,!1,void 0,n)}const XH=new RegExp("[~\\*/\\[\\]]");function hm(t,e,n){if(e.search(XH)>=0)throw Vu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ql(...e.split("."))._internalPath}catch{throw Vu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new te($.INVALID_ARGUMENT,a+t+c)}function vI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QH extends yI{data(){return super.data()}}function fm(t,e){return typeof e=="string"?hm(t,e):e instanceof ql?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class EI extends yI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zc extends EI{data(e={}){return super.data(e)}}class bI{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new uo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zc(this._firestore,this._userDataWriter,r.key,r,new uo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Zc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new uo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Zc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new uo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:JH(o.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZH{}function wI(t,...e){for(const n of e)t=n._apply(t);return t}class eq extends ZH{constructor(e,n,r){super(),this.fa=e,this.da=n,this._a=r,this.type="where"}_apply(e){const n=cm(e.firestore),r=function(i,s,o,a,c,u,l){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new te($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Mb(l,u);const p=[];for(const v of l)p.push(Nb(a,i,v));h={arrayValue:{values:p}}}else h=Nb(a,i,l)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Mb(l,u),h=YH(o,s,l,u==="in"||u==="not-in");const f=Vt.create(c,u,h);return function(p,v){if(v.ht()){const S=yA(p);if(S!==null&&!S.isEqual(v.field))throw new te($.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${S.toString()}' and '${v.field.toString()}'`);const A=vA(p);A!==null&&tq(p,v.field,A)}const C=function(S,A){for(const R of S.filters)if(A.indexOf(R.op)>=0)return R.op;return null}(p,function(S){switch(S){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(v.op));if(C!==null)throw C===v.op?new te($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${v.op.toString()}' filter.`):new te($.INVALID_ARGUMENT,`Invalid query. You cannot use '${v.op.toString()}' filters with '${C.toString()}' filters.`)}(i,f),f}(e._query,"where",n,e.firestore._databaseId,this.fa,this.da,this._a);return new Vs(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new La(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function Ku(t,e,n){const r=e,i=fm("where",t);return new eq(i,r,n)}function Nb(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new te($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EA(e)&&n.indexOf("/")!==-1)throw new te($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ye.fromString(n));if(!ue.isDocumentKey(r))throw new te($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cb(t,new ue(r))}if(n instanceof Gt)return cb(t,n._key);throw new te($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wl(n)}.`)}function Mb(t,e){if(!Array.isArray(t)||t.length===0)throw new te($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new te($.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function tq(t,e,n){if(!n.isEqual(e))throw new te($.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{convertValue(e,n="none"){switch(di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){const r={};return Si(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new om(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pA(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ea(e));default:return null}}convertTimestamp(e){const n=Rr(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);We(VA(r));const i=new ys(r.get(1),r.get(3)),s=new ue(r.popFirst(5));return i.isEqual(n)||Cr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class dm extends nq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function SI(t){t=qn(t,Vs);const e=qn(t.firestore,Ss),n=sm(e),r=new dm(e);return _I(t._query),FH(n,t._query).then(i=>new bI(e,r,t,i))}function iq(t,e,n,...r){t=qn(t,Gt);const i=qn(t.firestore,Ss),s=cm(i);let o;return o=typeof(e=At(e))=="string"||e instanceof ql?GH(s,"updateDoc",t._key,e,n,r):qH(s,"updateDoc",t._key,e),II(i,[o.toMutation(t._key,kn.exists(!0))])}function TI(t,e){const n=qn(t.firestore,Ss),r=im(t),i=rq(t.converter,e);return II(n,[HH(cm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,kn.exists(!1))]).then(()=>r)}function AI(t,...e){var n,r,i;t=At(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Pb(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Pb(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let c,u,l;if(t instanceof Gt)u=qn(t.firestore,Ss),l=zg(t._key.path),c={next:h=>{e[o]&&e[o](sq(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=qn(t,Vs);u=qn(h.firestore,Ss),l=h._query;const f=new dm(u);c={next:p=>{e[o]&&e[o](new bI(u,f,h,p))},error:e[o+1],complete:e[o+2]},_I(t._query)}return function(h,f,p,v){const C=new uI(v),S=new nI(f,C,p);return h.asyncQueue.enqueueAndForget(async()=>eI(await Vd(h),S)),()=>{C.Tc(),h.asyncQueue.enqueueAndForget(async()=>tI(await Vd(h),S))}}(sm(u),l,a,c)}function II(t,e){return function(n,r){const i=new br;return n.asyncQueue.enqueueAndForget(async()=>wH(await LH(n),r,i)),i.promise}(sm(t),e)}function sq(t,e,n){const r=n.docs.get(e._key),i=new dm(t);return new EI(t,i,e._key,r,new uo(n.hasPendingWrites,n.fromCache),e.converter)}function CI(){return new um("serverTimestamp")}(function(t,e=!0){(function(n){Bs=n})(Os),oi(new Sr("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Ss(i,new u6(n.getProvider("auth-internal")),new d6(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Rn(rb,"3.4.12",t),Rn(rb,"3.4.12","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="firebasestorage.googleapis.com",RI="storageBucket",oq=2*60*1e3,aq=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt extends xr{constructor(e,n){super(yf(e),`Firebase Storage: ${n} (${yf(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mt.prototype)}_codeEquals(e){return yf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function yf(t){return"storage/"+t}function pm(){const t="An unknown error occurred, please check the error payload for server response.";return new mt("unknown",t)}function cq(t){return new mt("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uq(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt("unauthenticated",t)}function lq(){return new mt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function hq(t){return new mt("unauthorized","User does not have permission to access '"+t+"'.")}function fq(){return new mt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function dq(){return new mt("canceled","User canceled the upload/download.")}function pq(t){return new mt("invalid-url","Invalid URL '"+t+"'.")}function gq(t){return new mt("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function mq(){return new mt("no-default-bucket","No default bucket found. Did you set the '"+RI+"' property when initializing the app?")}function vq(){return new mt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function zd(t){return new mt("invalid-argument",t)}function DI(){return new mt("app-deleted","The Firebase app was deleted.")}function yq(t){return new mt("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function So(t,e){return new mt("invalid-format","String does not match format '"+t+"': "+e)}function no(t){throw new mt("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Jt.makeFromUrl(e,n)}catch{return new Jt(e,"")}if(r.path==="")return r;throw gq(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(j){j.path_=decodeURIComponent(j.path)}const l="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${l}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},C=n===OI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",A=new RegExp(`^https?://${C}/${i}/${S}`,"i"),K=[{regex:a,indices:c,postModify:s},{regex:p,indices:v,postModify:u},{regex:A,indices:{bucket:1,path:2},postModify:u}];for(let j=0;j<K.length;j++){const k=K[j],N=k.regex.exec(e);if(N){const b=N[k.indices.bucket];let O=N[k.indices.path];O||(O=""),r=new Jt(b,O),k.postModify(r);break}}if(r==null)throw pq(e);return r}}class Eq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bq(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function l(...S){u||(u=!0,e.apply(null,S))}function h(S){i=setTimeout(()=>{i=null,t(p,c())},S)}function f(){s&&clearTimeout(s)}function p(S,...A){if(u){f();return}if(S){f(),l.call(null,S,...A);return}if(c()||o){f(),l.call(null,S,...A);return}r<64&&(r*=2);let K;a===1?(a=2,K=0):K=(r+Math.random())*1e3,h(K)}let v=!1;function C(S){v||(v=!0,f(),!u&&(i!==null?(S||(a=2),clearTimeout(i),h(0)):S||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,C(!0)},n),C}function _q(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(t){return t!==void 0}function Sq(t){return typeof t=="object"&&!Array.isArray(t)}function xI(t){return typeof t=="string"||t instanceof String}function $b(t){return gm()&&t instanceof Blob}function gm(){return typeof Blob!="undefined"}function Lb(t,e,n,r){if(r<e)throw zd(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw zd(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Aq(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(si||(si={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(e,n,r,i,s,o,a,c,u,l,h){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new wc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===si.NO_ERROR,c=s.getStatus();if(!a||this.isRetryStatusCode_(c)){const l=s.getErrorCode()===si.ABORT;r(!1,new wc(!1,null,l));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new wc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());wq(c)?s(c):s()}catch(c){o(c)}else if(a!==null){const c=pm();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){const c=this.appDelete_?DI():dq();o(c)}else{const c=fq();o(c)}};this.canceled_?n(!1,new wc(!1,null,!0)):this.backoffId_=bq(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_q(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||s}}class wc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Cq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Oq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function Rq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Dq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function xq(t,e,n,r,i,s){const o=Aq(t.urlParams),a=t.url+o,c=Object.assign({},t.headers);return Rq(c,e),Cq(c,n),Oq(c,s),Dq(c,r),new Iq(a,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kq(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function Pq(...t){const e=kq();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(gm())return new Blob(t);throw new mt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function Nq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mq(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ef{constructor(e,n){this.data=e,this.contentType=n||null}}function $q(t,e){switch(t){case On.RAW:return new Ef(kI(e));case On.BASE64:case On.BASE64URL:return new Ef(PI(t,e));case On.DATA_URL:return new Ef(Fq(e),Bq(e))}throw pm()}function kI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Lq(t){let e;try{e=decodeURIComponent(t)}catch{throw So(On.DATA_URL,"Malformed data URL.")}return kI(e)}function PI(t,e){switch(t){case On.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw So(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case On.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw So(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Mq(e)}catch{throw So(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class NI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw So(On.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Uq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Fq(t){const e=new NI(t);return e.base64?PI(On.BASE64,e.rest):Lq(e.rest)}function Bq(t){return new NI(t).contentType}function Uq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n){let r=0,i="";$b(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if($b(this.data_)){const r=this.data_,i=Nq(r,e,n);return i===null?null:new pr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new pr(r,!0)}}static getBlob(...e){if(gm()){const n=e.map(r=>r instanceof pr?r.data_:r);return new pr(Pq.apply(null,n))}else{const n=e.map(o=>xI(o)?$q(On.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new pr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(t){let e;try{e=JSON.parse(t)}catch{return null}return Sq(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Kq(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function MI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zq(t,e){return e}class Lt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||zq}}let Sc=null;function Wq(t){return!xI(t)||t.length<2?t:MI(t)}function Hq(){if(Sc)return Sc;const t=[];t.push(new Lt("bucket")),t.push(new Lt("generation")),t.push(new Lt("metageneration")),t.push(new Lt("name","fullPath",!0));function e(s,o){return Wq(o)}const n=new Lt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Lt("size");return i.xform=r,t.push(i),t.push(new Lt("timeCreated")),t.push(new Lt("updated")),t.push(new Lt("md5Hash",null,!0)),t.push(new Lt("cacheControl",null,!0)),t.push(new Lt("contentDisposition",null,!0)),t.push(new Lt("contentEncoding",null,!0)),t.push(new Lt("contentLanguage",null,!0)),t.push(new Lt("contentType",null,!0)),t.push(new Lt("metadata","customMetadata",!0)),Sc=t,Sc}function qq(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Jt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Gq(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return qq(r,t),r}function Yq(t,e,n){const r=jq(e);return r===null?null:Gq(t,r,n)}function Xq(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Qq{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jq(t){if(!t)throw pm()}function Zq(t,e){function n(r,i){const s=Yq(t,i,e);return Jq(s!==null),s}return n}function e4(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=lq():i=uq():n.getStatus()===402?i=cq(t.bucket):n.getStatus()===403?i=hq(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function t4(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function n4(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=t4(null,e)),r}function r4(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let K="";for(let j=0;j<2;j++)K=K+Math.random().toString().slice(2);return K}const c=a();o["Content-Type"]="multipart/related; boundary="+c;const u=n4(e,r,i),l=Xq(u,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+l+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+c+"--",p=pr.getBlob(h,r,f);if(p===null)throw vq();const v={name:u.fullPath},C=Tq(s,t.host,t._protocol),S="POST",A=t.maxUploadRetryTime,R=new Qq(C,S,Zq(t,n),A);return R.urlParams=v,R.headers=o,R.body=p.uploadData(),R.errorHandler=e4(e),R}class i4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=si.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=si.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=si.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw no("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw no("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw no("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw no("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw no("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class s4 extends i4{initXhr(){this.xhr_.responseType="text"}}function o4(){return new s4}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){this._service=e,n instanceof Jt?this._location=n:this._location=Jt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gi(e,n)}get root(){const e=new Jt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MI(this._location.path)}get storage(){return this._service}get parent(){const e=Vq(this._location.path);if(e===null)return null;const n=new Jt(this._location.bucket,e);return new gi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yq(e)}}function a4(t,e,n){t._throwIfRoot("uploadBytes");const r=r4(t.storage,t._location,Hq(),new pr(e,!0),n);return t.storage.makeRequestWithTokens(r,o4).then(i=>({metadata:i,ref:t}))}function c4(t,e){const n=Kq(t._location.path,e),r=new Jt(t._location.bucket,n);return new gi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t){return/^[A-Za-z]+:\/\//.test(t)}function l4(t,e){return new gi(t,e)}function $I(t,e){if(t instanceof mm){const n=t;if(n._bucket==null)throw mq();const r=new gi(n,n._bucket);return e!=null?$I(r,e):r}else return e!==void 0?c4(t,e):t}function h4(t,e){if(e&&u4(e)){if(t instanceof mm)return l4(t,e);throw zd("To use ref(service, url), the first argument must be a Storage instance.")}else return $I(t,e)}function Fb(t,e){const n=e==null?void 0:e[RI];return n==null?null:Jt.makeFromBucketSpec(n,t)}function f4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:T0(i,t.app.options.projectId))}class mm{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=OI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oq,this._maxUploadRetryTime=aq,this._requests=new Set,i!=null?this._bucket=Jt.makeFromBucketSpec(i,this._host):this._bucket=Fb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jt.makeFromBucketSpec(this._url,e):this._bucket=Fb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Lb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Lb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gi(this,e)}_makeRequest(e,n,r,i){if(this._deleted)return new Eq(DI());{const s=xq(e,this._appId,r,i,n,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Bb="@firebase/storage",Ub="0.9.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="storage";function i5(t,e,n){return t=At(t),a4(t,e,n)}function s5(t,e){return t=At(t),h4(t,e)}function d4(t=Zd(),e){return t=At(t),da(t,LI).getImmediate({identifier:e})}function p4(t,e,n,r={}){f4(t,e,n,r)}function g4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new mm(n,r,i,e,Os)}function m4(){oi(new Sr(LI,g4,"PUBLIC").setMultipleInstances(!0)),Rn(Bb,Ub,""),Rn(Bb,Ub,"esm2017")}m4();const zu={supportsFirebase:!1},v4=t=>{Object.assign(zu,t)},Wd={apiKey:"AIzaSyCqk-k-XiYFYgPQo28ITj3qkxoqDGDrVk0",appId:"1:1011232276130:web:1ae2ea1437c349a4c2e1fb",authDomain:"octo-64838.firebaseapp.com",databaseURL:"https://octo-64838.firebaseio.com",messagingSenderId:"1011232276130",projectId:"octo-64838",storageBucket:"octo-64838.appspot.com"},y4=()=>{const t=Object.keys(Wd).filter(e=>!Wd[e]);return t.length>0?(console.warn(`Skipping Firebase initialization. Missing keys: [${t.join(", ")}]`),!1):!0},E4=()=>{if(!y4())return;const t=CO(Wd);VH(t,{experimentalAutoDetectLongPolling:!0}),o6("error"),location.hostname==="localhost"&&!{}.VITE_FIREBASE_EMULATOR_BYPASS&&(lR(cp(),{}.VITE_FIREBASE_EMULATOR_AUTH,{disableWarnings:!0}),UH(Ks(),{}.VITE_FIREBASE_EMULATOR_FIRESTORE_HOST,{}.VITE_FIREBASE_EMULATOR_FIRESTORE_PORT),p4(d4(),{}.VITE_FIREBASE_EMULATOR_STORAGE_HOST,{}.VITE_FIREBASE_EMULATOR_STORAGE_PORT)),v4({supportsFirebase:!0})};/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Ui=typeof window!="undefined";function b4(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const je=Object.assign;function bf(t,e){const n={};for(const r in e){const i=e[r];n[r]=yn(i)?i.map(t):t(i)}return n}const To=()=>{},yn=Array.isArray,_4=/\/$/,w4=t=>t.replace(_4,"");function _f(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),s=e.slice(c+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=I4(r!=null?r:e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function S4(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function jb(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function T4(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&As(e.matched[r],n.matched[i])&&FI(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function As(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function FI(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!A4(t[n],e[n]))return!1;return!0}function A4(t,e){return yn(t)?Vb(t,e):yn(e)?Vb(e,t):t===e}function Vb(t,e){return yn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function I4(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i=n.length-1,s,o;for(s=0;s<r.length;s++)if(o=r[s],o!==".")if(o==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var oa;(function(t){t.pop="pop",t.push="push"})(oa||(oa={}));var Ao;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ao||(Ao={}));function C4(t){if(!t)if(Ui){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),w4(t)}const O4=/^[^#]+#/;function R4(t,e){return t.replace(O4,"#")+e}function D4(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Xl=()=>({left:window.pageXOffset,top:window.pageYOffset});function x4(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=D4(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Kb(t,e){return(history.state?history.state.position-e:-1)+t}const Hd=new Map;function k4(t,e){Hd.set(t,e)}function P4(t){const e=Hd.get(t);return Hd.delete(t),e}let N4=()=>location.protocol+"//"+location.host;function BI(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),jb(c,"")}return jb(n,t)+r+i}function M4(t,e,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const p=BI(t,location),v=n.value,C=e.value;let S=0;if(f){if(n.value=p,e.value=f,o&&o===v){o=null;return}S=C?f.position-C.position:0}else r(p);i.forEach(A=>{A(n.value,v,{delta:S,type:oa.pop,direction:S?S>0?Ao.forward:Ao.back:Ao.unknown})})};function c(){o=n.value}function u(f){i.push(f);const p=()=>{const v=i.indexOf(f);v>-1&&i.splice(v,1)};return s.push(p),p}function l(){const{history:f}=window;!f.state||f.replaceState(je({},f.state,{scroll:Xl()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l),{pauseListeners:c,listen:u,destroy:h}}function zb(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Xl():null}}function $4(t){const{history:e,location:n}=window,r={value:BI(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(c,u,l){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+c:N4()+t+c;try{e[l?"replaceState":"pushState"](u,"",f),i.value=u}catch(p){console.error(p),n[l?"replace":"assign"](f)}}function o(c,u){const l=je({},e.state,zb(i.value.back,c,i.value.forward,!0),u,{position:i.value.position});s(c,l,!0),r.value=c}function a(c,u){const l=je({},i.value,e.state,{forward:c,scroll:Xl()});s(l.current,l,!0);const h=je({},zb(r.value,c,null),{position:l.position+1},u);s(c,h,!1),r.value=c}return{location:r,state:i,push:a,replace:o}}function L4(t){t=C4(t);const e=$4(t),n=M4(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=je({location:"",base:t,go:r,createHref:R4.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function F4(t){return typeof t=="string"||t&&typeof t=="object"}function UI(t){return typeof t=="string"||typeof t=="symbol"}const or={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},jI=Symbol("");var Wb;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Wb||(Wb={}));function Is(t,e){return je(new Error,{type:t,[jI]:!0},e)}function Fn(t,e){return t instanceof Error&&jI in t&&(e==null||!!(t.type&e))}const Hb="[^/]+?",B4={sensitive:!1,strict:!1,start:!0,end:!0},U4=/[.+*?^${}()[\]/\\]/g;function j4(t,e){const n=je({},B4,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const l=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const f=u[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(U4,"\\$&"),p+=40;else if(f.type===1){const{value:v,repeatable:C,optional:S,regexp:A}=f;s.push({name:v,repeatable:C,optional:S});const R=A||Hb;if(R!==Hb){p+=10;try{new RegExp(`(${R})`)}catch(j){throw new Error(`Invalid custom RegExp for param "${v}" (${R}): `+j.message)}}let K=C?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;h||(K=S&&u.length<2?`(?:/${K})`:"/"+K),S&&(K+="?"),i+=K,p+=20,S&&(p+=-8),C&&(p+=-20),R===".*"&&(p+=-50)}l.push(p)}r.push(l)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const l=u.match(o),h={};if(!l)return null;for(let f=1;f<l.length;f++){const p=l[f]||"",v=s[f-1];h[v.name]=p&&v.repeatable?p.split("/"):p}return h}function c(u){let l="",h=!1;for(const f of t){(!h||!l.endsWith("/"))&&(l+="/"),h=!1;for(const p of f)if(p.type===0)l+=p.value;else if(p.type===1){const{value:v,repeatable:C,optional:S}=p,A=v in u?u[v]:"";if(yn(A)&&!C)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const R=yn(A)?A.join("/"):A;if(!R)if(S)f.length<2&&(l.endsWith("/")?l=l.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);l+=R}}return l||"/"}return{re:o,score:r,keys:s,parse:a,stringify:c}}function V4(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function K4(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=V4(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(qb(r))return 1;if(qb(i))return-1}return i.length-r.length}function qb(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const z4={type:0,value:""},W4=/[a-zA-Z0-9_]/;function H4(t){if(!t)return[[]];if(t==="/")return[[z4]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,c,u="",l="";function h(){!u||(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:l,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(u&&h(),o()):c===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:c==="("?n=2:W4.test(c)?f():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+c:n=3:l+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,l="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}function q4(t,e,n){const r=j4(H4(t.path),n),i=je(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function G4(t,e){const n=[],r=new Map;e=Xb({strict:!1,end:!0,sensitive:!1},e);function i(l){return r.get(l)}function s(l,h,f){const p=!f,v=Y4(l);v.aliasOf=f&&f.record;const C=Xb(e,l),S=[v];if("alias"in l){const K=typeof l.alias=="string"?[l.alias]:l.alias;for(const j of K)S.push(je({},v,{components:f?f.record.components:v.components,path:j,aliasOf:f?f.record:v}))}let A,R;for(const K of S){const{path:j}=K;if(h&&j[0]!=="/"){const k=h.record.path,N=k[k.length-1]==="/"?"":"/";K.path=h.record.path+(j&&N+j)}if(A=q4(K,h,C),f?f.alias.push(A):(R=R||A,R!==A&&R.alias.push(A),p&&l.name&&!Yb(A)&&o(l.name)),v.children){const k=v.children;for(let N=0;N<k.length;N++)s(k[N],A,f&&f.children[N])}f=f||A,c(A)}return R?()=>{o(R)}:To}function o(l){if(UI(l)){const h=r.get(l);h&&(r.delete(l),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(l);h>-1&&(n.splice(h,1),l.record.name&&r.delete(l.record.name),l.children.forEach(o),l.alias.forEach(o))}}function a(){return n}function c(l){let h=0;for(;h<n.length&&K4(l,n[h])>=0&&(l.record.path!==n[h].record.path||!VI(l,n[h]));)h++;n.splice(h,0,l),l.record.name&&!Yb(l)&&r.set(l.record.name,l)}function u(l,h){let f,p={},v,C;if("name"in l&&l.name){if(f=r.get(l.name),!f)throw Is(1,{location:l});C=f.record.name,p=je(Gb(h.params,f.keys.filter(R=>!R.optional).map(R=>R.name)),l.params&&Gb(l.params,f.keys.map(R=>R.name))),v=f.stringify(p)}else if("path"in l)v=l.path,f=n.find(R=>R.re.test(v)),f&&(p=f.parse(v),C=f.record.name);else{if(f=h.name?r.get(h.name):n.find(R=>R.re.test(h.path)),!f)throw Is(1,{location:l,currentLocation:h});C=f.record.name,p=je({},h.params,l.params),v=f.stringify(p)}const S=[];let A=f;for(;A;)S.unshift(A.record),A=A.parent;return{name:C,path:v,params:p,matched:S,meta:Q4(S)}}return t.forEach(l=>s(l)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function Gb(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Y4(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:X4(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function X4(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function Yb(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Q4(t){return t.reduce((e,n)=>je(e,n.meta),{})}function Xb(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function VI(t,e){return e.children.some(n=>n===t||VI(t,n))}const KI=/#/g,J4=/&/g,Z4=/\//g,e8=/=/g,t8=/\?/g,zI=/\+/g,n8=/%5B/g,r8=/%5D/g,WI=/%5E/g,i8=/%60/g,HI=/%7B/g,s8=/%7C/g,qI=/%7D/g,o8=/%20/g;function vm(t){return encodeURI(""+t).replace(s8,"|").replace(n8,"[").replace(r8,"]")}function a8(t){return vm(t).replace(HI,"{").replace(qI,"}").replace(WI,"^")}function qd(t){return vm(t).replace(zI,"%2B").replace(o8,"+").replace(KI,"%23").replace(J4,"%26").replace(i8,"`").replace(HI,"{").replace(qI,"}").replace(WI,"^")}function c8(t){return qd(t).replace(e8,"%3D")}function u8(t){return vm(t).replace(KI,"%23").replace(t8,"%3F")}function l8(t){return t==null?"":u8(t).replace(Z4,"%2F")}function Wu(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function h8(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(zI," "),o=s.indexOf("="),a=Wu(o<0?s:s.slice(0,o)),c=o<0?null:Wu(s.slice(o+1));if(a in e){let u=e[a];yn(u)||(u=e[a]=[u]),u.push(c)}else e[a]=c}return e}function Qb(t){let e="";for(let n in t){const r=t[n];if(n=c8(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(yn(r)?r.map(s=>s&&qd(s)):[r&&qd(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function f8(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=yn(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const d8=Symbol(""),Jb=Symbol(""),Ql=Symbol(""),ym=Symbol(""),Gd=Symbol("");function ro(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function cr(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(Is(4,{from:n,to:e})):h instanceof Error?a(h):F4(h)?a(Is(2,{from:e,to:h})):(s&&r.enterCallbacks[i]===s&&typeof h=="function"&&s.push(h),o())},u=t.call(r&&r.instances[i],e,n,c);let l=Promise.resolve(u);t.length<3&&(l=l.then(c)),l.catch(h=>a(h))})}function wf(t,e,n,r){const i=[];for(const s of t)for(const o in s.components){let a=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(p8(a)){const u=(a.__vccOpts||a)[e];u&&i.push(cr(u,n,r,s,o))}else{let c=a();i.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const l=b4(u)?u.default:u;s.components[o]=l;const f=(l.__vccOpts||l)[e];return f&&cr(f,n,r,s,o)()}))}}return i}function p8(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Zb(t){const e=cn(Ql),n=cn(ym),r=Qt(()=>e.resolve(Jr(t.to))),i=Qt(()=>{const{matched:c}=r.value,{length:u}=c,l=c[u-1],h=n.matched;if(!l||!h.length)return-1;const f=h.findIndex(As.bind(null,l));if(f>-1)return f;const p=e0(c[u-2]);return u>1&&e0(l)===p&&h[h.length-1].path!==p?h.findIndex(As.bind(null,c[u-2])):f}),s=Qt(()=>i.value>-1&&y8(n.params,r.value.params)),o=Qt(()=>i.value>-1&&i.value===n.matched.length-1&&FI(n.params,r.value.params));function a(c={}){return v8(c)?e[Jr(t.replace)?"replace":"push"](Jr(t.to)).catch(To):Promise.resolve()}return{route:r,href:Qt(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const g8=ba({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Zb,setup(t,{slots:e}){const n=kr(Zb(t)),{options:r}=cn(Ql),i=Qt(()=>({[t0(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[t0(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:aw("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),m8=g8;function v8(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function y8(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!yn(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function e0(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const t0=(t,e,n)=>t!=null?t:e!=null?e:n,E8=ba({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=cn(Gd),i=Qt(()=>t.route||r.value),s=cn(Jb,0),o=Qt(()=>{let u=Jr(s);const{matched:l}=i.value;let h;for(;(h=l[u])&&!h.components;)u++;return u}),a=Qt(()=>i.value.matched[o.value]);Uc(Jb,Qt(()=>o.value+1)),Uc(d8,a),Uc(Gd,i);const c=an();return Zr(()=>[c.value,a.value,t.name],([u,l,h],[f,p,v])=>{l&&(l.instances[h]=u,p&&p!==l&&u&&u===f&&(l.leaveGuards.size||(l.leaveGuards=p.leaveGuards),l.updateGuards.size||(l.updateGuards=p.updateGuards))),u&&l&&(!p||!As(l,p)||!f)&&(l.enterCallbacks[h]||[]).forEach(C=>C(u))},{flush:"post"}),()=>{const u=i.value,l=t.name,h=a.value,f=h&&h.components[l];if(!f)return n0(n.default,{Component:f,route:u});const p=h.props[l],v=p?p===!0?u.params:typeof p=="function"?p(u):p:null,S=aw(f,je({},v,e,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(h.instances[l]=null)},ref:c}));return n0(n.default,{Component:S,route:u})||S}}});function n0(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const b8=E8;function _8(t){const e=G4(t.routes,t),n=t.parseQuery||h8,r=t.stringifyQuery||Qb,i=t.history,s=ro(),o=ro(),a=ro(),c=hx(or);let u=or;Ui&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=bf.bind(null,D=>""+D),h=bf.bind(null,l8),f=bf.bind(null,Wu);function p(D,Q){let F,Z;return UI(D)?(F=e.getRecordMatcher(D),Z=Q):Z=D,e.addRoute(Z,F)}function v(D){const Q=e.getRecordMatcher(D);Q&&e.removeRoute(Q)}function C(){return e.getRoutes().map(D=>D.record)}function S(D){return!!e.getRecordMatcher(D)}function A(D,Q){if(Q=je({},Q||c.value),typeof D=="string"){const m=_f(n,D,Q.path),E=e.resolve({path:m.path},Q),x=i.createHref(m.fullPath);return je(m,E,{params:f(E.params),hash:Wu(m.hash),redirectedFrom:void 0,href:x})}let F;if("path"in D)F=je({},D,{path:_f(n,D.path,Q.path).path});else{const m=je({},D.params);for(const E in m)m[E]==null&&delete m[E];F=je({},D,{params:h(D.params)}),Q.params=h(Q.params)}const Z=e.resolve(F,Q),me=D.hash||"";Z.params=l(f(Z.params));const De=S4(r,je({},D,{hash:a8(me),path:Z.path})),ve=i.createHref(De);return je({fullPath:De,hash:me,query:r===Qb?f8(D.query):D.query||{}},Z,{redirectedFrom:void 0,href:ve})}function R(D){return typeof D=="string"?_f(n,D,c.value.path):je({},D)}function K(D,Q){if(u!==D)return Is(8,{from:Q,to:D})}function j(D){return b(D)}function k(D){return j(je(R(D),{replace:!0}))}function N(D){const Q=D.matched[D.matched.length-1];if(Q&&Q.redirect){const{redirect:F}=Q;let Z=typeof F=="function"?F(D):F;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=R(Z):{path:Z},Z.params={}),je({query:D.query,hash:D.hash,params:"path"in Z?{}:D.params},Z)}}function b(D,Q){const F=u=A(D),Z=c.value,me=D.state,De=D.force,ve=D.replace===!0,m=N(F);if(m)return b(je(R(m),{state:typeof m=="object"?je({},me,m.state):me,force:De,replace:ve}),Q||F);const E=F;E.redirectedFrom=Q;let x;return!De&&T4(r,Z,F)&&(x=Is(16,{to:E,from:Z}),nn(Z,Z,!0,!1)),(x?Promise.resolve(x):X(E,Z)).catch(P=>Fn(P)?Fn(P,2)?P:Mt(P):Ie(P,E,Z)).then(P=>{if(P){if(Fn(P,2))return b(je({replace:ve},R(P.to),{state:typeof P.to=="object"?je({},me,P.to.state):me,force:De}),Q||E)}else P=we(E,Z,!0,ve,me);return se(E,Z,P),P})}function O(D,Q){const F=K(D,Q);return F?Promise.reject(F):Promise.resolve()}function X(D,Q){let F;const[Z,me,De]=w8(D,Q);F=wf(Z.reverse(),"beforeRouteLeave",D,Q);for(const m of Z)m.leaveGuards.forEach(E=>{F.push(cr(E,D,Q))});const ve=O.bind(null,D,Q);return F.push(ve),Li(F).then(()=>{F=[];for(const m of s.list())F.push(cr(m,D,Q));return F.push(ve),Li(F)}).then(()=>{F=wf(me,"beforeRouteUpdate",D,Q);for(const m of me)m.updateGuards.forEach(E=>{F.push(cr(E,D,Q))});return F.push(ve),Li(F)}).then(()=>{F=[];for(const m of D.matched)if(m.beforeEnter&&!Q.matched.includes(m))if(yn(m.beforeEnter))for(const E of m.beforeEnter)F.push(cr(E,D,Q));else F.push(cr(m.beforeEnter,D,Q));return F.push(ve),Li(F)}).then(()=>(D.matched.forEach(m=>m.enterCallbacks={}),F=wf(De,"beforeRouteEnter",D,Q),F.push(ve),Li(F))).then(()=>{F=[];for(const m of o.list())F.push(cr(m,D,Q));return F.push(ve),Li(F)}).catch(m=>Fn(m,8)?m:Promise.reject(m))}function se(D,Q,F){for(const Z of a.list())Z(D,Q,F)}function we(D,Q,F,Z,me){const De=K(D,Q);if(De)return De;const ve=Q===or,m=Ui?history.state:{};F&&(Z||ve?i.replace(D.fullPath,je({scroll:ve&&m&&m.scroll},me)):i.push(D.fullPath,me)),c.value=D,nn(D,Q,F,ve),Mt()}let Ce;function et(){Ce||(Ce=i.listen((D,Q,F)=>{if(!Se.listening)return;const Z=A(D),me=N(Z);if(me){b(je(me,{replace:!0}),Z).catch(To);return}u=Z;const De=c.value;Ui&&k4(Kb(De.fullPath,F.delta),Xl()),X(Z,De).catch(ve=>Fn(ve,12)?ve:Fn(ve,2)?(b(ve.to,Z).then(m=>{Fn(m,20)&&!F.delta&&F.type===oa.pop&&i.go(-1,!1)}).catch(To),Promise.reject()):(F.delta&&i.go(-F.delta,!1),Ie(ve,Z,De))).then(ve=>{ve=ve||we(Z,De,!1),ve&&(F.delta&&!Fn(ve,8)?i.go(-F.delta,!1):F.type===oa.pop&&Fn(ve,20)&&i.go(-1,!1)),se(Z,De,ve)}).catch(To)}))}let Je=ro(),ze=ro(),Ve;function Ie(D,Q,F){Mt(D);const Z=ze.list();return Z.length?Z.forEach(me=>me(D,Q,F)):console.error(D),Promise.reject(D)}function Pe(){return Ve&&c.value!==or?Promise.resolve():new Promise((D,Q)=>{Je.add([D,Q])})}function Mt(D){return Ve||(Ve=!D,et(),Je.list().forEach(([Q,F])=>D?F(D):Q()),Je.reset()),D}function nn(D,Q,F,Z){const{scrollBehavior:me}=t;if(!Ui||!me)return Promise.resolve();const De=!F&&P4(Kb(D.fullPath,0))||(Z||!F)&&history.state&&history.state.scroll||null;return wp().then(()=>me(D,Q,De)).then(ve=>ve&&x4(ve)).catch(ve=>Ie(ve,D,Q))}const re=D=>i.go(D);let he;const Re=new Set,Se={currentRoute:c,listening:!0,addRoute:p,removeRoute:v,hasRoute:S,getRoutes:C,resolve:A,options:t,push:j,replace:k,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:ze.add,isReady:Pe,install(D){const Q=this;D.component("RouterLink",m8),D.component("RouterView",b8),D.config.globalProperties.$router=Q,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>Jr(c)}),Ui&&!he&&c.value===or&&(he=!0,j(i.location).catch(me=>{}));const F={};for(const me in or)F[me]=Qt(()=>c.value[me]);D.provide(Ql,Q),D.provide(ym,kr(F)),D.provide(Gd,c);const Z=D.unmount;Re.add(D),D.unmount=function(){Re.delete(D),Re.size<1&&(u=or,Ce&&Ce(),Ce=null,c.value=or,he=!1,Ve=!1),Z()}}};return Se}function Li(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function w8(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>As(u,a))?r.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(u=>As(u,c))||i.push(c))}return[n,r,i]}function o5(){return cn(Ql)}function a5(){return cn(ym)}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var GI="store";function c5(t){return t===void 0&&(t=null),cn(t!==null?t:GI)}function zs(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function S8(t){return t!==null&&typeof t=="object"}function T8(t){return t&&typeof t.then=="function"}function A8(t,e){return function(){return t(e)}}function YI(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function XI(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Jl(t,n,[],t._modules.root,!0),Em(t,n,e)}function Em(t,e,n){var r=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,s={};zs(i,function(o,a){s[a]=A8(o,t),Object.defineProperty(t.getters,a,{get:function(){return s[a]()},enumerable:!0})}),t._state=kr({data:e}),t.strict&&D8(t),r&&n&&t._withCommit(function(){r.data=null})}function Jl(t,e,n,r,i){var s=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!s&&!i){var a=bm(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit(function(){a[c]=r.state})}var u=r.context=I8(t,o,n);r.forEachMutation(function(l,h){var f=o+h;C8(t,f,l,u)}),r.forEachAction(function(l,h){var f=l.root?h:o+h,p=l.handler||l;O8(t,f,p,u)}),r.forEachGetter(function(l,h){var f=o+h;R8(t,f,l,u)}),r.forEachChild(function(l,h){Jl(t,e,n.concat(h),l,i)})}function I8(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(s,o,a){var c=Hu(s,o,a),u=c.payload,l=c.options,h=c.type;return(!l||!l.root)&&(h=e+h),t.dispatch(h,u)},commit:r?t.commit:function(s,o,a){var c=Hu(s,o,a),u=c.payload,l=c.options,h=c.type;(!l||!l.root)&&(h=e+h),t.commit(h,u,l)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return QI(t,e)}},state:{get:function(){return bm(t.state,n)}}}),i}function QI(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function C8(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(o){n.call(t,r.state,o)})}function O8(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(o){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},o);return T8(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(c){throw t._devtoolHook.emit("vuex:error",c),c}):a})}function R8(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function D8(t){Zr(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function bm(t,e){return e.reduce(function(n,r){return n[r]},t)}function Hu(t,e,n){return S8(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var x8="vuex bindings",r0="vuex:mutations",Sf="vuex:actions",Fi="vuex",k8=0;function P8(t,e){iP({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[x8]},function(n){n.addTimelineLayer({id:r0,label:"Vuex Mutations",color:i0}),n.addTimelineLayer({id:Sf,label:"Vuex Actions",color:i0}),n.addInspector({id:Fi,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===Fi)if(r.filter){var i=[];tC(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[eC(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===Fi){var i=r.nodeId;QI(e,i),r.state=$8(F8(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===Fi){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),e._withCommit(function(){r.set(e._state.data,s,r.state.value)})}}),e.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(Fi),n.sendInspectorState(Fi),n.addTimelineEvent({layerId:r0,event:{time:Date.now(),title:r.type,data:s}})}),e.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=k8++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:Sf,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},o=Date.now()-r._time;s.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:Sf,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var i0=8702998,N8=6710886,M8=16777215,JI={label:"namespaced",textColor:M8,backgroundColor:N8};function ZI(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function eC(t,e){return{id:e||"root",label:ZI(e),tags:t.namespaced?[JI]:[],children:Object.keys(t._children).map(function(n){return eC(t._children[n],e+n+"/")})}}function tC(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[JI]:[]}),Object.keys(e._children).forEach(function(i){tC(t,e._children[i],n,r+i+"/")})}function $8(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(r.length){var s=L8(e);i.getters=Object.keys(s).map(function(o){return{key:o.endsWith("/")?ZI(o):o,editable:!1,value:Yd(function(){return s[o]})}})}return i}function L8(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,s=r.pop();r.forEach(function(o){i[o]||(i[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),i=i[o]._custom.value}),i[s]=Yd(function(){return t[n]})}else e[n]=Yd(function(){return t[n]})}),e}function F8(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var o=r[i];if(!o)throw new Error('Missing module "'+i+'" for path "'+e+'".');return s===n.length-1?o:o._children},e==="root"?t:t.root._children)}function Yd(t){try{return t()}catch(e){return e}}var _n=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},nC={namespaced:{configurable:!0}};nC.namespaced.get=function(){return!!this._rawModule.namespaced};_n.prototype.addChild=function(e,n){this._children[e]=n};_n.prototype.removeChild=function(e){delete this._children[e]};_n.prototype.getChild=function(e){return this._children[e]};_n.prototype.hasChild=function(e){return e in this._children};_n.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};_n.prototype.forEachChild=function(e){zs(this._children,e)};_n.prototype.forEachGetter=function(e){this._rawModule.getters&&zs(this._rawModule.getters,e)};_n.prototype.forEachAction=function(e){this._rawModule.actions&&zs(this._rawModule.actions,e)};_n.prototype.forEachMutation=function(e){this._rawModule.mutations&&zs(this._rawModule.mutations,e)};Object.defineProperties(_n.prototype,nC);var Ai=function(e){this.register([],e,!1)};Ai.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};Ai.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};Ai.prototype.update=function(e){rC([],this.root,e)};Ai.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var s=new _n(n,r);if(e.length===0)this.root=s;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],s)}n.modules&&zs(n.modules,function(a,c){i.register(e.concat(c),a,r)})};Ai.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);!i||!i.runtime||n.removeChild(r)};Ai.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function rC(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;rC(t.concat(r),e.getChild(r),n.modules[r])}}function B8(t){return new Yt(t)}var Yt=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ai(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=s;var o=this,a=this,c=a.dispatch,u=a.commit;this.dispatch=function(f,p){return c.call(o,f,p)},this.commit=function(f,p,v){return u.call(o,f,p,v)},this.strict=i;var l=this._modules.root.state;Jl(this,l,[],this._modules.root),Em(this,l),r.forEach(function(h){return h(n)})},_m={state:{configurable:!0}};Yt.prototype.install=function(e,n){e.provide(n||GI,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&P8(e,this)};_m.state.get=function(){return this._state.data};_m.state.set=function(t){};Yt.prototype.commit=function(e,n,r){var i=this,s=Hu(e,n,r),o=s.type,a=s.payload,c={type:o,payload:a},u=this._mutations[o];!u||(this._withCommit(function(){u.forEach(function(h){h(a)})}),this._subscribers.slice().forEach(function(l){return l(c,i.state)}))};Yt.prototype.dispatch=function(e,n){var r=this,i=Hu(e,n),s=i.type,o=i.payload,a={type:s,payload:o},c=this._actions[s];if(!!c){try{this._actionSubscribers.slice().filter(function(l){return l.before}).forEach(function(l){return l.before(a,r.state)})}catch{}var u=c.length>1?Promise.all(c.map(function(l){return l(o)})):c[0](o);return new Promise(function(l,h){u.then(function(f){try{r._actionSubscribers.filter(function(p){return p.after}).forEach(function(p){return p.after(a,r.state)})}catch{}l(f)},function(f){try{r._actionSubscribers.filter(function(p){return p.error}).forEach(function(p){return p.error(a,r.state,f)})}catch{}h(f)})})}};Yt.prototype.subscribe=function(e,n){return YI(e,this._subscribers,n)};Yt.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return YI(r,this._actionSubscribers,n)};Yt.prototype.watch=function(e,n,r){var i=this;return Zr(function(){return e(i.state,i.getters)},n,Object.assign({},r))};Yt.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};Yt.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Jl(this,this.state,e,this._modules.get(e),r.preserveState),Em(this,this.state)};Yt.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=bm(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),XI(this)};Yt.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Yt.prototype.hotUpdate=function(e){this._modules.update(e),XI(this,!0)};Yt.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(Yt.prototype,_m);const Tc="ACTIVATE_CONTEXT",gr="ADD_DOCUMENT",U8="BLUR_EDITOR",Ac="DEACTIVATE_CONTEXT",Wi="DISCARD_DOCUMENT",j8="DUPLICATE_DOCUMENT",Io="DOCUMENTS_LOADED",Co="EDIT_DOCUMENT",V8="FOCUS_EDITOR",Ic="LOAD_DOCUMENT",iC="LOAD_DOCUMENTS",rs="MERGE_DOCUMENT",K8="MERGE_DOCUMENTS",Oo="RESTORE_DOCUMENT",Ro="RESTRICT_DOCUMENT",Tf="SET_CONTEXT_TAGS",is="SET_DOCUMENT",Af="SET_EDITOR",eu="SET_MOD_KEY",Do="SET_OFFLINE",xo="SET_ONLINE",If="SET_RIGHT_SIDEBAR_VISIBILITY",ss="SET_SHOW_WELCOME",ko="SHARE_DOCUMENT",z8="SIGN_OUT",sC="SYNC",Po="TOUCH_DOCUMENT",oC="SET_SUBSCRIPTION",Hi="SET_USER";var W8={state:()=>({isEvaluated:!1,subscription:{pro:!1},user:null}),mutations:{[oC](t,e){t.subscription=e},[Hi](t,e){t.user=e,t.isEvaluated=!0}},actions:{async[Hi](t,e){t.commit(Hi,e)},async[z8](t,e){return cp().signOut(),t.dispatch(Hi,{user:null})}}};const aC="ADD_CONTEXT",s0="LOAD_CONTEXT",cC="LOAD_CONTEXTS",uC="REMOVE_CONTEXT";var H8={state:()=>({all:[]}),getters:{sortedContexts(t,e){return t.all.sort((n,r)=>n.name===r.name?0:n.name<r.name?-1:1)}},mutations:{[aC](t,e){t.all.push(e)},[s0](t,e){t.all.push(e)},[uC](t,e){t.all=t.all.filter(n=>n.id!==e.id)}},actions:{[cC]({commit:t},e){e.forEach(n=>{t(s0,n)})}}};let q8=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const lC=t=>new TextDecoder().decode(t),G8=t=>new TextEncoder().encode(t),Y8=()=>window.crypto.getRandomValues(new Uint8Array(12)),No=t=>window.btoa(String.fromCharCode.apply(null,new Uint8Array(t))),qi=t=>{const e=window.atob(t),n=new ArrayBuffer(e.length),r=new Uint8Array(n);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return n},Ka={name:"RSA-OAEP"},X8=async(t,e)=>{const n=await window.crypto.subtle.decrypt(Ka,e,t);return lC(n)},Q8=async t=>{const e={};return t.privateKey&&(e.privateKey=await hC(t.privateKey)),t.publicKey&&(e.publicKey=await fC(t.publicKey)),e},hC=async t=>`-----BEGIN PRIVATE KEY-----
${No(await window.crypto.subtle.exportKey("pkcs8",t))}
-----END PRIVATE KEY-----`,fC=async t=>`-----BEGIN PUBLIC KEY-----
${No(await window.crypto.subtle.exportKey("spki",t))}
-----END PUBLIC KEY-----`,J8=async()=>window.crypto.subtle.generateKey({hash:"SHA-512",modulusLength:4096,name:Ka.name,publicExponent:new Uint8Array([1,0,1])},!0,["encrypt","decrypt"]),Z8=async t=>{const e={};return t.privateKey&&(e.privateKey=await dC(t.privateKey)),t.publicKey&&(e.publicKey=await pC(t.publicKey)),e},dC=async t=>{const e="-----BEGIN PRIVATE KEY-----",n="-----END PRIVATE KEY-----",r=t.substring(e.length,t.length-n.length),i=qi(r);return window.crypto.subtle.importKey("pkcs8",i,{hash:"SHA-512",name:Ka.name},!0,["decrypt","unwrapKey"])},pC=async t=>{const e="-----BEGIN PUBLIC KEY-----",n="-----END PUBLIC KEY-----",r=t.substring(e.length,t.length-n.length),i=qi(r);return window.crypto.subtle.importKey("spki",i,{hash:"SHA-512",name:Ka.name},!0,["encrypt","wrapKey"])};var aa={algorithm:Ka,decrypt:X8,exportKeys:Q8,exportPrivateKey:hC,exportPublicKey:fC,generateKeys:J8,importKeys:Z8,importPrivateKey:dC,importPublicKey:pC};const za={name:"AES-GCM"},eG=async(t,e,n)=>{const r=await window.crypto.subtle.decrypt({name:za.name,iv:n},e,t);return lC(r)},tG=async(t,e)=>{const n=G8(t),r=Y8();return{cipher:await window.crypto.subtle.encrypt({name:za.name,iv:r},e,n),iv:r}},nG=async()=>window.crypto.subtle.generateKey({name:za.name,length:256},!0,["encrypt","decrypt"]),rG=async t=>window.crypto.subtle.importKey("raw",t,za.name,!0,["decrypt","encrypt"]);var ca={algorithm:za,decrypt:eG,encrypt:tG,generateKey:nG,importKey:rG};const iG=async(t,e)=>window.crypto.subtle.unwrapKey("raw",t,e,aa.algorithm,ca.algorithm,!0,["encrypt","decrypt"]),sG=async(t,e)=>window.crypto.subtle.wrapKey("raw",t,e,aa.algorithm),oG=async t=>{const e=qi(t.cipher),n=qi(t.cipherKey),r=qi(t.iv),{privateKey:i}=await aa.importKeys({privateKey:t.privateKey});try{var s=await iG(n,i)}catch{var s=await aa.decrypt(n,i).then(c=>ca.importKey(qi(c)))}return ca.decrypt(e,s,r)},aG=async t=>{const e=await ca.generateKey(),{cipher:n,iv:r}=await ca.encrypt(t.data,e),{publicKey:i}=await aa.importKeys({publicKey:t.publicKey}),s=await sG(e,i);return{cipher:No(n),cipherKey:No(s),iv:No(r)}},cG=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D/,uG=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/,lG=/_\u200c\u200d\ua67e\u05be\u05f3\u05f4\uff5e\u301c\u309b\u309c\u30a0\u30fb\u3003\u0f0b\u0f0c\u00b7/,wm=/[#]/,hG=new RegExp(`[${cG.source}${uG.source}${lG.source}/-]`),Sm=/(?<boundary>^|\s)/,fG=new RegExp(`(?<sign>${wm.source})(?!${/\ufe0f|\u20e3/.source})(?<tag>${hG.source}+)`,"i"),gC=new RegExp(`(?:${Sm.source})(?:${fG.source})`,"i"),dG=new RegExp(`${Sm.source}(?<sign>${wm.source})(?!${/\ufe0f|\u20e3/.source})`,"i"),u5=[35,65283],pG=new RegExp(`(${Sm.source}${wm.source})$`,"i"),Tm=t=>{var i,s,o;const e=((i=t.groups)==null?void 0:i.boundary)||"",n=((s=t.groups)==null?void 0:s.sign)||"",r=((o=t.groups)==null?void 0:o.tag)||"";return{index:Number(t.index),length:e.length+n.length+r.length,boundary:e,sign:n,tag:r}},l5=t=>{const e=t.match(gC);return e?Tm(e):null},h5=t=>{const e=t.match(pG);return e?Tm(e):null},f5=t=>[...t.matchAll(new RegExp(dG.source,"gi"))].map(n=>Tm(n)),gG=["`````","````","```"],mG=["``","`"],vG=new RegExp(gG.map(t=>`${t}.*?${t}`).join("|")),yG=new RegExp(mG.map(t=>`${t}[^
]*?${t}`).join("|")),EG=new RegExp(`${vG.source}|${yG.source}`),bG=new RegExp(`${EG.source}|(${gC.source})`,"gsi"),_G=/```([^\n\s]*)(?:\s([\w-]+\.[\w]+))?\n(.*?)```/gs,wG=/````.*?````|```.*?```|``.*?``|`.*?`|\w+:\/?\/?\S*|# ([^\n]+)/gs,SG=/````.*?````|```.*?```|``.*?``|`.*?`|- \[ \] ([^\n]+)/gs,Zl=(t,e)=>{let n=null;const r=[];for(;n=t.exec(e);)r.push(n);return r},d5=t=>{const e=Zl(_G,t),n=[];return e.forEach(r=>{r&&n.push({filename:r[2],language:r[1],code:r[3]})}),n},o0=t=>{const e=Zl(bG,t),n=new Set;return e.forEach(r=>{r&&r[1]&&n.add(r[1].toLowerCase().trim().slice(1))}),Array.from(n).sort()},a0=t=>{const e=Zl(wG,t),n=[];return e.forEach(r=>{r&&r[1]&&n.push(r[1])}),n},c0=t=>{const e=Zl(SG,t),n=[];return e.forEach(r=>{r&&r[1]&&n.push(r[1])}),n};class ua{constructor(e={}){this.id=e.id||q8(),this.text=e.text||"",this.textKey=e.textKey||null,this.daily=e.daily||!1,this.iv=e.iv||null,this.encrypted=e.encrypted||!1,this.createdAt=e.createdAt||new Date,this.updatedAt=e.updatedAt||new Date,this.touchedAt=e.touchedAt||new Date,this.discardedAt=e.discardedAt||null,this.headers=this.encrypted?[]:a0(this.text),this.tags=this.encrypted?[]:o0(this.text),this.tasks=this.encrypted?[]:c0(this.text),this.firebaseId=e.firebaseId||null,this.ownerId=e.ownerId||null,this.syncedAt=e.syncedAt||null,this.public=e.public||!1}discard(){this.updatedAt=new Date,this.touchedAt=new Date,this.discardedAt=new Date}duplicate(){return new ua({text:this.text})}merge(e){Object.assign(this,e,{id:this.id})}restore(){this.updatedAt=new Date,this.touchedAt=new Date,this.discardedAt=null}restrict(){this.public=!1,this.updatedAt=new Date,this.touchedAt=new Date}share(){this.public=!0,this.updatedAt=new Date,this.touchedAt=new Date}touch(){this.touchedAt=new Date}update({text:e}){this.text=e,this.headers.splice(0,this.headers.length,...a0(e)),this.tags.splice(0,this.tags.length,...o0(e)),this.tasks.splice(0,this.tasks.length,...c0(e)),this.updatedAt=new Date,this.touchedAt=new Date}}const mC=async(t,{preferEncryption:e=null,publicKey:n=null})=>{const r=Object.assign({},{...t,headers:[],tags:[],tasks:[]});if(e&&n&&!t.encrypted&&!t.public){const{cipher:i,cipherKey:s,iv:o}=await aG({data:r.text,publicKey:n});return Object.assign({},r,{encrypted:!0,iv:o,text:i,textKey:s})}return Object.assign({},r)},vC=async(t,{privateKey:e})=>{try{if(e&&t.encrypted){const n=await oG({cipher:t.text,cipherKey:t.textKey,iv:t.iv,privateKey:e});return new ua(Object.assign({},t,{encrypted:!1,text:n}))}}catch{}return new ua(t)},Bn=(t,e)=>t.all.filter(n=>!n.encrypted).find(n=>n.id===e);var TG={state:()=>({all:[],currentId:null,loaded:!1}),getters:{allKept(t,e){return e.sorted.filter(n=>n.discardedAt===null)},daily(t,e){return e.sortedByCreated.find(n=>n.daily)},currentDoc(t,e){return e.decrypted.find(n=>n.id===t.currentId)},decrypted(t){return t.all.filter(e=>!e.encrypted)},discarded(t,e){return e.sorted.filter(n=>n.discardedAt!==null)},filtered(t,e,n){return n.context.active?e.sorted.filter(r=>n.context.tags.some(i=>r.tags.includes(i))):e.sorted},kept(t,e){return e.filtered.filter(n=>n.discardedAt===null)},sorted(t,e){return e.decrypted.sort((n,r)=>r.updatedAt-n.updatedAt)},sortedByCreated(t,e){return e.decrypted.sort((n,r)=>r.createdAt-n.createdAt)},tasks(t,e,n,r){return e.kept.filter(i=>i.tasks.length>0)},untagged(t,e){return e.allKept.filter(n=>n.tags.length==0)},withTag(t,e){return n=>e.kept.filter(r=>!!r.tags.find(i=>i===n))}},mutations:{[gr](t,e){t.all.push(e)},[Wi](t,{id:e}){Bn(t,e).discard()},[Io](t){t.loaded=!0},[Co](t,{id:e,text:n}){Bn(t,e).update({text:n})},[Ic](t,e){t.all.push(e)},[rs](t,e){Bn(t,e.id).merge(e)},[Oo](t,{id:e}){Bn(t,e).restore()},[Ro](t,{id:e}){Bn(t,e).restrict()},[is](t,{id:e}){t.currentId=e},[ko](t,{id:e}){Bn(t,e).share()},[Po](t,{id:e}){Bn(t,e).touch()}},actions:{async[gr](t,e){t.commit(gr,e)},async[Wi](t,e){t.commit(Wi,e)},async[Io](t){t.commit(Io)},async[j8](t,{id:e}){const n=Bn(t.state,e).duplicate();return t.commit(gr,n),n.id},async[Co](t,e){t.commit(Co,e)},async[Ic](t,e){t.commit(Ic,e)},async[iC](t,e){return Promise.all(e.map(n=>t.dispatch(Ic,n)))},async[rs](t,e){t.commit(rs,e)},async[K8](t,e){const n=e.map(i=>Bn(t.state,i.id)),r=new ua({text:n.map(i=>i.text).join(`

`)});return t.commit(gr,r),n.map(i=>t.dispatch(Wi,i))},async[Oo](t,e){t.commit(Oo,e)},async[Ro](t,e){t.commit(Ro,e)},async[is](t,e){t.commit(is,e)},async[ko](t,e){t.commit(ko,e)},async[Po](t,e){t.commit(Po,e)}}},yC={exports:{}};(function(t){(function(e,n,r){if(!e)return;for(var i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},a={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},c,u=1;u<20;++u)i[111+u]="f"+u;for(u=0;u<=9;++u)i[u+96]=u.toString();function l(b,O,X){if(b.addEventListener){b.addEventListener(O,X,!1);return}b.attachEvent("on"+O,X)}function h(b){if(b.type=="keypress"){var O=String.fromCharCode(b.which);return b.shiftKey||(O=O.toLowerCase()),O}return i[b.which]?i[b.which]:s[b.which]?s[b.which]:String.fromCharCode(b.which).toLowerCase()}function f(b,O){return b.sort().join(",")===O.sort().join(",")}function p(b){var O=[];return b.shiftKey&&O.push("shift"),b.altKey&&O.push("alt"),b.ctrlKey&&O.push("ctrl"),b.metaKey&&O.push("meta"),O}function v(b){if(b.preventDefault){b.preventDefault();return}b.returnValue=!1}function C(b){if(b.stopPropagation){b.stopPropagation();return}b.cancelBubble=!0}function S(b){return b=="shift"||b=="ctrl"||b=="alt"||b=="meta"}function A(){if(!c){c={};for(var b in i)b>95&&b<112||i.hasOwnProperty(b)&&(c[i[b]]=b)}return c}function R(b,O,X){return X||(X=A()[b]?"keydown":"keypress"),X=="keypress"&&O.length&&(X="keydown"),X}function K(b){return b==="+"?["+"]:(b=b.replace(/\+{2}/g,"+plus"),b.split("+"))}function j(b,O){var X,se,we,Ce=[];for(X=K(b),we=0;we<X.length;++we)se=X[we],a[se]&&(se=a[se]),O&&O!="keypress"&&o[se]&&(se=o[se],Ce.push("shift")),S(se)&&Ce.push(se);return O=R(se,Ce,O),{key:se,modifiers:Ce,action:O}}function k(b,O){return b===null||b===n?!1:b===O?!0:k(b.parentNode,O)}function N(b){var O=this;if(b=b||n,!(O instanceof N))return new N(b);O.target=b,O._callbacks={},O._directMap={};var X={},se,we=!1,Ce=!1,et=!1;function Je(re){re=re||{};var he=!1,Re;for(Re in X){if(re[Re]){he=!0;continue}X[Re]=0}he||(et=!1)}function ze(re,he,Re,Se,D,Q){var F,Z,me=[],De=Re.type;if(!O._callbacks[re])return[];for(De=="keyup"&&S(re)&&(he=[re]),F=0;F<O._callbacks[re].length;++F)if(Z=O._callbacks[re][F],!(!Se&&Z.seq&&X[Z.seq]!=Z.level)&&De==Z.action&&(De=="keypress"&&!Re.metaKey&&!Re.ctrlKey||f(he,Z.modifiers))){var ve=!Se&&Z.combo==D,m=Se&&Z.seq==Se&&Z.level==Q;(ve||m)&&O._callbacks[re].splice(F,1),me.push(Z)}return me}function Ve(re,he,Re,Se){O.stopCallback(he,he.target||he.srcElement,Re,Se)||re(he,Re)===!1&&(v(he),C(he))}O._handleKey=function(re,he,Re){var Se=ze(re,he,Re),D,Q={},F=0,Z=!1;for(D=0;D<Se.length;++D)Se[D].seq&&(F=Math.max(F,Se[D].level));for(D=0;D<Se.length;++D){if(Se[D].seq){if(Se[D].level!=F)continue;Z=!0,Q[Se[D].seq]=1,Ve(Se[D].callback,Re,Se[D].combo,Se[D].seq);continue}Z||Ve(Se[D].callback,Re,Se[D].combo)}var me=Re.type=="keypress"&&Ce;Re.type==et&&!S(re)&&!me&&Je(Q),Ce=Z&&Re.type=="keydown"};function Ie(re){typeof re.which!="number"&&(re.which=re.keyCode);var he=h(re);if(!!he){if(re.type=="keyup"&&we===he){we=!1;return}O.handleKey(he,p(re),re)}}function Pe(){clearTimeout(se),se=setTimeout(Je,1e3)}function Mt(re,he,Re,Se){X[re]=0;function D(De){return function(){et=De,++X[re],Pe()}}function Q(De){Ve(Re,De,re),Se!=="keyup"&&(we=h(De)),setTimeout(Je,10)}for(var F=0;F<he.length;++F){var Z=F+1===he.length,me=Z?Q:D(Se||j(he[F+1]).action);nn(he[F],me,Se,re,F)}}function nn(re,he,Re,Se,D){O._directMap[re+":"+Re]=he,re=re.replace(/\s+/g," ");var Q=re.split(" "),F;if(Q.length>1){Mt(re,Q,he,Re);return}F=j(re,Re),O._callbacks[F.key]=O._callbacks[F.key]||[],ze(F.key,F.modifiers,{type:F.action},Se,re,D),O._callbacks[F.key][Se?"unshift":"push"]({callback:he,modifiers:F.modifiers,action:F.action,seq:Se,level:D,combo:re})}O._bindMultiple=function(re,he,Re){for(var Se=0;Se<re.length;++Se)nn(re[Se],he,Re)},l(b,"keypress",Ie),l(b,"keydown",Ie),l(b,"keyup",Ie)}N.prototype.bind=function(b,O,X){var se=this;return b=b instanceof Array?b:[b],se._bindMultiple.call(se,b,O,X),se},N.prototype.unbind=function(b,O){var X=this;return X.bind.call(X,b,function(){},O)},N.prototype.trigger=function(b,O){var X=this;return X._directMap[b+":"+O]&&X._directMap[b+":"+O]({},b),X},N.prototype.reset=function(){var b=this;return b._callbacks={},b._directMap={},b},N.prototype.stopCallback=function(b,O){var X=this;if((" "+O.className+" ").indexOf(" mousetrap ")>-1||k(O,X.target))return!1;if("composedPath"in b&&typeof b.composedPath=="function"){var se=b.composedPath()[0];se!==b.target&&(O=se)}return O.tagName=="INPUT"||O.tagName=="SELECT"||O.tagName=="TEXTAREA"||O.isContentEditable},N.prototype.handleKey=function(){var b=this;return b._handleKey.apply(b,arguments)},N.addKeycodes=function(b){for(var O in b)b.hasOwnProperty(O)&&(i[O]=b[O]);c=null},N.init=function(){var b=N(n);for(var O in b)O.charAt(0)!=="_"&&(N[O]=function(X){return function(){return b[X].apply(b,arguments)}}(O))},N.init(),e.Mousetrap=N,t.exports&&(t.exports=N),typeof r=="function"&&r.amd&&r(function(){return N})})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)})(yC);var Am=yC.exports;(function(t){var e={},n=t.prototype.stopCallback;t.prototype.stopCallback=function(r,i,s,o){return this.paused?!0:e[s]||e[o]?!1:n.call(this,r,i,s)},t.prototype.bindGlobal=function(r,i,s){if(this.bind(r,i,s),r instanceof Array)for(i=0;i<r.length;i++)e[r[i]]=!0;else e[r]=!0},t.init()})(Mousetrap);const AG=({keybinding:t,callback:e})=>{Am.bind(t,(n,r)=>{n.preventDefault(),e()})},Cc=(t,e)=>{Am.bindGlobal(t,(n,r)=>{n.preventDefault(),e()})},IG=({keybinding:t})=>{Am.unbind(t)},Oc="DISABLE_LISTENER",Un="DISABLE_LISTENERS",Rc="ENABLE_LISTENER",Dc="ENABLE_LISTENERS",u0="KEYBINDINGS_LOADED",EC="LOAD_KEYBINDINGS",l0="TOGGLE_LISTENERS",fn=t=>{g9({path:t})},CG=(t,e)=>()=>{t(),e.dispatch(Un)},Tn=(t,e,n)=>({keybinding:t,callback:CG(e,n)}),OG=t=>[Tn("a",()=>fn("/account"),t),Tn("c",()=>fn("/contexts"),t),Tn("d",()=>fn("/docs/f/discarded"),t),Tn("e",()=>fn("/force-graph"),t),Tn("n",()=>fn("/docs/new"),t),Tn("p",()=>fn("/notepad"),t),Tn("r",()=>fn("/docs"),t),Tn("s",()=>fn("/settings"),t),Tn("t",()=>fn("/docs/f/tasks"),t),Tn("u",()=>fn("/docs/f/untagged"),t)];var RG={state:()=>({activeElement:null,listeners:[],listening:!1,loaded:!1}),getters:{},mutations:{[Oc](t,e){t.listeners=t.listeners.filter(n=>n!==e)},[Un](t){t.listening=!1},[Rc](t,e){t.listeners.push(e)},[Dc](t){t.listening=!0},[u0](t){t.loaded=!0}},actions:{async[EC](t){Cc("esc",()=>t.dispatch(Un)),Cc("mod+k",()=>t.dispatch(l0)),Cc("mod+s",()=>t.dispatch(Un)),Cc("mod+shift+f",()=>{t.dispatch(Un),fn("/docs")}),window.addEventListener("click",()=>t.dispatch(Un)),t.commit(u0)},async[Oc](t,e){IG(e),t.commit(Oc,e)},async[Un](t){await Promise.all(t.state.listeners.map(e=>{t.dispatch(Oc,e)})),t.state.activeElement&&(t.state.activeElement.focus(),t.state.activeElement=null),t.commit(Un)},async[Rc](t,e){AG(e),t.commit(Rc,e)},async[Dc](t){t.state.activeElement=document.activeElement,t.state.activeElement.blur(),await Promise.all(OG(t).map(e=>{t.dispatch(Rc,e)})),t.commit(Dc)},async[l0](t,e){return t.state.listening?t.dispatch(Un):t.dispatch(Dc)}}},DG=function(e){return xG(e)&&!kG(e)};function xG(t){return!!t&&typeof t=="object"}function kG(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||MG(t)}var PG=typeof Symbol=="function"&&Symbol.for,NG=PG?Symbol.for("react.element"):60103;function MG(t){return t.$$typeof===NG}function $G(t){return Array.isArray(t)?[]:{}}function la(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Cs($G(t),t,e):t}function LG(t,e,n){return t.concat(e).map(function(r){return la(r,n)})}function FG(t,e){if(!e.customMerge)return Cs;var n=e.customMerge(t);return typeof n=="function"?n:Cs}function BG(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]}function h0(t){return Object.keys(t).concat(BG(t))}function bC(t,e){try{return e in t}catch{return!1}}function UG(t,e){return bC(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function jG(t,e,n){var r={};return n.isMergeableObject(t)&&h0(t).forEach(function(i){r[i]=la(t[i],n)}),h0(e).forEach(function(i){UG(t,i)||(bC(t,i)&&n.isMergeableObject(e[i])?r[i]=FG(i,n)(t[i],e[i],n):r[i]=la(e[i],n))}),r}function Cs(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||LG,n.isMergeableObject=n.isMergeableObject||DG,n.cloneUnlessOtherwiseSpecified=la;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):jG(t,e,n):la(e,n)}Cs.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Cs(r,i,n)},{})};var VG=Cs,KG=VG;const tu="LOAD_SETTINGS",nu="SET_CRYPTO_ENABLED",ru="SET_CRYPTO_KEYS",iu="SET_EDITOR_IMAGES_ENABLED",su="SET_EDITOR_IMAGES_SHOW_CAPTIONS",ou="SET_EDITOR_KEY_MAP",_C="SET_EDITOR_LIGATURES",wC="SET_EDITOR_LISTS_ENABLED",SC="SET_EDITOR_READABILITY_ENABLED",zG="SET_EDITOR_READABILITY_MAX_WIDTH",TC="SET_EDITOR_READABILITY_WORDS_PER_MINUTE",AC="SET_EDITOR_SPELLCHECK",au="SET_EDITOR_TAB_SIZE",IC="SET_EDITOR_TOOLBAR",CC="SET_EXPERIMENTAL",cu="SET_THEME",wr="SETTINGS_LOADED";var WG={state:()=>({crypto:{enabled:!1,privateKey:null,publicKey:null},editor:{images:{enabled:!0,showCaptions:!0},keyMap:"default",ligatures:!0,lists:{enabled:!0},readability:{enabled:!0,maxWidthInChars:100,wordsPerMinute:225},spellcheck:!0,tabSize:2,toolbar:!0},experimental:!1,loaded:!1,theme:"auto"}),getters:{},mutations:{[tu](t,e){Object.assign(t,KG(t,e))},[nu](t,e){t.crypto.enabled=e},[ru](t,e){e.privateKey&&(t.crypto.privateKey=e.privateKey),e.publicKey&&(t.crypto.publicKey=e.publicKey)},[iu](t,e){t.editor.images.enabled=e},[su](t,e){t.editor.images.showCaptions=e},[ou](t,e){t.editor.keyMap=e},[_C](t,e){t.editor.ligatures=e},[wC](t,e){t.editor.lists.enabled=e},[SC](t,e){t.editor.readability.enabled=e},[zG](t,e){t.editor.readability.maxWidthInChars=e},[TC](t,e){t.editor.readability.wordsPerMinute=e},[AC](t,e){t.editor.spellcheck=e},[au](t,e){t.editor.tabSize=e},[IC](t,e){t.editor.toolbar=e},[CC](t,e){t.experimental=e},[cu](t,e){t.theme=e},[wr](t){t.loaded=!0}},actions:{async[tu](t,e){t.commit(tu,e)},async[nu](t,e){t.commit(nu,e)},async[ru](t,e){t.commit(ru,e)},async[iu](t,e){t.commit(iu,e)},async[su](t,e){t.commit(su,e)},async[ou](t,e){t.commit(ou,e)},async[au](t,e){t.commit(au,e)},async[cu](t,e){t.commit(cu,e)},async[wr](t){t.commit(wr)}}};const p5=async({userId:t})=>{const e=await TI(ws(im(ws(Ks(),"customers"),t),"checkout_sessions"),{cancel_url:window.location.href,price:"price_1JXGjVFSSDySG1smmI1f8krR",success_url:window.location.href});return await new Promise((n,r)=>{AI(e,i=>{var s;(s=i.data())!=null&&s.url&&n(i)},i=>{r(i)})})},HG=async({doc:t,ownerId:e})=>{const n=await TI(ws(Ks(),"documents"),{...t,ownerId:e,syncedAt:CI()});return new Promise((r,i)=>{AI(n,s=>{r(s)},s=>{i(s)})})},qG=async({ownerId:t,syncedAfter:e})=>(await SI(wI(ws(Ks(),"documents"),Ku("ownerId","==",t),Ku("syncedAt",">",e)))).docs,g5=async({docId:t})=>(await SI(wI(ws(Ks(),"documents"),Ku("public","==",!0),Ku("id","==",t)))).docs[0],GG=async({doc:t,docId:e})=>iq(im(ws(Ks(),"documents"),e),{...t,syncedAt:CI()}),Im={Array:"[object Array]",Boolean:"[object Boolean]",Date:"[object Date]",Number:"[object Number]",Object:"[object Object]",String:"[object String]"},Cm=(t,e)=>Object.prototype.toString.call(t)===e,YG=t=>Cm(t,Im.Array),XG=t=>Cm(t,Im.Date),QG=t=>Cm(t,Im.Object),Ws=t=>YG(t)?JG(t):XG(t)?ZG(t):QG(t)?e9(t):t,JG=t=>t.map(e=>Ws(e)),ZG=t=>new Date(t),e9=t=>Object.keys(t).reduce((e,n)=>({...e,[n]:Ws(t[n])}),{}),f0="PULL_DOCUMENT",Cf="PULL_DOCUMENTS",d0="PUSH_DOCUMENT",p0="PUSH_DOCUMENTS",t9=(t,e)=>t.documents.all.find(n=>n.id===e);var n9={state:()=>({}),getters:{lastSyncedAt(t,e,n){return new Date(Math.max(0,...n.documents.all.map(r=>r.syncedAt)))}},actions:{async[f0](t,e){const n=t9(t.rootState,e.id);if(n){if(n.updatedAt<e.updatedAt)return t.dispatch(rs,e);if(!(n.updatedAt>e.updatedAt)){if(!n.syncedAt||n.syncedAt<e.syncedAt)return t.dispatch(rs,e)}}else return t.dispatch(gr,e)},async[Cf](t){const e=await qG({ownerId:t.rootState.auth.user.uid,syncedAfter:t.getters.lastSyncedAt});return Promise.all(e.map(async n=>{const r=n.data(),i={...r,id:r.id||r.clientId,firebaseId:n.id,textKey:r.textKey||r.dataKey,createdAt:r.createdAt?r.createdAt.toDate():null,discardedAt:r.discardedAt?r.discardedAt.toDate():null,updatedAt:r.updatedAt?r.updatedAt.toDate():null,touchedAt:r.touchedAt?r.touchedAt.toDate():null,syncedAt:r.syncedAt.toDate()},s=await vC(i,{privateKey:t.rootState.settings.crypto.privateKey});return t.dispatch(f0,s)}))},async[d0](t,e){const n=Ws(await mC(e,{preferEncryption:t.rootState.settings.crypto.enabled,publicKey:t.rootState.settings.crypto.publicKey}));if(n.syncedAt){if(n.updatedAt>n.syncedAt||n.touchedAt>n.syncedAt)return GG({doc:n,docId:n.firebaseId})}else return HG({doc:n,ownerId:t.rootState.auth.user.uid})},async[p0](t){await Promise.all(t.rootState.documents.all.map(e=>t.dispatch(d0,e)))},async[sC](t){await t.dispatch(Cf),await t.dispatch(p0),await t.dispatch(Cf)}}},OC={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(u,l){if(!i[u]){if(!r[u]){var h=typeof Za=="function"&&Za;if(!l&&h)return h(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var p=i[u]={exports:{}};r[u][0].call(p.exports,function(v){var C=r[u][1][v];return o(C||v)},p,p.exports,n,r,i,s)}return i[u].exports}for(var a=typeof Za=="function"&&Za,c=0;c<s.length;c++)o(s[c]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var c=0,u=new o(v),l=s.document.createTextNode("");u.observe(l,{characterData:!0}),a=function(){l.data=c=++c%2}}else if(!s.setImmediate&&typeof s.MessageChannel!="undefined"){var h=new s.MessageChannel;h.port1.onmessage=v,a=function(){h.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var S=s.document.createElement("script");S.onreadystatechange=function(){v(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},s.document.documentElement.appendChild(S)}:a=function(){setTimeout(v,0)};var f,p=[];function v(){f=!0;for(var S,A,R=p.length;R;){for(A=p,p=[],S=-1;++S<R;)A[S]();R=p.length}f=!1}r.exports=C;function C(S){p.push(S)===1&&!f&&a()}}).call(this,typeof yt!="undefined"?yt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},c=["REJECTED"],u=["FULFILLED"],l=["PENDING"];r.exports=h;function h(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,k!==o&&C(this,k)}h.prototype.catch=function(k){return this.then(null,k)},h.prototype.then=function(k,N){if(typeof k!="function"&&this.state===u||typeof N!="function"&&this.state===c)return this;var b=new this.constructor(o);if(this.state!==l){var O=this.state===u?k:N;p(b,O,this.outcome)}else this.queue.push(new f(b,k,N));return b};function f(k,N,b){this.promise=k,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(k){a.resolve(this.promise,k)},f.prototype.otherCallFulfilled=function(k){p(this.promise,this.onFulfilled,k)},f.prototype.callRejected=function(k){a.reject(this.promise,k)},f.prototype.otherCallRejected=function(k){p(this.promise,this.onRejected,k)};function p(k,N,b){s(function(){var O;try{O=N(b)}catch(X){return a.reject(k,X)}O===k?a.reject(k,new TypeError("Cannot resolve promise with itself")):a.resolve(k,O)})}a.resolve=function(k,N){var b=S(v,N);if(b.status==="error")return a.reject(k,b.value);var O=b.value;if(O)C(k,O);else{k.state=u,k.outcome=N;for(var X=-1,se=k.queue.length;++X<se;)k.queue[X].callFulfilled(N)}return k},a.reject=function(k,N){k.state=c,k.outcome=N;for(var b=-1,O=k.queue.length;++b<O;)k.queue[b].callRejected(N);return k};function v(k){var N=k&&k.then;if(k&&(typeof k=="object"||typeof k=="function")&&typeof N=="function")return function(){N.apply(k,arguments)}}function C(k,N){var b=!1;function O(Ce){b||(b=!0,a.reject(k,Ce))}function X(Ce){b||(b=!0,a.resolve(k,Ce))}function se(){N(X,O)}var we=S(se);we.status==="error"&&O(we.value)}function S(k,N){var b={};try{b.value=k(N),b.status="success"}catch(O){b.status="error",b.value=O}return b}h.resolve=A;function A(k){return k instanceof this?k:a.resolve(new this(o),k)}h.reject=R;function R(k){var N=new this(o);return a.reject(N,k)}h.all=K;function K(k){var N=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=k.length,O=!1;if(!b)return this.resolve([]);for(var X=new Array(b),se=0,we=-1,Ce=new this(o);++we<b;)et(k[we],we);return Ce;function et(Je,ze){N.resolve(Je).then(Ve,function(Ie){O||(O=!0,a.reject(Ce,Ie))});function Ve(Ie){X[ze]=Ie,++se===b&&!O&&(O=!0,a.resolve(Ce,X))}}}h.race=j;function j(k){var N=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=k.length,O=!1;if(!b)return this.resolve([]);for(var X=-1,se=new this(o);++X<b;)we(k[X]);return se;function we(Ce){N.resolve(Ce).then(function(et){O||(O=!0,a.resolve(se,et))},function(et){O||(O=!0,a.reject(se,et))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof yt!="undefined"?yt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};function o(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var c=a();function u(){try{if(!c||!c.open)return!1;var d=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),y=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!d||y)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function l(d,y){d=d||[],y=y||{};try{return new Blob(d,y)}catch(w){if(w.name!=="TypeError")throw w;for(var g=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,T=new g,I=0;I<d.length;I+=1)T.append(d[I]);return T.getBlob(y.type)}}typeof Promise=="undefined"&&n(3);var h=Promise;function f(d,y){y&&d.then(function(g){y(null,g)},function(g){y(g)})}function p(d,y,g){typeof y=="function"&&d.then(y),typeof g=="function"&&d.catch(g)}function v(d){return typeof d!="string"&&(console.warn(d+" used as a key, but it is not a string."),d=String(d)),d}function C(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var S="local-forage-detect-blob-support",A=void 0,R={},K=Object.prototype.toString,j="readonly",k="readwrite";function N(d){for(var y=d.length,g=new ArrayBuffer(y),T=new Uint8Array(g),I=0;I<y;I++)T[I]=d.charCodeAt(I);return g}function b(d){return new h(function(y){var g=d.transaction(S,k),T=l([""]);g.objectStore(S).put(T,"key"),g.onabort=function(I){I.preventDefault(),I.stopPropagation(),y(!1)},g.oncomplete=function(){var I=navigator.userAgent.match(/Chrome\/(\d+)/),w=navigator.userAgent.match(/Edge\//);y(w||!I||parseInt(I[1],10)>=43)}}).catch(function(){return!1})}function O(d){return typeof A=="boolean"?h.resolve(A):b(d).then(function(y){return A=y,A})}function X(d){var y=R[d.name],g={};g.promise=new h(function(T,I){g.resolve=T,g.reject=I}),y.deferredOperations.push(g),y.dbReady?y.dbReady=y.dbReady.then(function(){return g.promise}):y.dbReady=g.promise}function se(d){var y=R[d.name],g=y.deferredOperations.pop();if(g)return g.resolve(),g.promise}function we(d,y){var g=R[d.name],T=g.deferredOperations.pop();if(T)return T.reject(y),T.promise}function Ce(d,y){return new h(function(g,T){if(R[d.name]=R[d.name]||he(),d.db)if(y)X(d),d.db.close();else return g(d.db);var I=[d.name];y&&I.push(d.version);var w=c.open.apply(c,I);y&&(w.onupgradeneeded=function(M){var U=w.result;try{U.createObjectStore(d.storeName),M.oldVersion<=1&&U.createObjectStore(S)}catch(z){if(z.name==="ConstraintError")console.warn('The database "'+d.name+'" has been upgraded from version '+M.oldVersion+" to version "+M.newVersion+', but the storage "'+d.storeName+'" already exists.');else throw z}}),w.onerror=function(M){M.preventDefault(),T(w.error)},w.onsuccess=function(){var M=w.result;M.onversionchange=function(U){U.target.close()},g(M),se(d)}})}function et(d){return Ce(d,!1)}function Je(d){return Ce(d,!0)}function ze(d,y){if(!d.db)return!0;var g=!d.db.objectStoreNames.contains(d.storeName),T=d.version<d.db.version,I=d.version>d.db.version;if(T&&(d.version!==y&&console.warn('The database "'+d.name+`" can't be downgraded from version `+d.db.version+" to version "+d.version+"."),d.version=d.db.version),I||g){if(g){var w=d.db.version+1;w>d.version&&(d.version=w)}return!0}return!1}function Ve(d){return new h(function(y,g){var T=new FileReader;T.onerror=g,T.onloadend=function(I){var w=btoa(I.target.result||"");y({__local_forage_encoded_blob:!0,data:w,type:d.type})},T.readAsBinaryString(d)})}function Ie(d){var y=N(atob(d.data));return l([y],{type:d.type})}function Pe(d){return d&&d.__local_forage_encoded_blob}function Mt(d){var y=this,g=y._initReady().then(function(){var T=R[y._dbInfo.name];if(T&&T.dbReady)return T.dbReady});return p(g,d,d),g}function nn(d){X(d);for(var y=R[d.name],g=y.forages,T=0;T<g.length;T++){var I=g[T];I._dbInfo.db&&(I._dbInfo.db.close(),I._dbInfo.db=null)}return d.db=null,et(d).then(function(w){return d.db=w,ze(d)?Je(d):w}).then(function(w){d.db=y.db=w;for(var M=0;M<g.length;M++)g[M]._dbInfo.db=w}).catch(function(w){throw we(d,w),w})}function re(d,y,g,T){T===void 0&&(T=1);try{var I=d.db.transaction(d.storeName,y);g(null,I)}catch(w){if(T>0&&(!d.db||w.name==="InvalidStateError"||w.name==="NotFoundError"))return h.resolve().then(function(){if(!d.db||w.name==="NotFoundError"&&!d.db.objectStoreNames.contains(d.storeName)&&d.version<=d.db.version)return d.db&&(d.version=d.db.version+1),Je(d)}).then(function(){return nn(d).then(function(){re(d,y,g,T-1)})}).catch(g);g(w)}}function he(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Re(d){var y=this,g={db:null};if(d)for(var T in d)g[T]=d[T];var I=R[g.name];I||(I=he(),R[g.name]=I),I.forages.push(y),y._initReady||(y._initReady=y.ready,y.ready=Mt);var w=[];function M(){return h.resolve()}for(var U=0;U<I.forages.length;U++){var z=I.forages[U];z!==y&&w.push(z._initReady().catch(M))}var W=I.forages.slice(0);return h.all(w).then(function(){return g.db=I.db,et(g)}).then(function(G){return g.db=G,ze(g,y._defaultConfig.version)?Je(g):G}).then(function(G){g.db=I.db=G,y._dbInfo=g;for(var ie=0;ie<W.length;ie++){var Te=W[ie];Te!==y&&(Te._dbInfo.db=g.db,Te._dbInfo.version=g.version)}})}function Se(d,y){var g=this;d=v(d);var T=new h(function(I,w){g.ready().then(function(){re(g._dbInfo,j,function(M,U){if(M)return w(M);try{var z=U.objectStore(g._dbInfo.storeName),W=z.get(d);W.onsuccess=function(){var G=W.result;G===void 0&&(G=null),Pe(G)&&(G=Ie(G)),I(G)},W.onerror=function(){w(W.error)}}catch(G){w(G)}})}).catch(w)});return f(T,y),T}function D(d,y){var g=this,T=new h(function(I,w){g.ready().then(function(){re(g._dbInfo,j,function(M,U){if(M)return w(M);try{var z=U.objectStore(g._dbInfo.storeName),W=z.openCursor(),G=1;W.onsuccess=function(){var ie=W.result;if(ie){var Te=ie.value;Pe(Te)&&(Te=Ie(Te));var Le=d(Te,ie.key,G++);Le!==void 0?I(Le):ie.continue()}else I()},W.onerror=function(){w(W.error)}}catch(ie){w(ie)}})}).catch(w)});return f(T,y),T}function Q(d,y,g){var T=this;d=v(d);var I=new h(function(w,M){var U;T.ready().then(function(){return U=T._dbInfo,K.call(y)==="[object Blob]"?O(U.db).then(function(z){return z?y:Ve(y)}):y}).then(function(z){re(T._dbInfo,k,function(W,G){if(W)return M(W);try{var ie=G.objectStore(T._dbInfo.storeName);z===null&&(z=void 0);var Te=ie.put(z,d);G.oncomplete=function(){z===void 0&&(z=null),w(z)},G.onabort=G.onerror=function(){var Le=Te.error?Te.error:Te.transaction.error;M(Le)}}catch(Le){M(Le)}})}).catch(M)});return f(I,g),I}function F(d,y){var g=this;d=v(d);var T=new h(function(I,w){g.ready().then(function(){re(g._dbInfo,k,function(M,U){if(M)return w(M);try{var z=U.objectStore(g._dbInfo.storeName),W=z.delete(d);U.oncomplete=function(){I()},U.onerror=function(){w(W.error)},U.onabort=function(){var G=W.error?W.error:W.transaction.error;w(G)}}catch(G){w(G)}})}).catch(w)});return f(T,y),T}function Z(d){var y=this,g=new h(function(T,I){y.ready().then(function(){re(y._dbInfo,k,function(w,M){if(w)return I(w);try{var U=M.objectStore(y._dbInfo.storeName),z=U.clear();M.oncomplete=function(){T()},M.onabort=M.onerror=function(){var W=z.error?z.error:z.transaction.error;I(W)}}catch(W){I(W)}})}).catch(I)});return f(g,d),g}function me(d){var y=this,g=new h(function(T,I){y.ready().then(function(){re(y._dbInfo,j,function(w,M){if(w)return I(w);try{var U=M.objectStore(y._dbInfo.storeName),z=U.count();z.onsuccess=function(){T(z.result)},z.onerror=function(){I(z.error)}}catch(W){I(W)}})}).catch(I)});return f(g,d),g}function De(d,y){var g=this,T=new h(function(I,w){if(d<0){I(null);return}g.ready().then(function(){re(g._dbInfo,j,function(M,U){if(M)return w(M);try{var z=U.objectStore(g._dbInfo.storeName),W=!1,G=z.openKeyCursor();G.onsuccess=function(){var ie=G.result;if(!ie){I(null);return}d===0||W?I(ie.key):(W=!0,ie.advance(d))},G.onerror=function(){w(G.error)}}catch(ie){w(ie)}})}).catch(w)});return f(T,y),T}function ve(d){var y=this,g=new h(function(T,I){y.ready().then(function(){re(y._dbInfo,j,function(w,M){if(w)return I(w);try{var U=M.objectStore(y._dbInfo.storeName),z=U.openKeyCursor(),W=[];z.onsuccess=function(){var G=z.result;if(!G){T(W);return}W.push(G.key),G.continue()},z.onerror=function(){I(z.error)}}catch(G){I(G)}})}).catch(I)});return f(g,d),g}function m(d,y){y=C.apply(this,arguments);var g=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||g.name,d.storeName=d.storeName||g.storeName);var T=this,I;if(!d.name)I=h.reject("Invalid arguments");else{var w=d.name===g.name&&T._dbInfo.db,M=w?h.resolve(T._dbInfo.db):et(d).then(function(U){var z=R[d.name],W=z.forages;z.db=U;for(var G=0;G<W.length;G++)W[G]._dbInfo.db=U;return U});d.storeName?I=M.then(function(U){if(!!U.objectStoreNames.contains(d.storeName)){var z=U.version+1;X(d);var W=R[d.name],G=W.forages;U.close();for(var ie=0;ie<G.length;ie++){var Te=G[ie];Te._dbInfo.db=null,Te._dbInfo.version=z}var Le=new h(function(Ue,it){var tt=c.open(d.name,z);tt.onerror=function(sn){var Gs=tt.result;Gs.close(),it(sn)},tt.onupgradeneeded=function(){var sn=tt.result;sn.deleteObjectStore(d.storeName)},tt.onsuccess=function(){var sn=tt.result;sn.close(),Ue(sn)}});return Le.then(function(Ue){W.db=Ue;for(var it=0;it<G.length;it++){var tt=G[it];tt._dbInfo.db=Ue,se(tt._dbInfo)}}).catch(function(Ue){throw(we(d,Ue)||h.resolve()).catch(function(){}),Ue})}}):I=M.then(function(U){X(d);var z=R[d.name],W=z.forages;U.close();for(var G=0;G<W.length;G++){var ie=W[G];ie._dbInfo.db=null}var Te=new h(function(Le,Ue){var it=c.deleteDatabase(d.name);it.onerror=function(){var tt=it.result;tt&&tt.close(),Ue(it.error)},it.onblocked=function(){console.warn('dropInstance blocked for database "'+d.name+'" until all open connections are closed')},it.onsuccess=function(){var tt=it.result;tt&&tt.close(),Le(tt)}});return Te.then(function(Le){z.db=Le;for(var Ue=0;Ue<W.length;Ue++){var it=W[Ue];se(it._dbInfo)}}).catch(function(Le){throw(we(d,Le)||h.resolve()).catch(function(){}),Le})})}return f(I,y),I}var E={_driver:"asyncStorage",_initStorage:Re,_support:u(),iterate:D,getItem:Se,setItem:Q,removeItem:F,clear:Z,length:me,key:De,keys:ve,dropInstance:m};function x(){return typeof openDatabase=="function"}var P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L="~~local_forage_type~",q=/^~~local_forage_type~([^~]+)~/,J="__lfsc__:",H=J.length,Y="arbf",B="blob",oe="si08",ne="ui08",ae="uic8",fe="si16",be="si32",Be="ur16",Ne="ui32",Ze="fl32",Wt="fl64",Ln=H+Y.length,Hs=Object.prototype.toString;function er(d){var y=d.length*.75,g=d.length,T,I=0,w,M,U,z;d[d.length-1]==="="&&(y--,d[d.length-2]==="="&&y--);var W=new ArrayBuffer(y),G=new Uint8Array(W);for(T=0;T<g;T+=4)w=P.indexOf(d[T]),M=P.indexOf(d[T+1]),U=P.indexOf(d[T+2]),z=P.indexOf(d[T+3]),G[I++]=w<<2|M>>4,G[I++]=(M&15)<<4|U>>2,G[I++]=(U&3)<<6|z&63;return W}function Ci(d){var y=new Uint8Array(d),g="",T;for(T=0;T<y.length;T+=3)g+=P[y[T]>>2],g+=P[(y[T]&3)<<4|y[T+1]>>4],g+=P[(y[T+1]&15)<<2|y[T+2]>>6],g+=P[y[T+2]&63];return y.length%3===2?g=g.substring(0,g.length-1)+"=":y.length%3===1&&(g=g.substring(0,g.length-2)+"=="),g}function $t(d,y){var g="";if(d&&(g=Hs.call(d)),d&&(g==="[object ArrayBuffer]"||d.buffer&&Hs.call(d.buffer)==="[object ArrayBuffer]")){var T,I=J;d instanceof ArrayBuffer?(T=d,I+=Y):(T=d.buffer,g==="[object Int8Array]"?I+=oe:g==="[object Uint8Array]"?I+=ne:g==="[object Uint8ClampedArray]"?I+=ae:g==="[object Int16Array]"?I+=fe:g==="[object Uint16Array]"?I+=Be:g==="[object Int32Array]"?I+=be:g==="[object Uint32Array]"?I+=Ne:g==="[object Float32Array]"?I+=Ze:g==="[object Float64Array]"?I+=Wt:y(new Error("Failed to get type for BinaryArray"))),y(I+Ci(T))}else if(g==="[object Blob]"){var w=new FileReader;w.onload=function(){var M=L+d.type+"~"+Ci(this.result);y(J+B+M)},w.readAsArrayBuffer(d)}else try{y(JSON.stringify(d))}catch(M){console.error("Couldn't convert value into a JSON string: ",d),y(null,M)}}function rn(d){if(d.substring(0,H)!==J)return JSON.parse(d);var y=d.substring(Ln),g=d.substring(H,Ln),T;if(g===B&&q.test(y)){var I=y.match(q);T=I[1],y=y.substring(I[0].length)}var w=er(y);switch(g){case Y:return w;case B:return l([w],{type:T});case oe:return new Int8Array(w);case ne:return new Uint8Array(w);case ae:return new Uint8ClampedArray(w);case fe:return new Int16Array(w);case Be:return new Uint16Array(w);case be:return new Int32Array(w);case Ne:return new Uint32Array(w);case Ze:return new Float32Array(w);case Wt:return new Float64Array(w);default:throw new Error("Unkown type: "+g)}}var Oi={serialize:$t,deserialize:rn,stringToBuffer:er,bufferToString:Ci};function Dm(d,y,g,T){d.executeSql("CREATE TABLE IF NOT EXISTS "+y.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],g,T)}function PC(d){var y=this,g={db:null};if(d)for(var T in d)g[T]=typeof d[T]!="string"?d[T].toString():d[T];var I=new h(function(w,M){try{g.db=openDatabase(g.name,String(g.version),g.description,g.size)}catch(U){return M(U)}g.db.transaction(function(U){Dm(U,g,function(){y._dbInfo=g,w()},function(z,W){M(W)})},M)});return g.serializer=Oi,I}function tr(d,y,g,T,I,w){d.executeSql(g,T,I,function(M,U){U.code===U.SYNTAX_ERR?M.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[y.storeName],function(z,W){W.rows.length?w(z,U):Dm(z,y,function(){z.executeSql(g,T,I,w)},w)},w):w(M,U)},w)}function NC(d,y){var g=this;d=v(d);var T=new h(function(I,w){g.ready().then(function(){var M=g._dbInfo;M.db.transaction(function(U){tr(U,M,"SELECT * FROM "+M.storeName+" WHERE key = ? LIMIT 1",[d],function(z,W){var G=W.rows.length?W.rows.item(0).value:null;G&&(G=M.serializer.deserialize(G)),I(G)},function(z,W){w(W)})})}).catch(w)});return f(T,y),T}function MC(d,y){var g=this,T=new h(function(I,w){g.ready().then(function(){var M=g._dbInfo;M.db.transaction(function(U){tr(U,M,"SELECT * FROM "+M.storeName,[],function(z,W){for(var G=W.rows,ie=G.length,Te=0;Te<ie;Te++){var Le=G.item(Te),Ue=Le.value;if(Ue&&(Ue=M.serializer.deserialize(Ue)),Ue=d(Ue,Le.key,Te+1),Ue!==void 0){I(Ue);return}}I()},function(z,W){w(W)})})}).catch(w)});return f(T,y),T}function xm(d,y,g,T){var I=this;d=v(d);var w=new h(function(M,U){I.ready().then(function(){y===void 0&&(y=null);var z=y,W=I._dbInfo;W.serializer.serialize(y,function(G,ie){ie?U(ie):W.db.transaction(function(Te){tr(Te,W,"INSERT OR REPLACE INTO "+W.storeName+" (key, value) VALUES (?, ?)",[d,G],function(){M(z)},function(Le,Ue){U(Ue)})},function(Te){if(Te.code===Te.QUOTA_ERR){if(T>0){M(xm.apply(I,[d,z,g,T-1]));return}U(Te)}})})}).catch(U)});return f(w,g),w}function $C(d,y,g){return xm.apply(this,[d,y,g,1])}function LC(d,y){var g=this;d=v(d);var T=new h(function(I,w){g.ready().then(function(){var M=g._dbInfo;M.db.transaction(function(U){tr(U,M,"DELETE FROM "+M.storeName+" WHERE key = ?",[d],function(){I()},function(z,W){w(W)})})}).catch(w)});return f(T,y),T}function FC(d){var y=this,g=new h(function(T,I){y.ready().then(function(){var w=y._dbInfo;w.db.transaction(function(M){tr(M,w,"DELETE FROM "+w.storeName,[],function(){T()},function(U,z){I(z)})})}).catch(I)});return f(g,d),g}function BC(d){var y=this,g=new h(function(T,I){y.ready().then(function(){var w=y._dbInfo;w.db.transaction(function(M){tr(M,w,"SELECT COUNT(key) as c FROM "+w.storeName,[],function(U,z){var W=z.rows.item(0).c;T(W)},function(U,z){I(z)})})}).catch(I)});return f(g,d),g}function UC(d,y){var g=this,T=new h(function(I,w){g.ready().then(function(){var M=g._dbInfo;M.db.transaction(function(U){tr(U,M,"SELECT key FROM "+M.storeName+" WHERE id = ? LIMIT 1",[d+1],function(z,W){var G=W.rows.length?W.rows.item(0).key:null;I(G)},function(z,W){w(W)})})}).catch(w)});return f(T,y),T}function jC(d){var y=this,g=new h(function(T,I){y.ready().then(function(){var w=y._dbInfo;w.db.transaction(function(M){tr(M,w,"SELECT key FROM "+w.storeName,[],function(U,z){for(var W=[],G=0;G<z.rows.length;G++)W.push(z.rows.item(G).key);T(W)},function(U,z){I(z)})})}).catch(I)});return f(g,d),g}function VC(d){return new h(function(y,g){d.transaction(function(T){T.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(I,w){for(var M=[],U=0;U<w.rows.length;U++)M.push(w.rows.item(U).name);y({db:d,storeNames:M})},function(I,w){g(w)})},function(T){g(T)})})}function KC(d,y){y=C.apply(this,arguments);var g=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||g.name,d.storeName=d.storeName||g.storeName);var T=this,I;return d.name?I=new h(function(w){var M;d.name===g.name?M=T._dbInfo.db:M=openDatabase(d.name,"","",0),d.storeName?w({db:M,storeNames:[d.storeName]}):w(VC(M))}).then(function(w){return new h(function(M,U){w.db.transaction(function(z){function W(Le){return new h(function(Ue,it){z.executeSql("DROP TABLE IF EXISTS "+Le,[],function(){Ue()},function(tt,sn){it(sn)})})}for(var G=[],ie=0,Te=w.storeNames.length;ie<Te;ie++)G.push(W(w.storeNames[ie]));h.all(G).then(function(){M()}).catch(function(Le){U(Le)})},function(z){U(z)})})}):I=h.reject("Invalid arguments"),f(I,y),I}var zC={_driver:"webSQLStorage",_initStorage:PC,_support:x(),iterate:MC,getItem:NC,setItem:$C,removeItem:LC,clear:FC,length:BC,key:UC,keys:jC,dropInstance:KC};function WC(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function km(d,y){var g=d.name+"/";return d.storeName!==y.storeName&&(g+=d.storeName+"/"),g}function HC(){var d="_localforage_support_test";try{return localStorage.setItem(d,!0),localStorage.removeItem(d),!1}catch{return!0}}function qC(){return!HC()||localStorage.length>0}function GC(d){var y=this,g={};if(d)for(var T in d)g[T]=d[T];return g.keyPrefix=km(d,y._defaultConfig),qC()?(y._dbInfo=g,g.serializer=Oi,h.resolve()):h.reject()}function YC(d){var y=this,g=y.ready().then(function(){for(var T=y._dbInfo.keyPrefix,I=localStorage.length-1;I>=0;I--){var w=localStorage.key(I);w.indexOf(T)===0&&localStorage.removeItem(w)}});return f(g,d),g}function XC(d,y){var g=this;d=v(d);var T=g.ready().then(function(){var I=g._dbInfo,w=localStorage.getItem(I.keyPrefix+d);return w&&(w=I.serializer.deserialize(w)),w});return f(T,y),T}function QC(d,y){var g=this,T=g.ready().then(function(){for(var I=g._dbInfo,w=I.keyPrefix,M=w.length,U=localStorage.length,z=1,W=0;W<U;W++){var G=localStorage.key(W);if(G.indexOf(w)===0){var ie=localStorage.getItem(G);if(ie&&(ie=I.serializer.deserialize(ie)),ie=d(ie,G.substring(M),z++),ie!==void 0)return ie}}});return f(T,y),T}function JC(d,y){var g=this,T=g.ready().then(function(){var I=g._dbInfo,w;try{w=localStorage.key(d)}catch{w=null}return w&&(w=w.substring(I.keyPrefix.length)),w});return f(T,y),T}function ZC(d){var y=this,g=y.ready().then(function(){for(var T=y._dbInfo,I=localStorage.length,w=[],M=0;M<I;M++){var U=localStorage.key(M);U.indexOf(T.keyPrefix)===0&&w.push(U.substring(T.keyPrefix.length))}return w});return f(g,d),g}function e1(d){var y=this,g=y.keys().then(function(T){return T.length});return f(g,d),g}function t1(d,y){var g=this;d=v(d);var T=g.ready().then(function(){var I=g._dbInfo;localStorage.removeItem(I.keyPrefix+d)});return f(T,y),T}function n1(d,y,g){var T=this;d=v(d);var I=T.ready().then(function(){y===void 0&&(y=null);var w=y;return new h(function(M,U){var z=T._dbInfo;z.serializer.serialize(y,function(W,G){if(G)U(G);else try{localStorage.setItem(z.keyPrefix+d,W),M(w)}catch(ie){(ie.name==="QuotaExceededError"||ie.name==="NS_ERROR_DOM_QUOTA_REACHED")&&U(ie),U(ie)}})})});return f(I,g),I}function r1(d,y){if(y=C.apply(this,arguments),d=typeof d!="function"&&d||{},!d.name){var g=this.config();d.name=d.name||g.name,d.storeName=d.storeName||g.storeName}var T=this,I;return d.name?I=new h(function(w){d.storeName?w(km(d,T._defaultConfig)):w(d.name+"/")}).then(function(w){for(var M=localStorage.length-1;M>=0;M--){var U=localStorage.key(M);U.indexOf(w)===0&&localStorage.removeItem(U)}}):I=h.reject("Invalid arguments"),f(I,y),I}var i1={_driver:"localStorageWrapper",_initStorage:GC,_support:WC(),iterate:QC,getItem:XC,setItem:n1,removeItem:t1,clear:YC,length:e1,key:JC,keys:ZC,dropInstance:r1},s1=function(y,g){return y===g||typeof y=="number"&&typeof g=="number"&&isNaN(y)&&isNaN(g)},o1=function(y,g){for(var T=y.length,I=0;I<T;){if(s1(y[I],g))return!0;I++}return!1},Pm=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"},qs={},Nm={},Ri={INDEXEDDB:E,WEBSQL:zC,LOCALSTORAGE:i1},a1=[Ri.INDEXEDDB._driver,Ri.WEBSQL._driver,Ri.LOCALSTORAGE._driver],Wa=["dropInstance"],th=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Wa),c1={description:"",driver:a1.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function u1(d,y){d[y]=function(){var g=arguments;return d.ready().then(function(){return d[y].apply(d,g)})}}function nh(){for(var d=1;d<arguments.length;d++){var y=arguments[d];if(y)for(var g in y)y.hasOwnProperty(g)&&(Pm(y[g])?arguments[0][g]=y[g].slice():arguments[0][g]=y[g])}return arguments[0]}var l1=function(){function d(y){o(this,d);for(var g in Ri)if(Ri.hasOwnProperty(g)){var T=Ri[g],I=T._driver;this[g]=I,qs[I]||this.defineDriver(T)}this._defaultConfig=nh({},c1),this._config=nh({},this._defaultConfig,y),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return d.prototype.config=function(g){if((typeof g=="undefined"?"undefined":s(g))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var T in g){if(T==="storeName"&&(g[T]=g[T].replace(/\W/g,"_")),T==="version"&&typeof g[T]!="number")return new Error("Database version must be a number.");this._config[T]=g[T]}return"driver"in g&&g.driver?this.setDriver(this._config.driver):!0}else return typeof g=="string"?this._config[g]:this._config},d.prototype.defineDriver=function(g,T,I){var w=new h(function(M,U){try{var z=g._driver,W=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!g._driver){U(W);return}for(var G=th.concat("_initStorage"),ie=0,Te=G.length;ie<Te;ie++){var Le=G[ie],Ue=!o1(Wa,Le);if((Ue||g[Le])&&typeof g[Le]!="function"){U(W);return}}var it=function(){for(var Gs=function(d1){return function(){var p1=new Error("Method "+d1+" is not implemented by the current driver"),Mm=h.reject(p1);return f(Mm,arguments[arguments.length-1]),Mm}},rh=0,f1=Wa.length;rh<f1;rh++){var ih=Wa[rh];g[ih]||(g[ih]=Gs(ih))}};it();var tt=function(Gs){qs[z]&&console.info("Redefining LocalForage driver: "+z),qs[z]=g,Nm[z]=Gs,M()};"_support"in g?g._support&&typeof g._support=="function"?g._support().then(tt,U):tt(!!g._support):tt(!0)}catch(sn){U(sn)}});return p(w,T,I),w},d.prototype.driver=function(){return this._driver||null},d.prototype.getDriver=function(g,T,I){var w=qs[g]?h.resolve(qs[g]):h.reject(new Error("Driver not found."));return p(w,T,I),w},d.prototype.getSerializer=function(g){var T=h.resolve(Oi);return p(T,g),T},d.prototype.ready=function(g){var T=this,I=T._driverSet.then(function(){return T._ready===null&&(T._ready=T._initDriver()),T._ready});return p(I,g,g),I},d.prototype.setDriver=function(g,T,I){var w=this;Pm(g)||(g=[g]);var M=this._getSupportedDrivers(g);function U(){w._config.driver=w.driver()}function z(ie){return w._extend(ie),U(),w._ready=w._initStorage(w._config),w._ready}function W(ie){return function(){var Te=0;function Le(){for(;Te<ie.length;){var Ue=ie[Te];return Te++,w._dbInfo=null,w._ready=null,w.getDriver(Ue).then(z).catch(Le)}U();var it=new Error("No available storage method found.");return w._driverSet=h.reject(it),w._driverSet}return Le()}}var G=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=G.then(function(){var ie=M[0];return w._dbInfo=null,w._ready=null,w.getDriver(ie).then(function(Te){w._driver=Te._driver,U(),w._wrapLibraryMethodsWithReady(),w._initDriver=W(M)})}).catch(function(){U();var ie=new Error("No available storage method found.");return w._driverSet=h.reject(ie),w._driverSet}),p(this._driverSet,T,I),this._driverSet},d.prototype.supports=function(g){return!!Nm[g]},d.prototype._extend=function(g){nh(this,g)},d.prototype._getSupportedDrivers=function(g){for(var T=[],I=0,w=g.length;I<w;I++){var M=g[I];this.supports(M)&&T.push(M)}return T},d.prototype._wrapLibraryMethodsWithReady=function(){for(var g=0,T=th.length;g<T;g++)u1(this,th[g])},d.prototype.createInstance=function(g){return new d(g)},d}(),h1=new l1;r.exports=h1},{3:3}]},{},[4])(4)})})(OC);var eh=OC.exports;class Om{constructor(e){this.timeout=e,this.timers=[]}debounce(e=null,n){const r=this._findTimer(e);r&&this._clearTimer(r),this._setTimer(e,n)}_clearTimer(e){clearTimeout(e.instance),this.timers=this.timers.filter(n=>n.identifier!==e.identifier)}_findTimer(e){return this.timers.find(n=>n.identifier===e)}_setTimer(e,n){this.timers.push({identifier:e,instance:setTimeout(n,this.timeout)})}}const xc=eh.createInstance({name:"contexts"}),r9=new Om(800),i9=(t,e)=>t.contexts.all.find(n=>n.id===e);var s9=t=>{t.subscribe(({type:e,payload:n},r)=>{switch(e){case aC:const i=i9(r,n.id);i&&r9.debounce(i.id,async()=>{xc.setItem(i.id,Ws(i))});break;case uC:xc.removeItem(n.id);break;case wr:xc.keys().then(s=>Promise.all(s.map(o=>xc.getItem(o)))).then(s=>t.dispatch(cC,s));break}})};const Of=eh.createInstance({name:"firebase/documents"}),o9=new Om(800),a9=(t,e)=>t.documents.all.find(n=>n.id===e);var c9=t=>{t.subscribe(({type:e,payload:n},r)=>{switch(e){case gr:case Wi:case Co:case rs:case Oo:case Ro:case ko:case Po:const i=a9(r,n.id);i&&o9.debounce(i.id,async()=>{const s=await mC(i,{preferEncryption:r.settings.crypto.enabled,publicKey:r.settings.crypto.publicKey});Of.setItem(i.id,s)});break;case wr:Of.keys().then(s=>Promise.all(s.map(o=>Of.getItem(o)))).then(s=>Promise.all(s.map(o=>{const a=Object.assign({},o,{id:o.id||o.clientId,textKey:o.textKey||o.dataKey});return vC(a,{privateKey:r.settings.crypto.privateKey})}))).then(s=>t.dispatch(iC,s)).then(()=>t.dispatch(Io));break}})},u9=t=>{t.subscribe(({type:e,_payload:n},r)=>{switch(e){case wr:t.dispatch(EC);break}})};const g0="main",m0=eh.createInstance({name:"settings"});var l9=t=>{m0.getItem(g0).then(e=>{e?t.dispatch(tu,e).then(()=>{t.dispatch(wr)}):t.dispatch(wr)}),t.subscribe(({type:e,_payload:n},r)=>{switch(e){case nu:case ru:case iu:case su:case ou:case _C:case wC:case SC:case TC:case AC:case au:case IC:case CC:case cu:m0.setItem(g0,Ws(r.settings));break}})};const h9=new Om(1500);var f9=t=>{t.subscribe(async({type:e,payload:n},r)=>{switch(e){case gr:case Wi:case Io:case Co:case Oo:case Ro:case xo:case Hi:case ko:case Po:t.state.online&&t.state.auth.user&&h9.debounce("sync",()=>{t.dispatch(sC)});break}})};const kc="SET_STRIPE_MODAL_VISIBILITY",Rt=B8({state(){return{context:{active:!1,editing:!1,tags:[]},editor:null,modKey:"\u2303 ctrl",online:!0,showLeftSidebar:!0,showRightSidebar:!0,showStripeModal:!1,showWelcome:!1}},getters:{allTags(t,e){return Array.from(e.allKept.reduce((n,r)=>{for(let i of r.tags)n.add(i);return n},new Set)).sort()},contextTags(t){return t.context.tags.sort()},tags(t,e){return Array.from(e.kept.reduce((n,r)=>{for(let i of r.tags)n.add(i);return n},new Set)).sort()}},mutations:{[Tc](t,e){t.context.active=!0},[Ac](t,e){t.context.active=!1,t.context.tags=[]},[Tf](t,e){t.context.tags=e.context.tags},[Af](t,e){t.editor=e.editor},[eu](t,e){t.modKey=e},[Do](t){t.online=!1},[xo](t){t.online=!0},[If](t,e){t.showRightSidebar=e},[kc](t,e){t.showStripeModal=e},[ss](t,e){t.showWelcome=e}},actions:{async[Tc](t){t.commit(Tc)},async[U8](t){t.state.editor&&t.state.editor.getInputField().blur()},async[Ac](t){t.commit(Ac)},async[V8](t){t.state.editor&&t.state.editor.focus()},async[Tf](t,e){if(t.commit(Tf,e),e.context.tags.length>0){if(!t.state.context.active)return t.dispatch(Tc)}else if(t.state.context.active)return t.dispatch(Ac)},async[Af](t,e){t.commit(Af,e)},async[eu](t,e){t.commit(eu,e)},async[Do](t){t.commit(Do)},async[xo](t){t.commit(xo)},async[If](t,e){t.commit(If,e)},async[ss](t,e){t.commit(ss,e)},async[kc](t,e){t.commit(kc,e),e&&setTimeout(()=>{t.state.showStripeModal&&t.commit(kc,!1)},15e3)}},modules:{auth:W8,contexts:H8,documents:TG,keybindings:RG,settings:WG,sync:n9},plugins:[s9,c9,u9,l9,f9]}),d9="Build your knowledge base",p9=t=>{document.title=`${t||d9} | Octo`},Rm=_8({history:L4(),routes:[{path:"/home",name:"home",meta:{track:!0},component:()=>Ge(()=>import("./home.392eca5c.js"),["assets/home.392eca5c.js","assets/home.a423e197.css","assets/Subscriptions.a85eead6.js","assets/TheLogo.130dd498.js"]),beforeEnter(t,e,n){Rt.state.showWelcome&&(localStorage.setItem("octo/welcome/v1","done"),Rt.dispatch(ss,!1)),n()}},{path:"/",component:()=>Ge(()=>import("./editor.8c984f0a.js"),["assets/editor.8c984f0a.js","assets/editor.d478d1b8.css","assets/TheLogo.130dd498.js","assets/menu.65c6276c.js","assets/TagLink.80daceb1.js","assets/Tag.90980263.js","assets/files.2cb9d6df.js","assets/meta.1cb9e606.js","assets/moment.9709ab41.js"]),children:[{path:"/",meta:{track:!0},beforeEnter(t,e,n){zu.supportsFirebase&&Rt.state.showWelcome?n({path:"/home"}):n({path:"/docs/new"})}},{path:"/_routes",component:()=>Ge(()=>import("./_routes.34443769.js"),[])},{path:"/account",meta:{title:"My Account",track:!0},component:()=>Ge(()=>import("./account.0e0dca15.js"),["assets/account.0e0dca15.js","assets/Subscriptions.a85eead6.js"])},{path:"/docs",meta:{title:"My Docs",track:!0},component:()=>Ge(()=>import("./docs.58c48a8b.js"),["assets/docs.58c48a8b.js","assets/DocumentList.558f12f2.js","assets/moment.9709ab41.js","assets/Tag.90980263.js","assets/TheLogo.130dd498.js"])},{path:"/docs/new",meta:{track:!0},component:()=>Ge(()=>import("./_doc_.34d848a6.js"),["assets/_doc_.34d848a6.js","assets/Editor.ecd86d89.js","assets/Editor.e5a2860d.css","assets/account.3888494d.js"]),props:!0,beforeEnter(t,e,n){Rt.dispatch(is,{id:null}),zu.supportsFirebase&&Rt.state.showWelcome?(localStorage.setItem("octo/welcome/v1","done"),Rt.dispatch(ss,!1),n({path:"/home"})):n()}},{path:"/docs/f/:filter",meta:{title:"My Docs"},component:()=>Ge(()=>import("./docs.58c48a8b.js"),["assets/docs.58c48a8b.js","assets/DocumentList.558f12f2.js","assets/moment.9709ab41.js","assets/Tag.90980263.js","assets/TheLogo.130dd498.js"]),props:!0},{path:"/docs/t/:tag(.*)",meta:{title:"My Docs"},component:()=>Ge(()=>import("./docs.58c48a8b.js"),["assets/docs.58c48a8b.js","assets/DocumentList.558f12f2.js","assets/moment.9709ab41.js","assets/Tag.90980263.js","assets/TheLogo.130dd498.js"]),props:!0},{path:"/docs/:docId",name:"docs-doc",component:()=>Ge(()=>import("./_doc_.34d848a6.js"),["assets/_doc_.34d848a6.js","assets/Editor.ecd86d89.js","assets/Editor.e5a2860d.css","assets/account.3888494d.js"]),props({params:t}){return typeof(t==null?void 0:t.props)=="string"?{...t,...JSON.parse(t.props)}:t},beforeEnter(t,e,n){Rt.dispatch(is,{id:t.params.docId}),n()}},{path:"/docs/:docId/meta",component:()=>Ge(()=>import("./meta.1cb9e606.js"),["assets/meta.1cb9e606.js","assets/moment.9709ab41.js","assets/TagLink.80daceb1.js","assets/Tag.90980263.js","assets/TheLogo.130dd498.js"]),props:!0,beforeEnter(t,e,n){Rt.dispatch(is,{id:t.params.docId}),n()}},{path:"/notepad",meta:{title:"Notepad",track:!0},component:()=>Ge(()=>import("./notepad.751ef52f.js"),["assets/notepad.751ef52f.js","assets/moment.9709ab41.js","assets/_doc_.34d848a6.js","assets/Editor.ecd86d89.js","assets/Editor.e5a2860d.css","assets/account.3888494d.js"]),props:!0},{path:"/public/:docId",name:"public-doc",component:()=>Ge(()=>import("./_doc_.34d848a6.js"),["assets/_doc_.34d848a6.js","assets/Editor.ecd86d89.js","assets/Editor.e5a2860d.css","assets/account.3888494d.js"]),props:{readonly:!0}},{path:"/force-graph",meta:{title:"Force Graph",track:!0},component:()=>Ge(()=>import("./force-graph.6398bce6.js"),["assets/force-graph.6398bce6.js","assets/force-graph.c010edab.css","assets/DocumentList.558f12f2.js","assets/moment.9709ab41.js","assets/Tag.90980263.js","assets/TheLogo.130dd498.js"]),props:!0},{path:"/docs/export",meta:{title:"Export Docs",track:!0},component:()=>Ge(()=>import("./export.9b6bf6e2.js"),[])},{path:"/docs/import",meta:{title:"Import Docs",track:!0},component:()=>Ge(()=>import("./import.40eec835.js"),[])},{path:"/example",meta:{title:"Example",track:!0},component:()=>Ge(()=>import("./example.5fe19765.js"),["assets/example.5fe19765.js","assets/Editor.ecd86d89.js","assets/Editor.e5a2860d.css","assets/account.3888494d.js"]),props:{url:"/example.md"}},{path:"/file-editor/:file",meta:{title:"File Editor"},component:()=>Ge(()=>import("./_file_.68154c08.js"),["assets/_file_.68154c08.js","assets/Editor.ecd86d89.js","assets/Editor.e5a2860d.css","assets/account.3888494d.js","assets/files.2cb9d6df.js"]),props:!0},{path:"/quick-action",meta:{title:"Quick Action",track:!0},component:()=>Ge(()=>import("./quick-action.f0c71594.js"),[])},{path:"/menu",meta:{track:!0},component:()=>Ge(()=>import("./menu.65c6276c.js"),["assets/menu.65c6276c.js","assets/TagLink.80daceb1.js","assets/Tag.90980263.js","assets/TheLogo.130dd498.js","assets/files.2cb9d6df.js"])},{path:"/contexts",meta:{title:"Context Switching",track:!0},component:()=>Ge(()=>import("./contexts.734b0a8b.js"),["assets/contexts.734b0a8b.js","assets/contexts.2e8a0d0a.css","assets/Tag.90980263.js","assets/TheLogo.130dd498.js"])},{path:"/tags",meta:{title:"Tags",track:!0},component:()=>Ge(()=>import("./tags.4691b17c.js"),["assets/tags.4691b17c.js","assets/tags.bf07f398.css","assets/TagLink.80daceb1.js","assets/Tag.90980263.js","assets/TheLogo.130dd498.js"]),props:!0},{path:"/settings",meta:{title:"App Settings",track:!0},component:()=>Ge(()=>import("./settings.23516ace.js"),["assets/settings.23516ace.js","assets/account.3888494d.js","assets/export.9b6bf6e2.js","assets/import.40eec835.js"])},{path:"/privacy-policy",meta:{title:"Privacy Policy",track:!0},component:()=>Ge(()=>import("./privacy-policy.2b31e475.js"),[])},{path:"/terms-and-conditions",meta:{title:"Terms & Conditions",track:!0},component:()=>Ge(()=>import("./terms-and-conditions.69fb82c6.js"),[])},{path:"/documents",redirect:{path:"/docs"}},{path:"/documents/new",redirect:{path:"/docs/new"}},{path:"/documents/export",redirect:{path:"/docs/export"}},{path:"/documents/import",redirect:{path:"/docs/import"}},{path:"/documents/recent",redirect:{path:"/docs"}},{path:"/documents/actionable",redirect:{path:"/docs/f/tasks"}},{path:"/documents/discarded",redirect:{path:"/docs/f/discarded"}},{path:"/documents/tasks",redirect:{path:"/docs/f/tasks"}},{path:"/documents/untagged",redirect:{path:"/docs/f/untagged"}},{path:"/documents/daily",redirect:{path:"/notepad"}},{path:"/documents/:id",redirect:t=>({path:`/docs/${t.params.id}`})},{path:"/documents/:id/meta",redirect:t=>({path:`/docs/${t.params.id}/meta`})},{path:"/shared/:id",redirect:t=>({path:`/public/${t.params.id}`})},{path:"/context",redirect:{path:"/contexts"}},{path:"/tags/:tag",redirect:t=>({path:`/docs/t/${t.params.tag}`})},{path:"/graph",redirect:{path:"/force-graph"}}]}]});Rm.beforeEach(t=>{var e;return t.meta.title&&p9(t.meta.title),t.meta.track&&((e=window.fathom)==null||e.trackPageview()),!0});const g9=t=>{var e;(e=t.params)!=null&&e.props&&(t.params.props=JSON.stringify(t.params.props)),Rm.push(t)};function v0(t){return typeof t!="object"||t===null?0:Array.isArray(t)?2:y9(t)?1:t instanceof Set?3:t instanceof Map?4:5}function m9(t){const e=new Set;for(const n of t)for(const r of[...Object.keys(n),...Object.getOwnPropertySymbols(n)])e.add(r);return e}function v9(t,e){return typeof t=="object"&&Object.prototype.propertyIsEnumerable.call(t,e)}function RC(t){return{*[Symbol.iterator](){for(const e of t)for(const n of e)yield n}}}const y0=new Set(["[object Object]","[object Module]"]);function y9(t){if(!y0.has(Object.prototype.toString.call(t)))return!1;const{constructor:e}=t;if(e===void 0)return!0;const n=e.prototype;return!(n===null||typeof n!="object"||!y0.has(Object.prototype.toString.call(n))||!n.hasOwnProperty("isPrototypeOf"))}const Rf={mergeMaps:D9,mergeSets:R9,mergeArrays:O9,mergeRecords:C9,mergeOthers:xC},Ii={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};function E9(t,e){return e}function b9(...t){return _9({})(...t)}function _9(t,e){const n=w9(t,r);function r(...i){return DC(i,n,e)}return r}function w9(t,e){var n,r;return{defaultMergeFunctions:Rf,mergeFunctions:{...Rf,...Object.fromEntries(Object.entries(t).filter(([i,s])=>Object.prototype.hasOwnProperty.call(Rf,i)).map(([i,s])=>s===!1?[i,xC]:[i,s]))},metaDataUpdater:(n=t.metaDataUpdater)!==null&&n!==void 0?n:E9,deepmerge:e,useImplicitDefaultMerging:(r=t.enableImplicitDefaultMerging)!==null&&r!==void 0?r:!1,actions:Ii}}function DC(t,e,n){if(t.length===0)return;if(t.length===1)return Df(t,e,n);const r=v0(t[0]);if(r!==0&&r!==5){for(let i=1;i<t.length;i++)if(v0(t[i])!==r)return Df(t,e,n)}switch(r){case 1:return S9(t,e,n);case 2:return T9(t,e,n);case 3:return A9(t,e,n);case 4:return I9(t,e,n);default:return Df(t,e,n)}}function S9(t,e,n){const r=e.mergeFunctions.mergeRecords(t,e,n);return r===Ii.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeRecords!==e.defaultMergeFunctions.mergeRecords?e.defaultMergeFunctions.mergeRecords(t,e,n):r}function T9(t,e,n){const r=e.mergeFunctions.mergeArrays(t,e,n);return r===Ii.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeArrays!==e.defaultMergeFunctions.mergeArrays?e.defaultMergeFunctions.mergeArrays(t):r}function A9(t,e,n){const r=e.mergeFunctions.mergeSets(t,e,n);return r===Ii.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeSets!==e.defaultMergeFunctions.mergeSets?e.defaultMergeFunctions.mergeSets(t):r}function I9(t,e,n){const r=e.mergeFunctions.mergeMaps(t,e,n);return r===Ii.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeMaps!==e.defaultMergeFunctions.mergeMaps?e.defaultMergeFunctions.mergeMaps(t):r}function Df(t,e,n){const r=e.mergeFunctions.mergeOthers(t,e,n);return r===Ii.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeOthers!==e.defaultMergeFunctions.mergeOthers?e.defaultMergeFunctions.mergeOthers(t):r}function C9(t,e,n){const r={};for(const i of m9(t)){const s=[];for(const c of t)v9(c,i)&&s.push(c[i]);if(s.length===0)continue;const o=e.metaDataUpdater(n,{key:i,parents:t}),a=DC(s,e,o);a!==Ii.skip&&(i==="__proto__"?Object.defineProperty(r,i,{value:a,configurable:!0,enumerable:!0,writable:!0}):r[i]=a)}return r}function O9(t){return t.flat()}function R9(t){return new Set(RC(t))}function D9(t){return new Map(RC(t))}function xC(t){return t[t.length-1]}const x9=async({options:{caching:t},store:e})=>{if(!t)return;t===!0&&(t={});const{actions:n=!1,mutations:r=!0,namespace:i=e.$id,hydrate:s=async c=>{const u=await c.getItem(i);u&&(e.$state=b9(e.$state,u))},persist:o=async c=>{await c.setItem(i,Ws(e.$state))}}=t,a=eh.createInstance({name:i});await s(a),r?e.$subscribe((c,u)=>{o(a)},{detached:!0}):n&&e.$onAction(c=>{o(a)},!0)};try{self["workbox:window:6.5.2"]&&_()}catch{}function E0(t,e){return new Promise(function(n){var r=new MessageChannel;r.port1.onmessage=function(i){n(i.data)},t.postMessage(e,[r.port2])})}function k9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P9(t,e){var n;if(typeof Symbol=="undefined"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=function(i,s){if(i){if(typeof i=="string")return b0(i,s);var o=Object.prototype.toString.call(i).slice(8,-1);return o==="Object"&&i.constructor&&(o=i.constructor.name),o==="Map"||o==="Set"?Array.from(i):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?b0(i,s):void 0}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=t[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.2"]&&_()}catch{}var xf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function kf(t,e){var n=location.href;return new URL(t,n).href===new URL(e,n).href}var io=function(t,e){this.type=t,Object.assign(this,e)};function Pc(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function N9(){}var M9={type:"SKIP_WAITING"};function _0(t,e){if(!e)return t&&t.then?t.then(N9):Promise.resolve()}var $9=function(t){var e,n;function r(a,c){var u,l;return c===void 0&&(c={}),(u=t.call(this)||this).nn={},u.tn=0,u.rn=new xf,u.en=new xf,u.on=new xf,u.un=0,u.an=new Set,u.cn=function(){var h=u.fn,f=h.installing;u.tn>0||!kf(f.scriptURL,u.sn.toString())||performance.now()>u.un+6e4?(u.vn=f,h.removeEventListener("updatefound",u.cn)):(u.hn=f,u.an.add(f),u.rn.resolve(f)),++u.tn,f.addEventListener("statechange",u.ln)},u.ln=function(h){var f=u.fn,p=h.target,v=p.state,C=p===u.vn,S={sw:p,isExternal:C,originalEvent:h};!C&&u.mn&&(S.isUpdate=!0),u.dispatchEvent(new io(v,S)),v==="installed"?u.wn=self.setTimeout(function(){v==="installed"&&f.waiting===p&&u.dispatchEvent(new io("waiting",S))},200):v==="activating"&&(clearTimeout(u.wn),C||u.en.resolve(p))},u.dn=function(h){var f=u.hn,p=f!==navigator.serviceWorker.controller;u.dispatchEvent(new io("controlling",{isExternal:p,originalEvent:h,sw:f,isUpdate:u.mn})),p||u.on.resolve(f)},u.gn=(l=function(h){var f=h.data,p=h.ports,v=h.source;return Pc(u.getSW(),function(){u.an.has(v)&&u.dispatchEvent(new io("message",{data:f,originalEvent:h,ports:p,sw:v}))})},function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];try{return Promise.resolve(l.apply(this,h))}catch(p){return Promise.reject(p)}}),u.sn=a,u.nn=c,navigator.serviceWorker.addEventListener("message",u.gn),u}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i,s,o=r.prototype;return o.register=function(a){var c=(a===void 0?{}:a).immediate,u=c!==void 0&&c;try{var l=this;return function(h,f){var p=h();return p&&p.then?p.then(f):f(p)}(function(){if(!u&&document.readyState!=="complete")return _0(new Promise(function(h){return window.addEventListener("load",h)}))},function(){return l.mn=Boolean(navigator.serviceWorker.controller),l.yn=l.pn(),Pc(l.bn(),function(h){l.fn=h,l.yn&&(l.hn=l.yn,l.en.resolve(l.yn),l.on.resolve(l.yn),l.yn.addEventListener("statechange",l.ln,{once:!0}));var f=l.fn.waiting;return f&&kf(f.scriptURL,l.sn.toString())&&(l.hn=f,Promise.resolve().then(function(){l.dispatchEvent(new io("waiting",{sw:f,wasWaitingBeforeRegister:!0}))}).then(function(){})),l.hn&&(l.rn.resolve(l.hn),l.an.add(l.hn)),l.fn.addEventListener("updatefound",l.cn),navigator.serviceWorker.addEventListener("controllerchange",l.dn),l.fn})})}catch(h){return Promise.reject(h)}},o.update=function(){try{return this.fn?_0(this.fn.update()):void 0}catch(a){return Promise.reject(a)}},o.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},o.messageSW=function(a){try{return Pc(this.getSW(),function(c){return E0(c,a)})}catch(c){return Promise.reject(c)}},o.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&E0(this.fn.waiting,M9)},o.pn=function(){var a=navigator.serviceWorker.controller;return a&&kf(a.scriptURL,this.sn.toString())?a:void 0},o.bn=function(){try{var a=this;return function(c,u){try{var l=c()}catch(h){return u(h)}return l&&l.then?l.then(void 0,u):l}(function(){return Pc(navigator.serviceWorker.register(a.sn,a.nn),function(c){return a.un=performance.now(),c})},function(c){throw c})}catch(c){return Promise.reject(c)}},i=r,(s=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&k9(i.prototype,s),r}(function(){function t(){this.Pn=new Map}var e=t.prototype;return e.addEventListener=function(n,r){this.Sn(n).add(r)},e.removeEventListener=function(n,r){this.Sn(n).delete(r)},e.dispatchEvent=function(n){n.target=this;for(var r,i=P9(this.Sn(n.type));!(r=i()).done;)(0,r.value)(n)},e.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},t}());function L9(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisterError:s}=t;let o;const a=async(c=!0)=>{};return"serviceWorker"in navigator&&(o=new $9("/sw.js",{scope:"/",type:"classic"}),o.addEventListener("activated",c=>{c.isUpdate?window.location.reload():r==null||r()}),o.register({immediate:e}).then(c=>{i==null||i(c)}).catch(c=>{s==null||s(c)})),a}L9({immediate:!0,onOfflineReady(){},onNeedRefresh(){window.dispatchEvent(new Event("swupdated"))},onRegistered(t){},onRegisterError(t){}});class F9{constructor(){this.components=new Set}registerComponent({component:e,container:n,position:r}){this.components.add({component:e,container:n,position:r})}}class B9{constructor(){this.packages=new Set,this.components=new Set}emit(e,n){this.packages.forEach(r=>r.emit(e,n))}getComponents(e,n){return[...this.components].filter(r=>r.container===e&&r.position===n).map(({component:r})=>r)}register(e){const n=new F9;e.register(n),n.components.forEach(r=>this.components.add(r)),this.packages.add(e)}}var U9=new B9;E4();localStorage.getItem("octo/welcome/v1")===null&&Rt.dispatch(ss,!0);window.addEventListener("offline",()=>{Rt.dispatch(Do)});window.addEventListener("online",()=>{Rt.dispatch(xo)});navigator.onLine||Rt.dispatch(Do);/Mac|iPod|iPhone|iPad/.test(navigator.platform||navigator.userAgentData.platform)&&Rt.dispatch(eu,"\u2318 cmd");const Fr=Gk(WP),kC=sP();kC.use(x9);Fr.config.globalProperties.$packageManager=U9;Fr.use(kC);Fr.use(Rm);Fr.use(Rt);Fr.component("Extendable",GP);Fr.component("SimpleBar",QK);Fr.use($P,{breakpoints:{xs:0,sm:577,md:769,lg:993,xl:1201}});Fr.mount("#app");zu.supportsFirebase&&cp().onAuthStateChanged(async t=>{if(Rt.commit(Hi,t),t){await t.getIdToken(!0);const e=await t.getIdTokenResult(),n=e.claims.ambassador||e.claims.stripeRole==="subscriber";Rt.commit(oC,{pro:n})}});export{Co as $,d5 as A,Wi as B,j8 as C,Ac as D,Ro as E,Xt as F,hr as G,ko as H,If as I,n5 as J,ba as K,X9 as L,Jr as M,o5 as N,a5 as O,an as P,Zr as Q,Oo as R,kc as S,fr as T,K8 as U,G9 as V,Q9 as W,t5 as X,dk as Y,ua as Z,kp as _,lt as a,gr as a0,g5 as a1,vC as a2,p9 as a3,is as a4,Ge as a5,r5 as a6,s5 as a7,d4 as a8,i5 as a9,ou as aA,ru as aB,nu as aC,Po as aD,J8 as aE,Q8 as aF,CC as aG,rt as aH,cu as aI,Z9 as aJ,Fx as aK,f5 as aa,u5 as ab,h5 as ac,l5 as ad,lp as ae,Qt as af,c5 as ag,Io as ah,fE as ai,yt as aj,Za as ak,J9 as al,q9 as am,Om as an,uC as ao,aC as ap,iu as aq,_C as ar,wC as as,SC as at,zG as au,TC as av,su as aw,AC as ax,au as ay,IC as az,at as b,Zi as c,ls as d,fk as e,Rv as f,zu as g,H9 as h,H_ as i,lr as j,cp as k,p5 as l,K9 as m,g9 as n,on as o,W9 as p,Y9 as q,yv as r,V9 as s,q8 as t,z9 as u,Qu as v,Ax as w,Tf as x,_v as y,e5 as z};
