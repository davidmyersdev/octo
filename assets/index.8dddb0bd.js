const Nk=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}};Nk();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},$k=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],a=e[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},V1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,a=o?e[s+1]:0,c=s+2<e.length,u=c?e[s+2]:0,l=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(j1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):$k(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const u=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw Error();const f=i<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Lk=function(e){const t=j1(e);return V1.encodeByteArray(t,!0)},Fl=function(e){return Lk(e).replace(/\./g,"")},Fk=function(e){try{return V1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Fl(JSON.stringify(n)),Fl(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z1(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function H1(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Y1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Uk(){return Lt().indexOf("Electron/")>=0}function K1(){const e=Lt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function jk(){return Lt().indexOf("MSAppHost/")>=0}function Vk(){return typeof indexedDB=="object"}function Wk(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="FirebaseError";class Cs extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=zk,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?Hk(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Cs(s,a,r)}}function Hk(e,t){return e.replace(Yk,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const Yk=/\{\$([^}]+)}/g;function Kk(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Qa(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(t0(i)&&t0(o)){if(!Qa(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function t0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Gk(e,t){const n=new qk(e,t);return n.subscribe.bind(n)}class qk{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Xk(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=ed),s.error===void 0&&(s.error=ed),s.complete===void 0&&(s.complete=ed);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xk(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function ed(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(e){return e&&e._delegate?e._delegate:e}class _s{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Bk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Zk(t))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=Bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Bs){return this.instances.has(t)}getOptions(t=Bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&t(o,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Jk(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Bs){return this.component?this.component.multipleInstances?t:Bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Jk(e){return e===Bs?void 0:e}function Zk(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Qk(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ye||(Ye={}));const tD={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},nD=Ye.INFO,rD={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},sD=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=rD[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rg{constructor(t){this.name=t,this._logLevel=nD,this._logHandler=sD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ye))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...t),this._logHandler(this,Ye.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...t),this._logHandler(this,Ye.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...t),this._logHandler(this,Ye.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...t),this._logHandler(this,Ye.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...t),this._logHandler(this,Ye.ERROR,...t)}}const iD=(e,t)=>t.some(n=>e instanceof n);let n0,r0;function oD(){return n0||(n0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aD(){return r0||(r0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G1=new WeakMap,xp=new WeakMap,q1=new WeakMap,td=new WeakMap,sg=new WeakMap;function cD(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(hs(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&G1.set(n,e)}).catch(()=>{}),sg.set(t,e),t}function uD(e){if(xp.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});xp.set(e,t)}let Rp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return xp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||q1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function lD(e){Rp=e(Rp)}function hD(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(nd(this),t,...n);return q1.set(r,t.sort?t.sort():[t]),hs(r)}:aD().includes(e)?function(...t){return e.apply(nd(this),t),hs(G1.get(this))}:function(...t){return hs(e.apply(nd(this),t))}}function fD(e){return typeof e=="function"?hD(e):(e instanceof IDBTransaction&&uD(e),iD(e,oD())?new Proxy(e,Rp):e)}function hs(e){if(e instanceof IDBRequest)return cD(e);if(td.has(e))return td.get(e);const t=fD(e);return t!==e&&(td.set(e,t),sg.set(t,e)),t}const nd=e=>sg.get(e);function dD(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),a=hs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(hs(o.result),c.oldVersion,c.newVersion,hs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const pD=["get","getKey","getAll","getAllKeys","count"],mD=["put","add","delete","clear"],rd=new Map;function s0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(rd.get(t))return rd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=mD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||pD.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return rd.set(t,i),i}lD(e=>({...e,get:(t,n,r)=>s0(t,n)||e.get(t,n,r),has:(t,n)=>!!s0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vD(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Mp="@firebase/app",i0="0.7.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=new rg("@firebase/app"),yD="@firebase/app-compat",_D="@firebase/analytics-compat",wD="@firebase/analytics",bD="@firebase/app-check-compat",ED="@firebase/app-check",SD="@firebase/auth",TD="@firebase/auth-compat",ID="@firebase/database",AD="@firebase/database-compat",CD="@firebase/functions",OD="@firebase/functions-compat",kD="@firebase/installations",DD="@firebase/installations-compat",xD="@firebase/messaging",RD="@firebase/messaging-compat",MD="@firebase/performance",PD="@firebase/performance-compat",ND="@firebase/remote-config",$D="@firebase/remote-config-compat",LD="@firebase/storage",FD="@firebase/storage-compat",BD="@firebase/firestore",UD="@firebase/firestore-compat",jD="firebase",VD="9.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="[DEFAULT]",WD={[Mp]:"fire-core",[yD]:"fire-core-compat",[wD]:"fire-analytics",[_D]:"fire-analytics-compat",[ED]:"fire-app-check",[bD]:"fire-app-check-compat",[SD]:"fire-auth",[TD]:"fire-auth-compat",[ID]:"fire-rtdb",[AD]:"fire-rtdb-compat",[CD]:"fire-fn",[OD]:"fire-fn-compat",[kD]:"fire-iid",[DD]:"fire-iid-compat",[xD]:"fire-fcm",[RD]:"fire-fcm-compat",[MD]:"fire-perf",[PD]:"fire-perf-compat",[ND]:"fire-rc",[$D]:"fire-rc-compat",[LD]:"fire-gcs",[FD]:"fire-gcs-compat",[BD]:"fire-fst",[UD]:"fire-fst-compat","fire-js":"fire-js",[jD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new Map,Pp=new Map;function zD(e,t){try{e.container.addComponent(t)}catch(n){ig.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function si(e){const t=e.name;if(Pp.has(t))return ig.debug(`There were multiple attempts to register component ${t}.`),!1;Pp.set(t,e);for(const n of Bl.values())zD(n,e);return!0}function Pc(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},ii=new Rc("app","Firebase",HD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=VD;function KD(e,t={}){typeof t!="object"&&(t={name:t});const n=Object.assign({name:X1,automaticDataCollectionEnabled:!1},t),r=n.name;if(typeof r!="string"||!r)throw ii.create("bad-app-name",{appName:String(r)});const s=Bl.get(r);if(s){if(Qa(e,s.options)&&Qa(n,s.config))return s;throw ii.create("duplicate-app",{appName:r})}const i=new eD(r);for(const a of Pp.values())i.addComponent(a);const o=new YD(e,n,i);return Bl.set(r,o),o}function og(e=X1){const t=Bl.get(e);if(!t)throw ii.create("no-app",{appName:e});return t}function hr(e,t,n){var r;let s=(r=WD[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${t}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ig.warn(a.join(" "));return}si(new _s(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="firebase-heartbeat-database",qD=1,Ja="firebase-heartbeat-store";let sd=null;function Q1(){return sd||(sd=dD(GD,qD,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ja)}}}).catch(e=>{throw ii.create("storage-open",{originalErrorMessage:e.message})})),sd}async function XD(e){var t;try{return(await Q1()).transaction(Ja).objectStore(Ja).get(J1(e))}catch(n){throw ii.create("storage-get",{originalErrorMessage:(t=n)===null||t===void 0?void 0:t.message})}}async function o0(e,t){var n;try{const s=(await Q1()).transaction(Ja,"readwrite");return await s.objectStore(Ja).put(t,J1(e)),s.done}catch(r){throw ii.create("storage-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message})}}function J1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=1024,JD=30*24*60*60*1e3;class ZD{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=a0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=JD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=a0(),{heartbeatsToSend:n,unsentEntries:r}=ex(this._heartbeatsCache.heartbeats),s=Fl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function a0(){return new Date().toISOString().substring(0,10)}function ex(e,t=QD){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),c0(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),c0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vk()?Wk().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await XD(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return o0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return o0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function c0(e){return Fl(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(e){si(new _s("platform-logger",t=>new gD(t),"PRIVATE")),si(new _s("heartbeat",t=>new ZD(t),"PRIVATE")),hr(Mp,i0,e),hr(Mp,i0,"esm2017"),hr("fire-js","")}nx("");function ag(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Z1(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rx=Z1,eE=new Rc("auth","Firebase",Z1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new rg("@firebase/auth");function ol(e,...t){u0.logLevel<=Ye.ERROR&&u0.error(`Auth (${Mo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(e,...t){throw cg(e,...t)}function fr(e,...t){return cg(e,...t)}function tE(e,t,n){const r=Object.assign(Object.assign({},rx()),{[t]:n});return new Rc("auth","Firebase",r).create(t,{appName:e.name})}function sx(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&mr(e,"argument-error"),tE(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cg(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return eE.create(e,...t)}function ve(e,t,...n){if(!e)throw cg(t,...n)}function xr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ol(t),new Error(t)}function Ur(e,t){e||xr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=new Map;function Rr(e){Ur(e instanceof Function,"Expected a class definition");let t=l0.get(e);return t?(Ur(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,l0.set(e,t),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(e,t){const n=Pc(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Qa(i,t!=null?t:{}))return s;mr(s,"already-initialized")}return n.initialize({options:t})}function ox(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(){var e;return typeof self!="undefined"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function ax(){return h0()==="http:"||h0()==="https:"}function h0(){var e;return typeof self!="undefined"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ax()||H1()||"connection"in navigator)?navigator.onLine:!0}function ux(){if(typeof navigator=="undefined")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ur(n>t,"Short delay should be less than long delay!"),this.isMobile=z1()||Y1()}get(){return cx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(e,t){Ur(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=new Nc(3e4,6e4);function fx(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Oh(e,t,n,r,s={}){return rE(e,s,async()=>{let i={},o={};r&&(t==="GET"?o=r:i={body:JSON.stringify(r)});const a=Mc(Object.assign({key:e.config.apiKey},o)).slice(1),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),nE.fetch()(sE(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},i))})}async function rE(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},lx),t);try{const s=new px(e),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw vu(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw vu(e,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw vu(e,"email-already-in-use",o);if(c==="USER_DISABLED")throw vu(e,"user-disabled",o);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tE(e,l,u);mr(e,l)}}catch(s){if(s instanceof Cs)throw s;mr(e,"network-request-failed")}}async function dx(e,t,n,r,s={}){const i=await Oh(e,t,n,r,s);return"mfaPendingCredential"in i&&mr(e,"multi-factor-auth-required",{_serverResponse:i}),i}function sE(e,t,n,r){const s=`${t}${n}?${r}`;return e.config.emulator?ug(e.config,s):`${e.config.apiScheme}://${s}`}class px{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fr(this.auth,"network-request-failed")),hx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vu(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=fr(e,t,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(e,t){return Oh(e,"POST","/v1/accounts:delete",t)}async function gx(e,t){return Oh(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(e){if(!!e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vx(e,t=!1){const n=zt(e),r=await n.getIdToken(t),s=lg(r);ve(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ea(id(s.auth_time)),issuedAtTime:Ea(id(s.iat)),expirationTime:Ea(id(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function id(e){return Number(e)*1e3}function lg(e){var t;const[n,r,s]=e.split(".");if(n===void 0||r===void 0||s===void 0)return ol("JWT malformed, contained fewer than 3 sections"),null;try{const i=Fk(r);return i?JSON.parse(i):(ol("Failed to decode base64 JWT payload"),null)}catch(i){return ol("Caught error parsing JWT payload as JSON",(t=i)===null||t===void 0?void 0:t.toString()),null}}function yx(e){const t=lg(e);return ve(t,"internal-error"),ve(typeof t.exp!="undefined","internal-error"),ve(typeof t.iat!="undefined","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Cs&&_x(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function _x({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var t;try{await this.user.getIdToken(!0)}catch(n){((t=n)===null||t===void 0?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ea(this.lastLoginAt),this.creationTime=Ea(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(e){var t;const n=e.auth,r=await e.getIdToken(),s=await Za(e,gx(n,{idToken:r}));ve(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const o=!((t=i.providerUserInfo)===null||t===void 0)&&t.length?Sx(i.providerUserInfo):[],a=Ex(e.providerData,o),c=e.isAnonymous,u=!(e.email&&i.passwordHash)&&!(a!=null&&a.length),l=c?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new iE(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(e,h)}async function bx(e){const t=zt(e);await Ul(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Ex(e,t){return[...e.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function Sx(e){return e.map(t=>{var{providerId:n}=t,r=ag(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx(e,t){const n=await rE(e,{},async()=>{const r=Mc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=e.config,o=sE(e,s,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nE.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ve(t.idToken,"internal-error"),ve(typeof t.idToken!="undefined","internal-error"),ve(typeof t.refreshToken!="undefined","internal-error");const n="expiresIn"in t&&typeof t.expiresIn!="undefined"?Number(t.expiresIn):yx(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return ve(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Tx(t,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ec;return r&&(ve(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),s&&(ve(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),i&&(ve(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ec,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(e,t){ve(typeof e=="string"||typeof e=="undefined","internal-error",{appName:t})}class Ks{constructor(t){var{uid:n,auth:r,stsTokenManager:s}=t,i=ag(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new iE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await Za(this,this.stsTokenManager.getToken(this.auth,t));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return vx(this,t)}reload(){return bx(this)}_assign(t){this!==t&&(ve(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new Ks(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Ul(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Za(this,mx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,s,i,o,a,c,u,l;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,O=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,A=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:H,emailVerified:V,isAnonymous:R,providerData:M,stsTokenManager:w}=n;ve(H&&w,t,"internal-error");const C=ec.fromJSON(this.name,w);ve(typeof H=="string",t,"internal-error"),Xr(h,t.name),Xr(f,t.name),ve(typeof V=="boolean",t,"internal-error"),ve(typeof R=="boolean",t,"internal-error"),Xr(p,t.name),Xr(v,t.name),Xr(O,t.name),Xr(E,t.name),Xr(A,t.name),Xr(x,t.name);const X=new Ks({uid:H,auth:t,email:f,emailVerified:V,displayName:h,isAnonymous:R,photoURL:v,phoneNumber:p,tenantId:O,stsTokenManager:C,createdAt:A,lastLoginAt:x});return M&&Array.isArray(M)&&(X.providerData=M.map(de=>Object.assign({},de))),E&&(X._redirectEventId=E),X}static async _fromIdTokenResponse(t,n,r=!1){const s=new ec;s.updateFromServerResponse(n);const i=new Ks({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await Ul(i),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}oE.type="NONE";const f0=oE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(e,t,n){return`firebase:${e}:${t}:${n}`}class eo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=al(this.userKey,s.apiKey,i),this.fullPersistenceKey=al("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ks._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new eo(Rr(f0),t,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Rr(f0);const o=al(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const l=await u._get(o);if(l){const h=Ks._fromJSON(t,l);u!==i&&(a=h),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new eo(i,t,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new eo(i,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(uE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(aE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hE(t))return"Blackberry";if(fE(t))return"Webos";if(hg(t))return"Safari";if((t.includes("chrome/")||cE(t))&&!t.includes("edge/"))return"Chrome";if(lE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aE(e=Lt()){return/firefox\//i.test(e)}function hg(e=Lt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function cE(e=Lt()){return/crios\//i.test(e)}function uE(e=Lt()){return/iemobile/i.test(e)}function lE(e=Lt()){return/android/i.test(e)}function hE(e=Lt()){return/blackberry/i.test(e)}function fE(e=Lt()){return/webos/i.test(e)}function kh(e=Lt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ix(e=Lt()){var t;return kh(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Ax(){return K1()&&document.documentMode===10}function dE(e=Lt()){return kh(e)||lE(e)||fE(e)||hE(e)||/windows phone/i.test(e)||uE(e)}function Cx(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(e,t=[]){let n;switch(e){case"Browser":n=d0(Lt());break;case"Worker":n=`${d0(Lt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=i=>new Promise((o,a)=>{try{const c=t(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){var n;if(this.auth.currentUser===t)return;const r=[];try{for(const s of this.queue)await s(t),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=s)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t,n,r){this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p0(this),this.idTokenSubscription=new p0(this),this.beforeStateQueue=new Ox(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eE,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await eo.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===a)&&(c==null?void 0:c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){var n;try{await Ul(t)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ux()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?zt(t):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ve(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Rc("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Rr(t)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ve(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?t.addObserver(n,r,s):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=pE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function $c(e){return zt(e)}class p0{constructor(t){this.auth=t,this.observer=null,this.addObserver=Gk(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Dx(e,t,n){const r=$c(e);ve(r._canInitEmulator,r,"emulator-config-failed"),ve(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=mE(t),{host:o,port:a}=xx(t),c=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||Rx()}function mE(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xx(e){const t=mE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:m0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:m0(o)}}}function m0(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Rx(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(t){return xr("not implemented")}_linkToIdToken(t,n){return xr("not implemented")}_getReauthenticationResolver(t){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(e,t){return dx(e,"POST","/v1/accounts:signInWithIdp",fx(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="http://localhost";class oi extends gE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new oi(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s}=n,i=ag(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new oi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return to(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,to(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,to(t,n)}buildRequest(){const t={requestUri:Mx,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Mc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends fg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Lc{constructor(){super("facebook.com")}static credential(t){return oi._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return is.credentialFromTaggedObject(t)}static credentialFromError(t){return is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return is.credential(t.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return oi._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return or.credential(n,r)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Lc{constructor(){super("github.com")}static credential(t){return oi._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ar.credential(t.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Lc{constructor(){super("twitter.com")}static credential(t,n){return oi._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return cr.credential(n,r)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,s=!1){const i=await Ks._fromIdTokenResponse(t,r,s),o=g0(r);return new po({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const s=g0(r);return new po({user:t,providerId:s,_tokenResponse:r,operationType:n})}}function g0(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Cs{constructor(t,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,jl.prototype),this.customData={appName:t.name,tenantId:(i=t.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,s){return new jl(t,n,r,s)}}function vE(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?jl._fromErrorAndOperation(e,i,t,r):i})}async function Px(e,t,n=!1){const r=await Za(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return po._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(e,t,n=!1){var r;const{auth:s}=e,i="reauthenticate";try{const o=await Za(e,vE(s,i,t,e),n);ve(o.idToken,s,"internal-error");const a=lg(o.idToken);ve(a,s,"internal-error");const{sub:c}=a;return ve(e.uid===c,s,"user-mismatch"),po._forOperation(e,i,o)}catch(o){throw((r=o)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&mr(s,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(e,t,n=!1){const r="signIn",s=await vE(e,r,t),i=await po._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}const Vl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vl,"1"),this.storage.removeItem(Vl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(){const e=Lt();return hg(e)||kh(e)}const Fx=1e3,Bx=10;class _E extends yE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Lx()&&Cx(),this.fallbackToPolling=dE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&t(n,s,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Ax()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Bx):s()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Fx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}_E.type="LOCAL";const Ux=_E;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE extends yE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}wE.type="SESSION";const bE=wE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(e){return Promise.all(e.map(async t=>{try{const n=await t;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const r=new Dh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await jx(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const s=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=dg("",20);s.port1.start();const l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(l),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(l),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function Wx(e){dr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(){return typeof dr().WorkerGlobalScope!="undefined"&&typeof dr().importScripts=="function"}async function zx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hx(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function Yx(){return EE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="firebaseLocalStorageDb",Kx=1,Wl="firebaseLocalStorage",TE="fbase_key";class Fc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xh(e,t){return e.transaction([Wl],t?"readwrite":"readonly").objectStore(Wl)}function Gx(){const e=indexedDB.deleteDatabase(SE);return new Fc(e).toPromise()}function $p(){const e=indexedDB.open(SE,Kx);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Wl,{keyPath:TE})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Wl)?t(r):(r.close(),await Gx(),t(await $p()))})})}async function v0(e,t,n){const r=xh(e,!0).put({[TE]:t,value:n});return new Fc(r).toPromise()}async function qx(e,t){const n=xh(e,!1).get(t),r=await new Fc(n).toPromise();return r===void 0?null:r.value}function y0(e,t){const n=xh(e,!0).delete(t);return new Fc(n).toPromise()}const Xx=800,Qx=3;class IE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $p(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Qx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(Yx()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await zx(),!this.activeServiceWorker)return;this.sender=new Vx(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((t=r[0])===null||t===void 0?void 0:t.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Hx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $p();return await v0(t,Vl,"1"),await y0(t,Vl),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>v0(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>qx(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>y0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=xh(s,!1).getAll();return new Fc(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Xx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IE.type="LOCAL";const Jx=IE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function eR(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=s=>{const i=fr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Zx().appendChild(r)})}function tR(e){return`__${e}${Math.floor(Math.random()*1e6)}`}new Nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(e,t){return t?Rr(t):(ve(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg extends gE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return to(t,this._buildIdpRequest())}_linkToIdToken(t,n){return to(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return to(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function nR(e){return $x(e.auth,new pg(e),e.bypassAuthState)}function rR(e){const{auth:t,user:n}=e;return ve(n,t,"internal-error"),Nx(n,new pg(e),e.bypassAuthState)}async function sR(e){const{auth:t,user:n}=e;return ve(n,t,"internal-error"),Px(n,new pg(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t,n,r,s,i=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return nR;case"linkViaPopup":case"linkViaRedirect":return sR;case"reauthViaPopup":case"reauthViaRedirect":return rR;default:mr(this.auth,"internal-error")}}resolve(t){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new Nc(2e3,1e4);class Hi extends CE{constructor(t,n,r,s,i){super(t,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Hi.currentPopupAction&&Hi.currentPopupAction.cancel(),Hi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ve(t,this.auth,"internal-error"),t}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const t=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hi.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(t,iR.get())};t()}}Hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="pendingRedirect",cl=new Map;class aR extends CE{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=cl.get(this.auth._key());if(!t){try{const r=await cR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}cl.set(this.auth._key(),t)}return this.bypassAuthState||cl.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cR(e,t){const n=kE(t),r=OE(e);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function uR(e,t){return OE(e)._set(kE(t),"true")}function lR(e,t){cl.set(e._key(),t)}function OE(e){return Rr(e._redirectPersistence)}function kE(e){return al(oR,e.config.apiKey,e.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(e,t,n){return hR(e,t,n)}async function hR(e,t,n){const r=$c(e);sx(e,t,fg);const s=AE(r,n);return await uR(s,r),s._openRedirect(r,t,"signInViaRedirect")}async function fR(e,t){return await $c(e)._initializationPromise,DE(e,t,!1)}async function DE(e,t,n=!1){const r=$c(e),s=AE(r,t),o=await new aR(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=10*60*1e3;class pR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!xE(t)){const s=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fr(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=dR&&this.cachedEventUids.clear(),this.cachedEventUids.has(_0(t))}saveEventToCache(t){this.cachedEventUids.add(_0(t)),this.lastProcessedEventTime=Date.now()}}function _0(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function xE({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function mR(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xE(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(e,t={}){return Oh(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yR=/^https?/;async function _R(e){if(e.config.emulator)return;const{authorizedDomains:t}=await gR(e);for(const n of t)try{if(wR(n))return}catch{}mr(e,"unauthorized-domain")}function wR(e){const t=Np(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!yR.test(n))return!1;if(vR.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new Nc(3e4,6e4);function w0(){const e=dr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function ER(e){return new Promise((t,n)=>{var r,s,i;function o(){w0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{w0(),n(fr(e,"network-request-failed"))},timeout:bR.get()})}if(!((s=(r=dr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((i=dr().gapi)===null||i===void 0)&&i.load)o();else{const a=tR("iframefcb");return dr()[a]=()=>{gapi.load?o():n(fr(e,"network-request-failed"))},eR(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(t=>{throw ul=null,t})}let ul=null;function SR(e){return ul=ul||ER(e),ul}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new Nc(5e3,15e3),IR="__/auth/iframe",AR="emulator/auth/iframe",CR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kR(e){const t=e.config;ve(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ug(t,AR):`https://${e.config.authDomain}/${IR}`,r={apiKey:t.apiKey,appName:e.name,v:Mo},s=OR.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Mc(r).slice(1)}`}async function DR(e){const t=await SR(e),n=dr().gapi;return ve(n,e,"internal-error"),t.open({where:document.body,url:kR(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CR,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=fr(e,"network-request-failed"),a=dr().setTimeout(()=>{i(o)},TR.get());function c(){dr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RR=500,MR=600,PR="_blank",NR="http://localhost";class b0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $R(e,t,n,r=RR,s=MR){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},xR),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Lt().toLowerCase();n&&(a=cE(u)?PR:n),aE(u)&&(t=t||NR,c.scrollbars="yes");const l=Object.entries(c).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if(Ix(u)&&a!=="_self")return LR(t||"",a),new b0(null);const h=window.open(t||"",a,l);ve(h,e,"popup-blocked");try{h.focus()}catch{}return new b0(h)}function LR(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="__/auth/handler",BR="emulator/auth/handler";function E0(e,t,n,r,s,i){ve(e.config.authDomain,e,"auth-domain-config-required"),ve(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Mo,eventId:s};if(t instanceof fg){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Kk(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,u]of Object.entries(i||{}))o[c]=u}if(t instanceof Lc){const c=t.getScopes().filter(u=>u!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];return`${UR(e)}?${Mc(a).slice(1)}`}function UR({config:e}){return e.emulator?ug(e,BR):`https://${e.authDomain}/${FR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="webStorageSupport";class jR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bE,this._completeRedirectFn=DE,this._overrideRedirectResult=lR}async _openPopup(t,n,r,s){var i;Ur((i=this.eventManagers[t._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=E0(t,n,r,Np(),s);return $R(t,o,dg())}async _openRedirect(t,n,r,s){return await this._originValidation(t),Wx(E0(t,n,r,Np(),s)),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ur(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await DR(t),r=new pR(t);return n.register("authEvent",s=>(ve(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ad,{type:ad},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[ad];o!==void 0&&n(!!o),mr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_R(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return dE()||hg()||kh()}}const VR=jR;var S0="@firebase/auth",T0="0.20.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{var s;t(((s=r)===null||s===void 0?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);!n||(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function HR(e){si(new _s("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),{apiKey:i,authDomain:o}=r.options;return((a,c)=>{ve(i&&!i.includes(":"),"invalid-api-key",{appName:a.name}),ve(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:i,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pE(e)},l=new kx(a,c,u);return ox(l,n),l})(r,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),si(new _s("auth-internal",t=>{const n=$c(t.getProvider("auth").getImmediate());return(r=>new WR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(S0,T0,zR(e)),hr(S0,T0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(e=og()){const t=Pc(e,"auth");return t.isInitialized()?t.getImmediate():ix(e,{popupRedirectResolver:VR,persistence:[Jx,Ux,bE]})}HR("Browser");function mg(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const YR="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",KR=mg(YR);function RE(e){return!!e||e===""}function gg(e){if(me(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=xt(r)?XR(r):gg(r);if(s)for(const i in s)t[i]=s[i]}return t}else{if(xt(e))return e;if(Et(e))return e}}const GR=/;(?![^(]*\))/g,qR=/:(.+)/;function XR(e){const t={};return e.split(GR).forEach(n=>{if(n){const r=n.split(qR);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Rh(e){let t="";if(xt(e))t=e;else if(me(e))for(let n=0;n<e.length;n++){const r=Rh(e[n]);r&&(t+=r+" ")}else if(Et(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function QR(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=mo(e[r],t[r]);return n}function mo(e,t){if(e===t)return!0;let n=A0(e),r=A0(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=tc(e),r=tc(t),n||r)return e===t;if(n=me(e),r=me(t),n||r)return n&&r?QR(e,t):!1;if(n=Et(e),r=Et(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),c=t.hasOwnProperty(o);if(a&&!c||!a&&c||!mo(e[o],t[o]))return!1}}return String(e)===String(t)}function ME(e,t){return e.findIndex(n=>mo(n,t))}const I0=e=>xt(e)?e:e==null?"":me(e)||Et(e)&&(e.toString===$E||!Ie(e.toString))?JSON.stringify(e,PE,2):String(e),PE=(e,t)=>t&&t.__v_isRef?PE(e,t.value):ro(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:Ph(t)?{[`Set(${t.size})`]:[...t.values()]}:Et(t)&&!me(t)&&!LE(t)?String(t):t,it={},no=[],zn=()=>{},JR=()=>!1,ZR=/^on[^a-z]/,Mh=e=>ZR.test(e),vg=e=>e.startsWith("onUpdate:"),hn=Object.assign,yg=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},eM=Object.prototype.hasOwnProperty,je=(e,t)=>eM.call(e,t),me=Array.isArray,ro=e=>Bc(e)==="[object Map]",Ph=e=>Bc(e)==="[object Set]",A0=e=>Bc(e)==="[object Date]",Ie=e=>typeof e=="function",xt=e=>typeof e=="string",tc=e=>typeof e=="symbol",Et=e=>e!==null&&typeof e=="object",NE=e=>Et(e)&&Ie(e.then)&&Ie(e.catch),$E=Object.prototype.toString,Bc=e=>$E.call(e),tM=e=>Bc(e).slice(8,-1),LE=e=>Bc(e)==="[object Object]",_g=e=>xt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ll=mg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Nh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},nM=/-(\w)/g,gr=Nh(e=>e.replace(nM,(t,n)=>n?n.toUpperCase():"")),rM=/\B([A-Z])/g,pi=Nh(e=>e.replace(rM,"-$1").toLowerCase()),$h=Nh(e=>e.charAt(0).toUpperCase()+e.slice(1)),cd=Nh(e=>e?`on${$h(e)}`:""),nc=(e,t)=>!Object.is(e,t),hl=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},zl=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Lp=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let C0;const sM=()=>C0||(C0=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let rr;class FE{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&rr&&(this.parent=rr,this.index=(rr.scopes||(rr.scopes=[])).push(this)-1)}run(t){if(this.active){const n=rr;try{return rr=this,t()}finally{rr=n}}}on(){rr=this}off(){rr=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function BE(e){return new FE(e)}function iM(e,t=rr){t&&t.active&&t.effects.push(e)}const wg=e=>{const t=new Set(e);return t.w=0,t.n=0,t},UE=e=>(e.w&ws)>0,jE=e=>(e.n&ws)>0,oM=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ws},aM=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];UE(s)&&!jE(s)?s.delete(e):t[n++]=s,s.w&=~ws,s.n&=~ws}t.length=n}},Fp=new WeakMap;let ga=0,ws=1;const Bp=30;let Un;const Gs=Symbol(""),Up=Symbol("");class bg{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,iM(this,r)}run(){if(!this.active)return this.fn();let t=Un,n=fs;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Un,Un=this,fs=!0,ws=1<<++ga,ga<=Bp?oM(this):O0(this),this.fn()}finally{ga<=Bp&&aM(this),ws=1<<--ga,Un=this.parent,fs=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Un===this?this.deferStop=!0:this.active&&(O0(this),this.onStop&&this.onStop(),this.active=!1)}}function O0(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let fs=!0;const VE=[];function Po(){VE.push(fs),fs=!1}function No(){const e=VE.pop();fs=e===void 0?!0:e}function In(e,t,n){if(fs&&Un){let r=Fp.get(e);r||Fp.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=wg()),WE(s)}}function WE(e,t){let n=!1;ga<=Bp?jE(e)||(e.n|=ws,n=!UE(e)):n=!e.has(Un),n&&(e.add(Un),Un.deps.push(e))}function jr(e,t,n,r,s,i){const o=Fp.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&me(e))o.forEach((c,u)=>{(u==="length"||u>=r)&&a.push(c)});else switch(n!==void 0&&a.push(o.get(n)),t){case"add":me(e)?_g(n)&&a.push(o.get("length")):(a.push(o.get(Gs)),ro(e)&&a.push(o.get(Up)));break;case"delete":me(e)||(a.push(o.get(Gs)),ro(e)&&a.push(o.get(Up)));break;case"set":ro(e)&&a.push(o.get(Gs));break}if(a.length===1)a[0]&&jp(a[0]);else{const c=[];for(const u of a)u&&c.push(...u);jp(wg(c))}}function jp(e,t){const n=me(e)?e:[...e];for(const r of n)r.computed&&k0(r);for(const r of n)r.computed||k0(r)}function k0(e,t){(e!==Un||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const cM=mg("__proto__,__v_isRef,__isVue"),zE=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(tc)),uM=Eg(),lM=Eg(!1,!0),hM=Eg(!0),D0=fM();function fM(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Ke(this);for(let i=0,o=this.length;i<o;i++)In(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(Ke)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Po();const r=Ke(this)[t].apply(this,n);return No(),r}}),e}function Eg(e=!1,t=!1){return function(r,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?OM:qE:t?GE:KE).get(r))return r;const o=me(r);if(!e&&o&&je(D0,s))return Reflect.get(D0,s,i);const a=Reflect.get(r,s,i);return(tc(s)?zE.has(s):cM(s))||(e||In(r,"get",s),t)?a:yt(a)?o&&_g(s)?a:a.value:Et(a)?e?ks(a):Os(a):a}}const dM=HE(),pM=HE(!0);function HE(e=!1){return function(n,r,s,i){let o=n[r];if(rc(o)&&yt(o)&&!yt(s))return!1;if(!e&&!rc(s)&&(Vp(s)||(s=Ke(s),o=Ke(o)),!me(n)&&yt(o)&&!yt(s)))return o.value=s,!0;const a=me(n)&&_g(r)?Number(r)<n.length:je(n,r),c=Reflect.set(n,r,s,i);return n===Ke(i)&&(a?nc(s,o)&&jr(n,"set",r,s):jr(n,"add",r,s)),c}}function mM(e,t){const n=je(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&jr(e,"delete",t,void 0),r}function gM(e,t){const n=Reflect.has(e,t);return(!tc(t)||!zE.has(t))&&In(e,"has",t),n}function vM(e){return In(e,"iterate",me(e)?"length":Gs),Reflect.ownKeys(e)}const YE={get:uM,set:dM,deleteProperty:mM,has:gM,ownKeys:vM},yM={get:hM,set(e,t){return!0},deleteProperty(e,t){return!0}},_M=hn({},YE,{get:lM,set:pM}),Sg=e=>e,Lh=e=>Reflect.getPrototypeOf(e);function yu(e,t,n=!1,r=!1){e=e.__v_raw;const s=Ke(e),i=Ke(t);n||(t!==i&&In(s,"get",t),In(s,"get",i));const{has:o}=Lh(s),a=r?Sg:n?Ag:sc;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function _u(e,t=!1){const n=this.__v_raw,r=Ke(n),s=Ke(e);return t||(e!==s&&In(r,"has",e),In(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function wu(e,t=!1){return e=e.__v_raw,!t&&In(Ke(e),"iterate",Gs),Reflect.get(e,"size",e)}function x0(e){e=Ke(e);const t=Ke(this);return Lh(t).has.call(t,e)||(t.add(e),jr(t,"add",e,e)),this}function R0(e,t){t=Ke(t);const n=Ke(this),{has:r,get:s}=Lh(n);let i=r.call(n,e);i||(e=Ke(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?nc(t,o)&&jr(n,"set",e,t):jr(n,"add",e,t),this}function M0(e){const t=Ke(this),{has:n,get:r}=Lh(t);let s=n.call(t,e);s||(e=Ke(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&jr(t,"delete",e,void 0),i}function P0(){const e=Ke(this),t=e.size!==0,n=e.clear();return t&&jr(e,"clear",void 0,void 0),n}function bu(e,t){return function(r,s){const i=this,o=i.__v_raw,a=Ke(o),c=t?Sg:e?Ag:sc;return!e&&In(a,"iterate",Gs),o.forEach((u,l)=>r.call(s,c(u),c(l),i))}}function Eu(e,t,n){return function(...r){const s=this.__v_raw,i=Ke(s),o=ro(i),a=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,u=s[e](...r),l=n?Sg:t?Ag:sc;return!t&&In(i,"iterate",c?Up:Gs),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[l(h[0]),l(h[1])]:l(h),done:f}},[Symbol.iterator](){return this}}}}function Qr(e){return function(...t){return e==="delete"?!1:this}}function wM(){const e={get(i){return yu(this,i)},get size(){return wu(this)},has:_u,add:x0,set:R0,delete:M0,clear:P0,forEach:bu(!1,!1)},t={get(i){return yu(this,i,!1,!0)},get size(){return wu(this)},has:_u,add:x0,set:R0,delete:M0,clear:P0,forEach:bu(!1,!0)},n={get(i){return yu(this,i,!0)},get size(){return wu(this,!0)},has(i){return _u.call(this,i,!0)},add:Qr("add"),set:Qr("set"),delete:Qr("delete"),clear:Qr("clear"),forEach:bu(!0,!1)},r={get(i){return yu(this,i,!0,!0)},get size(){return wu(this,!0)},has(i){return _u.call(this,i,!0)},add:Qr("add"),set:Qr("set"),delete:Qr("delete"),clear:Qr("clear"),forEach:bu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Eu(i,!1,!1),n[i]=Eu(i,!0,!1),t[i]=Eu(i,!1,!0),r[i]=Eu(i,!0,!0)}),[e,n,t,r]}const[bM,EM,SM,TM]=wM();function Tg(e,t){const n=t?e?TM:SM:e?EM:bM;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(je(n,s)&&s in r?n:r,s,i)}const IM={get:Tg(!1,!1)},AM={get:Tg(!1,!0)},CM={get:Tg(!0,!1)},KE=new WeakMap,GE=new WeakMap,qE=new WeakMap,OM=new WeakMap;function kM(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function DM(e){return e.__v_skip||!Object.isExtensible(e)?0:kM(tM(e))}function Os(e){return rc(e)?e:Ig(e,!1,YE,IM,KE)}function xM(e){return Ig(e,!1,_M,AM,GE)}function ks(e){return Ig(e,!0,yM,CM,qE)}function Ig(e,t,n,r,s){if(!Et(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=DM(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function ds(e){return rc(e)?ds(e.__v_raw):!!(e&&e.__v_isReactive)}function rc(e){return!!(e&&e.__v_isReadonly)}function Vp(e){return!!(e&&e.__v_isShallow)}function XE(e){return ds(e)||rc(e)}function Ke(e){const t=e&&e.__v_raw;return t?Ke(t):e}function go(e){return zl(e,"__v_skip",!0),e}const sc=e=>Et(e)?Os(e):e,Ag=e=>Et(e)?ks(e):e;function QE(e){fs&&Un&&(e=Ke(e),WE(e.dep||(e.dep=wg())))}function JE(e,t){e=Ke(e),e.dep&&jp(e.dep)}function yt(e){return!!(e&&e.__v_isRef===!0)}function Yn(e){return ZE(e,!1)}function RM(e){return ZE(e,!0)}function ZE(e,t){return yt(e)?e:new MM(e,t)}class MM{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ke(t),this._value=n?t:sc(t)}get value(){return QE(this),this._value}set value(t){t=this.__v_isShallow?t:Ke(t),nc(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:sc(t),JE(this))}}function qs(e){return yt(e)?e.value:e}const PM={get:(e,t,n)=>qs(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return yt(s)&&!yt(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function eS(e){return ds(e)?e:new Proxy(e,PM)}function NM(e){const t=me(e)?new Array(e.length):{};for(const n in e)t[n]=LM(e,n);return t}class $M{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function LM(e,t,n){const r=e[t];return yt(r)?r:new $M(e,t,n)}class FM{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new bg(t,()=>{this._dirty||(this._dirty=!0,JE(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=Ke(this);return QE(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function BM(e,t,n=!1){let r,s;const i=Ie(e);return i?(r=e,s=zn):(r=e.get,s=e.set),new FM(r,s,i||!s,n)}function ps(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){Fh(i,t,n)}return s}function Hn(e,t,n,r){if(Ie(e)){const i=ps(e,t,n,r);return i&&NE(i)&&i.catch(o=>{Fh(o,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(Hn(e[i],t,n,r));return s}function Fh(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=n;for(;i;){const u=i.ec;if(u){for(let l=0;l<u.length;l++)if(u[l](e,o,a)===!1)return}i=i.parent}const c=t.appContext.config.errorHandler;if(c){ps(c,null,10,[e,o,a]);return}}UM(e,n,s,r)}function UM(e,t,n,r=!0){console.error(e)}let Hl=!1,Wp=!1;const En=[];let kr=0;const Sa=[];let va=null,Ui=0;const Ta=[];let ns=null,ji=0;const tS=Promise.resolve();let Cg=null,zp=null;function Og(e){const t=Cg||tS;return e?t.then(this?e.bind(this):e):t}function jM(e){let t=kr+1,n=En.length;for(;t<n;){const r=t+n>>>1;ic(En[r])<e?t=r+1:n=r}return t}function nS(e){(!En.length||!En.includes(e,Hl&&e.allowRecurse?kr+1:kr))&&e!==zp&&(e.id==null?En.push(e):En.splice(jM(e.id),0,e),rS())}function rS(){!Hl&&!Wp&&(Wp=!0,Cg=tS.then(oS))}function VM(e){const t=En.indexOf(e);t>kr&&En.splice(t,1)}function sS(e,t,n,r){me(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?r+1:r))&&n.push(e),rS()}function WM(e){sS(e,va,Sa,Ui)}function zM(e){sS(e,ns,Ta,ji)}function Bh(e,t=null){if(Sa.length){for(zp=t,va=[...new Set(Sa)],Sa.length=0,Ui=0;Ui<va.length;Ui++)va[Ui]();va=null,Ui=0,zp=null,Bh(e,t)}}function iS(e){if(Bh(),Ta.length){const t=[...new Set(Ta)];if(Ta.length=0,ns){ns.push(...t);return}for(ns=t,ns.sort((n,r)=>ic(n)-ic(r)),ji=0;ji<ns.length;ji++)ns[ji]();ns=null,ji=0}}const ic=e=>e.id==null?1/0:e.id;function oS(e){Wp=!1,Hl=!0,Bh(e),En.sort((n,r)=>ic(n)-ic(r));const t=zn;try{for(kr=0;kr<En.length;kr++){const n=En[kr];n&&n.active!==!1&&ps(n,null,14)}}finally{kr=0,En.length=0,iS(),Hl=!1,Cg=null,(En.length||Sa.length||Ta.length)&&oS(e)}}function HM(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||it;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const l=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=r[l]||it;f&&(s=n.map(p=>p.trim())),h&&(s=n.map(Lp))}let a,c=r[a=cd(t)]||r[a=cd(gr(t))];!c&&i&&(c=r[a=cd(pi(t))]),c&&Hn(c,e,6,s);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Hn(u,e,6,s)}}function aS(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!Ie(e)){const c=u=>{const l=aS(u,t,!0);l&&(a=!0,hn(o,l))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!a?(r.set(e,null),null):(me(i)?i.forEach(c=>o[c]=null):hn(o,i),r.set(e,o),o)}function Uh(e,t){return!e||!Mh(t)?!1:(t=t.slice(2).replace(/Once$/,""),je(e,t[0].toLowerCase()+t.slice(1))||je(e,pi(t))||je(e,t))}let Xt=null,jh=null;function Yl(e){const t=Xt;return Xt=e,jh=e&&e.type.__scopeId||null,t}function YM(e){jh=e}function KM(){jh=null}function Dr(e,t=Xt,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&H0(-1);const i=Yl(t),o=e(...s);return Yl(i),r._d&&H0(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function ud(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:c,emit:u,render:l,renderCache:h,data:f,setupState:p,ctx:v,inheritAttrs:O}=e;let E,A;const x=Yl(e);try{if(n.shapeFlag&4){const V=s||r;E=ir(l.call(V,V,h,i,p,f,v)),A=c}else{const V=t;E=ir(V.length>1?V(i,{attrs:c,slots:a,emit:u}):V(i,null)),A=t.props?c:GM(c)}}catch(V){Ca.length=0,Fh(V,e,1),E=et(bs)}let H=E;if(A&&O!==!1){const V=Object.keys(A),{shapeFlag:R}=H;V.length&&R&7&&(o&&V.some(vg)&&(A=qM(A,o)),H=vo(H,A))}return n.dirs&&(H=vo(H),H.dirs=H.dirs?H.dirs.concat(n.dirs):n.dirs),n.transition&&(H.transition=n.transition),E=H,Yl(x),E}const GM=e=>{let t;for(const n in e)(n==="class"||n==="style"||Mh(n))&&((t||(t={}))[n]=e[n]);return t},qM=(e,t)=>{const n={};for(const r in e)(!vg(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function XM(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:c}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?N0(r,o,u):!!o;if(c&8){const l=t.dynamicProps;for(let h=0;h<l.length;h++){const f=l[h];if(o[f]!==r[f]&&!Uh(u,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?N0(r,o,u):!0:!!o;return!1}function N0(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Uh(n,i))return!0}return!1}function QM({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const JM=e=>e.__isSuspense;function ZM(e,t){t&&t.pendingBranch?me(e)?t.effects.push(...e):t.effects.push(e):zM(e)}function fl(e,t){if(Nt){let n=Nt.provides;const r=Nt.parent&&Nt.parent.provides;r===n&&(n=Nt.provides=Object.create(r)),n[e]=t}}function xn(e,t,n=!1){const r=Nt||Xt;if(r){const s=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Ie(t)?t.call(r.proxy):t}}function Dne(e,t){return kg(e,null,t)}const $0={};function Xs(e,t,n){return kg(e,t,n)}function kg(e,t,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=it){const a=Nt;let c,u=!1,l=!1;if(yt(e)?(c=()=>e.value,u=Vp(e)):ds(e)?(c=()=>e,r=!0):me(e)?(l=!0,u=e.some(A=>ds(A)||Vp(A)),c=()=>e.map(A=>{if(yt(A))return A.value;if(ds(A))return Vs(A);if(Ie(A))return ps(A,a,2)})):Ie(e)?t?c=()=>ps(e,a,2):c=()=>{if(!(a&&a.isUnmounted))return h&&h(),Hn(e,a,3,[f])}:c=zn,t&&r){const A=c;c=()=>Vs(A())}let h,f=A=>{h=E.onStop=()=>{ps(A,a,4)}};if(ac)return f=zn,t?n&&Hn(t,a,3,[c(),l?[]:void 0,f]):c(),zn;let p=l?[]:$0;const v=()=>{if(!!E.active)if(t){const A=E.run();(r||u||(l?A.some((x,H)=>nc(x,p[H])):nc(A,p)))&&(h&&h(),Hn(t,a,3,[A,p===$0?void 0:p,f]),p=A)}else E.run()};v.allowRecurse=!!t;let O;s==="sync"?O=v:s==="post"?O=()=>mn(v,a&&a.suspense):O=()=>WM(v);const E=new bg(c,O);return t?n?v():p=E.run():s==="post"?mn(E.run.bind(E),a&&a.suspense):E.run(),()=>{E.stop(),a&&a.scope&&yg(a.scope.effects,E)}}function e3(e,t,n){const r=this.proxy,s=xt(e)?e.includes(".")?cS(r,e):()=>r[e]:e.bind(r,r);let i;Ie(t)?i=t:(i=t.handler,n=t);const o=Nt;yo(this);const a=kg(s,i.bind(r),n);return o?yo(o):Qs(),a}function cS(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Vs(e,t){if(!Et(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),yt(e))Vs(e.value,t);else if(me(e))for(let n=0;n<e.length;n++)Vs(e[n],t);else if(Ph(e)||ro(e))e.forEach(n=>{Vs(n,t)});else if(LE(e))for(const n in e)Vs(e[n],t);return e}function Uc(e){return Ie(e)?{setup:e,name:e.name}:e}const Ia=e=>!!e.type.__asyncLoader,uS=e=>e.type.__isKeepAlive;function t3(e,t){lS(e,"a",t)}function n3(e,t){lS(e,"da",t)}function lS(e,t,n=Nt){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Vh(t,r,n),n){let s=n.parent;for(;s&&s.parent;)uS(s.parent.vnode)&&r3(r,t,n,s),s=s.parent}}function r3(e,t,n,r){const s=Vh(t,e,r,!0);Dg(()=>{yg(r[t],s)},n)}function Vh(e,t,n=Nt,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Po(),yo(n);const a=Hn(t,n,e,o);return Qs(),No(),a});return r?s.unshift(i):s.push(i),i}}const Yr=e=>(t,n=Nt)=>(!ac||e==="sp")&&Vh(e,t,n),s3=Yr("bm"),hS=Yr("m"),i3=Yr("bu"),o3=Yr("u"),a3=Yr("bum"),Dg=Yr("um"),c3=Yr("sp"),u3=Yr("rtg"),l3=Yr("rtc");function h3(e,t=Nt){Vh("ec",e,t)}function xne(e,t){const n=Xt;if(n===null)return e;const r=zh(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,c,u=it]=t[i];Ie(o)&&(o={mounted:o,updated:o}),o.deep&&Vs(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:c,modifiers:u})}return e}function Ns(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(Po(),Hn(c,n,8,[e.el,a,e,t]),No())}}const xg="components";function jn(e,t){return dS(xg,e,!0,t)||e}const fS=Symbol();function L0(e){return xt(e)?dS(xg,e,!1)||e:e||fS}function dS(e,t,n=!0,r=!1){const s=Xt||Nt;if(s){const i=s.type;if(e===xg){const a=B3(i);if(a&&(a===t||a===gr(t)||a===$h(gr(t))))return i}const o=F0(s[e]||i[e],t)||F0(s.appContext[e],t);return!o&&r?i:o}}function F0(e,t){return e&&(e[t]||e[gr(t)]||e[$h(gr(t))])}function Kl(e,t,n,r){let s;const i=n&&n[r];if(me(e)||xt(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(Et(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const u=o[a];s[a]=t(e[u],u,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function Aa(e,t,n={},r,s){if(Xt.isCE||Xt.parent&&Ia(Xt.parent)&&Xt.parent.isCE)return et("slot",t==="default"?null:{name:t},r&&r());let i=e[t];i&&i._c&&(i._d=!1),Fe();const o=i&&pS(i(n)),a=Mr(on,{key:n.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function pS(e){return e.some(t=>Xl(t)?!(t.type===bs||t.type===on&&!pS(t.children)):!0)?e:null}const Hp=e=>e?AS(e)?zh(e)||e.proxy:Hp(e.parent):null,Gl=hn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Hp(e.parent),$root:e=>Hp(e.root),$emit:e=>e.emit,$options:e=>gS(e),$forceUpdate:e=>e.f||(e.f=()=>nS(e.update)),$nextTick:e=>e.n||(e.n=Og.bind(e.proxy)),$watch:e=>e3.bind(e)}),f3={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=e;let u;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(r!==it&&je(r,t))return o[t]=1,r[t];if(s!==it&&je(s,t))return o[t]=2,s[t];if((u=e.propsOptions[0])&&je(u,t))return o[t]=3,i[t];if(n!==it&&je(n,t))return o[t]=4,n[t];Yp&&(o[t]=0)}}const l=Gl[t];let h,f;if(l)return t==="$attrs"&&In(e,"get",t),l(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==it&&je(n,t))return o[t]=4,n[t];if(f=c.config.globalProperties,je(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return s!==it&&je(s,t)?(s[t]=n,!0):r!==it&&je(r,t)?(r[t]=n,!0):je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==it&&je(e,o)||t!==it&&je(t,o)||(a=i[0])&&je(a,o)||je(r,o)||je(Gl,o)||je(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:je(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Yp=!0;function d3(e){const t=gS(e),n=e.proxy,r=e.ctx;Yp=!1,t.beforeCreate&&B0(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:u,created:l,beforeMount:h,mounted:f,beforeUpdate:p,updated:v,activated:O,deactivated:E,beforeDestroy:A,beforeUnmount:x,destroyed:H,unmounted:V,render:R,renderTracked:M,renderTriggered:w,errorCaptured:C,serverPrefetch:X,expose:de,inheritAttrs:Ce,components:Re,directives:gt,filters:vt}=t;if(u&&p3(u,r,null,e.appContext.config.unwrapInjectedRef),o)for(const Me in o){const We=o[Me];Ie(We)&&(r[Me]=We.bind(n))}if(s){const Me=s.call(n,n);Et(Me)&&(e.data=Os(Me))}if(Yp=!0,i)for(const Me in i){const We=i[Me],Bt=Ie(We)?We.bind(n,n):Ie(We.get)?We.get.bind(n,n):zn,Ln=!Ie(We)&&Ie(We.set)?We.set.bind(n):zn,ae=Sn({get:Bt,set:Ln});Object.defineProperty(r,Me,{enumerable:!0,configurable:!0,get:()=>ae.value,set:we=>ae.value=we})}if(a)for(const Me in a)mS(a[Me],r,n,Me);if(c){const Me=Ie(c)?c.call(n):c;Reflect.ownKeys(Me).forEach(We=>{fl(We,Me[We])})}l&&B0(l,e,"c");function rt(Me,We){me(We)?We.forEach(Bt=>Me(Bt.bind(n))):We&&Me(We.bind(n))}if(rt(s3,h),rt(hS,f),rt(i3,p),rt(o3,v),rt(t3,O),rt(n3,E),rt(h3,C),rt(l3,M),rt(u3,w),rt(a3,x),rt(Dg,V),rt(c3,X),me(de))if(de.length){const Me=e.exposed||(e.exposed={});de.forEach(We=>{Object.defineProperty(Me,We,{get:()=>n[We],set:Bt=>n[We]=Bt})})}else e.exposed||(e.exposed={});R&&e.render===zn&&(e.render=R),Ce!=null&&(e.inheritAttrs=Ce),Re&&(e.components=Re),gt&&(e.directives=gt)}function p3(e,t,n=zn,r=!1){me(e)&&(e=Kp(e));for(const s in e){const i=e[s];let o;Et(i)?"default"in i?o=xn(i.from||s,i.default,!0):o=xn(i.from||s):o=xn(i),yt(o)&&r?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[s]=o}}function B0(e,t,n){Hn(me(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function mS(e,t,n,r){const s=r.includes(".")?cS(n,r):()=>n[r];if(xt(e)){const i=t[e];Ie(i)&&Xs(s,i)}else if(Ie(e))Xs(s,e.bind(n));else if(Et(e))if(me(e))e.forEach(i=>mS(i,t,n,r));else{const i=Ie(e.handler)?e.handler.bind(n):t[e.handler];Ie(i)&&Xs(s,i,e)}}function gS(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let c;return a?c=a:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(u=>ql(c,u,o,!0)),ql(c,t,o)),i.set(t,c),c}function ql(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&ql(e,i,n,!0),s&&s.forEach(o=>ql(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=m3[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const m3={data:U0,props:Us,emits:Us,methods:Us,computed:Us,beforeCreate:sn,created:sn,beforeMount:sn,mounted:sn,beforeUpdate:sn,updated:sn,beforeDestroy:sn,beforeUnmount:sn,destroyed:sn,unmounted:sn,activated:sn,deactivated:sn,errorCaptured:sn,serverPrefetch:sn,components:Us,directives:Us,watch:v3,provide:U0,inject:g3};function U0(e,t){return t?e?function(){return hn(Ie(e)?e.call(this,this):e,Ie(t)?t.call(this,this):t)}:t:e}function g3(e,t){return Us(Kp(e),Kp(t))}function Kp(e){if(me(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function sn(e,t){return e?[...new Set([].concat(e,t))]:t}function Us(e,t){return e?hn(hn(Object.create(null),e),t):t}function v3(e,t){if(!e)return t;if(!t)return e;const n=hn(Object.create(null),e);for(const r in t)n[r]=sn(e[r],t[r]);return n}function y3(e,t,n,r=!1){const s={},i={};zl(i,Wh,1),e.propsDefaults=Object.create(null),vS(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:xM(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function _3(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=Ke(s),[c]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const l=e.vnode.dynamicProps;for(let h=0;h<l.length;h++){let f=l[h];if(Uh(e.emitsOptions,f))continue;const p=t[f];if(c)if(je(i,f))p!==i[f]&&(i[f]=p,u=!0);else{const v=gr(f);s[v]=Gp(c,a,v,p,e,!1)}else p!==i[f]&&(i[f]=p,u=!0)}}}else{vS(e,t,s,i)&&(u=!0);let l;for(const h in a)(!t||!je(t,h)&&((l=pi(h))===h||!je(t,l)))&&(c?n&&(n[h]!==void 0||n[l]!==void 0)&&(s[h]=Gp(c,a,h,void 0,e,!0)):delete s[h]);if(i!==a)for(const h in i)(!t||!je(t,h)&&!0)&&(delete i[h],u=!0)}u&&jr(e,"set","$attrs")}function vS(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let c in t){if(ll(c))continue;const u=t[c];let l;s&&je(s,l=gr(c))?!i||!i.includes(l)?n[l]=u:(a||(a={}))[l]=u:Uh(e.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,o=!0)}if(i){const c=Ke(n),u=a||it;for(let l=0;l<i.length;l++){const h=i[l];n[h]=Gp(s,c,h,u[h],e,!je(u,h))}}return o}function Gp(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=je(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&Ie(c)){const{propsDefaults:u}=s;n in u?r=u[n]:(yo(s),r=u[n]=c.call(null,t),Qs())}else r=c}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===pi(n))&&(r=!0))}return r}function yS(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let c=!1;if(!Ie(e)){const l=h=>{c=!0;const[f,p]=yS(h,t,!0);hn(o,f),p&&a.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!i&&!c)return r.set(e,no),no;if(me(i))for(let l=0;l<i.length;l++){const h=gr(i[l]);j0(h)&&(o[h]=it)}else if(i)for(const l in i){const h=gr(l);if(j0(h)){const f=i[l],p=o[h]=me(f)||Ie(f)?{type:f}:f;if(p){const v=z0(Boolean,p.type),O=z0(String,p.type);p[0]=v>-1,p[1]=O<0||v<O,(v>-1||je(p,"default"))&&a.push(h)}}}const u=[o,a];return r.set(e,u),u}function j0(e){return e[0]!=="$"}function V0(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function W0(e,t){return V0(e)===V0(t)}function z0(e,t){return me(t)?t.findIndex(n=>W0(n,e)):Ie(t)&&W0(t,e)?0:-1}const _S=e=>e[0]==="_"||e==="$stable",Rg=e=>me(e)?e.map(ir):[ir(e)],w3=(e,t,n)=>{if(t._n)return t;const r=Dr((...s)=>Rg(t(...s)),n);return r._c=!1,r},wS=(e,t,n)=>{const r=e._ctx;for(const s in e){if(_S(s))continue;const i=e[s];if(Ie(i))t[s]=w3(s,i,r);else if(i!=null){const o=Rg(i);t[s]=()=>o}}},bS=(e,t)=>{const n=Rg(t);e.slots.default=()=>n},b3=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ke(t),zl(t,"_",n)):wS(t,e.slots={})}else e.slots={},t&&bS(e,t);zl(e.slots,Wh,1)},E3=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=it;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(hn(s,t),!n&&a===1&&delete s._):(i=!t.$stable,wS(t,s)),o=t}else t&&(bS(e,t),o={default:1});if(i)for(const a in s)!_S(a)&&!(a in o)&&delete s[a]};function ES(){return{app:null,config:{isNativeTag:JR,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let S3=0;function T3(e,t){return function(r,s=null){Ie(r)||(r=Object.assign({},r)),s!=null&&!Et(s)&&(s=null);const i=ES(),o=new Set;let a=!1;const c=i.app={_uid:S3++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:V3,get config(){return i.config},set config(u){},use(u,...l){return o.has(u)||(u&&Ie(u.install)?(o.add(u),u.install(c,...l)):Ie(u)&&(o.add(u),u(c,...l))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,l){return l?(i.components[u]=l,c):i.components[u]},directive(u,l){return l?(i.directives[u]=l,c):i.directives[u]},mount(u,l,h){if(!a){const f=et(r,s);return f.appContext=i,l&&t?t(f,u):e(f,u,h),a=!0,c._container=u,u.__vue_app__=c,zh(f.component)||f.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(u,l){return i.provides[u]=l,c}};return c}}function qp(e,t,n,r,s=!1){if(me(e)){e.forEach((f,p)=>qp(f,t&&(me(t)?t[p]:t),n,r,s));return}if(Ia(r)&&!s)return;const i=r.shapeFlag&4?zh(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:c}=e,u=t&&t.r,l=a.refs===it?a.refs={}:a.refs,h=a.setupState;if(u!=null&&u!==c&&(xt(u)?(l[u]=null,je(h,u)&&(h[u]=null)):yt(u)&&(u.value=null)),Ie(c))ps(c,a,12,[o,l]);else{const f=xt(c),p=yt(c);if(f||p){const v=()=>{if(e.f){const O=f?l[c]:c.value;s?me(O)&&yg(O,i):me(O)?O.includes(i)||O.push(i):f?(l[c]=[i],je(h,c)&&(h[c]=l[c])):(c.value=[i],e.k&&(l[e.k]=c.value))}else f?(l[c]=o,je(h,c)&&(h[c]=o)):yt(c)&&(c.value=o,e.k&&(l[e.k]=o))};o?(v.id=-1,mn(v,n)):v()}}}const mn=ZM;function I3(e){return A3(e)}function A3(e,t){const n=sM();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:u,setElementText:l,parentNode:h,nextSibling:f,setScopeId:p=zn,cloneNode:v,insertStaticContent:O}=e,E=(g,S,k,B=null,L=null,q=null,ee=!1,G=null,J=!!S.dynamicChildren)=>{if(g===S)return;g&&!sa(g,S)&&(B=Z(g),Ae(g,L,q,!0),g=null),S.patchFlag===-2&&(J=!1,S.dynamicChildren=null);const{type:j,ref:ue,shapeFlag:oe}=S;switch(j){case Mg:A(g,S,k,B);break;case bs:x(g,S,k,B);break;case dl:g==null&&H(S,k,B,ee);break;case on:gt(g,S,k,B,L,q,ee,G,J);break;default:oe&1?M(g,S,k,B,L,q,ee,G,J):oe&6?vt(g,S,k,B,L,q,ee,G,J):(oe&64||oe&128)&&j.process(g,S,k,B,L,q,ee,G,J,Ne)}ue!=null&&L&&qp(ue,g&&g.ref,q,S||g,!S)},A=(g,S,k,B)=>{if(g==null)r(S.el=a(S.children),k,B);else{const L=S.el=g.el;S.children!==g.children&&u(L,S.children)}},x=(g,S,k,B)=>{g==null?r(S.el=c(S.children||""),k,B):S.el=g.el},H=(g,S,k,B)=>{[g.el,g.anchor]=O(g.children,S,k,B,g.el,g.anchor)},V=({el:g,anchor:S},k,B)=>{let L;for(;g&&g!==S;)L=f(g),r(g,k,B),g=L;r(S,k,B)},R=({el:g,anchor:S})=>{let k;for(;g&&g!==S;)k=f(g),s(g),g=k;s(S)},M=(g,S,k,B,L,q,ee,G,J)=>{ee=ee||S.type==="svg",g==null?w(S,k,B,L,q,ee,G,J):de(g,S,L,q,ee,G,J)},w=(g,S,k,B,L,q,ee,G)=>{let J,j;const{type:ue,props:oe,shapeFlag:le,transition:ge,patchFlag:Le,dirs:Ge}=g;if(g.el&&v!==void 0&&Le===-1)J=g.el=v(g.el);else{if(J=g.el=o(g.type,q,oe&&oe.is,oe),le&8?l(J,g.children):le&16&&X(g.children,J,null,B,L,q&&ue!=="foreignObject",ee,G),Ge&&Ns(g,null,B,"created"),oe){for(const Ze in oe)Ze!=="value"&&!ll(Ze)&&i(J,Ze,null,oe[Ze],q,g.children,B,L,N);"value"in oe&&i(J,"value",null,oe.value),(j=oe.onVnodeBeforeMount)&&er(j,B,g)}C(J,g,g.scopeId,ee,B)}Ge&&Ns(g,null,B,"beforeMount");const qe=(!L||L&&!L.pendingBranch)&&ge&&!ge.persisted;qe&&ge.beforeEnter(J),r(J,S,k),((j=oe&&oe.onVnodeMounted)||qe||Ge)&&mn(()=>{j&&er(j,B,g),qe&&ge.enter(J),Ge&&Ns(g,null,B,"mounted")},L)},C=(g,S,k,B,L)=>{if(k&&p(g,k),B)for(let q=0;q<B.length;q++)p(g,B[q]);if(L){let q=L.subTree;if(S===q){const ee=L.vnode;C(g,ee,ee.scopeId,ee.slotScopeIds,L.parent)}}},X=(g,S,k,B,L,q,ee,G,J=0)=>{for(let j=J;j<g.length;j++){const ue=g[j]=G?rs(g[j]):ir(g[j]);E(null,ue,S,k,B,L,q,ee,G)}},de=(g,S,k,B,L,q,ee)=>{const G=S.el=g.el;let{patchFlag:J,dynamicChildren:j,dirs:ue}=S;J|=g.patchFlag&16;const oe=g.props||it,le=S.props||it;let ge;k&&$s(k,!1),(ge=le.onVnodeBeforeUpdate)&&er(ge,k,S,g),ue&&Ns(S,g,k,"beforeUpdate"),k&&$s(k,!0);const Le=L&&S.type!=="foreignObject";if(j?Ce(g.dynamicChildren,j,G,k,B,Le,q):ee||Bt(g,S,G,null,k,B,Le,q,!1),J>0){if(J&16)Re(G,S,oe,le,k,B,L);else if(J&2&&oe.class!==le.class&&i(G,"class",null,le.class,L),J&4&&i(G,"style",oe.style,le.style,L),J&8){const Ge=S.dynamicProps;for(let qe=0;qe<Ge.length;qe++){const Ze=Ge[qe],dn=oe[Ze],Er=le[Ze];(Er!==dn||Ze==="value")&&i(G,Ze,dn,Er,L,g.children,k,B,N)}}J&1&&g.children!==S.children&&l(G,S.children)}else!ee&&j==null&&Re(G,S,oe,le,k,B,L);((ge=le.onVnodeUpdated)||ue)&&mn(()=>{ge&&er(ge,k,S,g),ue&&Ns(S,g,k,"updated")},B)},Ce=(g,S,k,B,L,q,ee)=>{for(let G=0;G<S.length;G++){const J=g[G],j=S[G],ue=J.el&&(J.type===on||!sa(J,j)||J.shapeFlag&70)?h(J.el):k;E(J,j,ue,null,B,L,q,ee,!0)}},Re=(g,S,k,B,L,q,ee)=>{if(k!==B){for(const G in B){if(ll(G))continue;const J=B[G],j=k[G];J!==j&&G!=="value"&&i(g,G,j,J,ee,S.children,L,q,N)}if(k!==it)for(const G in k)!ll(G)&&!(G in B)&&i(g,G,k[G],null,ee,S.children,L,q,N);"value"in B&&i(g,"value",k.value,B.value)}},gt=(g,S,k,B,L,q,ee,G,J)=>{const j=S.el=g?g.el:a(""),ue=S.anchor=g?g.anchor:a("");let{patchFlag:oe,dynamicChildren:le,slotScopeIds:ge}=S;ge&&(G=G?G.concat(ge):ge),g==null?(r(j,k,B),r(ue,k,B),X(S.children,k,ue,L,q,ee,G,J)):oe>0&&oe&64&&le&&g.dynamicChildren?(Ce(g.dynamicChildren,le,k,L,q,ee,G),(S.key!=null||L&&S===L.subTree)&&SS(g,S,!0)):Bt(g,S,k,ue,L,q,ee,G,J)},vt=(g,S,k,B,L,q,ee,G,J)=>{S.slotScopeIds=G,g==null?S.shapeFlag&512?L.ctx.activate(S,k,B,ee,J):nt(S,k,B,L,q,ee,J):rt(g,S,J)},nt=(g,S,k,B,L,q,ee)=>{const G=g.component=N3(g,B,L);if(uS(g)&&(G.ctx.renderer=Ne),$3(G),G.asyncDep){if(L&&L.registerDep(G,Me),!g.el){const J=G.subTree=et(bs);x(null,J,S,k)}return}Me(G,g,S,k,L,q,ee)},rt=(g,S,k)=>{const B=S.component=g.component;if(XM(g,S,k))if(B.asyncDep&&!B.asyncResolved){We(B,S,k);return}else B.next=S,VM(B.update),B.update();else S.el=g.el,B.vnode=S},Me=(g,S,k,B,L,q,ee)=>{const G=()=>{if(g.isMounted){let{next:ue,bu:oe,u:le,parent:ge,vnode:Le}=g,Ge=ue,qe;$s(g,!1),ue?(ue.el=Le.el,We(g,ue,ee)):ue=Le,oe&&hl(oe),(qe=ue.props&&ue.props.onVnodeBeforeUpdate)&&er(qe,ge,ue,Le),$s(g,!0);const Ze=ud(g),dn=g.subTree;g.subTree=Ze,E(dn,Ze,h(dn.el),Z(dn),g,L,q),ue.el=Ze.el,Ge===null&&QM(g,Ze.el),le&&mn(le,L),(qe=ue.props&&ue.props.onVnodeUpdated)&&mn(()=>er(qe,ge,ue,Le),L)}else{let ue;const{el:oe,props:le}=S,{bm:ge,m:Le,parent:Ge}=g,qe=Ia(S);if($s(g,!1),ge&&hl(ge),!qe&&(ue=le&&le.onVnodeBeforeMount)&&er(ue,Ge,S),$s(g,!0),oe&&_e){const Ze=()=>{g.subTree=ud(g),_e(oe,g.subTree,g,L,null)};qe?S.type.__asyncLoader().then(()=>!g.isUnmounted&&Ze()):Ze()}else{const Ze=g.subTree=ud(g);E(null,Ze,k,B,g,L,q),S.el=Ze.el}if(Le&&mn(Le,L),!qe&&(ue=le&&le.onVnodeMounted)){const Ze=S;mn(()=>er(ue,Ge,Ze),L)}(S.shapeFlag&256||Ge&&Ia(Ge.vnode)&&Ge.vnode.shapeFlag&256)&&g.a&&mn(g.a,L),g.isMounted=!0,S=k=B=null}},J=g.effect=new bg(G,()=>nS(j),g.scope),j=g.update=()=>J.run();j.id=g.uid,$s(g,!0),j()},We=(g,S,k)=>{S.component=g;const B=g.vnode.props;g.vnode=S,g.next=null,_3(g,S.props,B,k),E3(g,S.children,k),Po(),Bh(void 0,g.update),No()},Bt=(g,S,k,B,L,q,ee,G,J=!1)=>{const j=g&&g.children,ue=g?g.shapeFlag:0,oe=S.children,{patchFlag:le,shapeFlag:ge}=S;if(le>0){if(le&128){ae(j,oe,k,B,L,q,ee,G,J);return}else if(le&256){Ln(j,oe,k,B,L,q,ee,G,J);return}}ge&8?(ue&16&&N(j,L,q),oe!==j&&l(k,oe)):ue&16?ge&16?ae(j,oe,k,B,L,q,ee,G,J):N(j,L,q,!0):(ue&8&&l(k,""),ge&16&&X(oe,k,B,L,q,ee,G,J))},Ln=(g,S,k,B,L,q,ee,G,J)=>{g=g||no,S=S||no;const j=g.length,ue=S.length,oe=Math.min(j,ue);let le;for(le=0;le<oe;le++){const ge=S[le]=J?rs(S[le]):ir(S[le]);E(g[le],ge,k,null,L,q,ee,G,J)}j>ue?N(g,L,q,!0,!1,oe):X(S,k,B,L,q,ee,G,J,oe)},ae=(g,S,k,B,L,q,ee,G,J)=>{let j=0;const ue=S.length;let oe=g.length-1,le=ue-1;for(;j<=oe&&j<=le;){const ge=g[j],Le=S[j]=J?rs(S[j]):ir(S[j]);if(sa(ge,Le))E(ge,Le,k,null,L,q,ee,G,J);else break;j++}for(;j<=oe&&j<=le;){const ge=g[oe],Le=S[le]=J?rs(S[le]):ir(S[le]);if(sa(ge,Le))E(ge,Le,k,null,L,q,ee,G,J);else break;oe--,le--}if(j>oe){if(j<=le){const ge=le+1,Le=ge<ue?S[ge].el:B;for(;j<=le;)E(null,S[j]=J?rs(S[j]):ir(S[j]),k,Le,L,q,ee,G,J),j++}}else if(j>le)for(;j<=oe;)Ae(g[j],L,q,!0),j++;else{const ge=j,Le=j,Ge=new Map;for(j=Le;j<=le;j++){const nn=S[j]=J?rs(S[j]):ir(S[j]);nn.key!=null&&Ge.set(nn.key,j)}let qe,Ze=0;const dn=le-Le+1;let Er=!1,ea=0;const Sr=new Array(dn);for(j=0;j<dn;j++)Sr[j]=0;for(j=ge;j<=oe;j++){const nn=g[j];if(Ze>=dn){Ae(nn,L,q,!0);continue}let pn;if(nn.key!=null)pn=Ge.get(nn.key);else for(qe=Le;qe<=le;qe++)if(Sr[qe-Le]===0&&sa(nn,S[qe])){pn=qe;break}pn===void 0?Ae(nn,L,q,!0):(Sr[pn-Le]=j+1,pn>=ea?ea=pn:Er=!0,E(nn,S[pn],k,null,L,q,ee,G,J),Ze++)}const mu=Er?C3(Sr):no;for(qe=mu.length-1,j=dn-1;j>=0;j--){const nn=Le+j,pn=S[nn],ta=nn+1<ue?S[nn+1].el:B;Sr[j]===0?E(null,pn,k,ta,L,q,ee,G,J):Er&&(qe<0||j!==mu[qe]?we(pn,k,ta,2):qe--)}}},we=(g,S,k,B,L=null)=>{const{el:q,type:ee,transition:G,children:J,shapeFlag:j}=g;if(j&6){we(g.component.subTree,S,k,B);return}if(j&128){g.suspense.move(S,k,B);return}if(j&64){ee.move(g,S,k,Ne);return}if(ee===on){r(q,S,k);for(let oe=0;oe<J.length;oe++)we(J[oe],S,k,B);r(g.anchor,S,k);return}if(ee===dl){V(g,S,k);return}if(B!==2&&j&1&&G)if(B===0)G.beforeEnter(q),r(q,S,k),mn(()=>G.enter(q),L);else{const{leave:oe,delayLeave:le,afterLeave:ge}=G,Le=()=>r(q,S,k),Ge=()=>{oe(q,()=>{Le(),ge&&ge()})};le?le(q,Le,Ge):Ge()}else r(q,S,k)},Ae=(g,S,k,B=!1,L=!1)=>{const{type:q,props:ee,ref:G,children:J,dynamicChildren:j,shapeFlag:ue,patchFlag:oe,dirs:le}=g;if(G!=null&&qp(G,null,k,g,!0),ue&256){S.ctx.deactivate(g);return}const ge=ue&1&&le,Le=!Ia(g);let Ge;if(Le&&(Ge=ee&&ee.onVnodeBeforeUnmount)&&er(Ge,S,g),ue&6)ne(g.component,k,B);else{if(ue&128){g.suspense.unmount(k,B);return}ge&&Ns(g,null,S,"beforeUnmount"),ue&64?g.type.remove(g,S,k,L,Ne,B):j&&(q!==on||oe>0&&oe&64)?N(j,S,k,!1,!0):(q===on&&oe&384||!L&&ue&16)&&N(J,S,k),B&&Pe(g)}(Le&&(Ge=ee&&ee.onVnodeUnmounted)||ge)&&mn(()=>{Ge&&er(Ge,S,g),ge&&Ns(g,null,S,"unmounted")},k)},Pe=g=>{const{type:S,el:k,anchor:B,transition:L}=g;if(S===on){D(k,B);return}if(S===dl){R(g);return}const q=()=>{s(k),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(g.shapeFlag&1&&L&&!L.persisted){const{leave:ee,delayLeave:G}=L,J=()=>ee(k,q);G?G(g.el,q,J):J()}else q()},D=(g,S)=>{let k;for(;g!==S;)k=f(g),s(g),g=k;s(S)},ne=(g,S,k)=>{const{bum:B,scope:L,update:q,subTree:ee,um:G}=g;B&&hl(B),L.stop(),q&&(q.active=!1,Ae(ee,g,S,k)),G&&mn(G,S),mn(()=>{g.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},N=(g,S,k,B=!1,L=!1,q=0)=>{for(let ee=q;ee<g.length;ee++)Ae(g[ee],S,k,B,L)},Z=g=>g.shapeFlag&6?Z(g.component.subTree):g.shapeFlag&128?g.suspense.next():f(g.anchor||g.el),$e=(g,S,k)=>{g==null?S._vnode&&Ae(S._vnode,null,null,!0):E(S._vnode||null,g,S,null,null,null,k),iS(),S._vnode=g},Ne={p:E,um:Ae,m:we,r:Pe,mt:nt,mc:X,pc:Bt,pbc:Ce,n:Z,o:e};let Se,_e;return t&&([Se,_e]=t(Ne)),{render:$e,hydrate:Se,createApp:T3($e,Se)}}function $s({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function SS(e,t,n=!1){const r=e.children,s=t.children;if(me(r)&&me(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=rs(s[i]),a.el=o.el),n||SS(o,a))}}function C3(e){const t=e.slice(),n=[0];let r,s,i,o,a;const c=e.length;for(r=0;r<c;r++){const u=e[r];if(u!==0){if(s=n[n.length-1],e[s]<u){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<u?i=a+1:o=a;u<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const O3=e=>e.__isTeleport,on=Symbol(void 0),Mg=Symbol(void 0),bs=Symbol(void 0),dl=Symbol(void 0),Ca=[];let Vn=null;function Fe(e=!1){Ca.push(Vn=e?null:[])}function k3(){Ca.pop(),Vn=Ca[Ca.length-1]||null}let oc=1;function H0(e){oc+=e}function TS(e){return e.dynamicChildren=oc>0?Vn||no:null,k3(),oc>0&&Vn&&Vn.push(e),e}function ot(e,t,n,r,s,i){return TS(F(e,t,n,r,s,i,!0))}function Mr(e,t,n,r,s){return TS(et(e,t,n,r,s,!0))}function Xl(e){return e?e.__v_isVNode===!0:!1}function sa(e,t){return e.type===t.type&&e.key===t.key}const Wh="__vInternal",IS=({key:e})=>e!=null?e:null,pl=({ref:e,ref_key:t,ref_for:n})=>e!=null?xt(e)||yt(e)||Ie(e)?{i:Xt,r:e,k:t,f:!!n}:e:null;function F(e,t=null,n=null,r=0,s=null,i=e===on?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&IS(t),ref:t&&pl(t),scopeId:jh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null};return a?(Pg(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=xt(n)?8:16),oc>0&&!o&&Vn&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Vn.push(c),c}const et=D3;function D3(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===fS)&&(e=bs),Xl(e)){const a=vo(e,t,!0);return n&&Pg(a,n),oc>0&&!i&&Vn&&(a.shapeFlag&6?Vn[Vn.indexOf(e)]=a:Vn.push(a)),a.patchFlag|=-2,a}if(U3(e)&&(e=e.__vccOpts),t){t=x3(t);let{class:a,style:c}=t;a&&!xt(a)&&(t.class=Rh(a)),Et(c)&&(XE(c)&&!me(c)&&(c=hn({},c)),t.style=gg(c))}const o=xt(e)?1:JM(e)?128:O3(e)?64:Et(e)?4:Ie(e)?2:0;return F(e,t,n,r,s,o,i,!0)}function x3(e){return e?XE(e)||Wh in e?hn({},e):e:null}function vo(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=e,a=t?R3(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&IS(a),ref:t&&t.ref?n&&s?me(s)?s.concat(pl(t)):[s,pl(t)]:pl(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==on?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&vo(e.ssContent),ssFallback:e.ssFallback&&vo(e.ssFallback),el:e.el,anchor:e.anchor}}function mi(e=" ",t=0){return et(Mg,null,e,t)}function gi(e,t){const n=et(dl,null,e);return n.staticCount=t,n}function vn(e="",t=!1){return t?(Fe(),Mr(bs,null,e)):et(bs,null,e)}function ir(e){return e==null||typeof e=="boolean"?et(bs):me(e)?et(on,null,e.slice()):typeof e=="object"?rs(e):et(Mg,null,String(e))}function rs(e){return e.el===null||e.memo?e:vo(e)}function Pg(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(me(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Pg(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Wh in t)?t._ctx=Xt:s===3&&Xt&&(Xt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ie(t)?(t={default:t,_ctx:Xt},n=32):(t=String(t),r&64?(n=16,t=[mi(t)]):n=8);e.children=t,e.shapeFlag|=n}function R3(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Rh([t.class,r.class]));else if(s==="style")t.style=gg([t.style,r.style]);else if(Mh(s)){const i=t[s],o=r[s];o&&i!==o&&!(me(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function er(e,t,n,r=null){Hn(e,t,7,[n,r])}const M3=ES();let P3=0;function N3(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||M3,i={uid:P3++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new FE(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yS(r,s),emitsOptions:aS(r,s),emit:null,emitted:null,propsDefaults:it,inheritAttrs:r.inheritAttrs,ctx:it,data:it,props:it,attrs:it,slots:it,refs:it,setupState:it,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=HM.bind(null,i),e.ce&&e.ce(i),i}let Nt=null;const Ng=()=>Nt||Xt,yo=e=>{Nt=e,e.scope.on()},Qs=()=>{Nt&&Nt.scope.off(),Nt=null};function AS(e){return e.vnode.shapeFlag&4}let ac=!1;function $3(e,t=!1){ac=t;const{props:n,children:r}=e.vnode,s=AS(e);y3(e,n,s,t),b3(e,r);const i=s?L3(e,t):void 0;return ac=!1,i}function L3(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=go(new Proxy(e.ctx,f3));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?OS(e):null;yo(e),Po();const i=ps(r,e,0,[e.props,s]);if(No(),Qs(),NE(i)){if(i.then(Qs,Qs),t)return i.then(o=>{Y0(e,o,t)}).catch(o=>{Fh(o,e,0)});e.asyncDep=i}else Y0(e,i,t)}else CS(e,t)}function Y0(e,t,n){Ie(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Et(t)&&(e.setupState=eS(t)),CS(e,n)}let K0;function CS(e,t,n){const r=e.type;if(!e.render){if(!t&&K0&&!r.render){const s=r.template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:c}=r,u=hn(hn({isCustomElement:i,delimiters:a},o),c);r.render=K0(s,u)}}e.render=r.render||zn}yo(e),Po(),d3(e),No(),Qs()}function F3(e){return new Proxy(e.attrs,{get(t,n){return In(e,"get","$attrs"),t[n]}})}function OS(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=F3(e))},slots:e.slots,emit:e.emit,expose:t}}function zh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(eS(go(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Gl)return Gl[n](e)}}))}function B3(e){return Ie(e)&&e.displayName||e.name}function U3(e){return Ie(e)&&"__vccOpts"in e}const Sn=(e,t)=>BM(e,t,ac);function Rne(){return j3().slots}function j3(){const e=Ng();return e.setupContext||(e.setupContext=OS(e))}function kS(e,t,n){const r=arguments.length;return r===2?Et(t)&&!me(t)?Xl(t)?et(e,null,[t]):et(e,t):et(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Xl(n)&&(n=[n]),et(e,t,n))}const V3="3.2.36",W3="http://www.w3.org/2000/svg",js=typeof document!="undefined"?document:null,G0=js&&js.createElement("template"),z3={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?js.createElementNS(W3,e):js.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>js.createTextNode(e),createComment:e=>js.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>js.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{G0.innerHTML=r?`<svg>${e}</svg>`:e;const a=G0.content;if(r){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function H3(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Y3(e,t,n){const r=e.style,s=xt(n);if(n&&!s){for(const i in n)Xp(r,i,n[i]);if(t&&!xt(t))for(const i in t)n[i]==null&&Xp(r,i,"")}else{const i=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const q0=/\s*!important$/;function Xp(e,t,n){if(me(n))n.forEach(r=>Xp(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=K3(e,t);q0.test(n)?e.setProperty(pi(r),n.replace(q0,""),"important"):e[r]=n}}const X0=["Webkit","Moz","ms"],ld={};function K3(e,t){const n=ld[t];if(n)return n;let r=gr(t);if(r!=="filter"&&r in e)return ld[t]=r;r=$h(r);for(let s=0;s<X0.length;s++){const i=X0[s]+r;if(i in e)return ld[t]=i}return t}const Q0="http://www.w3.org/1999/xlink";function G3(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Q0,t.slice(6,t.length)):e.setAttributeNS(Q0,t,n);else{const i=KR(t);n==null||i&&!RE(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function q3(e,t,n,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const c=n==null?"":n;(e.value!==c||e.tagName==="OPTION")&&(e.value=c),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=RE(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}const[DS,X3]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let Qp=0;const Q3=Promise.resolve(),J3=()=>{Qp=0},Z3=()=>Qp||(Q3.then(J3),Qp=DS());function os(e,t,n,r){e.addEventListener(t,n,r)}function eP(e,t,n,r){e.removeEventListener(t,n,r)}function tP(e,t,n,r,s=null){const i=e._vei||(e._vei={}),o=i[t];if(r&&o)o.value=r;else{const[a,c]=nP(t);if(r){const u=i[t]=rP(r,s);os(e,a,u,c)}else o&&(eP(e,a,o,c),i[t]=void 0)}}const J0=/(?:Once|Passive|Capture)$/;function nP(e){let t;if(J0.test(e)){t={};let n;for(;n=e.match(J0);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[pi(e.slice(2)),t]}function rP(e,t){const n=r=>{const s=r.timeStamp||DS();(X3||s>=n.attached-1)&&Hn(sP(r,n.value),t,5,[r])};return n.value=e,n.attached=Z3(),n}function sP(e,t){if(me(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Z0=/^on[a-z]/,iP=(e,t,n,r,s=!1,i,o,a,c)=>{t==="class"?H3(e,r,s):t==="style"?Y3(e,n,r):Mh(t)?vg(t)||tP(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):oP(e,t,r,s))?q3(e,t,r,i,o,a,c):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),G3(e,t,r,s))};function oP(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Z0.test(t)&&Ie(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Z0.test(t)&&xt(n)?!1:t in e}const _o=e=>{const t=e.props["onUpdate:modelValue"]||!1;return me(t)?n=>hl(t,n):t};function aP(e){e.target.composing=!0}function e_(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Mne={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e._assign=_o(s);const i=r||s.props&&s.props.type==="number";os(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=Lp(a)),e._assign(a)}),n&&os(e,"change",()=>{e.value=e.value.trim()}),t||(os(e,"compositionstart",aP),os(e,"compositionend",e_),os(e,"change",e_))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},i){if(e._assign=_o(i),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(s||e.type==="number")&&Lp(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},Pne={deep:!0,created(e,t,n){e._assign=_o(n),os(e,"change",()=>{const r=e._modelValue,s=xS(e),i=e.checked,o=e._assign;if(me(r)){const a=ME(r,s),c=a!==-1;if(i&&!c)o(r.concat(s));else if(!i&&c){const u=[...r];u.splice(a,1),o(u)}}else if(Ph(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(RS(e,i))})},mounted:t_,beforeUpdate(e,t,n){e._assign=_o(n),t_(e,t,n)}};function t_(e,{value:t,oldValue:n},r){e._modelValue=t,me(t)?e.checked=ME(t,r.props.value)>-1:Ph(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=mo(t,RS(e,!0)))}const Nne={created(e,{value:t},n){e.checked=mo(t,n.props.value),e._assign=_o(n),os(e,"change",()=>{e._assign(xS(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=_o(r),t!==n&&(e.checked=mo(t,r.props.value))}};function xS(e){return"_value"in e?e._value:e.value}function RS(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const cP=["ctrl","shift","alt","meta"],uP={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>cP.some(n=>e[`${n}Key`]&&!t.includes(n))},$ne=(e,t)=>(n,...r)=>{for(let s=0;s<t.length;s++){const i=uP[t[s]];if(i&&i(n,t))return}return e(n,...r)},lP={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Lne=(e,t)=>n=>{if(!("key"in n))return;const r=pi(n.key);if(t.some(s=>s===r||lP[s]===r))return e(n)},hP=hn({patchProp:iP},z3);let n_;function fP(){return n_||(n_=I3(hP))}const dP=(...e)=>{const t=fP().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=pP(r);if(!s)return;const i=t._component;!Ie(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function pP(e){return xt(e)?document.querySelector(e):e}var mP=!1;function gP(){return MS().__VUE_DEVTOOLS_GLOBAL_HOOK__}function MS(){return typeof navigator!="undefined"&&typeof window!="undefined"?window:typeof global!="undefined"?global:{}}const vP=typeof Proxy=="function",yP="devtools-plugin:setup",_P="plugin:settings:set";let Di,Jp;function wP(){var e;return Di!==void 0||(typeof window!="undefined"&&window.performance?(Di=!0,Jp=window.performance):typeof global!="undefined"&&((e=global.perf_hooks)===null||e===void 0?void 0:e.performance)?(Di=!0,Jp=global.perf_hooks.performance):Di=!1),Di}function bP(){return wP()?Jp.now():Date.now()}class EP{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const o in t.settings){const a=t.settings[o];r[o]=a.defaultValue}const s=`__vue-devtools-plugin-settings__${t.id}`;let i=Object.assign({},r);try{const o=localStorage.getItem(s),a=JSON.parse(o);Object.assign(i,a)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(s,JSON.stringify(o))}catch{}i=o},now(){return bP()}},n&&n.on(_P,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...c)=>{this.onQueue.push({method:a,args:c})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...c)=>(this.targetQueue.push({method:a,args:c,resolve:()=>{}}),this.fallbacks[a](...c)):(...c)=>new Promise(u=>{this.targetQueue.push({method:a,args:c,resolve:u})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function SP(e,t){const n=e,r=MS(),s=gP(),i=vP&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))s.emit(yP,e,t);else{const o=i?new EP(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let PS;const Hh=e=>PS=e,NS=Symbol();function Zp(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Oa;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Oa||(Oa={}));function TP(){const e=BE(!0),t=e.run(()=>Yn({}));let n=[],r=[];const s=go({install(i){Hh(s),s._a=i,i.provide(NS,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!mP?r.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const $S=()=>{};function r_(e,t,n,r=$S){e.push(t);const s=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&Ng()&&Dg(s),s}function xi(e,...t){e.slice().forEach(n=>{n(...t)})}function em(e,t){for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];Zp(s)&&Zp(r)&&e.hasOwnProperty(n)&&!yt(r)&&!ds(r)?e[n]=em(s,r):e[n]=r}return e}const IP=Symbol();function AP(e){return!Zp(e)||!e.hasOwnProperty(IP)}const{assign:Cr}=Object;function CP(e){return!!(yt(e)&&e.effect)}function OP(e,t,n,r){const{state:s,actions:i,getters:o}=t,a=n.state.value[e];let c;function u(){a||(n.state.value[e]=s?s():{});const l=NM(n.state.value[e]);return Cr(l,i,Object.keys(o||{}).reduce((h,f)=>(h[f]=go(Sn(()=>{Hh(n);const p=n._s.get(e);return o[f].call(p,p)})),h),{}))}return c=LS(e,u,t,n,r,!0),c.$reset=function(){const h=s?s():{};this.$patch(f=>{Cr(f,h)})},c}function LS(e,t,n={},r,s,i){let o;const a=Cr({actions:{}},n),c={deep:!0};let u,l,h=go([]),f=go([]),p;const v=r.state.value[e];!i&&!v&&(r.state.value[e]={}),Yn({});let O;function E(w){let C;u=l=!1,typeof w=="function"?(w(r.state.value[e]),C={type:Oa.patchFunction,storeId:e,events:p}):(em(r.state.value[e],w),C={type:Oa.patchObject,payload:w,storeId:e,events:p});const X=O=Symbol();Og().then(()=>{O===X&&(u=!0)}),l=!0,xi(h,C,r.state.value[e])}const A=$S;function x(){o.stop(),h=[],f=[],r._s.delete(e)}function H(w,C){return function(){Hh(r);const X=Array.from(arguments),de=[],Ce=[];function Re(nt){de.push(nt)}function gt(nt){Ce.push(nt)}xi(f,{args:X,name:w,store:R,after:Re,onError:gt});let vt;try{vt=C.apply(this&&this.$id===e?this:R,X)}catch(nt){throw xi(Ce,nt),nt}return vt instanceof Promise?vt.then(nt=>(xi(de,nt),nt)).catch(nt=>(xi(Ce,nt),Promise.reject(nt))):(xi(de,vt),vt)}}const V={_p:r,$id:e,$onAction:r_.bind(null,f),$patch:E,$reset:A,$subscribe(w,C={}){const X=r_(h,w,C.detached,()=>de()),de=o.run(()=>Xs(()=>r.state.value[e],Ce=>{(C.flush==="sync"?l:u)&&w({storeId:e,type:Oa.direct,events:p},Ce)},Cr({},c,C)));return X},$dispose:x},R=Os(Cr({},V));r._s.set(e,R);const M=r._e.run(()=>(o=BE(),o.run(()=>t())));for(const w in M){const C=M[w];if(yt(C)&&!CP(C)||ds(C))i||(v&&AP(C)&&(yt(C)?C.value=v[w]:em(C,v[w])),r.state.value[e][w]=C);else if(typeof C=="function"){const X=H(w,C);M[w]=X,a.actions[w]=C}}return Cr(R,M),Cr(Ke(R),M),Object.defineProperty(R,"$state",{get:()=>r.state.value[e],set:w=>{E(C=>{Cr(C,w)})}}),r._p.forEach(w=>{Cr(R,o.run(()=>w({store:R,app:r._a,pinia:r,options:a})))}),v&&i&&n.hydrate&&n.hydrate(R.$state,v),u=!0,l=!0,R}function Fne(e,t,n){let r,s;const i=typeof t=="function";typeof e=="string"?(r=e,s=i?n:t):(s=e,r=e.id);function o(a,c){const u=Ng();return a=a||u&&xn(NS),a&&Hh(a),a=PS,a._s.has(r)||(i?LS(r,t,s,a):OP(r,s,a)),a._s.get(r)}return o.$id=r,o}const FS=Yn([]),BS=Yn(null),US=Yn(null),jS=Yn(null),VS=Yn(null),Qt=Os({current:""}),tm=[],kP=Yn(!1),nm=ks(FS),DP=ks(BS),xP=ks(US),RP=ks(jS),MP=ks(VS),PP=ks(Qt),NP=e=>{FS.value=e},$P=e=>{BS.value=e},LP=e=>{US.value=e},FP=e=>{jS.value=e},BP=e=>{VS.value=e},WS=(e=DP.value)=>{Qt.current=e;const t=nm.value.findIndex(r=>r.name===e),n=nm.value.map(r=>r.name);for(let r=0;r<n.length;r++){if(r>0&&r<n.length-1){const s=n[r]+"Minus",i=n[r]+"Plus";Qt[s]=t<=r,Qt[i]=t>=r}Qt[n[r]]=n[r]===e}},UP=()=>{const e=Object.keys(Qt);for(let t of e)delete Qt[t];WS(),zS(),HS(),YS()},zS=(e=xP.value)=>{Qt.orientation=e,Qt.isLandscape=e==="landscape",Qt.isPortrait=e==="portrait"},HS=(e=RP.value||"light")=>{Qt.theme=e,Qt.isDark=e==="dark",Qt.isLight=e==="light"},YS=(e=MP.value||"no-preference")=>{Qt.motionPreference=e,Qt.isMotion=e==="no-preference",Qt.isInert=e==="reduce"};function jP(){for(;tm.length>0;){const e=tm.shift();if(e&&typeof e=="object"){const{mql:t,cb:n}=e;t.addEventListener&&typeof t.addEventListener=="function"?t.removeEventListener("change",n):t.removeListener(n)}}}function VP(){return nm.value.reduce((t,n,r,s)=>{const i=`(min-width: ${n.min}px)`,o=r<s.length-1?`(max-width: ${s[r+1].min-1}px)`:null,a=i+(o?" and "+o:"");return Object.assign(t,{[n.name]:a})},{})}function Su(e,t){if(typeof window=="undefined"||!window.matchMedia)return!1;if(typeof window!="undefined"&&!window.matchMedia)return console.error("Vue3 Mq: No MatchMedia support detected in this browser. Responsive breakpoints not available."),!1;{kP.value=!0;const n=window.matchMedia(e),r=({matches:i})=>{i&&t()};tm.push({mql:n,cb:r}),n.addEventListener&&typeof n.addEventListener=="function"?n.addEventListener("change",r):n.addListener(r),r(n)}}const WP={xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400},zP={xs:0,sm:576,md:768,lg:992,xl:1200},HP={xs:0,sm:768,md:992,lg:1200},YP={xs:0,sm:600,md:960,lg:1264,xl:1904},KP={xs:0,sm:640,md:768,lg:1024,xl:1280,xxl:1536},GP={phone:0,tablet:768,laptop:1370,desktop:1906},qP={mobile:0,small:600,medium:782,large:960,xlarge:1080,wide:1280,huge:1440};var hd=Object.freeze(Object.defineProperty({__proto__:null,bootstrap5:WP,bootstrap4:zP,bootstrap3:HP,vuetify:YP,tailwind:KP,devices:GP,wordpress:qP},Symbol.toStringTag,{value:"Module"}));const XP=e=>{if(typeof e=="string"&&hd[e])return hd[e];{const t=Object.keys(hd);return console.error(`Vue3 Mq: "${e}" is not a valid preset. Available options are: ${t.join(", ")}`),!1}},QP=e=>["landscape","portrait"].includes(e)===!1?(console.error(`Vue3 Mq: "${e}" is not a valid default orientation. Reverting to unset value.`),null):e,JP=(e=null)=>["dark","light"].includes(e)===!1&&e!==null?(console.error(`Vue3 Mq: "${e}" is not a valid default theme. Reverting to unset value.`),null):e,ZP=(e=null)=>["no-preference","reduce"].includes(e)===!1&&e!==null?(console.error(`Vue3 Mq: "${e}" is not a valid default motion preference. Reverting to unset value.`),null):e,s_=e=>{if(!e||typeof e!="object")return!1;const t=[];for(let s in e){const i=parseFloat(e[s]);if(!s||typeof s!="string"){console.warn(`Vue3 Mq: Invalid or missing breakpoint key (${JSON.stringify(s)}). Skipping.`);continue}else if(/^[^a-z]/i.test(s)||/[^a-zA-Z0-9_]/.test(s)){console.warn(`Vue3 Mq: "${s}" is an invalid breakpoint key. Breakpoint keys must start with a letter and contain only alphanumeric characters and underscores. Skipping.`);continue}else if(!i&&i!==0||isNaN(i)||i<0){console.warn(`Vue3 Mq: "${s}: ${e[s]}" is not a valid breakpoint. Breakpoints should be a number of zero or above. Skipping.`);continue}t.push({name:s,min:i})}return t.some(s=>s.min===0)||console.warn("Vue3 Mq: You have not declared a breakpoint with a minimum value of 0. There may be screen sizes to which Vue3Mq does not respond."),new Set(t.map(s=>s.min)).size<t.length&&console.warn("Vue3 Mq: Your breakpoint configuration contains duplicate values. Behaviour may be unpredictable."),t.length===0?!1:t.sort((s,i)=>s.min-i.min)};function i_({breakpoints:e,preset:t}){const n=XP(t),r=s_(e);if(n===!1&&!r)throw new TypeError("Vue3 Mq: You must provide a valid preset, or valid breakpoint settings.");NP(r||s_(n)),jP(),UP();const s=VP();for(const i in s){const o=s[i];Su(o,()=>{WS(i)})}["portrait","landscape"].forEach(i=>{const o=()=>{zS(i)};Su(`(orientation: ${i})`,o)}),["light","dark"].forEach(i=>{const o=()=>{HS(i)};Su(`(prefers-color-scheme: ${i})`,o)}),["reduce","no-preference"].forEach(i=>{const o=()=>{YS(i)};Su(`(prefers-reduced-motion: ${i})`,o)})}const eN=(e,{preset:t="bootstrap5",breakpoints:n,defaultBreakpoint:r,defaultOrientation:s="landscape",defaultMotion:i="no-preference",defaultTheme:o}={})=>{try{const a=QP(s),c=JP(o),u=ZP(i);$P(r),LP(a),FP(c),BP(u),e.provide("mq",PP),e.provide("updateBreakpoints",i_),i_({breakpoints:n,preset:t})}catch(a){console.error(a)}};var tN={install:eN};const nN="modulepreload",o_={},rN="/",mt=function(t,n){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=`${rN}${r}`,r in o_)return;o_[r]=!0;const s=r.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const o=document.createElement("link");if(o.rel=s?"stylesheet":nN,s||(o.as="script",o.crossOrigin=""),o.href=r,document.head.appendChild(o),s)return new Promise((a,c)=>{o.addEventListener("load",a),o.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var KS;function te(){return KS.apply(null,arguments)}function sN(e){KS=e}function Kn(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Js(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function ze(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $g(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(ze(e,t))return!1;return!0}function gn(e){return e===void 0}function Vr(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function jc(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function GS(e,t){var n=[],r,s=e.length;for(r=0;r<s;++r)n.push(t(e[r],r));return n}function us(e,t){for(var n in t)ze(t,n)&&(e[n]=t[n]);return ze(t,"toString")&&(e.toString=t.toString),ze(t,"valueOf")&&(e.valueOf=t.valueOf),e}function _r(e,t,n,r){return yT(e,t,n,r,!0).utc()}function iN(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Te(e){return e._pf==null&&(e._pf=iN()),e._pf}var rm;Array.prototype.some?rm=Array.prototype.some:rm=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function Lg(e){if(e._isValid==null){var t=Te(e),n=rm.call(t.parsedDateParts,function(s){return s!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function Yh(e){var t=_r(NaN);return e!=null?us(Te(t),e):Te(t).userInvalidated=!0,t}var a_=te.momentProperties=[],fd=!1;function Fg(e,t){var n,r,s,i=a_.length;if(gn(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),gn(t._i)||(e._i=t._i),gn(t._f)||(e._f=t._f),gn(t._l)||(e._l=t._l),gn(t._strict)||(e._strict=t._strict),gn(t._tzm)||(e._tzm=t._tzm),gn(t._isUTC)||(e._isUTC=t._isUTC),gn(t._offset)||(e._offset=t._offset),gn(t._pf)||(e._pf=Te(t)),gn(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)r=a_[n],s=t[r],gn(s)||(e[r]=s);return e}function Vc(e){Fg(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),fd===!1&&(fd=!0,te.updateOffset(this),fd=!1)}function Gn(e){return e instanceof Vc||e!=null&&e._isAMomentObject!=null}function qS(e){te.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function Mn(e,t){var n=!0;return us(function(){if(te.deprecationHandler!=null&&te.deprecationHandler(null,e),n){var r=[],s,i,o,a=arguments.length;for(i=0;i<a;i++){if(s="",typeof arguments[i]=="object"){s+=`
[`+i+"] ";for(o in arguments[0])ze(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[i];r.push(s)}qS(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var c_={};function XS(e,t){te.deprecationHandler!=null&&te.deprecationHandler(e,t),c_[e]||(qS(t),c_[e]=!0)}te.suppressDeprecationWarnings=!1;te.deprecationHandler=null;function wr(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function oN(e){var t,n;for(n in e)ze(e,n)&&(t=e[n],wr(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function sm(e,t){var n=us({},e),r;for(r in t)ze(t,r)&&(Js(e[r])&&Js(t[r])?(n[r]={},us(n[r],e[r]),us(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)ze(e,r)&&!ze(t,r)&&Js(e[r])&&(n[r]=us({},n[r]));return n}function Bg(e){e!=null&&this.set(e)}var im;Object.keys?im=Object.keys:im=function(e){var t,n=[];for(t in e)ze(e,t)&&n.push(t);return n};var aN={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function cN(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return wr(r)?r.call(t,n):r}function vr(e,t,n){var r=""+Math.abs(e),s=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var Ug=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Tu=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,dd={},so={};function fe(e,t,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),e&&(so[e]=s),t&&(so[t[0]]=function(){return vr(s.apply(this,arguments),t[1],t[2])}),n&&(so[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function uN(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function lN(e){var t=e.match(Ug),n,r;for(n=0,r=t.length;n<r;n++)so[t[n]]?t[n]=so[t[n]]:t[n]=uN(t[n]);return function(s){var i="",o;for(o=0;o<r;o++)i+=wr(t[o])?t[o].call(s,e):t[o];return i}}function ml(e,t){return e.isValid()?(t=QS(t,e.localeData()),dd[t]=dd[t]||lN(t),dd[t](e)):e.localeData().invalidDate()}function QS(e,t){var n=5;function r(s){return t.longDateFormat(s)||s}for(Tu.lastIndex=0;n>=0&&Tu.test(e);)e=e.replace(Tu,r),Tu.lastIndex=0,n-=1;return e}var hN={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function fN(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Ug).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var dN="Invalid date";function pN(){return this._invalidDate}var mN="%d",gN=/\d{1,2}/;function vN(e){return this._ordinal.replace("%d",e)}var yN={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function _N(e,t,n,r){var s=this._relativeTime[n];return wr(s)?s(e,t,n,r):s.replace(/%d/i,e)}function wN(e,t){var n=this._relativeTime[e>0?"future":"past"];return wr(n)?n(t):n.replace(/%s/i,t)}var ka={};function en(e,t){var n=e.toLowerCase();ka[n]=ka[n+"s"]=ka[t]=e}function Pn(e){return typeof e=="string"?ka[e]||ka[e.toLowerCase()]:void 0}function jg(e){var t={},n,r;for(r in e)ze(e,r)&&(n=Pn(r),n&&(t[n]=e[r]));return t}var JS={};function tn(e,t){JS[e]=t}function bN(e){var t=[],n;for(n in e)ze(e,n)&&t.push({unit:n,priority:JS[n]});return t.sort(function(r,s){return r.priority-s.priority}),t}function Kh(e){return e%4===0&&e%100!==0||e%400===0}function Dn(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function xe(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Dn(t)),n}function $o(e,t){return function(n){return n!=null?(ZS(this,e,n),te.updateOffset(this,t),this):Ql(this,e)}}function Ql(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ZS(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&Kh(e.year())&&e.month()===1&&e.date()===29?(n=xe(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Zh(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function EN(e){return e=Pn(e),wr(this[e])?this[e]():this}function SN(e,t){if(typeof e=="object"){e=jg(e);var n=bN(e),r,s=n.length;for(r=0;r<s;r++)this[n[r].unit](e[n[r].unit])}else if(e=Pn(e),wr(this[e]))return this[e](t);return this}var eT=/\d/,Cn=/\d\d/,tT=/\d{3}/,Vg=/\d{4}/,Gh=/[+-]?\d{6}/,ht=/\d\d?/,nT=/\d\d\d\d?/,rT=/\d\d\d\d\d\d?/,qh=/\d{1,3}/,Wg=/\d{1,4}/,Xh=/[+-]?\d{1,6}/,Lo=/\d+/,Qh=/[+-]?\d+/,TN=/Z|[+-]\d\d:?\d\d/gi,Jh=/Z|[+-]\d\d(?::?\d\d)?/gi,IN=/[+-]?\d+(\.\d{1,3})?/,Wc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Jl;Jl={};function re(e,t,n){Jl[e]=wr(t)?t:function(r,s){return r&&n?n:t}}function AN(e,t){return ze(Jl,e)?Jl[e](t._strict,t._locale):new RegExp(CN(e))}function CN(e){return bn(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,s,i){return n||r||s||i}))}function bn(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var om={};function tt(e,t){var n,r=t,s;for(typeof e=="string"&&(e=[e]),Vr(t)&&(r=function(i,o){o[t]=xe(i)}),s=e.length,n=0;n<s;n++)om[e[n]]=r}function zc(e,t){tt(e,function(n,r,s,i){s._w=s._w||{},t(n,s._w,s,i)})}function ON(e,t,n){t!=null&&ze(om,e)&&om[e](t,n._a,n,e)}var Jt=0,Pr=1,ur=2,Ot=3,Wn=4,Nr=5,Ws=6,kN=7,DN=8;function xN(e,t){return(e%t+t)%t}var wt;Array.prototype.indexOf?wt=Array.prototype.indexOf:wt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Zh(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=xN(t,12);return e+=(t-n)/12,n===1?Kh(e)?29:28:31-n%7%2}fe("M",["MM",2],"Mo",function(){return this.month()+1});fe("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});fe("MMMM",0,0,function(e){return this.localeData().months(this,e)});en("month","M");tn("month",8);re("M",ht);re("MM",ht,Cn);re("MMM",function(e,t){return t.monthsShortRegex(e)});re("MMMM",function(e,t){return t.monthsRegex(e)});tt(["M","MM"],function(e,t){t[Pr]=xe(e)-1});tt(["MMM","MMMM"],function(e,t,n,r){var s=n._locale.monthsParse(e,r,n._strict);s!=null?t[Pr]=s:Te(n).invalidMonth=e});var RN="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),sT="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),iT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,MN=Wc,PN=Wc;function NN(e,t){return e?Kn(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||iT).test(t)?"format":"standalone"][e.month()]:Kn(this._months)?this._months:this._months.standalone}function $N(e,t){return e?Kn(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[iT.test(t)?"format":"standalone"][e.month()]:Kn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function LN(e,t,n){var r,s,i,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=_r([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(s=wt.call(this._shortMonthsParse,o),s!==-1?s:null):(s=wt.call(this._longMonthsParse,o),s!==-1?s:null):t==="MMM"?(s=wt.call(this._shortMonthsParse,o),s!==-1?s:(s=wt.call(this._longMonthsParse,o),s!==-1?s:null)):(s=wt.call(this._longMonthsParse,o),s!==-1?s:(s=wt.call(this._shortMonthsParse,o),s!==-1?s:null))}function FN(e,t,n){var r,s,i;if(this._monthsParseExact)return LN.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=_r([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function oT(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=xe(t);else if(t=e.localeData().monthsParse(t),!Vr(t))return e}return n=Math.min(e.date(),Zh(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function aT(e){return e!=null?(oT(this,e),te.updateOffset(this,!0),this):Ql(this,"Month")}function BN(){return Zh(this.year(),this.month())}function UN(e){return this._monthsParseExact?(ze(this,"_monthsRegex")||cT.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ze(this,"_monthsShortRegex")||(this._monthsShortRegex=MN),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function jN(e){return this._monthsParseExact?(ze(this,"_monthsRegex")||cT.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ze(this,"_monthsRegex")||(this._monthsRegex=PN),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function cT(){function e(o,a){return a.length-o.length}var t=[],n=[],r=[],s,i;for(s=0;s<12;s++)i=_r([2e3,s]),t.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(t.sort(e),n.sort(e),r.sort(e),s=0;s<12;s++)t[s]=bn(t[s]),n[s]=bn(n[s]);for(s=0;s<24;s++)r[s]=bn(r[s]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}fe("Y",0,0,function(){var e=this.year();return e<=9999?vr(e,4):"+"+e});fe(0,["YY",2],0,function(){return this.year()%100});fe(0,["YYYY",4],0,"year");fe(0,["YYYYY",5],0,"year");fe(0,["YYYYYY",6,!0],0,"year");en("year","y");tn("year",1);re("Y",Qh);re("YY",ht,Cn);re("YYYY",Wg,Vg);re("YYYYY",Xh,Gh);re("YYYYYY",Xh,Gh);tt(["YYYYY","YYYYYY"],Jt);tt("YYYY",function(e,t){t[Jt]=e.length===2?te.parseTwoDigitYear(e):xe(e)});tt("YY",function(e,t){t[Jt]=te.parseTwoDigitYear(e)});tt("Y",function(e,t){t[Jt]=parseInt(e,10)});function Da(e){return Kh(e)?366:365}te.parseTwoDigitYear=function(e){return xe(e)+(xe(e)>68?1900:2e3)};var uT=$o("FullYear",!0);function VN(){return Kh(this.year())}function WN(e,t,n,r,s,i,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,s,i,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,s,i,o),a}function cc(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Zl(e,t,n){var r=7+t-n,s=(7+cc(e,0,r).getUTCDay()-t)%7;return-s+r-1}function lT(e,t,n,r,s){var i=(7+n-r)%7,o=Zl(e,r,s),a=1+7*(t-1)+i+o,c,u;return a<=0?(c=e-1,u=Da(c)+a):a>Da(e)?(c=e+1,u=a-Da(e)):(c=e,u=a),{year:c,dayOfYear:u}}function uc(e,t,n){var r=Zl(e.year(),t,n),s=Math.floor((e.dayOfYear()-r-1)/7)+1,i,o;return s<1?(o=e.year()-1,i=s+Lr(o,t,n)):s>Lr(e.year(),t,n)?(i=s-Lr(e.year(),t,n),o=e.year()+1):(o=e.year(),i=s),{week:i,year:o}}function Lr(e,t,n){var r=Zl(e,t,n),s=Zl(e+1,t,n);return(Da(e)-r+s)/7}fe("w",["ww",2],"wo","week");fe("W",["WW",2],"Wo","isoWeek");en("week","w");en("isoWeek","W");tn("week",5);tn("isoWeek",5);re("w",ht);re("ww",ht,Cn);re("W",ht);re("WW",ht,Cn);zc(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=xe(e)});function zN(e){return uc(e,this._week.dow,this._week.doy).week}var HN={dow:0,doy:6};function YN(){return this._week.dow}function KN(){return this._week.doy}function GN(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function qN(e){var t=uc(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}fe("d",0,"do","day");fe("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});fe("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});fe("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});fe("e",0,0,"weekday");fe("E",0,0,"isoWeekday");en("day","d");en("weekday","e");en("isoWeekday","E");tn("day",11);tn("weekday",11);tn("isoWeekday",11);re("d",ht);re("e",ht);re("E",ht);re("dd",function(e,t){return t.weekdaysMinRegex(e)});re("ddd",function(e,t){return t.weekdaysShortRegex(e)});re("dddd",function(e,t){return t.weekdaysRegex(e)});zc(["dd","ddd","dddd"],function(e,t,n,r){var s=n._locale.weekdaysParse(e,r,n._strict);s!=null?t.d=s:Te(n).invalidWeekday=e});zc(["d","e","E"],function(e,t,n,r){t[r]=xe(e)});function XN(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function QN(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function zg(e,t){return e.slice(t,7).concat(e.slice(0,t))}var JN="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),hT="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ZN="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),e4=Wc,t4=Wc,n4=Wc;function r4(e,t){var n=Kn(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?zg(n,this._week.dow):e?n[e.day()]:n}function s4(e){return e===!0?zg(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function i4(e){return e===!0?zg(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function o4(e,t,n){var r,s,i,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=_r([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(s=wt.call(this._weekdaysParse,o),s!==-1?s:null):t==="ddd"?(s=wt.call(this._shortWeekdaysParse,o),s!==-1?s:null):(s=wt.call(this._minWeekdaysParse,o),s!==-1?s:null):t==="dddd"?(s=wt.call(this._weekdaysParse,o),s!==-1||(s=wt.call(this._shortWeekdaysParse,o),s!==-1)?s:(s=wt.call(this._minWeekdaysParse,o),s!==-1?s:null)):t==="ddd"?(s=wt.call(this._shortWeekdaysParse,o),s!==-1||(s=wt.call(this._weekdaysParse,o),s!==-1)?s:(s=wt.call(this._minWeekdaysParse,o),s!==-1?s:null)):(s=wt.call(this._minWeekdaysParse,o),s!==-1||(s=wt.call(this._weekdaysParse,o),s!==-1)?s:(s=wt.call(this._shortWeekdaysParse,o),s!==-1?s:null))}function a4(e,t,n){var r,s,i;if(this._weekdaysParseExact)return o4.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=_r([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function c4(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=XN(e,this.localeData()),this.add(e-t,"d")):t}function u4(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function l4(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=QN(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function h4(e){return this._weekdaysParseExact?(ze(this,"_weekdaysRegex")||Hg.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ze(this,"_weekdaysRegex")||(this._weekdaysRegex=e4),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function f4(e){return this._weekdaysParseExact?(ze(this,"_weekdaysRegex")||Hg.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ze(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=t4),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function d4(e){return this._weekdaysParseExact?(ze(this,"_weekdaysRegex")||Hg.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ze(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=n4),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Hg(){function e(l,h){return h.length-l.length}var t=[],n=[],r=[],s=[],i,o,a,c,u;for(i=0;i<7;i++)o=_r([2e3,1]).day(i),a=bn(this.weekdaysMin(o,"")),c=bn(this.weekdaysShort(o,"")),u=bn(this.weekdays(o,"")),t.push(a),n.push(c),r.push(u),s.push(a),s.push(c),s.push(u);t.sort(e),n.sort(e),r.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Yg(){return this.hours()%12||12}function p4(){return this.hours()||24}fe("H",["HH",2],0,"hour");fe("h",["hh",2],0,Yg);fe("k",["kk",2],0,p4);fe("hmm",0,0,function(){return""+Yg.apply(this)+vr(this.minutes(),2)});fe("hmmss",0,0,function(){return""+Yg.apply(this)+vr(this.minutes(),2)+vr(this.seconds(),2)});fe("Hmm",0,0,function(){return""+this.hours()+vr(this.minutes(),2)});fe("Hmmss",0,0,function(){return""+this.hours()+vr(this.minutes(),2)+vr(this.seconds(),2)});function fT(e,t){fe(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}fT("a",!0);fT("A",!1);en("hour","h");tn("hour",13);function dT(e,t){return t._meridiemParse}re("a",dT);re("A",dT);re("H",ht);re("h",ht);re("k",ht);re("HH",ht,Cn);re("hh",ht,Cn);re("kk",ht,Cn);re("hmm",nT);re("hmmss",rT);re("Hmm",nT);re("Hmmss",rT);tt(["H","HH"],Ot);tt(["k","kk"],function(e,t,n){var r=xe(e);t[Ot]=r===24?0:r});tt(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});tt(["h","hh"],function(e,t,n){t[Ot]=xe(e),Te(n).bigHour=!0});tt("hmm",function(e,t,n){var r=e.length-2;t[Ot]=xe(e.substr(0,r)),t[Wn]=xe(e.substr(r)),Te(n).bigHour=!0});tt("hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[Ot]=xe(e.substr(0,r)),t[Wn]=xe(e.substr(r,2)),t[Nr]=xe(e.substr(s)),Te(n).bigHour=!0});tt("Hmm",function(e,t,n){var r=e.length-2;t[Ot]=xe(e.substr(0,r)),t[Wn]=xe(e.substr(r))});tt("Hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[Ot]=xe(e.substr(0,r)),t[Wn]=xe(e.substr(r,2)),t[Nr]=xe(e.substr(s))});function m4(e){return(e+"").toLowerCase().charAt(0)==="p"}var g4=/[ap]\.?m?\.?/i,v4=$o("Hours",!0);function y4(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var pT={calendar:aN,longDateFormat:hN,invalidDate:dN,ordinal:mN,dayOfMonthOrdinalParse:gN,relativeTime:yN,months:RN,monthsShort:sT,week:HN,weekdays:JN,weekdaysMin:ZN,weekdaysShort:hT,meridiemParse:g4},ft={},ia={},lc;function _4(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function u_(e){return e&&e.toLowerCase().replace("_","-")}function w4(e){for(var t=0,n,r,s,i;t<e.length;){for(i=u_(e[t]).split("-"),n=i.length,r=u_(e[t+1]),r=r?r.split("-"):null;n>0;){if(s=ef(i.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&_4(i,r)>=n-1)break;n--}t++}return lc}function b4(e){return e.match("^[^/\\\\]*$")!=null}function ef(e){var t=null,n;if(ft[e]===void 0&&typeof module!="undefined"&&module&&module.exports&&b4(e))try{t=lc._abbr,n=require,n("./locale/"+e),ms(t)}catch{ft[e]=null}return ft[e]}function ms(e,t){var n;return e&&(gn(t)?n=Kr(e):n=Kg(e,t),n?lc=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),lc._abbr}function Kg(e,t){if(t!==null){var n,r=pT;if(t.abbr=e,ft[e]!=null)XS("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ft[e]._config;else if(t.parentLocale!=null)if(ft[t.parentLocale]!=null)r=ft[t.parentLocale]._config;else if(n=ef(t.parentLocale),n!=null)r=n._config;else return ia[t.parentLocale]||(ia[t.parentLocale]=[]),ia[t.parentLocale].push({name:e,config:t}),null;return ft[e]=new Bg(sm(r,t)),ia[e]&&ia[e].forEach(function(s){Kg(s.name,s.config)}),ms(e),ft[e]}else return delete ft[e],null}function E4(e,t){if(t!=null){var n,r,s=pT;ft[e]!=null&&ft[e].parentLocale!=null?ft[e].set(sm(ft[e]._config,t)):(r=ef(e),r!=null&&(s=r._config),t=sm(s,t),r==null&&(t.abbr=e),n=new Bg(t),n.parentLocale=ft[e],ft[e]=n),ms(e)}else ft[e]!=null&&(ft[e].parentLocale!=null?(ft[e]=ft[e].parentLocale,e===ms()&&ms(e)):ft[e]!=null&&delete ft[e]);return ft[e]}function Kr(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return lc;if(!Kn(e)){if(t=ef(e),t)return t;e=[e]}return w4(e)}function S4(){return im(ft)}function Gg(e){var t,n=e._a;return n&&Te(e).overflow===-2&&(t=n[Pr]<0||n[Pr]>11?Pr:n[ur]<1||n[ur]>Zh(n[Jt],n[Pr])?ur:n[Ot]<0||n[Ot]>24||n[Ot]===24&&(n[Wn]!==0||n[Nr]!==0||n[Ws]!==0)?Ot:n[Wn]<0||n[Wn]>59?Wn:n[Nr]<0||n[Nr]>59?Nr:n[Ws]<0||n[Ws]>999?Ws:-1,Te(e)._overflowDayOfYear&&(t<Jt||t>ur)&&(t=ur),Te(e)._overflowWeeks&&t===-1&&(t=kN),Te(e)._overflowWeekday&&t===-1&&(t=DN),Te(e).overflow=t),e}var T4=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,I4=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,A4=/Z|[+-]\d\d(?::?\d\d)?/,Iu=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pd=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],C4=/^\/?Date\((-?\d+)/i,O4=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,k4={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function mT(e){var t,n,r=e._i,s=T4.exec(r)||I4.exec(r),i,o,a,c,u=Iu.length,l=pd.length;if(s){for(Te(e).iso=!0,t=0,n=u;t<n;t++)if(Iu[t][1].exec(s[1])){o=Iu[t][0],i=Iu[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(s[3]){for(t=0,n=l;t<n;t++)if(pd[t][1].exec(s[3])){a=(s[2]||" ")+pd[t][0];break}if(a==null){e._isValid=!1;return}}if(!i&&a!=null){e._isValid=!1;return}if(s[4])if(A4.exec(s[4]))c="Z";else{e._isValid=!1;return}e._f=o+(a||"")+(c||""),Xg(e)}else e._isValid=!1}function D4(e,t,n,r,s,i){var o=[x4(e),sT.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return i&&o.push(parseInt(i,10)),o}function x4(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function R4(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function M4(e,t,n){if(e){var r=hT.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(r!==s)return Te(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function P4(e,t,n){if(e)return k4[e];if(t)return 0;var r=parseInt(n,10),s=r%100,i=(r-s)/100;return i*60+s}function gT(e){var t=O4.exec(R4(e._i)),n;if(t){if(n=D4(t[4],t[3],t[2],t[5],t[6],t[7]),!M4(t[1],n,e))return;e._a=n,e._tzm=P4(t[8],t[9],t[10]),e._d=cc.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Te(e).rfc2822=!0}else e._isValid=!1}function N4(e){var t=C4.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(mT(e),e._isValid===!1)delete e._isValid;else return;if(gT(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:te.createFromInputFallback(e)}te.createFromInputFallback=Mn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Vi(e,t,n){return e!=null?e:t!=null?t:n}function $4(e){var t=new Date(te.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function qg(e){var t,n,r=[],s,i,o;if(!e._d){for(s=$4(e),e._w&&e._a[ur]==null&&e._a[Pr]==null&&L4(e),e._dayOfYear!=null&&(o=Vi(e._a[Jt],s[Jt]),(e._dayOfYear>Da(o)||e._dayOfYear===0)&&(Te(e)._overflowDayOfYear=!0),n=cc(o,0,e._dayOfYear),e._a[Pr]=n.getUTCMonth(),e._a[ur]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=s[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Ot]===24&&e._a[Wn]===0&&e._a[Nr]===0&&e._a[Ws]===0&&(e._nextDay=!0,e._a[Ot]=0),e._d=(e._useUTC?cc:WN).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ot]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==i&&(Te(e).weekdayMismatch=!0)}}function L4(e){var t,n,r,s,i,o,a,c,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,o=4,n=Vi(t.GG,e._a[Jt],uc(lt(),1,4).year),r=Vi(t.W,1),s=Vi(t.E,1),(s<1||s>7)&&(c=!0)):(i=e._locale._week.dow,o=e._locale._week.doy,u=uc(lt(),i,o),n=Vi(t.gg,e._a[Jt],u.year),r=Vi(t.w,u.week),t.d!=null?(s=t.d,(s<0||s>6)&&(c=!0)):t.e!=null?(s=t.e+i,(t.e<0||t.e>6)&&(c=!0)):s=i),r<1||r>Lr(n,i,o)?Te(e)._overflowWeeks=!0:c!=null?Te(e)._overflowWeekday=!0:(a=lT(n,r,s,i,o),e._a[Jt]=a.year,e._dayOfYear=a.dayOfYear)}te.ISO_8601=function(){};te.RFC_2822=function(){};function Xg(e){if(e._f===te.ISO_8601){mT(e);return}if(e._f===te.RFC_2822){gT(e);return}e._a=[],Te(e).empty=!0;var t=""+e._i,n,r,s,i,o,a=t.length,c=0,u,l;for(s=QS(e._f,e._locale).match(Ug)||[],l=s.length,n=0;n<l;n++)i=s[n],r=(t.match(AN(i,e))||[])[0],r&&(o=t.substr(0,t.indexOf(r)),o.length>0&&Te(e).unusedInput.push(o),t=t.slice(t.indexOf(r)+r.length),c+=r.length),so[i]?(r?Te(e).empty=!1:Te(e).unusedTokens.push(i),ON(i,r,e)):e._strict&&!r&&Te(e).unusedTokens.push(i);Te(e).charsLeftOver=a-c,t.length>0&&Te(e).unusedInput.push(t),e._a[Ot]<=12&&Te(e).bigHour===!0&&e._a[Ot]>0&&(Te(e).bigHour=void 0),Te(e).parsedDateParts=e._a.slice(0),Te(e).meridiem=e._meridiem,e._a[Ot]=F4(e._locale,e._a[Ot],e._meridiem),u=Te(e).era,u!==null&&(e._a[Jt]=e._locale.erasConvertYear(u,e._a[Jt])),qg(e),Gg(e)}function F4(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function B4(e){var t,n,r,s,i,o,a=!1,c=e._f.length;if(c===0){Te(e).invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<c;s++)i=0,o=!1,t=Fg({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[s],Xg(t),Lg(t)&&(o=!0),i+=Te(t).charsLeftOver,i+=Te(t).unusedTokens.length*10,Te(t).score=i,a?i<r&&(r=i,n=t):(r==null||i<r||o)&&(r=i,n=t,o&&(a=!0));us(e,n||t)}function U4(e){if(!e._d){var t=jg(e._i),n=t.day===void 0?t.date:t.day;e._a=GS([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),qg(e)}}function j4(e){var t=new Vc(Gg(vT(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function vT(e){var t=e._i,n=e._f;return e._locale=e._locale||Kr(e._l),t===null||n===void 0&&t===""?Yh({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Gn(t)?new Vc(Gg(t)):(jc(t)?e._d=t:Kn(n)?B4(e):n?Xg(e):V4(e),Lg(e)||(e._d=null),e))}function V4(e){var t=e._i;gn(t)?e._d=new Date(te.now()):jc(t)?e._d=new Date(t.valueOf()):typeof t=="string"?N4(e):Kn(t)?(e._a=GS(t.slice(0),function(n){return parseInt(n,10)}),qg(e)):Js(t)?U4(e):Vr(t)?e._d=new Date(t):te.createFromInputFallback(e)}function yT(e,t,n,r,s){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Js(e)&&$g(e)||Kn(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=s,i._l=n,i._i=e,i._f=t,i._strict=r,j4(i)}function lt(e,t,n,r){return yT(e,t,n,r,!1)}var W4=Mn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=lt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Yh()}),z4=Mn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=lt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Yh()});function _T(e,t){var n,r;if(t.length===1&&Kn(t[0])&&(t=t[0]),!t.length)return lt();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function H4(){var e=[].slice.call(arguments,0);return _T("isBefore",e)}function Y4(){var e=[].slice.call(arguments,0);return _T("isAfter",e)}var K4=function(){return Date.now?Date.now():+new Date},oa=["year","quarter","month","week","day","hour","minute","second","millisecond"];function G4(e){var t,n=!1,r,s=oa.length;for(t in e)if(ze(e,t)&&!(wt.call(oa,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<s;++r)if(e[oa[r]]){if(n)return!1;parseFloat(e[oa[r]])!==xe(e[oa[r]])&&(n=!0)}return!0}function q4(){return this._isValid}function X4(){return qn(NaN)}function tf(e){var t=jg(e),n=t.year||0,r=t.quarter||0,s=t.month||0,i=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,c=t.minute||0,u=t.second||0,l=t.millisecond||0;this._isValid=G4(t),this._milliseconds=+l+u*1e3+c*6e4+a*1e3*60*60,this._days=+o+i*7,this._months=+s+r*3+n*12,this._data={},this._locale=Kr(),this._bubble()}function gl(e){return e instanceof tf}function am(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Q4(e,t,n){var r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),i=0,o;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&xe(e[o])!==xe(t[o]))&&i++;return i+s}function wT(e,t){fe(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+vr(~~(n/60),2)+t+vr(~~n%60,2)})}wT("Z",":");wT("ZZ","");re("Z",Jh);re("ZZ",Jh);tt(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Qg(Jh,e)});var J4=/([\+\-]|\d\d)/gi;function Qg(e,t){var n=(t||"").match(e),r,s,i;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match(J4)||["-",0,0],i=+(s[1]*60)+xe(s[2]),i===0?0:s[0]==="+"?i:-i)}function Jg(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Gn(e)||jc(e)?e.valueOf():lt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),te.updateOffset(n,!1),n):lt(e).local()}function cm(e){return-Math.round(e._d.getTimezoneOffset())}te.updateOffset=function(){};function Z4(e,t,n){var r=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Qg(Jh,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(s=cm(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==e&&(!t||this._changeInProgress?ST(this,qn(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,te.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:cm(this)}function e6(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function t6(e){return this.utcOffset(0,e)}function n6(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(cm(this),"m")),this}function r6(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Qg(TN,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function s6(e){return this.isValid()?(e=e?lt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function i6(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function o6(){if(!gn(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Fg(e,this),e=vT(e),e._a?(t=e._isUTC?_r(e._a):lt(e._a),this._isDSTShifted=this.isValid()&&Q4(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function a6(){return this.isValid()?!this._isUTC:!1}function c6(){return this.isValid()?this._isUTC:!1}function bT(){return this.isValid()?this._isUTC&&this._offset===0:!1}var u6=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,l6=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qn(e,t){var n=e,r=null,s,i,o;return gl(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Vr(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=u6.exec(e))?(s=r[1]==="-"?-1:1,n={y:0,d:xe(r[ur])*s,h:xe(r[Ot])*s,m:xe(r[Wn])*s,s:xe(r[Nr])*s,ms:xe(am(r[Ws]*1e3))*s}):(r=l6.exec(e))?(s=r[1]==="-"?-1:1,n={y:Ls(r[2],s),M:Ls(r[3],s),w:Ls(r[4],s),d:Ls(r[5],s),h:Ls(r[6],s),m:Ls(r[7],s),s:Ls(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=h6(lt(n.from),lt(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),i=new tf(n),gl(e)&&ze(e,"_locale")&&(i._locale=e._locale),gl(e)&&ze(e,"_isValid")&&(i._isValid=e._isValid),i}qn.fn=tf.prototype;qn.invalid=X4;function Ls(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function l_(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function h6(e,t){var n;return e.isValid()&&t.isValid()?(t=Jg(t,e),e.isBefore(t)?n=l_(e,t):(n=l_(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function ET(e,t){return function(n,r){var s,i;return r!==null&&!isNaN(+r)&&(XS(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),s=qn(n,r),ST(this,s,e),this}}function ST(e,t,n,r){var s=t._milliseconds,i=am(t._days),o=am(t._months);!e.isValid()||(r=r==null?!0:r,o&&oT(e,Ql(e,"Month")+o*n),i&&ZS(e,"Date",Ql(e,"Date")+i*n),s&&e._d.setTime(e._d.valueOf()+s*n),r&&te.updateOffset(e,i||o))}var f6=ET(1,"add"),d6=ET(-1,"subtract");function TT(e){return typeof e=="string"||e instanceof String}function p6(e){return Gn(e)||jc(e)||TT(e)||Vr(e)||g6(e)||m6(e)||e===null||e===void 0}function m6(e){var t=Js(e)&&!$g(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,i,o=r.length;for(s=0;s<o;s+=1)i=r[s],n=n||ze(e,i);return t&&n}function g6(e){var t=Kn(e),n=!1;return t&&(n=e.filter(function(r){return!Vr(r)&&TT(e)}).length===0),t&&n}function v6(e){var t=Js(e)&&!$g(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,i;for(s=0;s<r.length;s+=1)i=r[s],n=n||ze(e,i);return t&&n}function y6(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function _6(e,t){arguments.length===1&&(arguments[0]?p6(arguments[0])?(e=arguments[0],t=void 0):v6(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||lt(),r=Jg(n,this).startOf("day"),s=te.calendarFormat(this,r)||"sameElse",i=t&&(wr(t[s])?t[s].call(this,n):t[s]);return this.format(i||this.localeData().calendar(s,this,lt(n)))}function w6(){return new Vc(this)}function b6(e,t){var n=Gn(e)?e:lt(e);return this.isValid()&&n.isValid()?(t=Pn(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function E6(e,t){var n=Gn(e)?e:lt(e);return this.isValid()&&n.isValid()?(t=Pn(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function S6(e,t,n,r){var s=Gn(e)?e:lt(e),i=Gn(t)?t:lt(t);return this.isValid()&&s.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function T6(e,t){var n=Gn(e)?e:lt(e),r;return this.isValid()&&n.isValid()?(t=Pn(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function I6(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function A6(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function C6(e,t,n){var r,s,i;if(!this.isValid())return NaN;if(r=Jg(e,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,t=Pn(t),t){case"year":i=vl(this,r)/12;break;case"month":i=vl(this,r);break;case"quarter":i=vl(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-s)/864e5;break;case"week":i=(this-r-s)/6048e5;break;default:i=this-r}return n?i:Dn(i)}function vl(e,t){if(e.date()<t.date())return-vl(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),s,i;return t-r<0?(s=e.clone().add(n-1,"months"),i=(t-r)/(r-s)):(s=e.clone().add(n+1,"months"),i=(t-r)/(s-r)),-(n+i)||0}te.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";te.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function O6(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function k6(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?ml(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):wr(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ml(n,"Z")):ml(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function D6(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,s,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+s+i)}function x6(e){e||(e=this.isUtc()?te.defaultFormatUtc:te.defaultFormat);var t=ml(this,e);return this.localeData().postformat(t)}function R6(e,t){return this.isValid()&&(Gn(e)&&e.isValid()||lt(e).isValid())?qn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function M6(e){return this.from(lt(),e)}function P6(e,t){return this.isValid()&&(Gn(e)&&e.isValid()||lt(e).isValid())?qn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function N6(e){return this.to(lt(),e)}function IT(e){var t;return e===void 0?this._locale._abbr:(t=Kr(e),t!=null&&(this._locale=t),this)}var AT=Mn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function CT(){return this._locale}var eh=1e3,io=60*eh,th=60*io,OT=(365*400+97)*24*th;function oo(e,t){return(e%t+t)%t}function kT(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-OT:new Date(e,t,n).valueOf()}function DT(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-OT:Date.UTC(e,t,n)}function $6(e){var t,n;if(e=Pn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?DT:kT,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=oo(t+(this._isUTC?0:this.utcOffset()*io),th);break;case"minute":t=this._d.valueOf(),t-=oo(t,io);break;case"second":t=this._d.valueOf(),t-=oo(t,eh);break}return this._d.setTime(t),te.updateOffset(this,!0),this}function L6(e){var t,n;if(e=Pn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?DT:kT,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=th-oo(t+(this._isUTC?0:this.utcOffset()*io),th)-1;break;case"minute":t=this._d.valueOf(),t+=io-oo(t,io)-1;break;case"second":t=this._d.valueOf(),t+=eh-oo(t,eh)-1;break}return this._d.setTime(t),te.updateOffset(this,!0),this}function F6(){return this._d.valueOf()-(this._offset||0)*6e4}function B6(){return Math.floor(this.valueOf()/1e3)}function U6(){return new Date(this.valueOf())}function j6(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function V6(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function W6(){return this.isValid()?this.toISOString():null}function z6(){return Lg(this)}function H6(){return us({},Te(this))}function Y6(){return Te(this).overflow}function K6(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}fe("N",0,0,"eraAbbr");fe("NN",0,0,"eraAbbr");fe("NNN",0,0,"eraAbbr");fe("NNNN",0,0,"eraName");fe("NNNNN",0,0,"eraNarrow");fe("y",["y",1],"yo","eraYear");fe("y",["yy",2],0,"eraYear");fe("y",["yyy",3],0,"eraYear");fe("y",["yyyy",4],0,"eraYear");re("N",Zg);re("NN",Zg);re("NNN",Zg);re("NNNN",s$);re("NNNNN",i$);tt(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var s=n._locale.erasParse(e,r,n._strict);s?Te(n).era=s:Te(n).invalidEra=e});re("y",Lo);re("yy",Lo);re("yyy",Lo);re("yyyy",Lo);re("yo",o$);tt(["y","yy","yyy","yyyy"],Jt);tt(["yo"],function(e,t,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Jt]=n._locale.eraYearOrdinalParse(e,s):t[Jt]=parseInt(e,10)});function G6(e,t){var n,r,s,i=this._eras||Kr("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":s=te(i[n].since).startOf("day"),i[n].since=s.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":s=te(i[n].until).startOf("day").valueOf(),i[n].until=s.valueOf();break}}return i}function q6(e,t,n){var r,s,i=this.eras(),o,a,c;for(e=e.toUpperCase(),r=0,s=i.length;r<s;++r)if(o=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),c=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return i[r];break;case"NNNN":if(o===e)return i[r];break;case"NNNNN":if(c===e)return i[r];break}else if([o,a,c].indexOf(e)>=0)return i[r]}function X6(e,t){var n=e.since<=e.until?1:-1;return t===void 0?te(e.since).year():te(e.since).year()+(t-e.offset)*n}function Q6(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function J6(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function Z6(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function e$(){var e,t,n,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return(this.year()-te(s[e].since).year())*n+s[e].offset;return this.year()}function t$(e){return ze(this,"_erasNameRegex")||ev.call(this),e?this._erasNameRegex:this._erasRegex}function n$(e){return ze(this,"_erasAbbrRegex")||ev.call(this),e?this._erasAbbrRegex:this._erasRegex}function r$(e){return ze(this,"_erasNarrowRegex")||ev.call(this),e?this._erasNarrowRegex:this._erasRegex}function Zg(e,t){return t.erasAbbrRegex(e)}function s$(e,t){return t.erasNameRegex(e)}function i$(e,t){return t.erasNarrowRegex(e)}function o$(e,t){return t._eraYearOrdinalRegex||Lo}function ev(){var e=[],t=[],n=[],r=[],s,i,o=this.eras();for(s=0,i=o.length;s<i;++s)t.push(bn(o[s].name)),e.push(bn(o[s].abbr)),n.push(bn(o[s].narrow)),r.push(bn(o[s].name)),r.push(bn(o[s].abbr)),r.push(bn(o[s].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}fe(0,["gg",2],0,function(){return this.weekYear()%100});fe(0,["GG",2],0,function(){return this.isoWeekYear()%100});function nf(e,t){fe(0,[e,e.length],0,t)}nf("gggg","weekYear");nf("ggggg","weekYear");nf("GGGG","isoWeekYear");nf("GGGGG","isoWeekYear");en("weekYear","gg");en("isoWeekYear","GG");tn("weekYear",1);tn("isoWeekYear",1);re("G",Qh);re("g",Qh);re("GG",ht,Cn);re("gg",ht,Cn);re("GGGG",Wg,Vg);re("gggg",Wg,Vg);re("GGGGG",Xh,Gh);re("ggggg",Xh,Gh);zc(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=xe(e)});zc(["gg","GG"],function(e,t,n,r){t[r]=te.parseTwoDigitYear(e)});function a$(e){return xT.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function c$(e){return xT.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function u$(){return Lr(this.year(),1,4)}function l$(){return Lr(this.isoWeekYear(),1,4)}function h$(){var e=this.localeData()._week;return Lr(this.year(),e.dow,e.doy)}function f$(){var e=this.localeData()._week;return Lr(this.weekYear(),e.dow,e.doy)}function xT(e,t,n,r,s){var i;return e==null?uc(this,r,s).year:(i=Lr(e,r,s),t>i&&(t=i),d$.call(this,e,t,n,r,s))}function d$(e,t,n,r,s){var i=lT(e,t,n,r,s),o=cc(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}fe("Q",0,"Qo","quarter");en("quarter","Q");tn("quarter",7);re("Q",eT);tt("Q",function(e,t){t[Pr]=(xe(e)-1)*3});function p$(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}fe("D",["DD",2],"Do","date");en("date","D");tn("date",9);re("D",ht);re("DD",ht,Cn);re("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});tt(["D","DD"],ur);tt("Do",function(e,t){t[ur]=xe(e.match(ht)[0])});var RT=$o("Date",!0);fe("DDD",["DDDD",3],"DDDo","dayOfYear");en("dayOfYear","DDD");tn("dayOfYear",4);re("DDD",qh);re("DDDD",tT);tt(["DDD","DDDD"],function(e,t,n){n._dayOfYear=xe(e)});function m$(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}fe("m",["mm",2],0,"minute");en("minute","m");tn("minute",14);re("m",ht);re("mm",ht,Cn);tt(["m","mm"],Wn);var g$=$o("Minutes",!1);fe("s",["ss",2],0,"second");en("second","s");tn("second",15);re("s",ht);re("ss",ht,Cn);tt(["s","ss"],Nr);var v$=$o("Seconds",!1);fe("S",0,0,function(){return~~(this.millisecond()/100)});fe(0,["SS",2],0,function(){return~~(this.millisecond()/10)});fe(0,["SSS",3],0,"millisecond");fe(0,["SSSS",4],0,function(){return this.millisecond()*10});fe(0,["SSSSS",5],0,function(){return this.millisecond()*100});fe(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});fe(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});fe(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});fe(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});en("millisecond","ms");tn("millisecond",16);re("S",qh,eT);re("SS",qh,Cn);re("SSS",qh,tT);var ls,MT;for(ls="SSSS";ls.length<=9;ls+="S")re(ls,Lo);function y$(e,t){t[Ws]=xe(("0."+e)*1e3)}for(ls="S";ls.length<=9;ls+="S")tt(ls,y$);MT=$o("Milliseconds",!1);fe("z",0,0,"zoneAbbr");fe("zz",0,0,"zoneName");function _$(){return this._isUTC?"UTC":""}function w$(){return this._isUTC?"Coordinated Universal Time":""}var z=Vc.prototype;z.add=f6;z.calendar=_6;z.clone=w6;z.diff=C6;z.endOf=L6;z.format=x6;z.from=R6;z.fromNow=M6;z.to=P6;z.toNow=N6;z.get=EN;z.invalidAt=Y6;z.isAfter=b6;z.isBefore=E6;z.isBetween=S6;z.isSame=T6;z.isSameOrAfter=I6;z.isSameOrBefore=A6;z.isValid=z6;z.lang=AT;z.locale=IT;z.localeData=CT;z.max=z4;z.min=W4;z.parsingFlags=H6;z.set=SN;z.startOf=$6;z.subtract=d6;z.toArray=j6;z.toObject=V6;z.toDate=U6;z.toISOString=k6;z.inspect=D6;typeof Symbol!="undefined"&&Symbol.for!=null&&(z[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});z.toJSON=W6;z.toString=O6;z.unix=B6;z.valueOf=F6;z.creationData=K6;z.eraName=Q6;z.eraNarrow=J6;z.eraAbbr=Z6;z.eraYear=e$;z.year=uT;z.isLeapYear=VN;z.weekYear=a$;z.isoWeekYear=c$;z.quarter=z.quarters=p$;z.month=aT;z.daysInMonth=BN;z.week=z.weeks=GN;z.isoWeek=z.isoWeeks=qN;z.weeksInYear=h$;z.weeksInWeekYear=f$;z.isoWeeksInYear=u$;z.isoWeeksInISOWeekYear=l$;z.date=RT;z.day=z.days=c4;z.weekday=u4;z.isoWeekday=l4;z.dayOfYear=m$;z.hour=z.hours=v4;z.minute=z.minutes=g$;z.second=z.seconds=v$;z.millisecond=z.milliseconds=MT;z.utcOffset=Z4;z.utc=t6;z.local=n6;z.parseZone=r6;z.hasAlignedHourOffset=s6;z.isDST=i6;z.isLocal=a6;z.isUtcOffset=c6;z.isUtc=bT;z.isUTC=bT;z.zoneAbbr=_$;z.zoneName=w$;z.dates=Mn("dates accessor is deprecated. Use date instead.",RT);z.months=Mn("months accessor is deprecated. Use month instead",aT);z.years=Mn("years accessor is deprecated. Use year instead",uT);z.zone=Mn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",e6);z.isDSTShifted=Mn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",o6);function b$(e){return lt(e*1e3)}function E$(){return lt.apply(null,arguments).parseZone()}function PT(e){return e}var He=Bg.prototype;He.calendar=cN;He.longDateFormat=fN;He.invalidDate=pN;He.ordinal=vN;He.preparse=PT;He.postformat=PT;He.relativeTime=_N;He.pastFuture=wN;He.set=oN;He.eras=G6;He.erasParse=q6;He.erasConvertYear=X6;He.erasAbbrRegex=n$;He.erasNameRegex=t$;He.erasNarrowRegex=r$;He.months=NN;He.monthsShort=$N;He.monthsParse=FN;He.monthsRegex=jN;He.monthsShortRegex=UN;He.week=zN;He.firstDayOfYear=KN;He.firstDayOfWeek=YN;He.weekdays=r4;He.weekdaysMin=i4;He.weekdaysShort=s4;He.weekdaysParse=a4;He.weekdaysRegex=h4;He.weekdaysShortRegex=f4;He.weekdaysMinRegex=d4;He.isPM=m4;He.meridiem=y4;function nh(e,t,n,r){var s=Kr(),i=_r().set(r,t);return s[n](i,e)}function NT(e,t,n){if(Vr(e)&&(t=e,e=void 0),e=e||"",t!=null)return nh(e,t,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=nh(e,r,n,"month");return s}function tv(e,t,n,r){typeof e=="boolean"?(Vr(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Vr(t)&&(n=t,t=void 0),t=t||"");var s=Kr(),i=e?s._week.dow:0,o,a=[];if(n!=null)return nh(t,(n+i)%7,r,"day");for(o=0;o<7;o++)a[o]=nh(t,(o+i)%7,r,"day");return a}function S$(e,t){return NT(e,t,"months")}function T$(e,t){return NT(e,t,"monthsShort")}function I$(e,t,n){return tv(e,t,n,"weekdays")}function A$(e,t,n){return tv(e,t,n,"weekdaysShort")}function C$(e,t,n){return tv(e,t,n,"weekdaysMin")}ms("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=xe(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});te.lang=Mn("moment.lang is deprecated. Use moment.locale instead.",ms);te.langData=Mn("moment.langData is deprecated. Use moment.localeData instead.",Kr);var Tr=Math.abs;function O$(){var e=this._data;return this._milliseconds=Tr(this._milliseconds),this._days=Tr(this._days),this._months=Tr(this._months),e.milliseconds=Tr(e.milliseconds),e.seconds=Tr(e.seconds),e.minutes=Tr(e.minutes),e.hours=Tr(e.hours),e.months=Tr(e.months),e.years=Tr(e.years),this}function $T(e,t,n,r){var s=qn(t,n);return e._milliseconds+=r*s._milliseconds,e._days+=r*s._days,e._months+=r*s._months,e._bubble()}function k$(e,t){return $T(this,e,t,1)}function D$(e,t){return $T(this,e,t,-1)}function h_(e){return e<0?Math.floor(e):Math.ceil(e)}function x$(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,s,i,o,a,c;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=h_(um(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,s=Dn(e/1e3),r.seconds=s%60,i=Dn(s/60),r.minutes=i%60,o=Dn(i/60),r.hours=o%24,t+=Dn(o/24),c=Dn(LT(t)),n+=c,t-=h_(um(c)),a=Dn(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function LT(e){return e*4800/146097}function um(e){return e*146097/4800}function R$(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Pn(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+LT(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(um(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function M$(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+xe(this._months/12)*31536e6:NaN}function Gr(e){return function(){return this.as(e)}}var P$=Gr("ms"),N$=Gr("s"),$$=Gr("m"),L$=Gr("h"),F$=Gr("d"),B$=Gr("w"),U$=Gr("M"),j$=Gr("Q"),V$=Gr("y");function W$(){return qn(this)}function z$(e){return e=Pn(e),this.isValid()?this[e+"s"]():NaN}function vi(e){return function(){return this.isValid()?this._data[e]:NaN}}var H$=vi("milliseconds"),Y$=vi("seconds"),K$=vi("minutes"),G$=vi("hours"),q$=vi("days"),X$=vi("months"),Q$=vi("years");function J$(){return Dn(this.days()/7)}var Or=Math.round,Yi={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Z$(e,t,n,r,s){return s.relativeTime(t||1,!!n,e,r)}function eL(e,t,n,r){var s=qn(e).abs(),i=Or(s.as("s")),o=Or(s.as("m")),a=Or(s.as("h")),c=Or(s.as("d")),u=Or(s.as("M")),l=Or(s.as("w")),h=Or(s.as("y")),f=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(f=f||l<=1&&["w"]||l<n.w&&["ww",l]),f=f||u<=1&&["M"]||u<n.M&&["MM",u]||h<=1&&["y"]||["yy",h],f[2]=t,f[3]=+e>0,f[4]=r,Z$.apply(null,f)}function tL(e){return e===void 0?Or:typeof e=="function"?(Or=e,!0):!1}function nL(e,t){return Yi[e]===void 0?!1:t===void 0?Yi[e]:(Yi[e]=t,e==="s"&&(Yi.ss=t-1),!0)}function rL(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Yi,s,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Yi,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),s=this.localeData(),i=eL(this,!n,r,s),n&&(i=s.pastFuture(+this,i)),s.postformat(i)}var md=Math.abs;function Ri(e){return(e>0)-(e<0)||+e}function rf(){if(!this.isValid())return this.localeData().invalidDate();var e=md(this._milliseconds)/1e3,t=md(this._days),n=md(this._months),r,s,i,o,a=this.asSeconds(),c,u,l,h;return a?(r=Dn(e/60),s=Dn(r/60),e%=60,r%=60,i=Dn(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=a<0?"-":"",u=Ri(this._months)!==Ri(a)?"-":"",l=Ri(this._days)!==Ri(a)?"-":"",h=Ri(this._milliseconds)!==Ri(a)?"-":"",c+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(t?l+t+"D":"")+(s||r||e?"T":"")+(s?h+s+"H":"")+(r?h+r+"M":"")+(e?h+o+"S":"")):"P0D"}var Ve=tf.prototype;Ve.isValid=q4;Ve.abs=O$;Ve.add=k$;Ve.subtract=D$;Ve.as=R$;Ve.asMilliseconds=P$;Ve.asSeconds=N$;Ve.asMinutes=$$;Ve.asHours=L$;Ve.asDays=F$;Ve.asWeeks=B$;Ve.asMonths=U$;Ve.asQuarters=j$;Ve.asYears=V$;Ve.valueOf=M$;Ve._bubble=x$;Ve.clone=W$;Ve.get=z$;Ve.milliseconds=H$;Ve.seconds=Y$;Ve.minutes=K$;Ve.hours=G$;Ve.days=q$;Ve.weeks=J$;Ve.months=X$;Ve.years=Q$;Ve.humanize=rL;Ve.toISOString=rf;Ve.toString=rf;Ve.toJSON=rf;Ve.locale=IT;Ve.localeData=CT;Ve.toIsoString=Mn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",rf);Ve.lang=AT;fe("X",0,0,"unix");fe("x",0,0,"valueOf");re("x",Qh);re("X",IN);tt("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});tt("x",function(e,t,n){n._d=new Date(xe(e))});//! moment.js
te.version="2.29.4";sN(lt);te.fn=z;te.min=H4;te.max=Y4;te.now=K4;te.utc=_r;te.unix=b$;te.months=S$;te.isDate=jc;te.locale=ms;te.invalid=Yh;te.duration=qn;te.isMoment=Gn;te.weekdays=I$;te.parseZone=E$;te.localeData=Kr;te.isDuration=gl;te.monthsShort=T$;te.weekdaysMin=C$;te.defineLocale=Kg;te.updateLocale=E4;te.locales=S4;te.weekdaysShort=A$;te.normalizeUnits=Pn;te.relativeTimeRounding=tL;te.relativeTimeThreshold=nL;te.calendarFormat=y6;te.prototype=z;te.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var FT="store";function BT(e){return e===void 0&&(e=null),xn(e!==null?e:FT)}function Fo(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function sL(e){return e!==null&&typeof e=="object"}function iL(e){return e&&typeof e.then=="function"}function oL(e,t){return function(){return e(t)}}function UT(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function jT(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;sf(e,n,[],e._modules.root,!0),nv(e,n,t)}function nv(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var s=e._wrappedGetters,i={};Fo(s,function(o,a){i[a]=oL(o,e),Object.defineProperty(e.getters,a,{get:function(){return i[a]()},enumerable:!0})}),e._state=Os({data:t}),e.strict&&hL(e),r&&n&&e._withCommit(function(){r.data=null})}function sf(e,t,n,r,s){var i=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=r),!i&&!s){var a=rv(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit(function(){a[c]=r.state})}var u=r.context=aL(e,o,n);r.forEachMutation(function(l,h){var f=o+h;cL(e,f,l,u)}),r.forEachAction(function(l,h){var f=l.root?h:o+h,p=l.handler||l;uL(e,f,p,u)}),r.forEachGetter(function(l,h){var f=o+h;lL(e,f,l,u)}),r.forEachChild(function(l,h){sf(e,t,n.concat(h),l,s)})}function aL(e,t,n){var r=t==="",s={dispatch:r?e.dispatch:function(i,o,a){var c=rh(i,o,a),u=c.payload,l=c.options,h=c.type;return(!l||!l.root)&&(h=t+h),e.dispatch(h,u)},commit:r?e.commit:function(i,o,a){var c=rh(i,o,a),u=c.payload,l=c.options,h=c.type;(!l||!l.root)&&(h=t+h),e.commit(h,u,l)}};return Object.defineProperties(s,{getters:{get:r?function(){return e.getters}:function(){return VT(e,t)}},state:{get:function(){return rv(e.state,n)}}}),s}function VT(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(s){if(s.slice(0,r)===t){var i=s.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[s]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function cL(e,t,n,r){var s=e._mutations[t]||(e._mutations[t]=[]);s.push(function(o){n.call(e,r.state,o)})}function uL(e,t,n,r){var s=e._actions[t]||(e._actions[t]=[]);s.push(function(o){var a=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},o);return iL(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(c){throw e._devtoolHook.emit("vuex:error",c),c}):a})}function lL(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function hL(e){Xs(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function rv(e,t){return t.reduce(function(n,r){return n[r]},e)}function rh(e,t,n){return sL(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var fL="vuex bindings",f_="vuex:mutations",gd="vuex:actions",Mi="vuex",dL=0;function pL(e,t){SP({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[fL]},function(n){n.addTimelineLayer({id:f_,label:"Vuex Mutations",color:d_}),n.addTimelineLayer({id:gd,label:"Vuex Actions",color:d_}),n.addInspector({id:Mi,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===Mi)if(r.filter){var s=[];YT(s,t._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[HT(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===Mi){var s=r.nodeId;VT(t,s),r.state=vL(_L(t._modules,s),s==="root"?t.getters:t._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===Mi){var s=r.nodeId,i=r.path;s!=="root"&&(i=s.split("/").filter(Boolean).concat(i)),t._withCommit(function(){r.set(t._state.data,i,r.state.value)})}}),t.subscribe(function(r,s){var i={};r.payload&&(i.payload=r.payload),i.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(Mi),n.sendInspectorState(Mi),n.addTimelineEvent({layerId:f_,event:{time:Date.now(),title:r.type,data:i}})}),t.subscribeAction({before:function(r,s){var i={};r.payload&&(i.payload=r.payload),r._id=dL++,r._time=Date.now(),i.state=s,n.addTimelineEvent({layerId:gd,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,s){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=s,n.addTimelineEvent({layerId:gd,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var d_=8702998,mL=6710886,gL=16777215,WT={label:"namespaced",textColor:gL,backgroundColor:mL};function zT(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function HT(e,t){return{id:t||"root",label:zT(t),tags:e.namespaced?[WT]:[],children:Object.keys(e._children).map(function(n){return HT(e._children[n],t+n+"/")})}}function YT(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[WT]:[]}),Object.keys(t._children).forEach(function(s){YT(e,t._children[s],n,r+s+"/")})}function vL(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),s={state:Object.keys(e.state).map(function(o){return{key:o,editable:!0,value:e.state[o]}})};if(r.length){var i=yL(t);s.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?zT(o):o,editable:!1,value:lm(function(){return i[o]})}})}return s}function yL(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var s=t,i=r.pop();r.forEach(function(o){s[o]||(s[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),s=s[o]._custom.value}),s[i]=lm(function(){return e[n]})}else t[n]=lm(function(){return e[n]})}),t}function _L(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,s,i){var o=r[s];if(!o)throw new Error('Missing module "'+s+'" for path "'+t+'".');return i===n.length-1?o:o._children},t==="root"?e:e.root._children)}function lm(e){try{return e()}catch(t){return t}}var Xn=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},KT={namespaced:{configurable:!0}};KT.namespaced.get=function(){return!!this._rawModule.namespaced};Xn.prototype.addChild=function(t,n){this._children[t]=n};Xn.prototype.removeChild=function(t){delete this._children[t]};Xn.prototype.getChild=function(t){return this._children[t]};Xn.prototype.hasChild=function(t){return t in this._children};Xn.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Xn.prototype.forEachChild=function(t){Fo(this._children,t)};Xn.prototype.forEachGetter=function(t){this._rawModule.getters&&Fo(this._rawModule.getters,t)};Xn.prototype.forEachAction=function(t){this._rawModule.actions&&Fo(this._rawModule.actions,t)};Xn.prototype.forEachMutation=function(t){this._rawModule.mutations&&Fo(this._rawModule.mutations,t)};Object.defineProperties(Xn.prototype,KT);var yi=function(t){this.register([],t,!1)};yi.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};yi.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};yi.prototype.update=function(t){GT([],this.root,t)};yi.prototype.register=function(t,n,r){var s=this;r===void 0&&(r=!0);var i=new Xn(n,r);if(t.length===0)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}n.modules&&Fo(n.modules,function(a,c){s.register(t.concat(c),a,r)})};yi.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],s=n.getChild(r);!s||!s.runtime||n.removeChild(r)};yi.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function GT(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;GT(e.concat(r),t.getChild(r),n.modules[r])}}function wL(e){return new wn(e)}var wn=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var s=t.strict;s===void 0&&(s=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new yi(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=i;var o=this,a=this,c=a.dispatch,u=a.commit;this.dispatch=function(f,p){return c.call(o,f,p)},this.commit=function(f,p,v){return u.call(o,f,p,v)},this.strict=s;var l=this._modules.root.state;sf(this,l,[],this._modules.root),nv(this,l),r.forEach(function(h){return h(n)})},sv={state:{configurable:!0}};wn.prototype.install=function(t,n){t.provide(n||FT,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&pL(t,this)};sv.state.get=function(){return this._state.data};sv.state.set=function(e){};wn.prototype.commit=function(t,n,r){var s=this,i=rh(t,n,r),o=i.type,a=i.payload,c={type:o,payload:a},u=this._mutations[o];!u||(this._withCommit(function(){u.forEach(function(h){h(a)})}),this._subscribers.slice().forEach(function(l){return l(c,s.state)}))};wn.prototype.dispatch=function(t,n){var r=this,s=rh(t,n),i=s.type,o=s.payload,a={type:i,payload:o},c=this._actions[i];if(!!c){try{this._actionSubscribers.slice().filter(function(l){return l.before}).forEach(function(l){return l.before(a,r.state)})}catch{}var u=c.length>1?Promise.all(c.map(function(l){return l(o)})):c[0](o);return new Promise(function(l,h){u.then(function(f){try{r._actionSubscribers.filter(function(p){return p.after}).forEach(function(p){return p.after(a,r.state)})}catch{}l(f)},function(f){try{r._actionSubscribers.filter(function(p){return p.error}).forEach(function(p){return p.error(a,r.state,f)})}catch{}h(f)})})}};wn.prototype.subscribe=function(t,n){return UT(t,this._subscribers,n)};wn.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return UT(r,this._actionSubscribers,n)};wn.prototype.watch=function(t,n,r){var s=this;return Xs(function(){return t(s.state,s.getters)},n,Object.assign({},r))};wn.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};wn.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),sf(this,this.state,t,this._modules.get(t),r.preserveState),nv(this,this.state)};wn.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=rv(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),jT(this)};wn.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};wn.prototype.hotUpdate=function(t){this._modules.update(t),jT(this,!0)};wn.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(wn.prototype,sv);const bL=Sn(()=>BT().state.auth.subscription),EL=Sn(()=>BT().state.auth.user);var Qn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};const SL=Uc({name:"ChangeSet",props:{changeSet:{required:!0,type:Object}},computed:{changes(){return this.changeSet.changes},timestamp(){return te(this.changeSet.timestamp).format("dddd, MMMM Do, YYYY")}}}),TL={class:"mb-4"},IL={class:"flex flex-col gap-1 list-disc pl-4"};function AL(e,t,n,r,s,i){return Fe(),ot("div",null,[F("h2",TL,I0(e.timestamp),1),F("ul",IL,[(Fe(!0),ot(on,null,Kl(e.changes,o=>(Fe(),ot("li",{key:o},I0(o),1))),128))])])}var CL=Qn(SL,[["render",AL]]);const OL=Uc({name:"Modal",emits:["close"],computed:{hasFooter(){return!!this.$slots.footer}},methods:{onClose(){this.$emit("close")}}}),kL={class:"flex items-center justify-center fixed inset-0 z-50 bg-gray-100 bg-opacity-50 dark:bg-darkest dark:bg-opacity-50"},DL={class:"w-full max-w-4xl p-4"},xL={class:"bg-gray-100 dark:bg-darkest rounded p-4 shadow"},RL={class:"text-2xl flex items-center justify-between"},ML={class:"px-2"},PL=F("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[F("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),NL=[PL],$L=F("hr",{class:"border-gray-200 dark:border-gray-800 mt-4"},null,-1),LL={key:0,class:"border-gray-200 dark:border-gray-800 mb-4"},FL={key:1};function BL(e,t,n,r,s,i){const o=jn("SimpleBar");return Fe(),ot("div",kL,[F("div",DL,[F("div",xL,[F("h1",RL,[F("span",ML,[Aa(e.$slots,"header")]),F("button",{class:"p-2",onClick:t[0]||(t[0]=(...a)=>e.onClose&&e.onClose(...a))},NL)]),$L,et(o,{class:"max-h-96 py-4 px-2"},{default:Dr(()=>[Aa(e.$slots,"default")]),_:3}),e.hasFooter?(Fe(),ot("hr",LL)):vn("",!0),e.hasFooter?(Fe(),ot("div",FL,[Aa(e.$slots,"footer")])):vn("",!0)])])])}var UL=Qn(OL,[["render",BL]]);const jL=mi(" What's new? "),VL={class:"flex flex-col gap-8"},WL={class:"flex items-center justify-end gap-2"},zL=F("span",null,"Upgrade",-1),HL=F("span",null,"Sign Up",-1),YL=Uc({name:"ChangeLog",setup(e){const t=Yn([]),n=localStorage.getItem("changelog:v1"),r=Yn(!1),s=()=>{r.value=!1},i=()=>{window.fathom.trackGoal("I4IWFGNK",0),s()};return hS(async()=>{try{const o=(await mt(()=>import("./changelog.547b7cf4.js"),[])).default;t.value.push(...o.sort((c,u)=>te(u.timestamp).unix()-te(c.timestamp).unix()));const a=t.value[0].timestamp;(!n||new Date(a)>new Date(n))&&(r.value=!0,localStorage.setItem("changelog:v1",a))}catch(o){console.error(o)}}),(o,a)=>{const c=jn("router-link");return r.value?(Fe(),Mr(UL,{key:0,onClose:s},{header:Dr(()=>[jL]),footer:Dr(()=>[F("div",WL,[F("button",{class:"button-flat button-size-medium",onClick:s},"Dismiss"),qs(bL).pro?qs(EL)?vn("",!0):(Fe(),Mr(c,{key:1,onClick:i,to:{name:"account"},class:"text-blue-400 button-flat button-color-surface button-size-medium"},{default:Dr(()=>[HL]),_:1})):(Fe(),Mr(c,{key:0,onClick:i,to:{name:"account"},class:"text-blue-400 button-flat button-color-surface button-size-medium"},{default:Dr(()=>[zL]),_:1}))])]),default:Dr(()=>[F("div",VL,[(Fe(!0),ot(on,null,Kl(t.value,u=>(Fe(),Mr(CL,{changeSet:u,key:u.timestamp},null,8,["changeSet"]))),128))])]),_:1})):vn("",!0)}}});const KL={name:"App",components:{ChangeLog:YL},inject:["mq"],watch:{theme(e){this.updateTheme()}},computed:{home(){return this.$route.name==="home"},ligatures(){return this.$store.state.settings.editor.ligatures},publicDoc(){return this.$route.name==="public_doc"},showStripeModal(){return this.$store.state.showStripeModal},sizes(){return this.mq.current==="xs"?["xs xs-plus"]:this.mq.current==="sm"?["sm xs-plus sm-plus"]:this.mq.current==="md"?["md xs-plus sm-plus md-plus"]:this.mq.current==="lg"?["lg xs-plus sm-plus md-plus lg-plus"]:this.mq.current==="xl"?["xl xs-plus sm-plus md-plus lg-plus xl-plus"]:[]},theme(){return this.$store.state.settings.theme}},methods:{closeChangelog(){this.showChangelog=!1},updateTheme(){switch(document.documentElement.classList.remove("auto","dark","light","october"),this.theme){case"dark":document.documentElement.classList.add("dark");break;case"light":document.documentElement.classList.add("light");break;case"october":document.documentElement.classList.add("dark","october");break;case"auto":const t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";document.documentElement.classList.add("auto",t);break;default:document.documentElement.classList.add("dark");break}}},created(){this.updateTheme(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{this.updateTheme()})}},GL={key:0,class:"flex items-center justify-center fixed top-0 left-0 h-full w-full z-50 bg-darkest"},qL=F("div",{class:"flex flex-col items-center justify-center gap-8 text-center text-2xl"},[F("svg",{class:"animate-spin mr-3 h-10 w-10 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[F("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),F("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),F("span",null,"Redirecting you to Stripe for checkout")],-1),XL=[qL];function QL(e,t,n,r,s,i){const o=jn("ChangeLog"),a=jn("router-view");return Fe(),ot("div",{id:"app",class:Rh(["h-screen",i.sizes.concat([!i.ligatures&&"ligatures-none"])])},[i.showStripeModal?(Fe(),ot("div",GL,XL)):vn("",!0),!i.home&&!i.publicDoc?(Fe(),Mr(o,{key:1})):vn("",!0),et(a,{inheritAttrs:!0,class:"flex-grow flex-shrink min-h-0"})],2)}var JL=Qn(KL,[["render",QL]]);const ZL={name:"Extendable",props:{scope:String},computed:{appendable(){return this.$packageManager.getComponents(this.scope,"append")},prependable(){return this.$packageManager.getComponents(this.scope,"prepend")}},created(){[...this.appendable,...this.prependable].forEach(e=>{this.$options.components[e.name]=e})}};function eF(e,t,n,r,s,i){return Fe(),ot("div",null,[(Fe(!0),ot(on,null,Kl(i.prependable,o=>(Fe(),Mr(L0(o.name),{key:o.name}))),128)),Aa(e.$slots,"default"),(Fe(!0),ot(on,null,Kl(i.appendable,o=>(Fe(),Mr(L0(o.name),{key:o.name}))),128))])}var tF=Qn(ZL,[["render",eF]]);var $t=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Bne(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t}function Au(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Cu=function(e){return e&&e.Math==Math&&e},Oe=Cu(typeof globalThis=="object"&&globalThis)||Cu(typeof window=="object"&&window)||Cu(typeof self=="object"&&self)||Cu(typeof $t=="object"&&$t)||function(){return this}()||Function("return this")(),of={exports:{}},p_=Oe,nF=Object.defineProperty,iv=function(e,t){try{nF(p_,e,{value:t,configurable:!0,writable:!0})}catch{p_[e]=t}return t},rF=Oe,sF=iv,m_="__core-js_shared__",iF=rF[m_]||sF(m_,{}),ov=iF,g_=ov;(of.exports=function(e,t){return g_[e]||(g_[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.22.6",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.6/LICENSE",source:"https://github.com/zloirock/core-js"});var pt=function(e){try{return!!e()}catch{return!0}},oF=pt,af=!oF(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),qT=af,XT=Function.prototype,aF=XT.bind,hm=XT.call,cF=qT&&aF.bind(hm,hm),ct=qT?function(e){return e&&cF(e)}:function(e){return e&&function(){return hm.apply(e,arguments)}},uF=Oe,lF=uF.TypeError,Bo=function(e){if(e==null)throw lF("Can't call method on "+e);return e},hF=Oe,fF=Bo,dF=hF.Object,Uo=function(e){return dF(fF(e))},pF=ct,mF=Uo,gF=pF({}.hasOwnProperty),Jn=Object.hasOwn||function(t,n){return gF(mF(t),n)},vF=ct,yF=0,_F=Math.random(),wF=vF(1 .toString),av=function(e){return"Symbol("+(e===void 0?"":e)+")_"+wF(++yF+_F,36)},Ct=function(e){return typeof e=="function"},vd=Oe,bF=Ct,EF=function(e){return bF(e)?e:void 0},Hc=function(e,t){return arguments.length<2?EF(vd[e]):vd[e]&&vd[e][t]},SF=Hc,TF=SF("navigator","userAgent")||"",QT=Oe,yd=TF,v_=QT.process,y_=QT.Deno,__=v_&&v_.versions||y_&&y_.version,w_=__&&__.v8,Bn,sh;w_&&(Bn=w_.split("."),sh=Bn[0]>0&&Bn[0]<4?1:+(Bn[0]+Bn[1]));!sh&&yd&&(Bn=yd.match(/Edge\/(\d+)/),(!Bn||Bn[1]>=74)&&(Bn=yd.match(/Chrome\/(\d+)/),Bn&&(sh=+Bn[1])));var cv=sh,b_=cv,IF=pt,JT=!!Object.getOwnPropertySymbols&&!IF(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&b_&&b_<41}),AF=JT,ZT=AF&&!Symbol.sham&&typeof Symbol.iterator=="symbol",CF=Oe,OF=of.exports,E_=Jn,kF=av,S_=JT,eI=ZT,Pi=OF("wks"),Zs=CF.Symbol,T_=Zs&&Zs.for,DF=eI?Zs:Zs&&Zs.withoutSetter||kF,fn=function(e){if(!E_(Pi,e)||!(S_||typeof Pi[e]=="string")){var t="Symbol."+e;S_&&E_(Zs,e)?Pi[e]=Zs[e]:eI&&T_?Pi[e]=T_(t):Pi[e]=DF(t)}return Pi[e]},xF=fn,RF=xF("toStringTag"),tI={};tI[RF]="z";var uv=String(tI)==="[object z]",MF=pt,Zn=!MF(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),br={},PF=Ct,Nn=function(e){return typeof e=="object"?e!==null:PF(e)},NF=Oe,I_=Nn,fm=NF.document,$F=I_(fm)&&I_(fm.createElement),lv=function(e){return $F?fm.createElement(e):{}},LF=Zn,FF=pt,BF=lv,nI=!LF&&!FF(function(){return Object.defineProperty(BF("div"),"a",{get:function(){return 7}}).a!=7}),UF=Zn,jF=pt,rI=UF&&jF(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),sI=Oe,VF=Nn,WF=sI.String,zF=sI.TypeError,On=function(e){if(VF(e))return e;throw zF(WF(e)+" is not an object")},HF=af,Ou=Function.prototype.call,$n=HF?Ou.bind(Ou):function(){return Ou.apply(Ou,arguments)},YF=ct,hv=YF({}.isPrototypeOf),KF=Oe,GF=Hc,qF=Ct,XF=hv,QF=ZT,JF=KF.Object,iI=QF?function(e){return typeof e=="symbol"}:function(e){var t=GF("Symbol");return qF(t)&&XF(t.prototype,JF(e))},ZF=Oe,e5=ZF.String,fv=function(e){try{return e5(e)}catch{return"Object"}},t5=Oe,n5=Ct,r5=fv,s5=t5.TypeError,cf=function(e){if(n5(e))return e;throw s5(r5(e)+" is not a function")},i5=cf,Yc=function(e,t){var n=e[t];return n==null?void 0:i5(n)},o5=Oe,_d=$n,wd=Ct,bd=Nn,a5=o5.TypeError,c5=function(e,t){var n,r;if(t==="string"&&wd(n=e.toString)&&!bd(r=_d(n,e))||wd(n=e.valueOf)&&!bd(r=_d(n,e))||t!=="string"&&wd(n=e.toString)&&!bd(r=_d(n,e)))return r;throw a5("Can't convert object to primitive value")},u5=Oe,l5=$n,A_=Nn,C_=iI,h5=Yc,f5=c5,d5=fn,p5=u5.TypeError,m5=d5("toPrimitive"),g5=function(e,t){if(!A_(e)||C_(e))return e;var n=h5(e,m5),r;if(n){if(t===void 0&&(t="default"),r=l5(n,e,t),!A_(r)||C_(r))return r;throw p5("Can't convert object to primitive value")}return t===void 0&&(t="number"),f5(e,t)},v5=g5,y5=iI,dv=function(e){var t=v5(e,"string");return y5(t)?t:t+""},_5=Oe,w5=Zn,b5=nI,E5=rI,ku=On,O_=dv,S5=_5.TypeError,Ed=Object.defineProperty,T5=Object.getOwnPropertyDescriptor,Sd="enumerable",Td="configurable",Id="writable";br.f=w5?E5?function(t,n,r){if(ku(t),n=O_(n),ku(r),typeof t=="function"&&n==="prototype"&&"value"in r&&Id in r&&!r[Id]){var s=T5(t,n);s&&s[Id]&&(t[n]=r.value,r={configurable:Td in r?r[Td]:s[Td],enumerable:Sd in r?r[Sd]:s[Sd],writable:!1})}return Ed(t,n,r)}:Ed:function(t,n,r){if(ku(t),n=O_(n),ku(r),b5)try{return Ed(t,n,r)}catch{}if("get"in r||"set"in r)throw S5("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var uf=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},I5=Zn,A5=br,C5=uf,_i=I5?function(e,t,n){return A5.f(e,t,C5(1,n))}:function(e,t,n){return e[t]=n,e},oI={exports:{}},dm=Zn,O5=Jn,aI=Function.prototype,k5=dm&&Object.getOwnPropertyDescriptor,pv=O5(aI,"name"),D5=pv&&function(){}.name==="something",x5=pv&&(!dm||dm&&k5(aI,"name").configurable),mv={EXISTS:pv,PROPER:D5,CONFIGURABLE:x5},R5=ct,M5=Ct,pm=ov,P5=R5(Function.toString);M5(pm.inspectSource)||(pm.inspectSource=function(e){return P5(e)});var gv=pm.inspectSource,N5=Oe,$5=Ct,L5=gv,k_=N5.WeakMap,cI=$5(k_)&&/native code/.test(L5(k_)),F5=of.exports,B5=av,D_=F5("keys"),vv=function(e){return D_[e]||(D_[e]=B5(e))},lf={},U5=cI,uI=Oe,Ad=ct,j5=Nn,V5=_i,Cd=Jn,Od=ov,W5=vv,z5=lf,x_="Object already initialized",mm=uI.TypeError,H5=uI.WeakMap,ih,hc,oh,Y5=function(e){return oh(e)?hc(e):ih(e,{})},K5=function(e){return function(t){var n;if(!j5(t)||(n=hc(t)).type!==e)throw mm("Incompatible receiver, "+e+" required");return n}};if(U5||Od.state){var Fs=Od.state||(Od.state=new H5),G5=Ad(Fs.get),R_=Ad(Fs.has),q5=Ad(Fs.set);ih=function(e,t){if(R_(Fs,e))throw new mm(x_);return t.facade=e,q5(Fs,e,t),t},hc=function(e){return G5(Fs,e)||{}},oh=function(e){return R_(Fs,e)}}else{var Ni=W5("state");z5[Ni]=!0,ih=function(e,t){if(Cd(e,Ni))throw new mm(x_);return t.facade=e,V5(e,Ni,t),t},hc=function(e){return Cd(e,Ni)?e[Ni]:{}},oh=function(e){return Cd(e,Ni)}}var jo={set:ih,get:hc,has:oh,enforce:Y5,getterFor:K5},X5=pt,Q5=Ct,Du=Jn,lI=Zn,J5=mv.CONFIGURABLE,Z5=gv,hI=jo,e8=hI.enforce,t8=hI.get,yl=Object.defineProperty,n8=lI&&!X5(function(){return yl(function(){},"length",{value:8}).length!==8}),r8=String(String).split("String"),s8=oI.exports=function(e,t,n){if(String(t).slice(0,7)==="Symbol("&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!Du(e,"name")||J5&&e.name!==t)&&yl(e,"name",{value:t,configurable:!0}),n8&&n&&Du(n,"arity")&&e.length!==n.arity&&yl(e,"length",{value:n.arity}),n&&Du(n,"constructor")&&n.constructor){if(lI)try{yl(e,"prototype",{writable:!1})}catch{}}else e.prototype=void 0;var r=e8(e);return Du(r,"source")||(r.source=r8.join(typeof t=="string"?t:"")),e};Function.prototype.toString=s8(function(){return Q5(this)&&t8(this).source||Z5(this)},"toString");var i8=Ct,o8=_i,a8=oI.exports,c8=iv,wi=function(e,t,n,r){r||(r={});var s=r.enumerable,i=r.name!==void 0?r.name:t;return i8(n)&&a8(n,i,r),r.global?s?e[t]=n:c8(t,n):(r.unsafe?e[t]&&(s=!0):delete e[t],s?e[t]=n:o8(e,t,n)),e},fI=ct,u8=fI({}.toString),l8=fI("".slice),bi=function(e){return l8(u8(e),8,-1)},h8=Oe,f8=uv,d8=Ct,_l=bi,p8=fn,m8=p8("toStringTag"),g8=h8.Object,v8=_l(function(){return arguments}())=="Arguments",y8=function(e,t){try{return e[t]}catch{}},hf=f8?_l:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=y8(t=g8(e),m8))=="string"?n:v8?_l(t):(r=_l(t))=="Object"&&d8(t.callee)?"Arguments":r},_8=uv,w8=hf,b8=_8?{}.toString:function(){return"[object "+w8(this)+"]"},E8=uv,S8=wi,T8=b8;E8||S8(Object.prototype,"toString",T8,{unsafe:!0});var dI={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},I8=lv,kd=I8("span").classList,M_=kd&&kd.constructor&&kd.constructor.prototype,pI=M_===Object.prototype?void 0:M_,P_=ct,A8=cf,C8=af,O8=P_(P_.bind),mI=function(e,t){return A8(e),t===void 0?e:C8?O8(e,t):function(){return e.apply(t,arguments)}},k8=Oe,D8=ct,x8=pt,R8=bi,Dd=k8.Object,M8=D8("".split),ff=x8(function(){return!Dd("z").propertyIsEnumerable(0)})?function(e){return R8(e)=="String"?M8(e,""):Dd(e)}:Dd,P8=Math.ceil,N8=Math.floor,$8=Math.trunc||function(t){var n=+t;return(n>0?N8:P8)(n)},L8=$8,df=function(e){var t=+e;return t!==t||t===0?0:L8(t)},F8=df,B8=Math.min,yv=function(e){return e>0?B8(F8(e),9007199254740991):0},U8=yv,Kc=function(e){return U8(e.length)},j8=bi,V8=Array.isArray||function(t){return j8(t)=="Array"},W8=ct,z8=pt,gI=Ct,H8=hf,Y8=Hc,K8=gv,vI=function(){},G8=[],yI=Y8("Reflect","construct"),_v=/^\s*(?:class|function)\b/,q8=W8(_v.exec),X8=!_v.exec(vI),aa=function(t){if(!gI(t))return!1;try{return yI(vI,G8,t),!0}catch{return!1}},_I=function(t){if(!gI(t))return!1;switch(H8(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return X8||!!q8(_v,K8(t))}catch{return!0}};_I.sham=!0;var Q8=!yI||z8(function(){var e;return aa(aa.call)||!aa(Object)||!aa(function(){e=!0})||e})?_I:aa,J8=Oe,N_=V8,Z8=Q8,e7=Nn,t7=fn,n7=t7("species"),$_=J8.Array,r7=function(e){var t;return N_(e)&&(t=e.constructor,Z8(t)&&(t===$_||N_(t.prototype))?t=void 0:e7(t)&&(t=t[n7],t===null&&(t=void 0))),t===void 0?$_:t},s7=r7,i7=function(e,t){return new(s7(e))(t===0?0:t)},o7=mI,a7=ct,c7=ff,u7=Uo,l7=Kc,h7=i7,L_=a7([].push),Jr=function(e){var t=e==1,n=e==2,r=e==3,s=e==4,i=e==6,o=e==7,a=e==5||i;return function(c,u,l,h){for(var f=u7(c),p=c7(f),v=o7(u,l),O=l7(p),E=0,A=h||h7,x=t?A(c,O):n||o?A(c,0):void 0,H,V;O>E;E++)if((a||E in p)&&(H=p[E],V=v(H,E,f),e))if(t)x[E]=V;else if(V)switch(e){case 3:return!0;case 5:return H;case 6:return E;case 2:L_(x,H)}else switch(e){case 4:return!1;case 7:L_(x,H)}return i?-1:r||s?s:x}},wv={forEach:Jr(0),map:Jr(1),filter:Jr(2),some:Jr(3),every:Jr(4),find:Jr(5),findIndex:Jr(6),filterReject:Jr(7)},f7=pt,wI=function(e,t){var n=[][e];return!!n&&f7(function(){n.call(null,t||function(){return 1},1)})},d7=wv.forEach,p7=wI,m7=p7("forEach"),g7=m7?[].forEach:function(t){return d7(this,t,arguments.length>1?arguments[1]:void 0)},F_=Oe,B_=dI,v7=pI,xd=g7,y7=_i,bI=function(e){if(e&&e.forEach!==xd)try{y7(e,"forEach",xd)}catch{e.forEach=xd}};for(var Rd in B_)B_[Rd]&&bI(F_[Rd]&&F_[Rd].prototype);bI(v7);var _7=!!(typeof window!="undefined"&&window.document&&window.document.createElement),bv=_7,Ev={},Sv={},EI={}.propertyIsEnumerable,SI=Object.getOwnPropertyDescriptor,w7=SI&&!EI.call({1:2},1);Sv.f=w7?function(t){var n=SI(this,t);return!!n&&n.enumerable}:EI;var b7=ff,E7=Bo,Vo=function(e){return b7(E7(e))},S7=Zn,T7=$n,I7=Sv,A7=uf,C7=Vo,O7=dv,k7=Jn,D7=nI,U_=Object.getOwnPropertyDescriptor;Ev.f=S7?U_:function(t,n){if(t=C7(t),n=O7(n),D7)try{return U_(t,n)}catch{}if(k7(t,n))return A7(!T7(I7.f,t,n),t[n])};var pf={},x7=df,R7=Math.max,M7=Math.min,TI=function(e,t){var n=x7(e);return n<0?R7(n+t,0):M7(n,t)},P7=Vo,N7=TI,$7=Kc,j_=function(e){return function(t,n,r){var s=P7(t),i=$7(s),o=N7(r,i),a;if(e&&n!=n){for(;i>o;)if(a=s[o++],a!=a)return!0}else for(;i>o;o++)if((e||o in s)&&s[o]===n)return e||o||0;return!e&&-1}},L7={includes:j_(!0),indexOf:j_(!1)},F7=ct,Md=Jn,B7=Vo,U7=L7.indexOf,j7=lf,V_=F7([].push),II=function(e,t){var n=B7(e),r=0,s=[],i;for(i in n)!Md(j7,i)&&Md(n,i)&&V_(s,i);for(;t.length>r;)Md(n,i=t[r++])&&(~U7(s,i)||V_(s,i));return s},Tv=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],V7=II,W7=Tv,z7=W7.concat("length","prototype");pf.f=Object.getOwnPropertyNames||function(t){return V7(t,z7)};var Iv={};Iv.f=Object.getOwnPropertySymbols;var H7=Hc,Y7=ct,K7=pf,G7=Iv,q7=On,X7=Y7([].concat),Q7=H7("Reflect","ownKeys")||function(t){var n=K7.f(q7(t)),r=G7.f;return r?X7(n,r(t)):n},W_=Jn,J7=Q7,Z7=Ev,eB=br,tB=function(e,t,n){for(var r=J7(t),s=eB.f,i=Z7.f,o=0;o<r.length;o++){var a=r[o];!W_(e,a)&&!(n&&W_(n,a))&&s(e,a,i(t,a))}},nB=pt,rB=Ct,sB=/#|\.prototype\./,Gc=function(e,t){var n=oB[iB(e)];return n==cB?!0:n==aB?!1:rB(t)?nB(t):!!t},iB=Gc.normalize=function(e){return String(e).replace(sB,".").toLowerCase()},oB=Gc.data={},aB=Gc.NATIVE="N",cB=Gc.POLYFILL="P",AI=Gc,Pd=Oe,uB=Ev.f,lB=_i,hB=wi,fB=iv,dB=tB,pB=AI,Ds=function(e,t){var n=e.target,r=e.global,s=e.stat,i,o,a,c,u,l;if(r?o=Pd:s?o=Pd[n]||fB(n,{}):o=(Pd[n]||{}).prototype,o)for(a in t){if(u=t[a],e.dontCallGetSet?(l=uB(o,a),c=l&&l.value):c=o[a],i=pB(r?a:n+(s?".":"#")+a,e.forced),!i&&c!==void 0){if(typeof u==typeof c)continue;dB(u,c)}(e.sham||c&&c.sham)&&lB(u,"sham",!0),hB(o,a,u,e)}},mB=Oe,gB=hf,vB=mB.String,Ei=function(e){if(gB(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return vB(e)},CI=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,yB=ct,_B=Bo,wB=Ei,bB=CI,z_=yB("".replace),ah="["+bB+"]",EB=RegExp("^"+ah+ah+"*"),SB=RegExp(ah+ah+"*$"),Nd=function(e){return function(t){var n=wB(_B(t));return e&1&&(n=z_(n,EB,"")),e&2&&(n=z_(n,SB,"")),n}},TB={start:Nd(1),end:Nd(2),trim:Nd(3)},OI=Oe,IB=pt,AB=ct,CB=Ei,OB=TB.trim,H_=CI,xa=OI.parseInt,Y_=OI.Symbol,K_=Y_&&Y_.iterator,kI=/^[+-]?0x/i,kB=AB(kI.exec),DB=xa(H_+"08")!==8||xa(H_+"0x16")!==22||K_&&!IB(function(){xa(Object(K_))}),xB=DB?function(t,n){var r=OB(CB(t));return xa(r,n>>>0||(kB(kI,r)?16:10))}:xa,RB=Ds,G_=xB;RB({global:!0,forced:parseInt!=G_},{parseInt:G_});var MB=II,PB=Tv,DI=Object.keys||function(t){return MB(t,PB)},q_=Zn,NB=ct,$B=$n,LB=pt,$d=DI,FB=Iv,BB=Sv,UB=Uo,jB=ff,$i=Object.assign,X_=Object.defineProperty,VB=NB([].concat),WB=!$i||LB(function(){if(q_&&$i({b:1},$i(X_({},"a",{enumerable:!0,get:function(){X_(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(s){t[s]=s}),$i({},e)[n]!=7||$d($i({},t)).join("")!=r})?function(t,n){for(var r=UB(t),s=arguments.length,i=1,o=FB.f,a=BB.f;s>i;)for(var c=jB(arguments[i++]),u=o?VB($d(c),o(c)):$d(c),l=u.length,h=0,f;l>h;)f=u[h++],(!q_||$B(a,c,f))&&(r[f]=c[f]);return r}:$i,zB=Ds,Q_=WB;zB({target:"Object",stat:!0,arity:2,forced:Object.assign!==Q_},{assign:Q_});var HB=pt,YB=fn,KB=cv,GB=YB("species"),qB=function(e){return KB>=51||!HB(function(){var t=[],n=t.constructor={};return n[GB]=function(){return{foo:1}},t[e](Boolean).foo!==1})},XB=Ds,QB=wv.filter,JB=qB,ZB=JB("filter");XB({target:"Array",proto:!0,forced:!ZB},{filter:function(t){return QB(this,t,arguments.length>1?arguments[1]:void 0)}});var xI={},e9=Zn,t9=rI,n9=br,r9=On,s9=Vo,i9=DI;xI.f=e9&&!t9?Object.defineProperties:function(t,n){r9(t);for(var r=s9(n),s=i9(n),i=s.length,o=0,a;i>o;)n9.f(t,a=s[o++],r[a]);return t};var o9=Hc,a9=o9("document","documentElement"),c9=On,u9=xI,J_=Tv,l9=lf,h9=a9,f9=lv,d9=vv,Z_=">",ew="<",gm="prototype",vm="script",RI=d9("IE_PROTO"),Ld=function(){},MI=function(e){return ew+vm+Z_+e+ew+"/"+vm+Z_},tw=function(e){e.write(MI("")),e.close();var t=e.parentWindow.Object;return e=null,t},p9=function(){var e=f9("iframe"),t="java"+vm+":",n;return e.style.display="none",h9.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(MI("document.F=Object")),n.close(),n.F},xu,wl=function(){try{xu=new ActiveXObject("htmlfile")}catch{}wl=typeof document!="undefined"?document.domain&&xu?tw(xu):p9():tw(xu);for(var e=J_.length;e--;)delete wl[gm][J_[e]];return wl()};l9[RI]=!0;var Av=Object.create||function(t,n){var r;return t!==null?(Ld[gm]=c9(t),r=new Ld,Ld[gm]=null,r[RI]=t):r=wl(),n===void 0?r:u9.f(r,n)},m9=fn,g9=Av,v9=br.f,ym=m9("unscopables"),_m=Array.prototype;_m[ym]==null&&v9(_m,ym,{configurable:!0,value:g9(null)});var y9=function(e){_m[ym][e]=!0},qc={},_9=pt,w9=!_9(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),b9=Oe,E9=Jn,S9=Ct,T9=Uo,I9=vv,A9=w9,nw=I9("IE_PROTO"),wm=b9.Object,C9=wm.prototype,PI=A9?wm.getPrototypeOf:function(e){var t=T9(e);if(E9(t,nw))return t[nw];var n=t.constructor;return S9(n)&&t instanceof n?n.prototype:t instanceof wm?C9:null},O9=pt,k9=Ct,rw=PI,D9=wi,x9=fn,bm=x9("iterator"),NI=!1,ai,Fd,Bd;[].keys&&(Bd=[].keys(),"next"in Bd?(Fd=rw(rw(Bd)),Fd!==Object.prototype&&(ai=Fd)):NI=!0);var R9=ai==null||O9(function(){var e={};return ai[bm].call(e)!==e});R9&&(ai={});k9(ai[bm])||D9(ai,bm,function(){return this});var $I={IteratorPrototype:ai,BUGGY_SAFARI_ITERATORS:NI},M9=br.f,P9=Jn,N9=fn,sw=N9("toStringTag"),Cv=function(e,t,n){e&&!n&&(e=e.prototype),e&&!P9(e,sw)&&M9(e,sw,{configurable:!0,value:t})},$9=$I.IteratorPrototype,L9=Av,F9=uf,B9=Cv,U9=qc,j9=function(){return this},V9=function(e,t,n,r){var s=t+" Iterator";return e.prototype=L9($9,{next:F9(+!r,n)}),B9(e,s,!1),U9[s]=j9,e},LI=Oe,W9=Ct,z9=LI.String,H9=LI.TypeError,Y9=function(e){if(typeof e=="object"||W9(e))return e;throw H9("Can't set "+z9(e)+" as a prototype")},K9=ct,G9=On,q9=Y9,FI=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},n;try{n=K9(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),n(t,[]),e=t instanceof Array}catch{}return function(s,i){return G9(s),q9(i),e?n(s,i):s.__proto__=i,s}}():void 0),X9=Ds,Q9=$n,BI=mv,J9=Ct,Z9=V9,iw=PI,ow=FI,eU=Cv,tU=_i,Ud=wi,nU=fn,rU=qc,UI=$I,sU=BI.PROPER,iU=BI.CONFIGURABLE,aw=UI.IteratorPrototype,Ru=UI.BUGGY_SAFARI_ITERATORS,ca=nU("iterator"),cw="keys",ua="values",uw="entries",oU=function(){return this},jI=function(e,t,n,r,s,i,o){Z9(n,t,r);var a=function(A){if(A===s&&f)return f;if(!Ru&&A in l)return l[A];switch(A){case cw:return function(){return new n(this,A)};case ua:return function(){return new n(this,A)};case uw:return function(){return new n(this,A)}}return function(){return new n(this)}},c=t+" Iterator",u=!1,l=e.prototype,h=l[ca]||l["@@iterator"]||s&&l[s],f=!Ru&&h||a(s),p=t=="Array"&&l.entries||h,v,O,E;if(p&&(v=iw(p.call(new e)),v!==Object.prototype&&v.next&&(iw(v)!==aw&&(ow?ow(v,aw):J9(v[ca])||Ud(v,ca,oU)),eU(v,c,!0))),sU&&s==ua&&h&&h.name!==ua&&(iU?tU(l,"name",ua):(u=!0,f=function(){return Q9(h,this)})),s)if(O={values:a(ua),keys:i?f:a(cw),entries:a(uw)},o)for(E in O)(Ru||u||!(E in l))&&Ud(l,E,O[E]);else X9({target:t,proto:!0,forced:Ru||u},O);return l[ca]!==f&&Ud(l,ca,f,{name:s}),rU[t]=f,O},aU=Vo,Ov=y9,lw=qc,VI=jo,cU=br.f,uU=jI,lU=Zn,WI="Array Iterator",hU=VI.set,fU=VI.getterFor(WI),dU=uU(Array,"Array",function(e,t){hU(this,{type:WI,target:aU(e),index:0,kind:t})},function(){var e=fU(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):n=="keys"?{value:r,done:!1}:n=="values"?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),hw=lw.Arguments=lw.Array;Ov("keys");Ov("values");Ov("entries");if(lU&&hw.name!=="values")try{cU(hw,"name",{value:"values"})}catch{}var kv=ct,pU=df,mU=Ei,gU=Bo,vU=kv("".charAt),fw=kv("".charCodeAt),yU=kv("".slice),dw=function(e){return function(t,n){var r=mU(gU(t)),s=pU(n),i=r.length,o,a;return s<0||s>=i?e?"":void 0:(o=fw(r,s),o<55296||o>56319||s+1===i||(a=fw(r,s+1))<56320||a>57343?e?vU(r,s):o:e?yU(r,s,s+2):(o-55296<<10)+(a-56320)+65536)}},zI={codeAt:dw(!1),charAt:dw(!0)},_U=zI.charAt,wU=Ei,HI=jo,bU=jI,YI="String Iterator",EU=HI.set,SU=HI.getterFor(YI);bU(String,"String",function(e){EU(this,{type:YI,string:wU(e),index:0})},function(){var t=SU(this),n=t.string,r=t.index,s;return r>=n.length?{value:void 0,done:!0}:(s=_U(n,r),t.index+=s.length,{value:s,done:!1})});var TU=wi,KI=function(e,t,n){for(var r in t)TU(e,r,t[r],n);return e},mf={exports:{}},GI={},IU=dv,AU=br,CU=uf,OU=function(e,t,n){var r=IU(t);r in e?AU.f(e,r,CU(0,n)):e[r]=n},kU=Oe,pw=TI,DU=Kc,xU=OU,RU=kU.Array,MU=Math.max,PU=function(e,t,n){for(var r=DU(e),s=pw(t,r),i=pw(n===void 0?r:n,r),o=RU(MU(i-s,0)),a=0;s<i;s++,a++)xU(o,a,e[s]);return o.length=a,o},NU=bi,$U=Vo,qI=pf.f,LU=PU,XI=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],FU=function(e){try{return qI(e)}catch{return LU(XI)}};GI.f=function(t){return XI&&NU(t)=="Window"?FU(t):qI($U(t))};var BU=pt,UU=BU(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),jU=pt,VU=Nn,WU=bi,mw=UU,bl=Object.isExtensible,zU=jU(function(){bl(1)}),QI=zU||mw?function(t){return!VU(t)||mw&&WU(t)=="ArrayBuffer"?!1:bl?bl(t):!0}:bl,HU=pt,YU=!HU(function(){return Object.isExtensible(Object.preventExtensions({}))}),KU=Ds,GU=ct,qU=lf,XU=Nn,Dv=Jn,QU=br.f,gw=pf,JU=GI,xv=QI,ZU=av,ej=YU,JI=!1,Wr=ZU("meta"),tj=0,Rv=function(e){QU(e,Wr,{value:{objectID:"O"+tj++,weakData:{}}})},nj=function(e,t){if(!XU(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!Dv(e,Wr)){if(!xv(e))return"F";if(!t)return"E";Rv(e)}return e[Wr].objectID},rj=function(e,t){if(!Dv(e,Wr)){if(!xv(e))return!0;if(!t)return!1;Rv(e)}return e[Wr].weakData},sj=function(e){return ej&&JI&&xv(e)&&!Dv(e,Wr)&&Rv(e),e},ij=function(){oj.enable=function(){},JI=!0;var e=gw.f,t=GU([].splice),n={};n[Wr]=1,e(n).length&&(gw.f=function(r){for(var s=e(r),i=0,o=s.length;i<o;i++)if(s[i]===Wr){t(s,i,1);break}return s},KU({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:JU.f}))},oj=mf.exports={enable:ij,fastKey:nj,getWeakData:rj,onFreeze:sj};qU[Wr]=!0;var aj=fn,cj=qc,uj=aj("iterator"),lj=Array.prototype,hj=function(e){return e!==void 0&&(cj.Array===e||lj[uj]===e)},fj=hf,vw=Yc,dj=qc,pj=fn,mj=pj("iterator"),ZI=function(e){if(e!=null)return vw(e,mj)||vw(e,"@@iterator")||dj[fj(e)]},gj=Oe,vj=$n,yj=cf,_j=On,wj=fv,bj=ZI,Ej=gj.TypeError,Sj=function(e,t){var n=arguments.length<2?bj(e):t;if(yj(n))return _j(vj(n,e));throw Ej(wj(e)+" is not iterable")},Tj=$n,yw=On,Ij=Yc,Aj=function(e,t,n){var r,s;yw(e);try{if(r=Ij(e,"return"),!r){if(t==="throw")throw n;return n}r=Tj(r,e)}catch(i){s=!0,r=i}if(t==="throw")throw n;if(s)throw r;return yw(r),n},Cj=Oe,Oj=mI,kj=$n,Dj=On,xj=fv,Rj=hj,Mj=Kc,_w=hv,Pj=Sj,Nj=ZI,ww=Aj,$j=Cj.TypeError,El=function(e,t){this.stopped=e,this.result=t},bw=El.prototype,eA=function(e,t,n){var r=n&&n.that,s=!!(n&&n.AS_ENTRIES),i=!!(n&&n.IS_ITERATOR),o=!!(n&&n.INTERRUPTED),a=Oj(t,r),c,u,l,h,f,p,v,O=function(A){return c&&ww(c,"normal",A),new El(!0,A)},E=function(A){return s?(Dj(A),o?a(A[0],A[1],O):a(A[0],A[1])):o?a(A,O):a(A)};if(i)c=e;else{if(u=Nj(e),!u)throw $j(xj(e)+" is not iterable");if(Rj(u)){for(l=0,h=Mj(e);h>l;l++)if(f=E(e[l]),f&&_w(bw,f))return f;return new El(!1)}c=Pj(e,u)}for(p=c.next;!(v=kj(p,c)).done;){try{f=E(v.value)}catch(A){ww(c,"throw",A)}if(typeof f=="object"&&f&&_w(bw,f))return f}return new El(!1)},Lj=Oe,Fj=hv,Bj=Lj.TypeError,tA=function(e,t){if(Fj(t,e))return e;throw Bj("Incorrect invocation")},Uj=fn,nA=Uj("iterator"),rA=!1;try{var jj=0,Ew={next:function(){return{done:!!jj++}},return:function(){rA=!0}};Ew[nA]=function(){return this},Array.from(Ew,function(){throw 2})}catch{}var Vj=function(e,t){if(!t&&!rA)return!1;var n=!1;try{var r={};r[nA]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch{}return n},Wj=Ct,zj=Nn,Sw=FI,Hj=function(e,t,n){var r,s;return Sw&&Wj(r=t.constructor)&&r!==n&&zj(s=r.prototype)&&s!==n.prototype&&Sw(e,s),e},Yj=Ds,Kj=Oe,Gj=ct,Tw=AI,qj=wi,Xj=mf.exports,Qj=eA,Jj=tA,Zj=Ct,jd=Nn,Vd=pt,eV=Vj,tV=Cv,nV=Hj,rV=function(e,t,n){var r=e.indexOf("Map")!==-1,s=e.indexOf("Weak")!==-1,i=r?"set":"add",o=Kj[e],a=o&&o.prototype,c=o,u={},l=function(A){var x=Gj(a[A]);qj(a,A,A=="add"?function(V){return x(this,V===0?0:V),this}:A=="delete"?function(H){return s&&!jd(H)?!1:x(this,H===0?0:H)}:A=="get"?function(V){return s&&!jd(V)?void 0:x(this,V===0?0:V)}:A=="has"?function(V){return s&&!jd(V)?!1:x(this,V===0?0:V)}:function(V,R){return x(this,V===0?0:V,R),this})},h=Tw(e,!Zj(o)||!(s||a.forEach&&!Vd(function(){new o().entries().next()})));if(h)c=n.getConstructor(t,e,r,i),Xj.enable();else if(Tw(e,!0)){var f=new c,p=f[i](s?{}:-0,1)!=f,v=Vd(function(){f.has(1)}),O=eV(function(A){new o(A)}),E=!s&&Vd(function(){for(var A=new o,x=5;x--;)A[i](x,x);return!A.has(-0)});O||(c=t(function(A,x){Jj(A,a);var H=nV(new o,A,c);return x!=null&&Qj(x,H[i],{that:H,AS_ENTRIES:r}),H}),c.prototype=a,a.constructor=c),(v||E)&&(l("delete"),l("has"),r&&l("get")),(E||p)&&l(i),s&&a.clear&&delete a.clear}return u[e]=c,Yj({global:!0,constructor:!0,forced:c!=o},u),tV(c,e),s||n.setStrong(c,e,r),c},sV=ct,Iw=KI,Mu=mf.exports.getWeakData,iV=On,Wd=Nn,oV=tA,aV=eA,sA=wv,Aw=Jn,iA=jo,cV=iA.set,uV=iA.getterFor,lV=sA.find,hV=sA.findIndex,fV=sV([].splice),dV=0,Pu=function(e){return e.frozen||(e.frozen=new oA)},oA=function(){this.entries=[]},zd=function(e,t){return lV(e.entries,function(n){return n[0]===t})};oA.prototype={get:function(e){var t=zd(this,e);if(t)return t[1]},has:function(e){return!!zd(this,e)},set:function(e,t){var n=zd(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=hV(this.entries,function(n){return n[0]===e});return~t&&fV(this.entries,t,1),!!~t}};var pV={getConstructor:function(e,t,n,r){var s=e(function(c,u){oV(c,i),cV(c,{type:t,id:dV++,frozen:void 0}),u!=null&&aV(u,c[r],{that:c,AS_ENTRIES:n})}),i=s.prototype,o=uV(t),a=function(c,u,l){var h=o(c),f=Mu(iV(u),!0);return f===!0?Pu(h).set(u,l):f[h.id]=l,c};return Iw(i,{delete:function(c){var u=o(this);if(!Wd(c))return!1;var l=Mu(c);return l===!0?Pu(u).delete(c):l&&Aw(l,u.id)&&delete l[u.id]},has:function(u){var l=o(this);if(!Wd(u))return!1;var h=Mu(u);return h===!0?Pu(l).has(u):h&&Aw(h,l.id)}}),Iw(i,n?{get:function(u){var l=o(this);if(Wd(u)){var h=Mu(u);return h===!0?Pu(l).get(u):h?h[l.id]:void 0}},set:function(u,l){return a(this,u,l)}}:{add:function(u){return a(this,u,!0)}}),s}},Cw=Oe,Nu=ct,mV=KI,gV=mf.exports,vV=rV,aA=pV,$u=Nn,Lu=QI,Fu=jo.enforce,yV=cI,_V=!Cw.ActiveXObject&&"ActiveXObject"in Cw,la,cA=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},wV=vV("WeakMap",cA,aA);if(yV&&_V){la=aA.getConstructor(cA,"WeakMap",!0),gV.enable();var ha=wV.prototype,Ow=Nu(ha.delete),Bu=Nu(ha.has),kw=Nu(ha.get),Dw=Nu(ha.set);mV(ha,{delete:function(e){if($u(e)&&!Lu(e)){var t=Fu(this);return t.frozen||(t.frozen=new la),Ow(this,e)||t.frozen.delete(e)}return Ow(this,e)},has:function(t){if($u(t)&&!Lu(t)){var n=Fu(this);return n.frozen||(n.frozen=new la),Bu(this,t)||n.frozen.has(t)}return Bu(this,t)},get:function(t){if($u(t)&&!Lu(t)){var n=Fu(this);return n.frozen||(n.frozen=new la),Bu(this,t)?kw(this,t):n.frozen.get(t)}return kw(this,t)},set:function(t,n){if($u(t)&&!Lu(t)){var r=Fu(this);r.frozen||(r.frozen=new la),Bu(this,t)?Dw(this,t,n):r.frozen.set(t,n)}else Dw(this,t,n);return this}})}var xw=Oe,uA=dI,bV=pI,ya=dU,Hd=_i,lA=fn,Yd=lA("iterator"),Rw=lA("toStringTag"),Kd=ya.values,hA=function(e,t){if(e){if(e[Yd]!==Kd)try{Hd(e,Yd,Kd)}catch{e[Yd]=Kd}if(e[Rw]||Hd(e,Rw,t),uA[t]){for(var n in ya)if(e[n]!==ya[n])try{Hd(e,n,ya[n])}catch{e[n]=ya[n]}}}};for(var Gd in uA)hA(xw[Gd]&&xw[Gd].prototype,Gd);hA(bV,"DOMTokenList");var fA="Expected a function",Mw=0/0,EV="[object Symbol]",SV=/^\s+|\s+$/g,TV=/^[-+]0x[0-9a-f]+$/i,IV=/^0b[01]+$/i,AV=/^0o[0-7]+$/i,CV=parseInt,OV=typeof $t=="object"&&$t&&$t.Object===Object&&$t,kV=typeof self=="object"&&self&&self.Object===Object&&self,DV=OV||kV||Function("return this")(),xV=Object.prototype,RV=xV.toString,MV=Math.max,PV=Math.min,qd=function(){return DV.Date.now()};function NV(e,t,n){var r,s,i,o,a,c,u=0,l=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(fA);t=Pw(t)||0,ch(n)&&(l=!!n.leading,h="maxWait"in n,i=h?MV(Pw(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function p(M){var w=r,C=s;return r=s=void 0,u=M,o=e.apply(C,w),o}function v(M){return u=M,a=setTimeout(A,t),l?p(M):o}function O(M){var w=M-c,C=M-u,X=t-w;return h?PV(X,i-C):X}function E(M){var w=M-c,C=M-u;return c===void 0||w>=t||w<0||h&&C>=i}function A(){var M=qd();if(E(M))return x(M);a=setTimeout(A,O(M))}function x(M){return a=void 0,f&&r?p(M):(r=s=void 0,o)}function H(){a!==void 0&&clearTimeout(a),u=0,r=c=s=a=void 0}function V(){return a===void 0?o:x(qd())}function R(){var M=qd(),w=E(M);if(r=arguments,s=this,c=M,w){if(a===void 0)return v(c);if(h)return a=setTimeout(A,t),p(c)}return a===void 0&&(a=setTimeout(A,t)),o}return R.cancel=H,R.flush=V,R}function $V(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(fA);return ch(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),NV(e,t,{leading:r,maxWait:t,trailing:s})}function ch(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function LV(e){return!!e&&typeof e=="object"}function FV(e){return typeof e=="symbol"||LV(e)&&RV.call(e)==EV}function Pw(e){if(typeof e=="number")return e;if(FV(e))return Mw;if(ch(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ch(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(SV,"");var n=IV.test(e);return n||AV.test(e)?CV(e.slice(2),n?2:8):TV.test(e)?Mw:+e}var Nw=$V,BV="Expected a function",$w=0/0,UV="[object Symbol]",jV=/^\s+|\s+$/g,VV=/^[-+]0x[0-9a-f]+$/i,WV=/^0b[01]+$/i,zV=/^0o[0-7]+$/i,HV=parseInt,YV=typeof $t=="object"&&$t&&$t.Object===Object&&$t,KV=typeof self=="object"&&self&&self.Object===Object&&self,GV=YV||KV||Function("return this")(),qV=Object.prototype,XV=qV.toString,QV=Math.max,JV=Math.min,Xd=function(){return GV.Date.now()};function ZV(e,t,n){var r,s,i,o,a,c,u=0,l=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(BV);t=Lw(t)||0,Em(n)&&(l=!!n.leading,h="maxWait"in n,i=h?QV(Lw(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function p(M){var w=r,C=s;return r=s=void 0,u=M,o=e.apply(C,w),o}function v(M){return u=M,a=setTimeout(A,t),l?p(M):o}function O(M){var w=M-c,C=M-u,X=t-w;return h?JV(X,i-C):X}function E(M){var w=M-c,C=M-u;return c===void 0||w>=t||w<0||h&&C>=i}function A(){var M=Xd();if(E(M))return x(M);a=setTimeout(A,O(M))}function x(M){return a=void 0,f&&r?p(M):(r=s=void 0,o)}function H(){a!==void 0&&clearTimeout(a),u=0,r=c=s=a=void 0}function V(){return a===void 0?o:x(Xd())}function R(){var M=Xd(),w=E(M);if(r=arguments,s=this,c=M,w){if(a===void 0)return v(c);if(h)return a=setTimeout(A,t),p(c)}return a===void 0&&(a=setTimeout(A,t)),o}return R.cancel=H,R.flush=V,R}function Em(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function eW(e){return!!e&&typeof e=="object"}function tW(e){return typeof e=="symbol"||eW(e)&&XV.call(e)==UV}function Lw(e){if(typeof e=="number")return e;if(tW(e))return $w;if(Em(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Em(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(jV,"");var n=WV.test(e);return n||zV.test(e)?HV(e.slice(2),n?2:8):VV.test(e)?$w:+e}var Fw=ZV,nW="Expected a function",dA="__lodash_hash_undefined__",rW="[object Function]",sW="[object GeneratorFunction]",iW=/[\\^$.*+?()[\]{}|]/g,oW=/^\[object .+?Constructor\]$/,aW=typeof $t=="object"&&$t&&$t.Object===Object&&$t,cW=typeof self=="object"&&self&&self.Object===Object&&self,pA=aW||cW||Function("return this")();function uW(e,t){return e==null?void 0:e[t]}function lW(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var hW=Array.prototype,fW=Function.prototype,mA=Object.prototype,Qd=pA["__core-js_shared__"],Bw=function(){var e=/[^.]+$/.exec(Qd&&Qd.keys&&Qd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),gA=fW.toString,Mv=mA.hasOwnProperty,dW=mA.toString,pW=RegExp("^"+gA.call(Mv).replace(iW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mW=hW.splice,gW=vA(pA,"Map"),fc=vA(Object,"create");function ci(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function vW(){this.__data__=fc?fc(null):{}}function yW(e){return this.has(e)&&delete this.__data__[e]}function _W(e){var t=this.__data__;if(fc){var n=t[e];return n===dA?void 0:n}return Mv.call(t,e)?t[e]:void 0}function wW(e){var t=this.__data__;return fc?t[e]!==void 0:Mv.call(t,e)}function bW(e,t){var n=this.__data__;return n[e]=fc&&t===void 0?dA:t,this}ci.prototype.clear=vW;ci.prototype.delete=yW;ci.prototype.get=_W;ci.prototype.has=wW;ci.prototype.set=bW;function Wo(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function EW(){this.__data__=[]}function SW(e){var t=this.__data__,n=gf(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():mW.call(t,n,1),!0}function TW(e){var t=this.__data__,n=gf(t,e);return n<0?void 0:t[n][1]}function IW(e){return gf(this.__data__,e)>-1}function AW(e,t){var n=this.__data__,r=gf(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}Wo.prototype.clear=EW;Wo.prototype.delete=SW;Wo.prototype.get=TW;Wo.prototype.has=IW;Wo.prototype.set=AW;function Si(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function CW(){this.__data__={hash:new ci,map:new(gW||Wo),string:new ci}}function OW(e){return vf(this,e).delete(e)}function kW(e){return vf(this,e).get(e)}function DW(e){return vf(this,e).has(e)}function xW(e,t){return vf(this,e).set(e,t),this}Si.prototype.clear=CW;Si.prototype.delete=OW;Si.prototype.get=kW;Si.prototype.has=DW;Si.prototype.set=xW;function gf(e,t){for(var n=e.length;n--;)if($W(e[n][0],t))return n;return-1}function RW(e){if(!yA(e)||PW(e))return!1;var t=LW(e)||lW(e)?pW:oW;return t.test(NW(e))}function vf(e,t){var n=e.__data__;return MW(t)?n[typeof t=="string"?"string":"hash"]:n.map}function vA(e,t){var n=uW(e,t);return RW(n)?n:void 0}function MW(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function PW(e){return!!Bw&&Bw in e}function NW(e){if(e!=null){try{return gA.call(e)}catch{}try{return e+""}catch{}}return""}function Pv(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(nW);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=e.apply(this,r);return n.cache=i.set(s,o),o};return n.cache=new(Pv.Cache||Si),n}Pv.Cache=Si;function $W(e,t){return e===t||e!==e&&t!==t}function LW(e){var t=yA(e)?dW.call(e):"";return t==rW||t==sW}function yA(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}var FW=Pv,ei=[],BW=function(){return ei.some(function(e){return e.activeTargets.length>0})},UW=function(){return ei.some(function(e){return e.skippedTargets.length>0})},Uw="ResizeObserver loop completed with undelivered notifications.",jW=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:Uw}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=Uw),window.dispatchEvent(e)},dc;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(dc||(dc={}));var ti=function(e){return Object.freeze(e)},VW=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,ti(this)}return e}(),_A=function(){function e(t,n,r,s){return this.x=t,this.y=n,this.width=r,this.height=s,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ti(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,s=t.top,i=t.right,o=t.bottom,a=t.left,c=t.width,u=t.height;return{x:n,y:r,top:s,right:i,bottom:o,left:a,width:c,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Nv=function(e){return e instanceof SVGElement&&"getBBox"in e},wA=function(e){if(Nv(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var s=e,i=s.offsetWidth,o=s.offsetHeight;return!(i||o||e.getClientRects().length)},jw=function(e){var t,n;if(e instanceof Element)return!0;var r=(n=(t=e)===null||t===void 0?void 0:t.ownerDocument)===null||n===void 0?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},WW=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Ra=typeof window!="undefined"?window:{},Uu=new WeakMap,Vw=/auto|scroll/,zW=/^tb|vertical/,HW=/msie|trident/i.test(Ra.navigator&&Ra.navigator.userAgent),tr=function(e){return parseFloat(e||"0")},ao=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new VW((n?t:e)||0,(n?e:t)||0)},Ww=ti({devicePixelContentBoxSize:ao(),borderBoxSize:ao(),contentBoxSize:ao(),contentRect:new _A(0,0,0,0)}),bA=function(e,t){if(t===void 0&&(t=!1),Uu.has(e)&&!t)return Uu.get(e);if(wA(e))return Uu.set(e,Ww),Ww;var n=getComputedStyle(e),r=Nv(e)&&e.ownerSVGElement&&e.getBBox(),s=!HW&&n.boxSizing==="border-box",i=zW.test(n.writingMode||""),o=!r&&Vw.test(n.overflowY||""),a=!r&&Vw.test(n.overflowX||""),c=r?0:tr(n.paddingTop),u=r?0:tr(n.paddingRight),l=r?0:tr(n.paddingBottom),h=r?0:tr(n.paddingLeft),f=r?0:tr(n.borderTopWidth),p=r?0:tr(n.borderRightWidth),v=r?0:tr(n.borderBottomWidth),O=r?0:tr(n.borderLeftWidth),E=h+u,A=c+l,x=O+p,H=f+v,V=a?e.offsetHeight-H-e.clientHeight:0,R=o?e.offsetWidth-x-e.clientWidth:0,M=s?E+x:0,w=s?A+H:0,C=r?r.width:tr(n.width)-M-R,X=r?r.height:tr(n.height)-w-V,de=C+E+R+x,Ce=X+A+V+H,Re=ti({devicePixelContentBoxSize:ao(Math.round(C*devicePixelRatio),Math.round(X*devicePixelRatio),i),borderBoxSize:ao(de,Ce,i),contentBoxSize:ao(C,X,i),contentRect:new _A(h,c,C,X)});return Uu.set(e,Re),Re},EA=function(e,t,n){var r=bA(e,n),s=r.borderBoxSize,i=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(t){case dc.DEVICE_PIXEL_CONTENT_BOX:return o;case dc.BORDER_BOX:return s;default:return i}},YW=function(){function e(t){var n=bA(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=ti([n.borderBoxSize]),this.contentBoxSize=ti([n.contentBoxSize]),this.devicePixelContentBoxSize=ti([n.devicePixelContentBoxSize])}return e}(),SA=function(e){if(wA(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},KW=function(){var e=1/0,t=[];ei.forEach(function(o){if(o.activeTargets.length!==0){var a=[];o.activeTargets.forEach(function(u){var l=new YW(u.target),h=SA(u.target);a.push(l),u.lastReportedSize=EA(u.target,u.observedBox),h<e&&(e=h)}),t.push(function(){o.callback.call(o.observer,a,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var s=r[n];s()}return e},zw=function(e){ei.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(s){s.isActive()&&(SA(s.target)>e?n.activeTargets.push(s):n.skippedTargets.push(s))})})},GW=function(){var e=0;for(zw(e);BW();)e=KW(),zw(e);return UW()&&jW(),e>0},Jd,TA=[],qW=function(){return TA.splice(0).forEach(function(e){return e()})},XW=function(e){if(!Jd){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return qW()}).observe(n,r),Jd=function(){n.textContent=""+(t?t--:t++)}}TA.push(e),Jd()},QW=function(e){XW(function(){requestAnimationFrame(e)})},Sl=0,JW=function(){return!!Sl},ZW=250,ez={attributes:!0,characterData:!0,childList:!0,subtree:!0},Hw=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Yw=function(e){return e===void 0&&(e=0),Date.now()+e},Zd=!1,tz=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=ZW),!Zd){Zd=!0;var r=Yw(t);QW(function(){var s=!1;try{s=GW()}finally{if(Zd=!1,t=r-Yw(),!JW())return;s?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,ez)};document.body?n():Ra.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Hw.forEach(function(n){return Ra.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Hw.forEach(function(n){return Ra.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),Sm=new tz,Kw=function(e){!Sl&&e>0&&Sm.start(),Sl+=e,!Sl&&Sm.stop()},nz=function(e){return!Nv(e)&&!WW(e)&&getComputedStyle(e).display==="inline"},rz=function(){function e(t,n){this.target=t,this.observedBox=n||dc.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=EA(this.target,this.observedBox,!0);return nz(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),sz=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),ju=new WeakMap,Gw=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Vu=function(){function e(){}return e.connect=function(t,n){var r=new sz(t,n);ju.set(t,r)},e.observe=function(t,n,r){var s=ju.get(t),i=s.observationTargets.length===0;Gw(s.observationTargets,n)<0&&(i&&ei.push(s),s.observationTargets.push(new rz(n,r&&r.box)),Kw(1),Sm.schedule())},e.unobserve=function(t,n){var r=ju.get(t),s=Gw(r.observationTargets,n),i=r.observationTargets.length===1;s>=0&&(i&&ei.splice(ei.indexOf(r),1),r.observationTargets.splice(s,1),Kw(-1))},e.disconnect=function(t){var n=this,r=ju.get(t);r.observationTargets.slice().forEach(function(s){return n.unobserve(t,s.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),iz=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Vu.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!jw(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Vu.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!jw(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Vu.unobserve(this,t)},e.prototype.disconnect=function(){Vu.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),oz=Oe,az=cf,cz=Uo,uz=ff,lz=Kc,hz=oz.TypeError,qw=function(e){return function(t,n,r,s){az(n);var i=cz(t),o=uz(i),a=lz(i),c=e?a-1:0,u=e?-1:1;if(r<2)for(;;){if(c in o){s=o[c],c+=u;break}if(c+=u,e?c<0:a<=c)throw hz("Reduce of empty array with no initial value")}for(;e?c>=0:a>c;c+=u)c in o&&(s=n(s,o[c],c,i));return s}},fz={left:qw(!1),right:qw(!0)},dz=bi,pz=Oe,mz=dz(pz.process)=="process",gz=Ds,vz=fz.left,yz=wI,Xw=cv,_z=mz,wz=yz("reduce"),bz=!_z&&Xw>79&&Xw<83;gz({target:"Array",proto:!0,forced:!wz||bz},{reduce:function(t){var n=arguments.length;return vz(this,t,n,n>1?arguments[1]:void 0)}});var Ez=On,Sz=function(){var e=Ez(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},$v=pt,Tz=Oe,Lv=Tz.RegExp,Fv=$v(function(){var e=Lv("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),Iz=Fv||$v(function(){return!Lv("a","y").sticky}),Az=Fv||$v(function(){var e=Lv("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),Cz={BROKEN_CARET:Az,MISSED_STICKY:Iz,UNSUPPORTED_Y:Fv},Oz=pt,kz=Oe,Dz=kz.RegExp,xz=Oz(function(){var e=Dz(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),Rz=pt,Mz=Oe,Pz=Mz.RegExp,Nz=Rz(function(){var e=Pz("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),Ki=$n,yf=ct,$z=Ei,Lz=Sz,Fz=Cz,Bz=of.exports,Uz=Av,jz=jo.get,Vz=xz,Wz=Nz,zz=Bz("native-string-replace",String.prototype.replace),uh=RegExp.prototype.exec,Tm=uh,Hz=yf("".charAt),Yz=yf("".indexOf),Kz=yf("".replace),ep=yf("".slice),Im=function(){var e=/a/,t=/b*/g;return Ki(uh,e,"a"),Ki(uh,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),IA=Fz.BROKEN_CARET,Am=/()??/.exec("")[1]!==void 0,Gz=Im||Am||IA||Vz||Wz;Gz&&(Tm=function(t){var n=this,r=jz(n),s=$z(t),i=r.raw,o,a,c,u,l,h,f;if(i)return i.lastIndex=n.lastIndex,o=Ki(Tm,i,s),n.lastIndex=i.lastIndex,o;var p=r.groups,v=IA&&n.sticky,O=Ki(Lz,n),E=n.source,A=0,x=s;if(v&&(O=Kz(O,"y",""),Yz(O,"g")===-1&&(O+="g"),x=ep(s,n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&Hz(s,n.lastIndex-1)!==`
`)&&(E="(?: "+E+")",x=" "+x,A++),a=new RegExp("^(?:"+E+")",O)),Am&&(a=new RegExp("^"+E+"$(?!\\s)",O)),Im&&(c=n.lastIndex),u=Ki(uh,v?a:n,x),v?u?(u.input=ep(u.input,A),u[0]=ep(u[0],A),u.index=n.lastIndex,n.lastIndex+=u[0].length):n.lastIndex=0:Im&&u&&(n.lastIndex=n.global?u.index+u[0].length:c),Am&&u&&u.length>1&&Ki(zz,u[0],a,function(){for(l=1;l<arguments.length-2;l++)arguments[l]===void 0&&(u[l]=void 0)}),u&&p)for(u.groups=h=Uz(null),l=0;l<p.length;l++)f=p[l],h[f[0]]=u[f[1]];return u});var Bv=Tm,qz=Ds,Qw=Bv;qz({target:"RegExp",proto:!0,forced:/./.exec!==Qw},{exec:Qw});var Jw=ct,Zw=wi,Xz=Bv,eb=pt,AA=fn,Qz=_i,Jz=AA("species"),tp=RegExp.prototype,CA=function(e,t,n,r){var s=AA(e),i=!eb(function(){var u={};return u[s]=function(){return 7},""[e](u)!=7}),o=i&&!eb(function(){var u=!1,l=/a/;return e==="split"&&(l={},l.constructor={},l.constructor[Jz]=function(){return l},l.flags="",l[s]=/./[s]),l.exec=function(){return u=!0,null},l[s](""),!u});if(!i||!o||n){var a=Jw(/./[s]),c=t(s,""[e],function(u,l,h,f,p){var v=Jw(u),O=l.exec;return O===Xz||O===tp.exec?i&&!p?{done:!0,value:a(l,h,f)}:{done:!0,value:v(h,l,f)}:{done:!1}});Zw(String.prototype,e,c[0]),Zw(tp,s,c[1])}r&&Qz(tp[s],"sham",!0)},Zz=zI.charAt,OA=function(e,t,n){return t+(n?Zz(e,t).length:1)},eH=Oe,tb=$n,tH=On,nH=Ct,rH=bi,sH=Bv,iH=eH.TypeError,kA=function(e,t){var n=e.exec;if(nH(n)){var r=tb(n,e,t);return r!==null&&tH(r),r}if(rH(e)==="RegExp")return tb(sH,e,t);throw iH("RegExp#exec called on incompatible receiver")},oH=$n,aH=CA,cH=On,uH=yv,np=Ei,lH=Bo,hH=Yc,fH=OA,nb=kA;aH("match",function(e,t,n){return[function(s){var i=lH(this),o=s==null?void 0:hH(s,e);return o?oH(o,s,i):new RegExp(s)[e](np(i))},function(r){var s=cH(this),i=np(r),o=n(t,s,i);if(o.done)return o.value;if(!s.global)return nb(s,i);var a=s.unicode;s.lastIndex=0;for(var c=[],u=0,l;(l=nb(s,i))!==null;){var h=np(l[0]);c[u]=h,h===""&&(s.lastIndex=fH(i,uH(s.lastIndex),a)),u++}return u===0?null:c}]});var dH=Zn,pH=mv.EXISTS,DA=ct,mH=br.f,xA=Function.prototype,gH=DA(xA.toString),RA=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,vH=DA(RA.exec),yH="name";dH&&!pH&&mH(xA,yH,{configurable:!0,get:function(){try{return vH(RA,gH(this))[1]}catch{return""}}});var _H=af,MA=Function.prototype,rb=MA.apply,sb=MA.call,wH=typeof Reflect=="object"&&Reflect.apply||(_H?sb.bind(rb):function(){return sb.apply(rb,arguments)}),Uv=ct,bH=Uo,EH=Math.floor,rp=Uv("".charAt),SH=Uv("".replace),sp=Uv("".slice),TH=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,IH=/\$([$&'`]|\d{1,2})/g,AH=function(e,t,n,r,s,i){var o=n+e.length,a=r.length,c=IH;return s!==void 0&&(s=bH(s),c=TH),SH(i,c,function(u,l){var h;switch(rp(l,0)){case"$":return"$";case"&":return e;case"`":return sp(t,0,n);case"'":return sp(t,o);case"<":h=s[sp(l,1,-1)];break;default:var f=+l;if(f===0)return u;if(f>a){var p=EH(f/10);return p===0?u:p<=a?r[p-1]===void 0?rp(l,1):r[p-1]+rp(l,1):u}h=r[f-1]}return h===void 0?"":h})},CH=wH,ib=$n,_f=ct,OH=CA,kH=pt,DH=On,xH=Ct,RH=df,MH=yv,Li=Ei,PH=Bo,NH=OA,$H=Yc,LH=AH,FH=kA,BH=fn,Cm=BH("replace"),UH=Math.max,jH=Math.min,VH=_f([].concat),ip=_f([].push),ob=_f("".indexOf),ab=_f("".slice),WH=function(e){return e===void 0?e:String(e)},zH=function(){return"a".replace(/./,"$0")==="$0"}(),cb=function(){return/./[Cm]?/./[Cm]("a","$0")==="":!1}(),HH=!kH(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});OH("replace",function(e,t,n){var r=cb?"$":"$0";return[function(i,o){var a=PH(this),c=i==null?void 0:$H(i,Cm);return c?ib(c,i,a,o):ib(t,Li(a),i,o)},function(s,i){var o=DH(this),a=Li(s);if(typeof i=="string"&&ob(i,r)===-1&&ob(i,"$<")===-1){var c=n(t,o,a,i);if(c.done)return c.value}var u=xH(i);u||(i=Li(i));var l=o.global;if(l){var h=o.unicode;o.lastIndex=0}for(var f=[];;){var p=FH(o,a);if(p===null||(ip(f,p),!l))break;var v=Li(p[0]);v===""&&(o.lastIndex=NH(a,MH(o.lastIndex),h))}for(var O="",E=0,A=0;A<f.length;A++){p=f[A];for(var x=Li(p[0]),H=UH(jH(RH(p.index),a.length),0),V=[],R=1;R<p.length;R++)ip(V,WH(p[R]));var M=p.groups;if(u){var w=VH([x],V,H,a);M!==void 0&&ip(w,M);var C=Li(CH(i,void 0,w))}else C=LH(x,a,H,V,M,i);H>=E&&(O+=ab(a,E,H)+C,E=H+x.length)}return O+ab(a,E)}]},!HH||!zH||cb);var lh=function(t){var n=Array.prototype.reduce.call(t,function(r,s){var i=s.name.match(/data-simplebar-(.+)/);if(i){var o=i[1].replace(/\W+(.)/g,function(a,c){return c.toUpperCase()});switch(s.value){case"true":r[o]=!0;break;case"false":r[o]=!1;break;case void 0:r[o]=!0;break;default:r[o]=s.value}}return r},{});return n};function Zr(e){return!e||!e.ownerDocument||!e.ownerDocument.defaultView?window:e.ownerDocument.defaultView}function Tl(e){return!e||!e.ownerDocument?document:e.ownerDocument}var Wi=null,ub=null;bv&&window.addEventListener("resize",function(){ub!==window.devicePixelRatio&&(ub=window.devicePixelRatio,Wi=null)});function lb(e){if(Wi===null){var t=Tl(e);if(typeof t=="undefined")return Wi=0,Wi;var n=t.body,r=t.createElement("div");r.classList.add("simplebar-hide-scrollbar"),n.appendChild(r);var s=r.getBoundingClientRect().right;n.removeChild(r),Wi=s}return Wi}var bt=function(){function e(n,r){var s=this;this.onScroll=function(){var i=Zr(s.el);s.scrollXTicking||(i.requestAnimationFrame(s.scrollX),s.scrollXTicking=!0),s.scrollYTicking||(i.requestAnimationFrame(s.scrollY),s.scrollYTicking=!0)},this.scrollX=function(){s.axis.x.isOverflowing&&(s.showScrollbar("x"),s.positionScrollbar("x")),s.scrollXTicking=!1},this.scrollY=function(){s.axis.y.isOverflowing&&(s.showScrollbar("y"),s.positionScrollbar("y")),s.scrollYTicking=!1},this.onMouseEnter=function(){s.showScrollbar("x"),s.showScrollbar("y")},this.onMouseMove=function(i){s.mouseX=i.clientX,s.mouseY=i.clientY,(s.axis.x.isOverflowing||s.axis.x.forceVisible)&&s.onMouseMoveForAxis("x"),(s.axis.y.isOverflowing||s.axis.y.forceVisible)&&s.onMouseMoveForAxis("y")},this.onMouseLeave=function(){s.onMouseMove.cancel(),(s.axis.x.isOverflowing||s.axis.x.forceVisible)&&s.onMouseLeaveForAxis("x"),(s.axis.y.isOverflowing||s.axis.y.forceVisible)&&s.onMouseLeaveForAxis("y"),s.mouseX=-1,s.mouseY=-1},this.onWindowResize=function(){s.scrollbarWidth=s.getScrollbarWidth(),s.hideNativeScrollbar()},this.hideScrollbars=function(){s.axis.x.track.rect=s.axis.x.track.el.getBoundingClientRect(),s.axis.y.track.rect=s.axis.y.track.el.getBoundingClientRect(),s.isWithinBounds(s.axis.y.track.rect)||(s.axis.y.scrollbar.el.classList.remove(s.classNames.visible),s.axis.y.isVisible=!1),s.isWithinBounds(s.axis.x.track.rect)||(s.axis.x.scrollbar.el.classList.remove(s.classNames.visible),s.axis.x.isVisible=!1)},this.onPointerEvent=function(i){var o,a;s.axis.x.track.rect=s.axis.x.track.el.getBoundingClientRect(),s.axis.y.track.rect=s.axis.y.track.el.getBoundingClientRect(),(s.axis.x.isOverflowing||s.axis.x.forceVisible)&&(o=s.isWithinBounds(s.axis.x.track.rect)),(s.axis.y.isOverflowing||s.axis.y.forceVisible)&&(a=s.isWithinBounds(s.axis.y.track.rect)),(o||a)&&(i.preventDefault(),i.stopPropagation(),i.type==="mousedown"&&(o&&(s.axis.x.scrollbar.rect=s.axis.x.scrollbar.el.getBoundingClientRect(),s.isWithinBounds(s.axis.x.scrollbar.rect)?s.onDragStart(i,"x"):s.onTrackClick(i,"x")),a&&(s.axis.y.scrollbar.rect=s.axis.y.scrollbar.el.getBoundingClientRect(),s.isWithinBounds(s.axis.y.scrollbar.rect)?s.onDragStart(i,"y"):s.onTrackClick(i,"y"))))},this.drag=function(i){var o,a=s.axis[s.draggedAxis].track,c=a.rect[s.axis[s.draggedAxis].sizeAttr],u=s.axis[s.draggedAxis].scrollbar,l=s.contentWrapperEl[s.axis[s.draggedAxis].scrollSizeAttr],h=parseInt(s.elStyles[s.axis[s.draggedAxis].sizeAttr],10);i.preventDefault(),i.stopPropagation(),s.draggedAxis==="y"?o=i.pageY:o=i.pageX;var f=o-a.rect[s.axis[s.draggedAxis].offsetAttr]-s.axis[s.draggedAxis].dragOffset,p=f/(c-u.size),v=p*(l-h);s.draggedAxis==="x"&&(v=s.isRtl&&e.getRtlHelpers().isRtlScrollbarInverted?v-(c+u.size):v,v=s.isRtl&&e.getRtlHelpers().isRtlScrollingInverted?-v:v),s.contentWrapperEl[s.axis[s.draggedAxis].scrollOffsetAttr]=v},this.onEndDrag=function(i){var o=Tl(s.el),a=Zr(s.el);i.preventDefault(),i.stopPropagation(),s.el.classList.remove(s.classNames.dragging),o.removeEventListener("mousemove",s.drag,!0),o.removeEventListener("mouseup",s.onEndDrag,!0),s.removePreventClickId=a.setTimeout(function(){o.removeEventListener("click",s.preventClick,!0),o.removeEventListener("dblclick",s.preventClick,!0),s.removePreventClickId=null})},this.preventClick=function(i){i.preventDefault(),i.stopPropagation()},this.el=n,this.minScrollbarWidth=20,this.options=Object.assign({},e.defaultOptions,r),this.classNames=Object.assign({},e.defaultOptions.classNames,this.options.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,!e.instances.has(this.el)&&(this.recalculate=Nw(this.recalculate.bind(this),64),this.onMouseMove=Nw(this.onMouseMove.bind(this),64),this.hideScrollbars=Fw(this.hideScrollbars.bind(this),this.options.timeout),this.onWindowResize=Fw(this.onWindowResize.bind(this),64,{leading:!0}),e.getRtlHelpers=FW(e.getRtlHelpers),this.init())}e.getRtlHelpers=function(){var r=document.createElement("div");r.innerHTML='<div class="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>';var s=r.firstElementChild;document.body.appendChild(s);var i=s.firstElementChild;s.scrollLeft=0;var o=e.getOffset(s),a=e.getOffset(i);s.scrollLeft=999;var c=e.getOffset(i);return{isRtlScrollingInverted:o.left!==a.left&&a.left-c.left!==0,isRtlScrollbarInverted:o.left!==a.left}},e.getOffset=function(r){var s=r.getBoundingClientRect(),i=Tl(r),o=Zr(r);return{top:s.top+(o.pageYOffset||i.documentElement.scrollTop),left:s.left+(o.pageXOffset||i.documentElement.scrollLeft)}};var t=e.prototype;return t.init=function(){e.instances.set(this.el,this),bv&&(this.initDOM(),this.setAccessibilityAttributes(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},t.initDOM=function(){var r=this;if(Array.prototype.filter.call(this.el.children,function(o){return o.classList.contains(r.classNames.wrapper)}).length)this.wrapperEl=this.el.querySelector("."+this.classNames.wrapper),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector("."+this.classNames.contentWrapper),this.contentEl=this.options.contentNode||this.el.querySelector("."+this.classNames.contentEl),this.offsetEl=this.el.querySelector("."+this.classNames.offset),this.maskEl=this.el.querySelector("."+this.classNames.mask),this.placeholderEl=this.findChild(this.wrapperEl,"."+this.classNames.placeholder),this.heightAutoObserverWrapperEl=this.el.querySelector("."+this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl=this.el.querySelector("."+this.classNames.heightAutoObserverEl),this.axis.x.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.horizontal),this.axis.y.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.vertical);else{for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),this.wrapperEl.classList.add(this.classNames.wrapper),this.contentWrapperEl.classList.add(this.classNames.contentWrapper),this.offsetEl.classList.add(this.classNames.offset),this.maskEl.classList.add(this.classNames.mask),this.contentEl.classList.add(this.classNames.contentEl),this.placeholderEl.classList.add(this.classNames.placeholder),this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl)}if(!this.axis.x.track.el||!this.axis.y.track.el){var s=document.createElement("div"),i=document.createElement("div");s.classList.add(this.classNames.track),i.classList.add(this.classNames.scrollbar),s.appendChild(i),this.axis.x.track.el=s.cloneNode(!0),this.axis.x.track.el.classList.add(this.classNames.horizontal),this.axis.y.track.el=s.cloneNode(!0),this.axis.y.track.el.classList.add(this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}this.axis.x.scrollbar.el=this.axis.x.track.el.querySelector("."+this.classNames.scrollbar),this.axis.y.scrollbar.el=this.axis.y.track.el.querySelector("."+this.classNames.scrollbar),this.options.autoHide||(this.axis.x.scrollbar.el.classList.add(this.classNames.visible),this.axis.y.scrollbar.el.classList.add(this.classNames.visible)),this.el.setAttribute("data-simplebar","init")},t.setAccessibilityAttributes=function(){var r=this.options.ariaLabel||"scrollable content";this.contentWrapperEl.setAttribute("tabindex","0"),this.contentWrapperEl.setAttribute("role","region"),this.contentWrapperEl.setAttribute("aria-label",r)},t.initListeners=function(){var r=this,s=Zr(this.el);this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach(function(a){r.el.addEventListener(a,r.onPointerEvent,!0)}),["touchstart","touchend","touchmove"].forEach(function(a){r.el.addEventListener(a,r.onPointerEvent,{capture:!0,passive:!0})}),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.addEventListener("scroll",this.onScroll),s.addEventListener("resize",this.onWindowResize);var i=!1,o=s.ResizeObserver||iz;this.resizeObserver=new o(function(){!i||r.recalculate()}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),s.requestAnimationFrame(function(){i=!0}),this.mutationObserver=new s.MutationObserver(this.recalculate),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})},t.recalculate=function(){var r=Zr(this.el);this.elStyles=r.getComputedStyle(this.el),this.isRtl=this.elStyles.direction==="rtl";var s=this.heightAutoObserverEl.offsetHeight<=1,i=this.heightAutoObserverEl.offsetWidth<=1,o=this.contentEl.offsetWidth,a=this.contentWrapperEl.offsetWidth,c=this.elStyles.overflowX,u=this.elStyles.overflowY;this.contentEl.style.padding=this.elStyles.paddingTop+" "+this.elStyles.paddingRight+" "+this.elStyles.paddingBottom+" "+this.elStyles.paddingLeft,this.wrapperEl.style.margin="-"+this.elStyles.paddingTop+" -"+this.elStyles.paddingRight+" -"+this.elStyles.paddingBottom+" -"+this.elStyles.paddingLeft;var l=this.contentEl.scrollHeight,h=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=s?"auto":"100%",this.placeholderEl.style.width=i?o+"px":"auto",this.placeholderEl.style.height=l+"px";var f=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=h>o,this.axis.y.isOverflowing=l>f,this.axis.x.isOverflowing=c==="hidden"?!1:this.axis.x.isOverflowing,this.axis.y.isOverflowing=u==="hidden"?!1:this.axis.y.isOverflowing,this.axis.x.forceVisible=this.options.forceVisible==="x"||this.options.forceVisible===!0,this.axis.y.forceVisible=this.options.forceVisible==="y"||this.options.forceVisible===!0,this.hideNativeScrollbar();var p=this.axis.x.isOverflowing?this.scrollbarWidth:0,v=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&h>a-v,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&l>f-p,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el.style.width=this.axis.x.scrollbar.size+"px",this.axis.y.scrollbar.el.style.height=this.axis.y.scrollbar.size+"px",this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")},t.getScrollbarSize=function(r){if(r===void 0&&(r="y"),!this.axis[r].isOverflowing)return 0;var s=this.contentEl[this.axis[r].scrollSizeAttr],i=this.axis[r].track.el[this.axis[r].offsetSizeAttr],o,a=i/s;return o=Math.max(~~(a*i),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(o=Math.min(o,this.options.scrollbarMaxSize)),o},t.positionScrollbar=function(r){if(r===void 0&&(r="y"),!!this.axis[r].isOverflowing){var s=this.contentWrapperEl[this.axis[r].scrollSizeAttr],i=this.axis[r].track.el[this.axis[r].offsetSizeAttr],o=parseInt(this.elStyles[this.axis[r].sizeAttr],10),a=this.axis[r].scrollbar,c=this.contentWrapperEl[this.axis[r].scrollOffsetAttr];c=r==="x"&&this.isRtl&&e.getRtlHelpers().isRtlScrollingInverted?-c:c;var u=c/(s-o),l=~~((i-a.size)*u);l=r==="x"&&this.isRtl&&e.getRtlHelpers().isRtlScrollbarInverted?l+(i-a.size):l,a.el.style.transform=r==="x"?"translate3d("+l+"px, 0, 0)":"translate3d(0, "+l+"px, 0)"}},t.toggleTrackVisibility=function(r){r===void 0&&(r="y");var s=this.axis[r].track.el,i=this.axis[r].scrollbar.el;this.axis[r].isOverflowing||this.axis[r].forceVisible?(s.style.visibility="visible",this.contentWrapperEl.style[this.axis[r].overflowAttr]="scroll"):(s.style.visibility="hidden",this.contentWrapperEl.style[this.axis[r].overflowAttr]="hidden"),this.axis[r].isOverflowing?i.style.display="block":i.style.display="none"},t.hideNativeScrollbar=function(){this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-"+this.scrollbarWidth+"px":0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-"+this.scrollbarWidth+"px":0},t.onMouseMoveForAxis=function(r){r===void 0&&(r="y"),this.axis[r].track.rect=this.axis[r].track.el.getBoundingClientRect(),this.axis[r].scrollbar.rect=this.axis[r].scrollbar.el.getBoundingClientRect();var s=this.isWithinBounds(this.axis[r].scrollbar.rect);s?this.axis[r].scrollbar.el.classList.add(this.classNames.hover):this.axis[r].scrollbar.el.classList.remove(this.classNames.hover),this.isWithinBounds(this.axis[r].track.rect)?(this.showScrollbar(r),this.axis[r].track.el.classList.add(this.classNames.hover)):this.axis[r].track.el.classList.remove(this.classNames.hover)},t.onMouseLeaveForAxis=function(r){r===void 0&&(r="y"),this.axis[r].track.el.classList.remove(this.classNames.hover),this.axis[r].scrollbar.el.classList.remove(this.classNames.hover)},t.showScrollbar=function(r){r===void 0&&(r="y");var s=this.axis[r].scrollbar.el;this.axis[r].isVisible||(s.classList.add(this.classNames.visible),this.axis[r].isVisible=!0),this.options.autoHide&&this.hideScrollbars()},t.onDragStart=function(r,s){s===void 0&&(s="y");var i=Tl(this.el),o=Zr(this.el),a=this.axis[s].scrollbar,c=s==="y"?r.pageY:r.pageX;this.axis[s].dragOffset=c-a.rect[this.axis[s].offsetAttr],this.draggedAxis=s,this.el.classList.add(this.classNames.dragging),i.addEventListener("mousemove",this.drag,!0),i.addEventListener("mouseup",this.onEndDrag,!0),this.removePreventClickId===null?(i.addEventListener("click",this.preventClick,!0),i.addEventListener("dblclick",this.preventClick,!0)):(o.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},t.onTrackClick=function(r,s){var i=this;if(s===void 0&&(s="y"),!!this.options.clickOnTrack){var o=Zr(this.el);this.axis[s].scrollbar.rect=this.axis[s].scrollbar.el.getBoundingClientRect();var a=this.axis[s].scrollbar,c=a.rect[this.axis[s].offsetAttr],u=parseInt(this.elStyles[this.axis[s].sizeAttr],10),l=this.contentWrapperEl[this.axis[s].scrollOffsetAttr],h=s==="y"?this.mouseY-c:this.mouseX-c,f=h<0?-1:1,p=f===-1?l-u:l+u,v=function O(){if(f===-1){if(l>p){var E;l-=i.options.clickOnTrackSpeed,i.contentWrapperEl.scrollTo((E={},E[i.axis[s].offsetAttr]=l,E)),o.requestAnimationFrame(O)}}else if(l<p){var A;l+=i.options.clickOnTrackSpeed,i.contentWrapperEl.scrollTo((A={},A[i.axis[s].offsetAttr]=l,A)),o.requestAnimationFrame(O)}};v()}},t.getContentElement=function(){return this.contentEl},t.getScrollElement=function(){return this.contentWrapperEl},t.getScrollbarWidth=function(){try{return getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display==="none"||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:lb(this.el)}catch{return lb(this.el)}},t.removeListeners=function(){var r=this,s=Zr(this.el);this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach(function(i){r.el.removeEventListener(i,r.onPointerEvent,!0)}),["touchstart","touchend","touchmove"].forEach(function(i){r.el.removeEventListener(i,r.onPointerEvent,{capture:!0,passive:!0})}),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),s.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.recalculate.cancel(),this.onMouseMove.cancel(),this.hideScrollbars.cancel(),this.onWindowResize.cancel()},t.unMount=function(){this.removeListeners(),e.instances.delete(this.el)},t.isWithinBounds=function(r){return this.mouseX>=r.left&&this.mouseX<=r.left+r.width&&this.mouseY>=r.top&&this.mouseY<=r.top+r.height},t.findChild=function(r,s){var i=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;return Array.prototype.filter.call(r.children,function(o){return i.call(o,s)})[0]},e}();bt.defaultOptions={autoHide:!0,forceVisible:!1,clickOnTrack:!0,clickOnTrackSpeed:40,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging"},scrollbarMinSize:25,scrollbarMaxSize:0,timeout:1e3};bt.instances=new WeakMap;bt.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),function(e){e.getAttribute("data-simplebar")!=="init"&&!bt.instances.has(e)&&new bt(e,lh(e.attributes))})};bt.removeObserver=function(){this.globalObserver.disconnect()};bt.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),typeof MutationObserver!="undefined"&&(this.globalObserver=new MutationObserver(bt.handleMutations),this.globalObserver.observe(document,{childList:!0,subtree:!0})),document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))};bt.handleMutations=function(e){e.forEach(function(t){Array.prototype.forEach.call(t.addedNodes,function(n){n.nodeType===1&&(n.hasAttribute("data-simplebar")?!bt.instances.has(n)&&document.documentElement.contains(n)&&new bt(n,lh(n.attributes)):Array.prototype.forEach.call(n.querySelectorAll("[data-simplebar]"),function(r){r.getAttribute("data-simplebar")!=="init"&&!bt.instances.has(r)&&document.documentElement.contains(r)&&new bt(r,lh(r.attributes))}))}),Array.prototype.forEach.call(t.removedNodes,function(n){n.nodeType===1&&(n.getAttribute("data-simplebar")==="init"?bt.instances.has(n)&&!document.documentElement.contains(n)&&bt.instances.get(n).unMount():Array.prototype.forEach.call(n.querySelectorAll('[data-simplebar="init"]'),function(r){bt.instances.has(r)&&!document.documentElement.contains(r)&&bt.instances.get(r).unMount()}))})})};bt.getOptions=lh;bv&&bt.initHtmlApi();const YH={name:"SimpleBar",mounted(){const e=bt.getOptions(this.$refs.element.attributes);this.SimpleBar=new bt(this.$refs.element,e)},computed:{scrollElement(){return this.$refs.scrollElement},contentElement(){return this.$refs.contentElement}}},KH={ref:"element"},GH={class:"simplebar-wrapper"},qH=F("div",{class:"simplebar-height-auto-observer-wrapper"},[F("div",{class:"simplebar-height-auto-observer"})],-1),XH={class:"simplebar-mask"},QH={class:"simplebar-offset"},JH={class:"simplebar-content-wrapper",ref:"scrollElement"},ZH={class:"simplebar-content",ref:"contentElement"},eY=F("div",{class:"simplebar-placeholder"},null,-1),tY=F("div",{class:"simplebar-track simplebar-horizontal"},[F("div",{class:"simplebar-scrollbar"})],-1),nY=F("div",{class:"simplebar-track simplebar-vertical"},[F("div",{class:"simplebar-scrollbar"})],-1);function rY(e,t,n,r,s,i){return Fe(),ot("div",KH,[F("div",GH,[qH,F("div",XH,[F("div",QH,[F("div",JH,[F("div",ZH,[Aa(e.$slots,"default")],512)],512)])]),eY]),tY,nY],512)}var sY=Qn(YH,[["render",rY]]),iY="firebase",oY="9.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(iY,oY,"app");var aY=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},se,jv=jv||{},ye=aY||self;function hh(){}function Om(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Xc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function cY(e){return Object.prototype.hasOwnProperty.call(e,op)&&e[op]||(e[op]=++uY)}var op="closure_uid_"+(1e9*Math.random()>>>0),uY=0;function lY(e,t,n){return e.call.apply(e.bind,arguments)}function hY(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function Vt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Vt=lY:Vt=hY,Vt.apply(null,arguments)}function Wu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Yt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(r,o)}}function xs(){this.s=this.s,this.o=this.o}var fY=0;xs.prototype.s=!1;xs.prototype.na=function(){!this.s&&(this.s=!0,this.M(),fY!=0)&&cY(this)};xs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const PA=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},NA=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,s=typeof e=="string"?e.split(""):e;for(let i=0;i<r;i++)i in s&&t.call(n,s[i],i,e)};function dY(e){e:{var t=sK;const n=e.length,r=typeof e=="string"?e.split(""):e;for(let s=0;s<n;s++)if(s in r&&t.call(void 0,r[s],s,e)){t=s;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function hb(e){return Array.prototype.concat.apply([],arguments)}function Vv(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function fh(e){return/^[\s\xa0]*$/.test(e)}var fb=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function an(e,t){return e.indexOf(t)!=-1}function ap(e,t){return e<t?-1:e>t?1:0}var cn;e:{var db=ye.navigator;if(db){var pb=db.userAgent;if(pb){cn=pb;break e}}cn=""}function Wv(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function $A(e){const t={};for(const n in e)t[n]=e[n];return t}var mb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LA(e,t){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)e[n]=r[n];for(let i=0;i<mb.length;i++)n=mb[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function zv(e){return zv[" "](e),e}zv[" "]=hh;function pY(e){var t=vY;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var mY=an(cn,"Opera"),wo=an(cn,"Trident")||an(cn,"MSIE"),FA=an(cn,"Edge"),km=FA||wo,BA=an(cn,"Gecko")&&!(an(cn.toLowerCase(),"webkit")&&!an(cn,"Edge"))&&!(an(cn,"Trident")||an(cn,"MSIE"))&&!an(cn,"Edge"),gY=an(cn.toLowerCase(),"webkit")&&!an(cn,"Edge");function UA(){var e=ye.document;return e?e.documentMode:void 0}var dh;e:{var cp="",up=function(){var e=cn;if(BA)return/rv:([^\);]+)(\)|;)/.exec(e);if(FA)return/Edge\/([\d\.]+)/.exec(e);if(wo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(gY)return/WebKit\/(\S+)/.exec(e);if(mY)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(up&&(cp=up?up[1]:""),wo){var lp=UA();if(lp!=null&&lp>parseFloat(cp)){dh=String(lp);break e}}dh=cp}var vY={};function yY(){return pY(function(){let e=0;const t=fb(String(dh)).split("."),n=fb("9").split("."),r=Math.max(t.length,n.length);for(let o=0;e==0&&o<r;o++){var s=t[o]||"",i=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s[0].length==0&&i[0].length==0)break;e=ap(s[1].length==0?0:parseInt(s[1],10),i[1].length==0?0:parseInt(i[1],10))||ap(s[2].length==0,i[2].length==0)||ap(s[2],i[2]),s=s[3],i=i[3]}while(e==0)}return 0<=e})}var Dm;if(ye.document&&wo){var gb=UA();Dm=gb||parseInt(dh,10)||void 0}else Dm=void 0;var _Y=Dm,wY=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ye.addEventListener("test",hh,t),ye.removeEventListener("test",hh,t)}catch{}return e}();function Zt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Zt.prototype.h=function(){this.defaultPrevented=!0};function pc(e,t){if(Zt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(BA){e:{try{zv(t.nodeName);var s=!0;break e}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:bY[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&pc.Z.h.call(this)}}Yt(pc,Zt);var bY={2:"touch",3:"pen",4:"mouse"};pc.prototype.h=function(){pc.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Qc="closure_listenable_"+(1e6*Math.random()|0),EY=0;function SY(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=s,this.key=++EY,this.ca=this.fa=!1}function wf(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function bf(e){this.src=e,this.g={},this.h=0}bf.prototype.add=function(e,t,n,r,s){var i=e.toString();e=this.g[i],e||(e=this.g[i]=[],this.h++);var o=Rm(e,t,r,s);return-1<o?(t=e[o],n||(t.fa=!1)):(t=new SY(t,this.src,i,!!r,s),t.fa=n,e.push(t)),t};function xm(e,t){var n=t.type;if(n in e.g){var r=e.g[n],s=PA(r,t),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(wf(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Rm(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.ca&&i.listener==t&&i.capture==!!n&&i.ia==r)return s}return-1}var Hv="closure_lm_"+(1e6*Math.random()|0),hp={};function jA(e,t,n,r,s){if(r&&r.once)return WA(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)jA(e,t[i],n,r,s);return null}return n=Gv(n),e&&e[Qc]?e.N(t,n,Xc(r)?!!r.capture:!!r,s):VA(e,t,n,!1,r,s)}function VA(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=Xc(s)?!!s.capture:!!s,a=Kv(e);if(a||(e[Hv]=a=new bf(e)),n=a.add(t,n,r,o,i),n.proxy)return n;if(r=TY(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)wY||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(HA(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function TY(){function e(n){return t.call(e.src,e.listener,n)}var t=IY;return e}function WA(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)WA(e,t[i],n,r,s);return null}return n=Gv(n),e&&e[Qc]?e.O(t,n,Xc(r)?!!r.capture:!!r,s):VA(e,t,n,!0,r,s)}function zA(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)zA(e,t[i],n,r,s);else r=Xc(r)?!!r.capture:!!r,n=Gv(n),e&&e[Qc]?(e=e.i,t=String(t).toString(),t in e.g&&(i=e.g[t],n=Rm(i,n,r,s),-1<n&&(wf(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete e.g[t],e.h--)))):e&&(e=Kv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Rm(t,n,r,s)),(n=-1<e?t[e]:null)&&Yv(n))}function Yv(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Qc])xm(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(HA(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Kv(t))?(xm(n,e),n.h==0&&(n.src=null,t[Hv]=null)):wf(e)}}}function HA(e){return e in hp?hp[e]:hp[e]="on"+e}function IY(e,t){if(e.ca)e=!0;else{t=new pc(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Yv(e),e=n.call(r,t)}return e}function Kv(e){return e=e[Hv],e instanceof bf?e:null}var fp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gv(e){return typeof e=="function"?e:(e[fp]||(e[fp]=function(t){return e.handleEvent(t)}),e[fp])}function Ft(){xs.call(this),this.i=new bf(this),this.P=this,this.I=null}Yt(Ft,xs);Ft.prototype[Qc]=!0;Ft.prototype.removeEventListener=function(e,t,n,r){zA(this,e,t,n,r)};function Wt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new Zt(t,e);else if(t instanceof Zt)t.target=t.target||e;else{var s=t;t=new Zt(r,e),LA(t,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=zu(o,r,!0,t)&&s}if(o=t.g=e,s=zu(o,r,!0,t)&&s,s=zu(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)o=t.g=n[i],s=zu(o,r,!1,t)&&s}Ft.prototype.M=function(){if(Ft.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)wf(n[r]);delete e.g[t],e.h--}}this.I=null};Ft.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Ft.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function zu(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&xm(e.i,o),s=a.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var qv=ye.JSON.stringify;function AY(){var e=KA;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class CY{constructor(){this.h=this.g=null}add(t,n){const r=YA.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var YA=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new OY,e=>e.reset());class OY{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function kY(e){ye.setTimeout(()=>{throw e},0)}function Xv(e,t){Mm||DY(),Pm||(Mm(),Pm=!0),KA.add(e,t)}var Mm;function DY(){var e=ye.Promise.resolve(void 0);Mm=function(){e.then(xY)}}var Pm=!1,KA=new CY;function xY(){for(var e;e=AY();){try{e.h.call(e.g)}catch(n){kY(n)}var t=YA;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Pm=!1}function Ef(e,t){Ft.call(this),this.h=e||1,this.g=t||ye,this.j=Vt(this.kb,this),this.l=Date.now()}Yt(Ef,Ft);se=Ef.prototype;se.da=!1;se.S=null;se.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Wt(this,"tick"),this.da&&(Qv(this),this.start()))}};se.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Qv(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}se.M=function(){Ef.Z.M.call(this),Qv(this),delete this.g};function Jv(e,t,n){if(typeof e=="function")n&&(e=Vt(e,n));else if(e&&typeof e.handleEvent=="function")e=Vt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ye.setTimeout(e,t||0)}function GA(e){e.g=Jv(()=>{e.g=null,e.i&&(e.i=!1,GA(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class RY extends xs{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:GA(this)}M(){super.M(),this.g&&(ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mc(e){xs.call(this),this.h=e,this.g={}}Yt(mc,xs);var vb=[];function qA(e,t,n,r){Array.isArray(n)||(n&&(vb[0]=n.toString()),n=vb);for(var s=0;s<n.length;s++){var i=jA(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function XA(e){Wv(e.g,function(t,n){this.g.hasOwnProperty(n)&&Yv(t)},e),e.g={}}mc.prototype.M=function(){mc.Z.M.call(this),XA(this)};mc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Sf(){this.g=!0}Sf.prototype.Aa=function(){this.g=!1};function MY(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&h[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function PY(e,t,n,r,s,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+`
`+n+`
`+i+" "+o})}function Gi(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+$Y(e,n)+(r?" "+r:"")})}function NY(e,t){e.info(function(){return"TIMEOUT: "+t})}Sf.prototype.info=function(){};function $Y(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return qv(n)}catch{return t}}var Ti={},yb=null;function Tf(){return yb=yb||new Ft}Ti.Ma="serverreachability";function QA(e){Zt.call(this,Ti.Ma,e)}Yt(QA,Zt);function gc(e){const t=Tf();Wt(t,new QA(t))}Ti.STAT_EVENT="statevent";function JA(e,t){Zt.call(this,Ti.STAT_EVENT,e),this.stat=t}Yt(JA,Zt);function un(e){const t=Tf();Wt(t,new JA(t,e))}Ti.Na="timingevent";function ZA(e,t){Zt.call(this,Ti.Na,e),this.size=t}Yt(ZA,Zt);function Jc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ye.setTimeout(function(){e()},t)}var If={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},eC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Zv(){}Zv.prototype.h=null;function _b(e){return e.h||(e.h=e.i())}function tC(){}var Zc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ey(){Zt.call(this,"d")}Yt(ey,Zt);function ty(){Zt.call(this,"c")}Yt(ty,Zt);var Nm;function Af(){}Yt(Af,Zv);Af.prototype.g=function(){return new XMLHttpRequest};Af.prototype.i=function(){return{}};Nm=new Af;function eu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new mc(this),this.P=LY,e=km?125:void 0,this.W=new Ef(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new nC}function nC(){this.i=null,this.g="",this.h=!1}var LY=45e3,$m={},ph={};se=eu.prototype;se.setTimeout=function(e){this.P=e};function Lm(e,t,n){e.K=1,e.v=Of(zr(t)),e.s=n,e.U=!0,rC(e,null)}function rC(e,t){e.F=Date.now(),tu(e),e.A=zr(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),lC(n.h,"t",r),e.C=0,n=e.l.H,e.h=new nC,e.g=DC(e.l,n?t:null,!e.s),0<e.O&&(e.L=new RY(Vt(e.Ia,e,e.g),e.O)),qA(e.V,e.g,"readystatechange",e.gb),t=e.H?$A(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),gc(),MY(e.j,e.u,e.A,e.m,e.X,e.s)}se.gb=function(e){e=e.target;const t=this.L;t&&$r(e)==3?t.l():this.Ia(e)};se.Ia=function(e){try{if(e==this.g)e:{const l=$r(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>l)&&(l!=3||km||this.g&&(this.h.h||this.g.ga()||Sb(this.g)))){this.I||l!=4||t==7||(t==8||0>=h?gc(3):gc(2)),Cf(this);var n=this.g.ba();this.N=n;t:if(sC(this)){var r=Sb(this.g);e="";var s=r.length,i=$r(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){zs(this),Ma(this);var o="";break t}this.h.i=new ye.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.splice(0,s),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,PY(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fh(a)){var u=a;break t}}u=null}if(n=u)Gi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Fm(this,n);else{this.i=!1,this.o=3,un(12),zs(this),Ma(this);break e}}this.U?(iC(this,l,o),km&&this.i&&l==3&&(qA(this.V,this.W,"tick",this.fb),this.W.start())):(Gi(this.j,this.m,o,null),Fm(this,o)),l==4&&zs(this),this.i&&!this.I&&(l==4?AC(this.l,this):(this.i=!1,tu(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,un(12)):(this.o=0,un(13)),zs(this),Ma(this)}}}catch{}finally{}};function sC(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function iC(e,t,n){let r=!0,s;for(;!e.I&&e.C<n.length;)if(s=FY(e,n),s==ph){t==4&&(e.o=4,un(14),r=!1),Gi(e.j,e.m,null,"[Incomplete Response]");break}else if(s==$m){e.o=4,un(15),Gi(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Gi(e.j,e.m,s,null),Fm(e,s);sC(e)&&s!=ph&&s!=$m&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,un(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ly(t),t.L=!0,un(11))):(Gi(e.j,e.m,n,"[Invalid Chunked Response]"),zs(e),Ma(e))}se.fb=function(){if(this.g){var e=$r(this.g),t=this.g.ga();this.C<t.length&&(Cf(this),iC(this,e,t),this.i&&e!=4&&tu(this))}};function FY(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?ph:(n=Number(t.substring(n,r)),isNaN(n)?$m:(r+=1,r+n>t.length?ph:(t=t.substr(r,n),e.C=r+n,t)))}se.cancel=function(){this.I=!0,zs(this)};function tu(e){e.Y=Date.now()+e.P,oC(e,e.P)}function oC(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Jc(Vt(e.eb,e),t)}function Cf(e){e.B&&(ye.clearTimeout(e.B),e.B=null)}se.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(NY(this.j,this.A),this.K!=2&&(gc(),un(17)),zs(this),this.o=2,Ma(this)):oC(this,this.Y-e)};function Ma(e){e.l.G==0||e.I||AC(e.l,e)}function zs(e){Cf(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Qv(e.W),XA(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Fm(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Bm(n.i,e))){if(n.I=e.N,!e.J&&Bm(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)yh(n),xf(n);else break e;uy(n),un(18)}}else n.ta=s[1],0<n.ta-n.U&&37500>s[2]&&n.N&&n.A==0&&!n.v&&(n.v=Jc(Vt(n.ab,n),6e3));if(1>=dC(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Hs(n,11)}else if((e.J||n.g==e)&&yh(n),!fh(t))for(s=n.Ca.g.parse(t),t=0;t<s.length;t++){let u=s[t];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];const l=u[3];l!=null&&(n.ma=l,n.h.info("VER="+n.ma));const h=u[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=e.g;if(p){const v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var i=r.i;!i.g&&(an(v,"spdy")||an(v,"quic")||an(v,"h2"))&&(i.j=i.l,i.g=new Set,i.h&&(sy(i,i.h),i.h=null))}if(r.D){const O=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;O&&(r.sa=O,dt(r.F,r.D,O))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=e;if(r.oa=kC(r,r.H?r.la:null,r.W),o.J){pC(r.i,o);var a=o,c=r.K;c&&a.setTimeout(c),a.B&&(Cf(a),tu(a)),r.g=o}else TC(r);0<n.l.length&&Rf(n)}else u[0]!="stop"&&u[0]!="close"||Hs(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Hs(n,7):cy(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}gc(4)}catch{}}function BY(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Om(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function ny(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Om(e)||typeof e=="string")NA(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Om(e)||typeof e=="string"){n=[];for(var r=e.length,s=0;s<r;s++)n.push(s)}else for(s in n=[],r=0,e)n[r++]=s;r=BY(e),s=r.length;for(var i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}}function zo(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof zo)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}se=zo.prototype;se.R=function(){ry(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};se.T=function(){return ry(this),this.g.concat()};function ry(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ui(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var s={};for(n=t=0;t<e.g.length;)r=e.g[t],ui(s,r)||(e.g[n++]=r,s[r]=1),t++;e.g.length=n}}se.get=function(e,t){return ui(this.h,e)?this.h[e]:t};se.set=function(e,t){ui(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};se.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var s=n[r],i=this.get(s);e.call(t,i,s,this)}};function ui(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var aC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function UY(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function li(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof li){this.g=t!==void 0?t:e.g,mh(this,e.j),this.s=e.s,gh(this,e.i),vh(this,e.m),this.l=e.l,t=e.h;var n=new vc;n.i=t.i,t.g&&(n.g=new zo(t.g),n.h=t.h),wb(this,n),this.o=e.o}else e&&(n=String(e).match(aC))?(this.g=!!t,mh(this,n[1]||"",!0),this.s=Pa(n[2]||""),gh(this,n[3]||"",!0),vh(this,n[4]),this.l=Pa(n[5]||"",!0),wb(this,n[6]||"",!0),this.o=Pa(n[7]||"")):(this.g=!!t,this.h=new vc(null,this.g))}li.prototype.toString=function(){var e=[],t=this.j;t&&e.push(_a(t,bb,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(_a(t,bb,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(_a(n,n.charAt(0)=="/"?HY:zY,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",_a(n,KY)),e.join("")};function zr(e){return new li(e)}function mh(e,t,n){e.j=n?Pa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function gh(e,t,n){e.i=n?Pa(t,!0):t}function vh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function wb(e,t,n){t instanceof vc?(e.h=t,GY(e.h,e.g)):(n||(t=_a(t,YY)),e.h=new vc(t,e.g))}function dt(e,t,n){e.h.set(t,n)}function Of(e){return dt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function jY(e){return e instanceof li?zr(e):new li(e,void 0)}function VY(e,t,n,r){var s=new li(null,void 0);return e&&mh(s,e),t&&gh(s,t),n&&vh(s,n),r&&(s.l=r),s}function Pa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _a(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,WY),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function WY(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var bb=/[#\/\?@]/g,zY=/[#\?:]/g,HY=/[#\?]/g,YY=/[#\?@]/g,KY=/#/g;function vc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Rs(e){e.g||(e.g=new zo,e.h=0,e.i&&UY(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}se=vc.prototype;se.add=function(e,t){Rs(this),this.i=null,e=Ho(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function cC(e,t){Rs(e),t=Ho(e,t),ui(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,ui(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ry(e)))}function uC(e,t){return Rs(e),t=Ho(e,t),ui(e.g.h,t)}se.forEach=function(e,t){Rs(this),this.g.forEach(function(n,r){NA(n,function(s){e.call(t,s,r,this)},this)},this)};se.T=function(){Rs(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var s=e[r],i=0;i<s.length;i++)n.push(t[r]);return n};se.R=function(e){Rs(this);var t=[];if(typeof e=="string")uC(this,e)&&(t=hb(t,this.g.get(Ho(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=hb(t,e[n])}return t};se.set=function(e,t){return Rs(this),this.i=null,e=Ho(this,e),uC(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};se.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function lC(e,t,n){cC(e,t),0<n.length&&(e.i=null,e.g.set(Ho(e,t),Vv(n)),e.h+=n.length)}se.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],s=encodeURIComponent(String(r));r=this.R(r);for(var i=0;i<r.length;i++){var o=s;r[i]!==""&&(o+="="+encodeURIComponent(String(r[i]))),e.push(o)}}return this.i=e.join("&")};function Ho(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function GY(e,t){t&&!e.j&&(Rs(e),e.i=null,e.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(cC(this,r),lC(this,s,n))},e)),e.j=t}var qY=class{constructor(e,t){this.h=e,this.g=t}};function hC(e){this.l=e||XY,ye.PerformanceNavigationTiming?(e=ye.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ye.g&&ye.g.Ea&&ye.g.Ea()&&ye.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var XY=10;function fC(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function dC(e){return e.h?1:e.g?e.g.size:0}function Bm(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function sy(e,t){e.g?e.g.add(t):e.h=t}function pC(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}hC.prototype.cancel=function(){if(this.i=mC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function mC(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Vv(e.i)}function iy(){}iy.prototype.stringify=function(e){return ye.JSON.stringify(e,void 0)};iy.prototype.parse=function(e){return ye.JSON.parse(e,void 0)};function QY(){this.g=new iy}function JY(e,t,n){const r=n||"";try{ny(e,function(s,i){let o=s;Xc(s)&&(o=qv(s)),t.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function ZY(e,t){const n=new Sf;if(ye.Image){const r=new Image;r.onload=Wu(Hu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Wu(Hu,n,r,"TestLoadImage: error",!1,t),r.onabort=Wu(Hu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Wu(Hu,n,r,"TestLoadImage: timeout",!1,t),ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Hu(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch{}}function nu(e){this.l=e.$b||null,this.j=e.ib||!1}Yt(nu,Zv);nu.prototype.g=function(){return new kf(this.l,this.j)};nu.prototype.i=function(e){return function(){return e}}({});function kf(e,t){Ft.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=oy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yt(kf,Ft);var oy=0;se=kf.prototype;se.open=function(e,t){if(this.readyState!=oy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,yc(this)};se.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ye).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ru(this)),this.readyState=oy};se.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,yc(this)),this.g&&(this.readyState=3,yc(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ye.ReadableStream!="undefined"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gC(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function gC(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}se.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ru(this):yc(this),this.readyState==3&&gC(this)}};se.Ua=function(e){this.g&&(this.response=this.responseText=e,ru(this))};se.Ta=function(e){this.g&&(this.response=e,ru(this))};se.ha=function(){this.g&&ru(this)};function ru(e){e.readyState=4,e.l=null,e.j=null,e.A=null,yc(e)}se.setRequestHeader=function(e,t){this.v.append(e,t)};se.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};se.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function yc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(kf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var eK=ye.JSON.parse;function At(e){Ft.call(this),this.headers=new zo,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vC,this.K=this.L=!1}Yt(At,Ft);var vC="",tK=/^https?$/i,nK=["POST","PUT"];se=At.prototype;se.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Nm.g(),this.C=this.u?_b(this.u):_b(Nm),this.g.onreadystatechange=Vt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(i){Eb(this,i);return}e=n||"";const s=new zo(this.headers);r&&ny(r,function(i,o){s.set(o,i)}),r=dY(s.T()),n=ye.FormData&&e instanceof ye.FormData,!(0<=PA(nK,t))||r||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(i,o){this.g.setRequestHeader(o,i)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wC(this),0<this.B&&((this.K=rK(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vt(this.pa,this)):this.A=Jv(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){Eb(this,i)}};function rK(e){return wo&&yY()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function sK(e){return e.toLowerCase()=="content-type"}se.pa=function(){typeof jv!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wt(this,"timeout"),this.abort(8))};function Eb(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,yC(e),Df(e)}function yC(e){e.D||(e.D=!0,Wt(e,"complete"),Wt(e,"error"))}se.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Wt(this,"complete"),Wt(this,"abort"),Df(this))};se.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Df(this,!0)),At.Z.M.call(this)};se.Fa=function(){this.s||(this.F||this.v||this.l?_C(this):this.cb())};se.cb=function(){_C(this)};function _C(e){if(e.h&&typeof jv!="undefined"&&(!e.C[1]||$r(e)!=4||e.ba()!=2)){if(e.v&&$r(e)==4)Jv(e.Fa,0,e);else if(Wt(e,"readystatechange"),$r(e)==4){e.h=!1;try{const a=e.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){var s=String(e.H).match(aC)[1]||null;if(!s&&ye.self&&ye.self.location){var i=ye.self.location.protocol;s=i.substr(0,i.length-1)}r=!tK.test(s?s.toLowerCase():"")}n=r}if(n)Wt(e,"complete"),Wt(e,"success");else{e.m=6;try{var o=2<$r(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.ba()+"]",yC(e)}}finally{Df(e)}}}}function Df(e,t){if(e.g){wC(e);const n=e.g,r=e.C[0]?hh:null;e.g=null,e.C=null,t||Wt(e,"ready");try{n.onreadystatechange=r}catch{}}}function wC(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ye.clearTimeout(e.A),e.A=null)}function $r(e){return e.g?e.g.readyState:0}se.ba=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}};se.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};se.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),eK(t)}};function Sb(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case vC:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}se.Da=function(){return this.m};se.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function iK(e){let t="";return Wv(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function ay(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=iK(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):dt(e,t,n))}function fa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function bC(e){this.za=0,this.l=[],this.h=new Sf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fa("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fa("baseRetryDelayMs",5e3,e),this.$a=fa("retryDelaySeedMs",1e4,e),this.Ya=fa("forwardChannelMaxRetries",2,e),this.ra=fa("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new hC(e&&e.concurrentRequestLimit),this.Ca=new QY,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}se=bC.prototype;se.ma=8;se.G=1;function cy(e){if(EC(e),e.G==3){var t=e.V++,n=zr(e.F);dt(n,"SID",e.J),dt(n,"RID",t),dt(n,"TYPE","terminate"),su(e,n),t=new eu(e,e.h,t,void 0),t.K=2,t.v=Of(zr(n)),n=!1,ye.navigator&&ye.navigator.sendBeacon&&(n=ye.navigator.sendBeacon(t.v.toString(),"")),!n&&ye.Image&&(new Image().src=t.v,n=!0),n||(t.g=DC(t.l,null),t.g.ea(t.v)),t.F=Date.now(),tu(t)}OC(e)}se.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function xf(e){e.g&&(ly(e),e.g.cancel(),e.g=null)}function EC(e){xf(e),e.u&&(ye.clearTimeout(e.u),e.u=null),yh(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ye.clearTimeout(e.m),e.m=null)}function dp(e,t){e.l.push(new qY(e.Za++,t)),e.G==3&&Rf(e)}function Rf(e){fC(e.i)||e.m||(e.m=!0,Xv(e.Ha,e),e.C=0)}function oK(e,t){return dC(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Jc(Vt(e.Ha,e,t),CC(e,e.C)),e.C++,!0)}se.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const s=new eu(this,this.h,e,void 0);let i=this.s;if(this.P&&(i?(i=$A(i),LA(i,this.P)):i=this.P),this.o===null&&(s.H=i),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=SC(this,s,t),n=zr(this.F),dt(n,"RID",e),dt(n,"CVER",22),this.D&&dt(n,"X-HTTP-Session-Id",this.D),su(this,n),this.o&&i&&ay(n,this.o,i),sy(this.i,s),this.Ra&&dt(n,"TYPE","init"),this.ja?(dt(n,"$req",t),dt(n,"SID","null"),s.$=!0,Lm(s,n,null)):Lm(s,n,t),this.G=2}}else this.G==3&&(e?Tb(this,e):this.l.length==0||fC(this.i)||Tb(this))};function Tb(e,t){var n;t?n=t.m:n=e.V++;const r=zr(e.F);dt(r,"SID",e.J),dt(r,"RID",n),dt(r,"AID",e.U),su(e,r),e.o&&e.s&&ay(r,e.o,e.s),n=new eu(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=SC(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),sy(e.i,n),Lm(n,r,t)}function su(e,t){e.j&&ny({},function(n,r){dt(t,r,n)})}function SC(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Vt(e.j.Oa,e.j,e):null;e:{var s=e.l;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let u=s[c].h;const l=s[c].g;if(u-=i,0>u)i=Math.max(0,s[c].h-100),a=!1;else try{JY(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function TC(e){e.g||e.u||(e.Y=1,Xv(e.Ga,e),e.A=0)}function uy(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Jc(Vt(e.Ga,e),CC(e,e.A)),e.A++,!0)}se.Ga=function(){if(this.u=null,IC(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Jc(Vt(this.bb,this),e)}};se.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,un(10),xf(this),IC(this))};function ly(e){e.B!=null&&(ye.clearTimeout(e.B),e.B=null)}function IC(e){e.g=new eu(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=zr(e.oa);dt(t,"RID","rpc"),dt(t,"SID",e.J),dt(t,"CI",e.N?"0":"1"),dt(t,"AID",e.U),su(e,t),dt(t,"TYPE","xmlhttp"),e.o&&e.s&&ay(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Of(zr(t)),n.s=null,n.U=!0,rC(n,e)}se.ab=function(){this.v!=null&&(this.v=null,xf(this),uy(this),un(19))};function yh(e){e.v!=null&&(ye.clearTimeout(e.v),e.v=null)}function AC(e,t){var n=null;if(e.g==t){yh(e),ly(e),e.g=null;var r=2}else if(Bm(e.i,t))n=t.D,pC(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var s=e.C;r=Tf(),Wt(r,new ZA(r,n)),Rf(e)}else TC(e);else if(s=t.o,s==3||s==0&&0<e.I||!(r==1&&oK(e,t)||r==2&&uy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:Hs(e,5);break;case 4:Hs(e,10);break;case 3:Hs(e,6);break;default:Hs(e,2)}}}function CC(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Hs(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=Vt(e.jb,e);n||(n=new li("//www.google.com/images/cleardot.gif"),ye.location&&ye.location.protocol=="http"||mh(n,"https"),Of(n)),ZY(n.toString(),r)}else un(2);e.G=0,e.j&&e.j.va(t),OC(e),EC(e)}se.jb=function(e){e?(this.h.info("Successfully pinged google.com"),un(2)):(this.h.info("Failed to ping google.com"),un(1))};function OC(e){e.G=0,e.I=-1,e.j&&((mC(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Vv(e.l),e.l.length=0),e.j.ua())}function kC(e,t,n){let r=jY(n);if(r.i!="")t&&gh(r,t+"."+r.i),vh(r,r.m);else{const s=ye.location;r=VY(s.protocol,t?t+"."+s.hostname:s.hostname,+s.port,n)}return e.aa&&Wv(e.aa,function(s,i){dt(r,i,s)}),t=e.D,n=e.sa,t&&n&&dt(r,t,n),dt(r,"VER",e.ma),su(e,r),r}function DC(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new At(new nu({ib:!0})):new At(e.qa),t.L=e.H,t}function xC(){}se=xC.prototype;se.xa=function(){};se.wa=function(){};se.va=function(){};se.ua=function(){};se.Oa=function(){};function _h(){if(wo&&!(10<=Number(_Y)))throw Error("Environmental error: no available transport.")}_h.prototype.g=function(e,t){return new An(e,t)};function An(e,t){Ft.call(this),this.g=new bC(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!fh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!fh(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Yo(this)}Yt(An,Ft);An.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Xv(Vt(e.hb,e,t))),un(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=kC(e,null,e.W),Rf(e)};An.prototype.close=function(){cy(this.g)};An.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,dp(this.g,t)}else this.v?(t={},t.__data__=qv(e),dp(this.g,t)):dp(this.g,e)};An.prototype.M=function(){this.g.j=null,delete this.j,cy(this.g),delete this.g,An.Z.M.call(this)};function RC(e){ey.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Yt(RC,ey);function MC(){ty.call(this),this.status=1}Yt(MC,ty);function Yo(e){this.g=e}Yt(Yo,xC);Yo.prototype.xa=function(){Wt(this.g,"a")};Yo.prototype.wa=function(e){Wt(this.g,new RC(e))};Yo.prototype.va=function(e){Wt(this.g,new MC)};Yo.prototype.ua=function(){Wt(this.g,"b")};_h.prototype.createWebChannel=_h.prototype.g;An.prototype.send=An.prototype.u;An.prototype.open=An.prototype.m;An.prototype.close=An.prototype.close;If.NO_ERROR=0;If.TIMEOUT=8;If.HTTP_ERROR=6;eC.COMPLETE="complete";tC.EventType=Zc;Zc.OPEN="a";Zc.CLOSE="b";Zc.ERROR="c";Zc.MESSAGE="d";Ft.prototype.listen=Ft.prototype.N;At.prototype.listenOnce=At.prototype.O;At.prototype.getLastError=At.prototype.La;At.prototype.getLastErrorCode=At.prototype.Da;At.prototype.getStatus=At.prototype.ba;At.prototype.getResponseJson=At.prototype.Qa;At.prototype.getResponseText=At.prototype.ga;At.prototype.send=At.prototype.ea;var aK=function(){return new _h},cK=function(){return Tf()},pp=If,uK=eC,lK=Ti,Ib={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},hK=nu,Yu=tC,fK=At;const Ab="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="9.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new rg("@firebase/firestore");function Cb(){return Es.logLevel}function dK(e){Es.setLogLevel(e)}function he(e,...t){if(Es.logLevel<=Ye.DEBUG){const n=t.map(hy);Es.debug(`Firestore (${Ko}): ${e}`,...n)}}function Ss(e,...t){if(Es.logLevel<=Ye.ERROR){const n=t.map(hy);Es.error(`Firestore (${Ko}): ${e}`,...n)}}function Um(e,...t){if(Es.logLevel<=Ye.WARN){const n=t.map(hy);Es.warn(`Firestore (${Ko}): ${e}`,...n)}}function hy(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(e="Unexpected state"){const t=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: `+e;throw Ss(t),new Error(t)}function at(e,t){e||be()}function Ee(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Cs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class pK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class mK{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gK{constructor(t){this.t=t,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new gs,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;t.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new gs)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string"),new PC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return at(t===null||typeof t=="string"),new Kt(t)}}class vK{constructor(t,n,r){this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const s=t.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class yK{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new vK(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _K{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wK{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,n){const r=i=>{i.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.p;return this.p=i.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?s(i):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(at(typeof n.token=="string"),this.p=n.token,new _K(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bK(e){const t=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=bK(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%t.length))}return r}}function Qe(e,t){return e<t?-1:e>t?1:0}function bo(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return kt.fromMillis(Date.now())}static fromDate(t){return kt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new kt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Qe(this.nanoseconds,t.nanoseconds):Qe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.timestamp=t}static fromTimestamp(t){return new De(t)}static min(){return new De(new kt(0,0))}static max(){return new De(new kt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,n,r){n===void 0?n=0:n>t.length&&be(),r===void 0?r=t.length-n:r>t.length-n&&be(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return _c.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof _c?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=t.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ut extends _c{construct(t,n,r){return new ut(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ie($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const EK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends _c{construct(t,n,r){return new qt(t,n,r)}static isValidIdentifier(t){return EK.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qt(["__name__"])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ie($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new ie($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ie($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ie($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.path=t}static fromPath(t){return new pe(ut.fromString(t))}static fromName(t){return new pe(ut.fromString(t).popFirst(5))}static empty(){return new pe(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ut.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ut.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pe(new ut(t.slice()))}}function SK(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=De.fromTimestamp(r===1e9?new kt(n+1,0):new kt(n,r));return new Ts(s,pe.empty(),t)}function TK(e){return new Ts(e.readTime,e.key,-1)}class Ts{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ts(De.min(),pe.empty(),-1)}static max(){return new Ts(De.max(),pe.empty(),-1)}}function IK(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=pe.comparator(e.documentKey,t.documentKey),n!==0?n:Qe(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(e){if(e.code!==$.FAILED_PRECONDITION||e.message!==AK)throw e;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):W.reject(n)}static resolve(t){return new W((n,r)=>{n(t)})}static reject(t){return new W((n,r)=>{r(t)})}static waitFor(t){return new W((n,r)=>{let s=0,i=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(t){let n=W.resolve(!1);for(const r of t)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(t,n){return new W((r,s)=>{const i=t.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(t[u]).next(l=>{o[u]=l,++a,a===i&&r(o)},l=>s(l))}})}static doWhile(t,n){return new W((r,s)=>{const i=()=>{t()===!0?n().next(()=>{i()},s):r()};i()})}}function ou(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.it(r),this.rt=r=>n.writeSequenceNumber(r))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ii(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $C(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fy.ot=-1;class Rt{constructor(t,n){this.comparator=t,this.root=n||Ut.EMPTY}insert(t,n){return new Rt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(t){return new Rt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ku(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ku(this.root,t,this.comparator,!0)}}class Ku{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ut{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r!=null?r:Ut.RED,this.left=s!=null?s:Ut.EMPTY,this.right=i!=null?i:Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new Ut(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,s!=null?s:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Ut.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const t=this.left.check();if(t!==this.right.check())throw be();return t+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,n,r,s){return this}insert(e,t,n){return new Ut(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.comparator=t,this.data=new Rt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new kb(this.data.getIterator())}getIteratorFrom(t){return new kb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Dt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Dt(this.comparator);return n.data=t,n}}class kb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.fields=t,t.sort(qt.comparator)}static empty(){return new Rn([])}unionWith(t){let n=new Dt(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Rn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return bo(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.binaryString=t}static fromBase64String(t){const n=atob(t);return new Ht(n)}static fromUint8Array(t){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(t);return new Ht(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const OK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(e){if(at(!!e),typeof e=="string"){let t=0;const n=OK.exec(e);if(at(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:It(e.seconds),nanos:It(e.nanos)}}function It(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Eo(e){return typeof e=="string"?Ht.fromBase64String(e):Ht.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function FC(e){const t=e.mapValue.fields.__previous_value__;return LC(t)?FC(t):t}function wc(e){const t=Is(e.mapValue.fields.__local_write_time__.timestampValue);return new kt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK{constructor(t,n,r,s,i,o,a,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=c}}class So{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new So("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof So&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(e){return e==null}function wh(e){return e===0&&1/e==-1/0}function DK(e){return typeof e=="number"&&Number.isInteger(e)&&!wh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?LC(e)?4:xK(e)?9007199254740991:10:be()}function yr(e,t){if(e===t)return!0;const n=hi(e);if(n!==hi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wc(e).isEqual(wc(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=Is(r.timestampValue),o=Is(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return Eo(r.bytesValue).isEqual(Eo(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return It(r.geoPointValue.latitude)===It(s.geoPointValue.latitude)&&It(r.geoPointValue.longitude)===It(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return It(r.integerValue)===It(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=It(r.doubleValue),o=It(s.doubleValue);return i===o?wh(i)===wh(o):isNaN(i)&&isNaN(o)}return!1}(e,t);case 9:return bo(e.arrayValue.values||[],t.arrayValue.values||[],yr);case 10:return function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(Ob(i)!==Ob(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!yr(i[a],o[a])))return!1;return!0}(e,t);default:return be()}}function bc(e,t){return(e.values||[]).find(n=>yr(n,t))!==void 0}function To(e,t){if(e===t)return 0;const n=hi(e),r=hi(t);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(e.booleanValue,t.booleanValue);case 2:return function(s,i){const o=It(s.integerValue||s.doubleValue),a=It(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return Db(e.timestampValue,t.timestampValue);case 4:return Db(wc(e),wc(t));case 5:return Qe(e.stringValue,t.stringValue);case 6:return function(s,i){const o=Eo(s),a=Eo(i);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(s,i){const o=s.split("/"),a=i.split("/");for(let c=0;c<o.length&&c<a.length;c++){const u=Qe(o[c],a[c]);if(u!==0)return u}return Qe(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,i){const o=Qe(It(s.latitude),It(i.latitude));return o!==0?o:Qe(It(s.longitude),It(i.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,i){const o=s.values||[],a=i.values||[];for(let c=0;c<o.length&&c<a.length;++c){const u=To(o[c],a[c]);if(u)return u}return Qe(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,i){if(s===Gu.mapValue&&i===Gu.mapValue)return 0;if(s===Gu.mapValue)return 1;if(i===Gu.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),c=i.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const h=Qe(a[l],u[l]);if(h!==0)return h;const f=To(o[a[l]],c[u[l]]);if(f!==0)return f}return Qe(a.length,u.length)}(e.mapValue,t.mapValue);default:throw be()}}function Db(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Qe(e,t);const n=Is(e),r=Is(t),s=Qe(n.seconds,r.seconds);return s!==0?s:Qe(n.nanos,r.nanos)}function co(e){return jm(e)}function jm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const s=Is(r);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Eo(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,pe.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let s="[",i=!0;for(const o of r.values||[])i?i=!1:s+=",",s+=jm(o);return s+"]"}(e.arrayValue):"mapValue"in e?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of s)o?o=!1:i+=",",i+=`${a}:${jm(r.fields[a])}`;return i+"}"}(e.mapValue):be();var t,n}function xb(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Vm(e){return!!e&&"integerValue"in e}function dy(e){return!!e&&"arrayValue"in e}function Rb(e){return!!e&&"nullValue"in e}function Mb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Il(e){return!!e&&"mapValue"in e}function Na(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ii(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Na(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Na(e.arrayValue.values[n]);return t}return Object.assign({},e)}function xK(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.value=t}static empty(){return new yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Il(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Na(n)}setAll(t){let n=qt.emptyPath(),r={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Na(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());Il(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return yr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];Il(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){Ii(n,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new yn(Na(this.value))}}function BC(e){const t=[];return Ii(e.fields,(n,r)=>{const s=new qt([n]);if(Il(r)){const i=BC(r.mapValue).fields;if(i.length===0)t.push(s);else for(const o of i)t.push(s.child(o))}else t.push(s)}),new Rn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t,n,r,s,i,o){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.data=i,this.documentState=o}static newInvalidDocument(t){return new jt(t,0,De.min(),De.min(),yn.empty(),0)}static newFoundDocument(t,n,r){return new jt(t,1,n,De.min(),r,0)}static newNoDocument(t,n){return new jt(t,2,n,De.min(),yn.empty(),0)}static newUnknownDocument(t,n){return new jt(t,3,n,De.min(),yn.empty(),2)}convertToFoundDocument(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof jt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(t,n=null,r=[],s=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ut=null}}function Pb(e,t=null,n=[],r=[],s=null,i=null,o=null){return new RK(e,t,n,r,s,i,o)}function py(e){const t=Ee(e);if(t.ut===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>{return(s=r).field.canonicalString()+s.op.toString()+co(s.value);var s}).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Mf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>co(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>co(r)).join(",")),t.ut=n}return t.ut}function MK(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${co(r.value)}`;var r}).join(", ")}]`),Mf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>co(n)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>co(n)).join(",")),`Target(${t})`}function my(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<e.orderBy.length;s++)if(!jK(e.orderBy[s],t.orderBy[s]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let s=0;s<e.filters.length;s++)if(n=e.filters[s],r=t.filters[s],n.op!==r.op||!n.field.isEqual(r.field)||!yr(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$b(e.startAt,t.startAt)&&$b(e.endAt,t.endAt)}function Wm(e){return pe.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class ln extends class{}{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.ct(t,n,r):new PK(t,n,r):n==="array-contains"?new LK(t,r):n==="in"?new FK(t,r):n==="not-in"?new BK(t,r):n==="array-contains-any"?new UK(t,r):new ln(t,n,r)}static ct(t,n,r){return n==="in"?new NK(t,r):new $K(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.at(To(n,this.value)):n!==null&&hi(this.value)===hi(n)&&this.at(To(n,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return be()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class PK extends ln{constructor(t,n,r){super(t,n,r),this.key=pe.fromName(r.referenceValue)}matches(t){const n=pe.comparator(t.key,this.key);return this.at(n)}}class NK extends ln{constructor(t,n){super(t,"in",n),this.keys=UC("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class $K extends ln{constructor(t,n){super(t,"not-in",n),this.keys=UC("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function UC(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class LK extends ln{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return dy(n)&&bc(n.arrayValue,this.value)}}class FK extends ln{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&bc(this.value.arrayValue,n)}}class BK extends ln{constructor(t,n){super(t,"not-in",n)}matches(t){if(bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!bc(this.value.arrayValue,n)}}class UK extends ln{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!dy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bc(this.value.arrayValue,r))}}class bh{constructor(t,n){this.position=t,this.inclusive=n}}class $a{constructor(t,n="asc"){this.field=t,this.dir=n}}function jK(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Nb(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(i.field.isKeyField()?r=pe.comparator(pe.fromName(o.referenceValue),n.key):r=To(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function $b(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!yr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(t,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.lt=null,this.ft=null,this.startAt,this.endAt}}function VK(e,t,n,r,s,i,o,a){return new au(e,t,n,r,s,i,o,a)}function gy(e){return new au(e)}function WK(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function jC(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function VC(e){for(const t of e.filters)if(t.ht())return t.field;return null}function WC(e){return e.collectionGroup!==null}function Ec(e){const t=Ee(e);if(t.lt===null){t.lt=[];const n=VC(t),r=jC(t);if(n!==null&&r===null)n.isKeyField()||t.lt.push(new $a(n)),t.lt.push(new $a(qt.keyField(),"asc"));else{let s=!1;for(const i of t.explicitOrderBy)t.lt.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new $a(qt.keyField(),i))}}}return t.lt}function fi(e){const t=Ee(e);if(!t.ft)if(t.limitType==="F")t.ft=Pb(t.path,t.collectionGroup,Ec(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const i of Ec(t)){const o=i.dir==="desc"?"asc":"desc";n.push(new $a(i.field,o))}const r=t.endAt?new bh(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new bh(t.startAt.position,t.startAt.inclusive):null;t.ft=Pb(t.path,t.collectionGroup,n,t.filters,t.limit,r,s)}return t.ft}function zK(e,t,n){return new au(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Pf(e,t){return my(fi(e),fi(t))&&e.limitType===t.limitType}function zC(e){return`${py(fi(e))}|lt:${e.limitType}`}function zm(e){return`Query(target=${MK(fi(e))}; limitType=${e.limitType})`}function vy(e,t){return t.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):pe.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(e,t)&&function(n,r){for(const s of n.explicitOrderBy)if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(s,i,o){const a=Nb(s,i,o);return s.inclusive?a<=0:a<0}(n.startAt,Ec(n),r)||n.endAt&&!function(s,i,o){const a=Nb(s,i,o);return s.inclusive?a>=0:a>0}(n.endAt,Ec(n),r))}(e,t)}function HK(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function HC(e){return(t,n)=>{let r=!1;for(const s of Ec(e)){const i=YK(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function YK(e,t,n){const r=e.field.isKeyField()?pe.comparator(t.key,n.key):function(s,i,o){const a=i.data.field(s),c=o.data.field(s);return a!==null&&c!==null?To(a,c):be()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(t)?"-0":t}}function KC(e){return{integerValue:""+e}}function KK(e,t){return DK(t)?KC(t):YC(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(){this._=void 0}}function GK(e,t,n){return e instanceof Sc?function(r,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,t):e instanceof Tc?qC(e,t):e instanceof Ic?XC(e,t):function(r,s){const i=GC(r,s),o=Lb(i)+Lb(r._t);return Vm(i)&&Vm(r._t)?KC(o):YC(r.wt,o)}(e,t)}function qK(e,t,n){return e instanceof Tc?qC(e,t):e instanceof Ic?XC(e,t):n}function GC(e,t){return e instanceof Eh?Vm(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class Sc extends Nf{}class Tc extends Nf{constructor(t){super(),this.elements=t}}function qC(e,t){const n=QC(t);for(const r of e.elements)n.some(s=>yr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ic extends Nf{constructor(t){super(),this.elements=t}}function XC(e,t){let n=QC(t);for(const r of e.elements)n=n.filter(s=>!yr(s,r));return{arrayValue:{values:n}}}class Eh extends Nf{constructor(t,n){super(),this.wt=t,this._t=n}}function Lb(e){return It(e.integerValue||e.doubleValue)}function QC(e){return dy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{constructor(t,n){this.field=t,this.transform=n}}function QK(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof Tc&&r instanceof Tc||n instanceof Ic&&r instanceof Ic?bo(n.elements,r.elements,yr):n instanceof Eh&&r instanceof Eh?yr(n._t,r._t):n instanceof Sc&&r instanceof Sc}(e.transform,t.transform)}class JK{constructor(t,n){this.version=t,this.transformResults=n}}class pr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new pr}static exists(t){return new pr(void 0,t)}static updateTime(t){return new pr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Al(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class $f{}function JC(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new eO(e.key,pr.none()):new cu(e.key,e.data,pr.none());{const n=e.data,r=yn.empty();let s=new Dt(qt.comparator);for(let i of t.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ms(e.key,r,new Rn(s.toArray()),pr.none())}}function ZK(e,t,n){e instanceof cu?function(r,s,i){const o=r.value.clone(),a=Bb(r.fieldTransforms,s,i.transformResults);o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Ms?function(r,s,i){if(!Al(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=Bb(r.fieldTransforms,s,i.transformResults),a=s.data;a.setAll(ZC(r)),a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(e,t,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,t,n)}function La(e,t,n,r){return e instanceof cu?function(s,i,o,a){if(!Al(s.precondition,i))return o;const c=s.value.clone(),u=Ub(s.fieldTransforms,a,i);return c.setAll(u),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ms?function(s,i,o,a){if(!Al(s.precondition,i))return o;const c=Ub(s.fieldTransforms,a,i),u=i.data;return u.setAll(ZC(s)),u.setAll(c),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(l=>l.field))}(e,t,n,r):function(s,i,o){return Al(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(e,t,n)}function eG(e,t){let n=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),i=GC(r.transform,s||null);i!=null&&(n===null&&(n=yn.empty()),n.set(r.field,i))}return n||null}function Fb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&bo(n,r,(s,i)=>QK(s,i))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class cu extends $f{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ms extends $f{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ZC(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Bb(e,t,n){const r=new Map;at(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,qK(o,a,n[s]))}return r}function Ub(e,t,n){const r=new Map;for(const s of e){const i=s.transform,o=n.data.field(s.field);r.set(s.field,GK(i,o,t))}return r}class eO extends $f{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tG extends $f{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Ue;function rG(e){switch(e){default:return be();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function tO(e){if(e===void 0)return Ss("GRPC error has no .code"),$.UNKNOWN;switch(e){case Tt.OK:return $.OK;case Tt.CANCELLED:return $.CANCELLED;case Tt.UNKNOWN:return $.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return $.INTERNAL;case Tt.UNAVAILABLE:return $.UNAVAILABLE;case Tt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Tt.NOT_FOUND:return $.NOT_FOUND;case Tt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Tt.ABORTED:return $.ABORTED;case Tt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Tt.DATA_LOSS:return $.DATA_LOSS;default:return be()}}(Ue=Tt||(Tt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Ii(this.inner,(n,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return $C(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=new Rt(pe.comparator);function Hr(){return sG}const nO=new Rt(pe.comparator);function wa(...e){let t=nO;for(const n of e)t=t.insert(n.key,n);return t}function rO(e){let t=nO;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Ys(){return Fa()}function sO(){return Fa()}function Fa(){return new Go(e=>e.toString(),(e,t)=>e.isEqual(t))}const iG=new Rt(pe.comparator),oG=new Dt(pe.comparator);function Be(...e){let t=oG;for(const n of e)t=t.add(n);return t}const aG=new Dt(Qe);function iO(){return aG}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n){const r=new Map;return r.set(t,uu.createSynthesizedTargetChangeForCurrentChange(t,n)),new Lf(De.min(),r,iO(),Hr(),Be())}}class uu{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n){return new uu(Ht.EMPTY_BYTE_STRING,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(t,n,r,s){this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=s}}class oO{constructor(t,n){this.targetId=t,this.It=n}}class aO{constructor(t,n,r=Ht.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class jb{constructor(){this.Tt=0,this.Et=Wb(),this.At=Ht.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return this.Tt!==0}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=Be(),n=Be(),r=Be();return this.Et.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:be()}}),new uu(this.At,this.Rt,t,n,r)}Dt(){this.bt=!1,this.Et=Wb()}Ct(t,n){this.bt=!0,this.Et=this.Et.insert(t,n)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class cG{constructor(t){this.Mt=t,this.Ft=new Map,this.$t=Hr(),this.Bt=Vb(),this.Lt=new Dt(Qe)}Ut(t){for(const n of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(n,t.yt):this.Kt(n,t.key,t.yt);for(const n of t.removedTargetIds)this.Kt(n,t.key,t.yt)}Gt(t){this.forEachTarget(t,n=>{const r=this.Qt(n);switch(t.state){case 0:this.jt(n)&&r.Vt(t.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(t.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(r.Ot(),r.Vt(t.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),r.Vt(t.resumeToken));break;default:be()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ft.forEach((r,s)=>{this.jt(s)&&n(s)})}zt(t){const n=t.targetId,r=t.It.count,s=this.Ht(n);if(s){const i=s.target;if(Wm(i))if(r===0){const o=new pe(i.path);this.Kt(n,o,jt.newNoDocument(o,De.min()))}else at(r===1);else this.Jt(n)!==r&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(t){const n=new Map;this.Ft.forEach((i,o)=>{const a=this.Ht(o);if(a){if(i.current&&Wm(a.target)){const c=new pe(a.target.path);this.$t.get(c)!==null||this.Xt(o,c)||this.Kt(o,c,jt.newNoDocument(c,t))}i.vt&&(n.set(o,i.St()),i.Dt())}});let r=Be();this.Bt.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Ht(c);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(i))}),this.$t.forEach((i,o)=>o.setReadTime(t));const s=new Lf(t,n,this.Lt,this.$t,r);return this.$t=Hr(),this.Bt=Vb(),this.Lt=new Dt(Qe),s}qt(t,n){if(!this.jt(t))return;const r=this.Xt(t,n.key)?2:0;this.Qt(t).Ct(n.key,r),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(t))}Kt(t,n,r){if(!this.jt(t))return;const s=this.Qt(t);this.Xt(t,n)?s.Ct(n,1):s.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(t)),r&&(this.$t=this.$t.insert(n,r))}removeTarget(t){this.Ft.delete(t)}Jt(t){const n=this.Qt(t).St();return this.Mt.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let n=this.Ft.get(t);return n||(n=new jb,this.Ft.set(t,n)),n}Zt(t){let n=this.Bt.get(t);return n||(n=new Dt(Qe),this.Bt=this.Bt.insert(t,n)),n}jt(t){const n=this.Ht(t)!==null;return n||he("WatchChangeAggregator","Detected inactive target",t),n}Ht(t){const n=this.Ft.get(t);return n&&n.Pt?null:this.Mt.te(t)}Wt(t){this.Ft.set(t,new jb),this.Mt.getRemoteKeysForTarget(t).forEach(n=>{this.Kt(t,n,null)})}Xt(t,n){return this.Mt.getRemoteKeysForTarget(t).has(n)}}function Vb(){return new Rt(pe.comparator)}function Wb(){return new Rt(pe.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uG=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),lG=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class hG{constructor(t,n){this.databaseId=t,this.dt=n}}function Sh(e,t){return e.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cO(e,t){return e.dt?t.toBase64():t.toUint8Array()}function fG(e,t){return Sh(e,t.toTimestamp())}function Fr(e){return at(!!e),De.fromTimestamp(function(t){const n=Is(t);return new kt(n.seconds,n.nanos)}(e))}function yy(e,t){return function(n){return new ut(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function uO(e){const t=ut.fromString(e);return at(fO(t)),t}function Hm(e,t){return yy(e.databaseId,t.path)}function mp(e,t){const n=uO(t);if(n.get(1)!==e.databaseId.projectId)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pe(lO(n))}function Ym(e,t){return yy(e.databaseId,t)}function dG(e){const t=uO(e);return t.length===4?ut.emptyPath():lO(t)}function Km(e){return new ut(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function lO(e){return at(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function zb(e,t,n){return{name:Hm(e,t),fields:n.value.mapValue.fields}}function pG(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:be()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(c,u){return c.dt?(at(u===void 0||typeof u=="string"),Ht.fromBase64String(u||"")):(at(u===void 0||u instanceof Uint8Array),Ht.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=c.code===void 0?$.UNKNOWN:tO(c.code);return new ie(u,c.message||"")}(o);n=new aO(r,s,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=mp(e,r.document.name),i=Fr(r.document.updateTime),o=new yn({mapValue:{fields:r.document.fields}}),a=jt.newFoundDocument(s,i,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Cl(c,u,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=mp(e,r.document),i=r.readTime?Fr(r.readTime):De.min(),o=jt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Cl([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=mp(e,r.document),i=r.removedTargetIds||[];n=new Cl([],i,s,null)}else{if(!("filter"in t))return be();{t.filter;const r=t.filter;r.targetId;const s=r.count||0,i=new nG(s),o=r.targetId;n=new oO(o,i)}}return n}function mG(e,t){let n;if(t instanceof cu)n={update:zb(e,t.key,t.value)};else if(t instanceof eO)n={delete:Hm(e,t.key)};else if(t instanceof Ms)n={update:zb(e,t.key,t.data),updateMask:IG(t.fieldMask)};else{if(!(t instanceof tG))return be();n={verify:Hm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof Sc)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Tc)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ic)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Eh)return{fieldPath:i.field.canonicalString(),increment:o._t};throw be()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:fG(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:be()}(e,t.precondition)),n}function gG(e,t){return e&&e.length>0?(at(t!==void 0),e.map(n=>function(r,s){let i=r.updateTime?Fr(r.updateTime):Fr(s);return i.isEqual(De.min())&&(i=Fr(s)),new JK(i,r.transformResults||[])}(n,t))):[]}function vG(e,t){return{documents:[Ym(e,t.path)]}}function yG(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Ym(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ym(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(c){if(c.length===0)return;const u=c.map(l=>function(h){if(h.op==="=="){if(Mb(h.value))return{unaryFilter:{field:Fi(h.field),op:"IS_NAN"}};if(Rb(h.value))return{unaryFilter:{field:Fi(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(Mb(h.value))return{unaryFilter:{field:Fi(h.field),op:"IS_NOT_NAN"}};if(Rb(h.value))return{unaryFilter:{field:Fi(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fi(h.field),op:EG(h.op),value:h.value}}}(l));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(t.filters);s&&(n.structuredQuery.where=s);const i=function(c){if(c.length!==0)return c.map(u=>function(l){return{field:Fi(l.field),direction:bG(l.dir)}}(u))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(c,u){return c.dt||Mf(u)?u:{value:u}}(e,t.limit);var a;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),n}function _G(e){let t=dG(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){at(r===1);const l=n.from[0];l.allDescendants?s=l.collectionId:t=t.child(l.collectionId)}let i=[];n.where&&(i=hO(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>function(h){return new $a(qi(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(l)));let a=null;n.limit&&(a=function(l){let h;return h=typeof l=="object"?l.value:l,Mf(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(l){const h=!!l.before,f=l.values||[];return new bh(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(l){const h=!l.before,f=l.values||[];return new bh(f,h)}(n.endAt)),VK(t,s,o,i,a,"F",c,u)}function wG(e,t){const n=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return be()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function hO(e){return e?e.unaryFilter!==void 0?[TG(e)]:e.fieldFilter!==void 0?[SG(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(t=>hO(t)).reduce((t,n)=>t.concat(n)):be():[]}function bG(e){return uG[e]}function EG(e){return lG[e]}function Fi(e){return{fieldPath:e.canonicalString()}}function qi(e){return qt.fromServerFormat(e.fieldPath)}function SG(e){return ln.create(qi(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(e.fieldFilter.op),e.fieldFilter.value)}function TG(e){switch(e.unaryFilter.op){case"IS_NAN":const t=qi(e.unaryFilter.field);return ln.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=qi(e.unaryFilter.field);return ln.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qi(e.unaryFilter.field);return ln.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=qi(e.unaryFilter.field);return ln.create(s,"!=",{nullValue:"NULL_VALUE"});default:return be()}}function IG(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function fO(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&ZK(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=La(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=La(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=sO();return this.mutations.forEach(s=>{const i=t.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=JC(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Be())}isEqual(t){return this.batchId===t.batchId&&bo(this.mutations,t.mutations,(n,r)=>Fb(n,r))&&bo(this.baseMutations,t.baseMutations,(n,r)=>Fb(n,r))}}class _y{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){at(t.mutations.length===r.length);let s=iG;const i=t.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new _y(t,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t,n,r,s,i=De.min(),o=De.min(),a=Ht.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new ni(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(t){this.ne=t}}function kG(e){const t=_G({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?zK(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(){this.ze=new xG}addToCollectionParentIndex(t,n){return this.ze.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.ze.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(Ts.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(Ts.min())}updateCollectionGroup(t,n,r){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class xG{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new Dt(ut.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new Dt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new Io(0)}static Rn(){return new Io(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(){this.changes=new Go(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,jt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(r=s,this.getBaseDocument(t,n,r))).next(s=>(r!==null&&La(r.mutation,s,Rn.empty(),kt.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Be()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Be()){const s=Ys();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,r).next(i=>{let o=wa();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Ys();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Be()))}populateOverlays(t,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,s){let i=Hr();const o=Fa(),a=Fa();return n.forEach((c,u)=>{const l=r.get(u.key);s.has(u.key)&&(l===void 0||l.mutation instanceof Ms)?i=i.insert(u.key,u):l!==void 0&&(o.set(u.key,l.mutation.getFieldMask()),La(l.mutation,u,l.mutation.getFieldMask(),kt.now()))}),this.recalculateAndSaveOverlays(t,i).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var h;return a.set(u,new MG(l,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Fa();let s=new Rt((o,a)=>o-a),i=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let l=r.get(c)||Rn.empty();l=a.applyToLocalView(u,l),r.set(c,l);const h=(s.get(a.batchId)||Be()).add(c);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,h=sO();l.forEach(f=>{if(!i.has(f)){const p=JC(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,h))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):WC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):W.resolve(Ys());let a=-1,c=i;return o.next(u=>W.forEach(u,(l,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(l)?W.resolve():this.getBaseDocument(t,l,h).next(f=>{c=c.insert(l,f)}))).next(()=>this.populateOverlays(t,u,i)).next(()=>this.computeViews(t,c,u,Be())).next(l=>({batchId:a,changes:rO(l)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pe(n)).next(r=>{let s=wa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const s=n.collectionGroup;let i=wa();return this.indexManager.getCollectionParents(t,s).next(o=>W.forEach(o,a=>{const c=function(u,l){return new au(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(t,c,r).next(u=>{u.forEach((l,h)=>{i=i.insert(l,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(t,n,r){let s;return this.remoteDocumentCache.getAllFromCollection(t,n.path,r).next(i=>(s=i,this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId))).next(i=>{i.forEach((a,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,jt.newInvalidDocument(u)))});let o=wa();return s.forEach((a,c)=>{const u=i.get(a);u!==void 0&&La(u.mutation,c,Rn.empty(),kt.now()),vy(n,c)&&(o=o.insert(a,c))}),o})}getBaseDocument(t,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(t,n):W.resolve(jt.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,n){return W.resolve(this.Jn.get(n))}saveBundleMetadata(t,n){var r;return this.Jn.set(n.id,{id:(r=n).id,version:r.version,createTime:Fr(r.createTime)}),W.resolve()}getNamedQuery(t,n){return W.resolve(this.Yn.get(n))}saveNamedQuery(t,n){return this.Yn.set(n.name,function(r){return{name:r.name,query:kG(r.bundledQuery),readTime:Fr(r.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(){this.overlays=new Rt(pe.comparator),this.Xn=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Ys();return W.forEach(n,s=>this.getOverlay(t,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((s,i)=>{this.ie(t,n,i)}),W.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.Xn.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Xn.delete(r)),W.resolve()}getOverlaysForCollection(t,n,r){const s=Ys(),i=n.length+1,o=new pe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return W.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new Rt((u,l)=>u-l);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=i.get(u.largestBatchId);l===null&&(l=Ys(),i=i.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=Ys(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=s)););return W.resolve(a)}ie(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Xn.get(s.largestBatchId).delete(r.key);this.Xn.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new CG(n,r));let i=this.Xn.get(n);i===void 0&&(i=Be(),this.Xn.set(n,i)),this.Xn.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(){this.Zn=new Dt(Pt.ts),this.es=new Dt(Pt.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,n){const r=new Pt(t,n);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.rs(new Pt(t,n))}os(t,n){t.forEach(r=>this.removeReference(r,n))}us(t){const n=new pe(new ut([])),r=new Pt(n,t),s=new Pt(n,t+1),i=[];return this.es.forEachInRange([r,s],o=>{this.rs(o),i.push(o.key)}),i}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const n=new pe(new ut([])),r=new Pt(n,t),s=new Pt(n,t+1);let i=Be();return this.es.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(t){const n=new Pt(t,0),r=this.Zn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Pt{constructor(t,n){this.key=t,this.ls=n}static ts(t,n){return pe.comparator(t.key,n.key)||Qe(t.ls,n.ls)}static ns(t,n){return Qe(t.ls,n.ls)||pe.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Dt(Pt.ts)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AG(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.ds=this.ds.add(new Pt(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(t,n){return W.resolve(this._s(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.ws(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.fs-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Pt(n,0),s=new Pt(n,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([r,s],o=>{const a=this._s(o.ls);i.push(a)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Dt(Qe);return n.forEach(s=>{const i=new Pt(s,0),o=new Pt(s,Number.POSITIVE_INFINITY);this.ds.forEachInRange([i,o],a=>{r=r.add(a.ls)})}),W.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;pe.isDocumentKey(i)||(i=i.child(""));const o=new Pt(new pe(i),0);let a=new Dt(Qe);return this.ds.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.ls)),!0)},o),W.resolve(this.gs(a))}gs(t){const n=[];return t.forEach(r=>{const s=this._s(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){at(this.ys(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ds;return W.forEach(n.mutations,s=>{const i=new Pt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.ds=r})}In(t){}containsKey(t,n){const r=new Pt(n,0),s=this.ds.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ys(t,n){return this.ws(t)}ws(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}_s(t){const n=this.ws(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(t){this.ps=t,this.docs=new Rt(pe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ps(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(t,n){let r=Hr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():jt.newInvalidDocument(s))}),W.resolve(r)}getAllFromCollection(t,n,r){let s=Hr();const i=new pe(n.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:a,value:{document:c}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||IK(TK(c),r)<=0||(s=s.insert(c.key,c.mutableCopy()))}return W.resolve(s)}getAllFromCollectionGroup(t,n,r,s){be()}Is(t,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new BG(this)}getSize(t){return W.resolve(this.size)}}class BG extends RG{constructor(t){super(),this.zn=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.zn.addEntry(t,s)):this.zn.removeEntry(r)}),W.waitFor(n)}getFromCache(t,n){return this.zn.getEntry(t,n)}getAllFromCache(t,n){return this.zn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(t){this.persistence=t,this.Ts=new Go(n=>py(n),my),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.Es=0,this.As=new wy,this.targetCount=0,this.Rs=Io.An()}forEachTarget(t,n){return this.Ts.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Es&&(this.Es=n),W.resolve()}vn(t){this.Ts.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Rs=new Io(n),this.highestTargetId=n),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,n){return this.vn(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.vn(n),W.resolve()}removeTargetData(t,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Ts.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const r=this.Ts.get(n)||null;return W.resolve(r)}addMatchingKeys(t,n,r){return this.As.ss(n,r),W.resolve()}removeMatchingKeys(t,n,r){this.As.os(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(t,o))}),W.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.As.us(n),W.resolve()}getMatchingKeysForTargetId(t,n){const r=this.As.hs(n);return W.resolve(r)}containsKey(t,n){return W.resolve(this.As.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(t,n){this.bs={},this.overlays={},this.Ps=new fy(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new UG(this),this.indexManager=new DG,this.remoteDocumentCache=function(r){return new FG(r)}(r=>this.referenceDelegate.Ss(r)),this.wt=new OG(n),this.Ds=new NG(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new $G,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.bs[t.toKey()];return r||(r=new LG(n,this.referenceDelegate),this.bs[t.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,n,r){he("MemoryPersistence","Starting transaction:",t);const s=new VG(this.Ps.next());return this.referenceDelegate.Cs(),r(s).next(i=>this.referenceDelegate.xs(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ns(t,n){return W.or(Object.values(this.bs).map(r=>()=>r.containsKey(t,n)))}}class VG extends CK{constructor(t){super(),this.currentSequenceNumber=t}}class by{constructor(t){this.persistence=t,this.ks=new wy,this.Os=null}static Ms(t){return new by(t)}get Fs(){if(this.Os)return this.Os;throw be()}addReference(t,n,r){return this.ks.addReference(r,n),this.Fs.delete(r.toString()),W.resolve()}removeReference(t,n,r){return this.ks.removeReference(r,n),this.Fs.add(r.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.Fs.add(n.toString()),W.resolve()}removeTarget(t,n){this.ks.us(n.targetId).forEach(s=>this.Fs.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(i=>this.Fs.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}Cs(){this.Os=new Set}xs(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Fs,r=>{const s=pe.fromPath(r);return this.$s(t,s).next(i=>{i||n.removeEntry(s,De.min())})}).next(()=>(this.Os=null,n.apply(t)))}updateLimboDocument(t,n){return this.$s(t,n).next(r=>{r?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(t){return 0}$s(t,n){return W.or([()=>W.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ns(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=s}static Vi(t,n){let r=Be(),s=Be();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ey(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(){this.Si=!1}initialize(t,n){this.Di=t,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(t,n,r,s){return this.Ci(t,n).next(i=>i||this.xi(t,n,s,r)).next(i=>i||this.Ni(t,n))}Ci(t,n){return W.resolve(null)}xi(t,n,r,s){return WK(n)||s.isEqual(De.min())?this.Ni(t,n):this.Di.getDocuments(t,r).next(i=>{const o=this.ki(n,i);return this.Oi(n,o,r,s)?this.Ni(t,n):(Cb()<=Ye.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zm(n)),this.Mi(t,o,n,SK(s,-1)))})}ki(t,n){let r=new Dt(HC(t));return n.forEach((s,i)=>{vy(t,i)&&(r=r.add(i))}),r}Oi(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ni(t,n){return Cb()<=Ye.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",zm(n)),this.Di.getDocumentsMatchingQuery(t,n,Ts.min())}Mi(t,n,r,s){return this.Di.getDocumentsMatchingQuery(t,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(t,n,r,s){this.persistence=t,this.Fi=n,this.wt=s,this.$i=new Rt(Qe),this.Bi=new Go(i=>py(i),my),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new PG(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.$i))}}function HG(e,t,n,r){return new zG(e,t,n,r)}async function dO(e,t){const n=Ee(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.qi(t),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=Be();for(const u of s){o.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of i){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ki:u,removedBatchIds:o,addedBatchIds:a}))})})}function YG(e,t){const n=Ee(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(o,a,c,u){const l=c.batch,h=l.keys();let f=W.resolve();return h.forEach(p=>{f=f.next(()=>u.getEntry(a,p)).next(v=>{const O=c.docVersions.get(p);at(O!==null),v.version.compareTo(O)<0&&(l.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,t,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Be();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(t))).next(()=>n.localDocuments.getDocuments(r,s))})}function pO(e){const t=Ee(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Vs.getLastRemoteSnapshotVersion(n))}function KG(e,t){const n=Ee(e),r=t.snapshotVersion;let s=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ui.newChangeBuffer({trackRemovals:!0});s=n.$i;const a=[];t.targetChanges.forEach((l,h)=>{const f=s.get(h);if(!f)return;a.push(n.Vs.removeMatchingKeys(i,l.removedDocuments,h).next(()=>n.Vs.addMatchingKeys(i,l.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.has(h)?p=p.withResumeToken(Ht.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):l.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(l.resumeToken,r)),s=s.insert(h,p),function(v,O,E){return v.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,p,l)&&a.push(n.Vs.updateTargetData(i,p))});let c=Hr(),u=Be();if(t.documentUpdates.forEach(l=>{t.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,l))}),a.push(GG(i,o,t.documentUpdates).next(l=>{c=l.Gi,u=l.Qi})),!r.isEqual(De.min())){const l=n.Vs.getLastRemoteSnapshotVersion(i).next(h=>n.Vs.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(l)}return W.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.$i=s,i))}function GG(e,t,n){let r=Be(),s=Be();return n.forEach(i=>r=r.add(i)),t.getEntries(e,r).next(i=>{let o=Hr();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(De.min())?(t.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(c),o=o.insert(a,c)):he("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Gi:o,Qi:s}})}function qG(e,t){const n=Ee(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function XG(e,t){const n=Ee(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Vs.getTargetData(r,t).next(i=>i?(s=i,W.resolve(s)):n.Vs.allocateTargetId(r).next(o=>(s=new ni(t,o,0,r.currentSequenceNumber),n.Vs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.$i.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.$i=n.$i.insert(r.targetId,r),n.Bi.set(t,r.targetId)),r})}async function Gm(e,t,n){const r=Ee(e),s=r.$i.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ou(o))throw o;he("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.$i=r.$i.remove(t),r.Bi.delete(s.target)}function Hb(e,t,n){const r=Ee(e);let s=De.min(),i=Be();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,u){const l=Ee(a),h=l.Bi.get(u);return h!==void 0?W.resolve(l.$i.get(h)):l.Vs.getTargetData(c,u)}(r,o,fi(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fi.getDocumentsMatchingQuery(o,t,n?s:De.min(),n?i:Be())).next(a=>(QG(r,HK(t),a),{documents:a,ji:i})))}function QG(e,t,n){let r=De.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),e.Li.set(t,r)}class Yb{constructor(){this.activeTargetIds=iO()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class JG{constructor(){this.Fr=new Yb,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,n,r){this.$r[t]=n}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new Yb,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{Br(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,n,r,s,i){const o=this.oo(t,n);he("RestConnection","Sending: ",o,r);const a={};return this.uo(a,s,i),this.co(t,o,a,r).then(c=>(he("RestConnection","Received: ",c),c),c=>{throw Um("RestConnection",`${t} failed with error: `,c,"url: ",o,"request:",r),c})}ao(t,n,r,s,i,o){return this.ro(t,n,r,s,i)}uo(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ko,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>t[i]=s),r&&r.headers.forEach((s,i)=>t[i]=s)}oo(t,n){const r=eq[t];return`${this.so}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,n,r,s){return new Promise((i,o)=>{const a=new fK;a.listenOnce(uK.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case pp.NO_ERROR:const u=a.getResponseJson();he("Connection","XHR received:",JSON.stringify(u)),i(u);break;case pp.TIMEOUT:he("Connection",'RPC "'+t+'" timed out'),o(new ie($.DEADLINE_EXCEEDED,"Request time out"));break;case pp.HTTP_ERROR:const l=a.getStatus();if(he("Connection",'RPC "'+t+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const f=function(p){const v=p.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(v)>=0?v:$.UNKNOWN}(h.status);o(new ie(f,h.message))}else o(new ie($.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ie($.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{he("Connection",'RPC "'+t+'" completed.')}});const c=JSON.stringify(s);a.send(n,"POST",c,r,15)})}ho(t,n,r){const s=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=aK(),o=cK(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new hK({})),this.uo(a.initMessageHeaders,n,r),z1()||Y1()||Uk()||K1()||jk()||H1()||(a.httpHeadersOverwriteParam="$httpHeaders");const c=s.join("");he("Connection","Creating WebChannel: "+c,a);const u=i.createWebChannel(c,a);let l=!1,h=!1;const f=new tq({jr:v=>{h?he("Connection","Not sending because WebChannel is closed:",v):(l||(he("Connection","Opening WebChannel transport."),u.open(),l=!0),he("Connection","WebChannel sending:",v),u.send(v))},Wr:()=>u.close()}),p=(v,O,E)=>{v.listen(O,A=>{try{E(A)}catch(x){setTimeout(()=>{throw x},0)}})};return p(u,Yu.EventType.OPEN,()=>{h||he("Connection","WebChannel transport opened.")}),p(u,Yu.EventType.CLOSE,()=>{h||(h=!0,he("Connection","WebChannel transport closed"),f.eo())}),p(u,Yu.EventType.ERROR,v=>{h||(h=!0,Um("Connection","WebChannel transport errored:",v),f.eo(new ie($.UNAVAILABLE,"The operation could not be completed")))}),p(u,Yu.EventType.MESSAGE,v=>{var O;if(!h){const E=v.data[0];at(!!E);const A=E,x=A.error||((O=A[0])===null||O===void 0?void 0:O.error);if(x){he("Connection","WebChannel received error:",x);const H=x.status;let V=function(M){const w=Tt[M];if(w!==void 0)return tO(w)}(H),R=x.message;V===void 0&&(V=$.INTERNAL,R="Unknown error status: "+H+" with message "+x.message),h=!0,f.eo(new ie(V,R)),u.close()}else he("Connection","WebChannel received:",E),f.no(E)}}),p(o,lK.STAT_EVENT,v=>{v.stat===Ib.PROXY?he("Connection","Detected buffering proxy"):v.stat===Ib.NOPROXY&&he("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.Zr()},0),f}}function gp(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(e){return new hG(e,!0)}class mO{constructor(t,n,r=1e3,s=1.5,i=6e4){this.js=t,this.timerId=n,this.lo=r,this.fo=s,this._o=i,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),s=Math.max(0,n-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,s,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){this.mo!==null&&(this.mo.skipDelay(),this.mo=null)}cancel(){this.mo!==null&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(t,n,r,s,i,o,a,c){this.js=t,this.Ao=r,this.Ro=s,this.bo=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new mO(t,n)}Do(){return this.state===1||this.state===5||this.Co()}Co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&this.vo===null&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(t){this.Fo(),this.stream.send(t)}async Oo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(t,n){this.Fo(),this.$o(),this.So.cancel(),this.Po++,t!==4?this.So.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Ss(n.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Jr(n)}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Po===n&&this.Uo(r,s)},r=>{t(()=>{const s=new ie($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(s)})})}Uo(t,n){const r=this.Lo(this.Po);this.stream=this.Ko(t,n),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(s=>{r(()=>this.qo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}xo(){this.state=5,this.So.Io(async()=>{this.state=0,this.start()})}qo(t){return he("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return n=>{this.js.enqueueAndForget(()=>this.Po===t?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rq extends gO{constructor(t,n,r,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.wt=i}Ko(t,n){return this.bo.ho("Listen",t,n)}onMessage(t){this.So.reset();const n=pG(this.wt,t),r=function(s){if(!("targetChange"in s))return De.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?De.min():i.readTime?Fr(i.readTime):De.min()}(t);return this.listener.Go(n,r)}Qo(t){const n={};n.database=Km(this.wt),n.addTarget=function(s,i){let o;const a=i.target;return o=Wm(a)?{documents:vG(s,a)}:{query:yG(s,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?o.resumeToken=cO(s,i.resumeToken):i.snapshotVersion.compareTo(De.min())>0&&(o.readTime=Sh(s,i.snapshotVersion.toTimestamp())),o}(this.wt,t);const r=wG(this.wt,t);r&&(n.labels=r),this.Mo(n)}jo(t){const n={};n.database=Km(this.wt),n.removeTarget=t,this.Mo(n)}}class sq extends gO{constructor(t,n,r,s,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.wt=i,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,n){return this.bo.ho("Write",t,n)}onMessage(t){if(at(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const n=gG(t.writeResults,t.commitTime),r=Fr(t.commitTime);return this.listener.Jo(r,n)}return at(!t.writeResults||t.writeResults.length===0),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=Km(this.wt),this.Mo(t)}Ho(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>mG(this.wt,r))};this.Mo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq extends class{}{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.bo=r,this.wt=s,this.Zo=!1}tu(){if(this.Zo)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.bo.ro(t,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie($.UNKNOWN,s.toString())})}ao(t,n,r,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.bo.ao(t,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie($.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class oq{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){this.eu===0&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){this.state==="Online"?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,t==="Online"&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Ss(n),this.su=!1):he("OnlineStateTracker",n)}cu(){this.nu!==null&&(this.nu.cancel(),this.nu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=i,this.du.Br(o=>{r.enqueueAndForget(async()=>{Ai(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=Ee(a);c.lu.add(4),await lu(c),c._u.set("Unknown"),c.lu.delete(4),await Bf(c)}(this))})}),this._u=new oq(r,s)}}async function Bf(e){if(Ai(e))for(const t of e.fu)await t(!0)}async function lu(e){for(const t of e.fu)await t(!1)}function vO(e,t){const n=Ee(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),Iy(n)?Ty(n):qo(n).Co()&&Sy(n,t))}function yO(e,t){const n=Ee(e),r=qo(n);n.hu.delete(t),r.Co()&&_O(n,t),n.hu.size===0&&(r.Co()?r.ko():Ai(n)&&n._u.set("Unknown"))}function Sy(e,t){e.wu.Nt(t.targetId),qo(e).Qo(t)}function _O(e,t){e.wu.Nt(t),qo(e).jo(t)}function Ty(e){e.wu=new cG({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),te:t=>e.hu.get(t)||null}),qo(e).start(),e._u.iu()}function Iy(e){return Ai(e)&&!qo(e).Do()&&e.hu.size>0}function Ai(e){return Ee(e).lu.size===0}function wO(e){e.wu=void 0}async function cq(e){e.hu.forEach((t,n)=>{Sy(e,t)})}async function uq(e,t){wO(e),Iy(e)?(e._u.uu(t),Ty(e)):e._u.set("Unknown")}async function lq(e,t,n){if(e._u.set("Online"),t instanceof aO&&t.state===2&&t.cause)try{await async function(r,s){const i=s.cause;for(const o of s.targetIds)r.hu.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.hu.delete(o),r.wu.removeTarget(o))}(e,t)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Th(e,r)}else if(t instanceof Cl?e.wu.Ut(t):t instanceof oO?e.wu.zt(t):e.wu.Gt(t),!n.isEqual(De.min()))try{const r=await pO(e.localStore);n.compareTo(r)>=0&&await function(s,i){const o=s.wu.Yt(i);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.hu.get(c);u&&s.hu.set(c,u.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach(a=>{const c=s.hu.get(a);if(!c)return;s.hu.set(a,c.withResumeToken(Ht.EMPTY_BYTE_STRING,c.snapshotVersion)),_O(s,a);const u=new ni(c.target,a,1,c.sequenceNumber);Sy(s,u)}),s.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await Th(e,r)}}async function Th(e,t,n){if(!ou(t))throw t;e.lu.add(1),await lu(e),e._u.set("Offline"),n||(n=()=>pO(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),e.lu.delete(1),await Bf(e)})}function bO(e,t){return t().catch(n=>Th(e,n,t))}async function Uf(e){const t=Ee(e),n=As(t);let r=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;hq(t);)try{const s=await qG(t.localStore,r);if(s===null){t.au.length===0&&n.ko();break}r=s.batchId,fq(t,s)}catch(s){await Th(t,s)}EO(t)&&SO(t)}function hq(e){return Ai(e)&&e.au.length<10}function fq(e,t){e.au.push(t);const n=As(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function EO(e){return Ai(e)&&!As(e).Do()&&e.au.length>0}function SO(e){As(e).start()}async function dq(e){As(e).Xo()}async function pq(e){const t=As(e);for(const n of e.au)t.Ho(n.mutations)}async function mq(e,t,n){const r=e.au.shift(),s=_y.from(r,t,n);await bO(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Uf(e)}async function gq(e,t){t&&As(e).zo&&await async function(n,r){if(s=r.code,rG(s)&&s!==$.ABORTED){const i=n.au.shift();As(n).No(),await bO(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Uf(n)}var s}(e,t),EO(e)&&SO(e)}async function Gb(e,t){const n=Ee(e);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=Ai(n);n.lu.add(3),await lu(n),r&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.lu.delete(3),await Bf(n)}async function vq(e,t){const n=Ee(e);t?(n.lu.delete(2),await Bf(n)):t||(n.lu.add(2),await lu(n),n._u.set("Unknown"))}function qo(e){return e.mu||(e.mu=function(t,n,r){const s=Ee(t);return s.tu(),new rq(n,s.bo,s.authCredentials,s.appCheckCredentials,s.wt,r)}(e.datastore,e.asyncQueue,{zr:cq.bind(null,e),Jr:uq.bind(null,e),Go:lq.bind(null,e)}),e.fu.push(async t=>{t?(e.mu.No(),Iy(e)?Ty(e):e._u.set("Unknown")):(await e.mu.stop(),wO(e))})),e.mu}function As(e){return e.gu||(e.gu=function(t,n,r){const s=Ee(t);return s.tu(),new sq(n,s.bo,s.authCredentials,s.appCheckCredentials,s.wt,r)}(e.datastore,e.asyncQueue,{zr:dq.bind(null,e),Jr:gq.bind(null,e),Yo:pq.bind(null,e),Jo:mq.bind(null,e)}),e.fu.push(async t=>{t?(e.gu.No(),await Uf(e)):(await e.gu.stop(),e.au.length>0&&(he("RemoteStore",`Stopping write stream with ${e.au.length} pending writes`),e.au=[]))})),e.gu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,s,i){const o=Date.now()+r,a=new Ay(t,n,o,s,i);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cy(e,t){if(Ss("AsyncQueue",`${t}: ${e}`),ou(e))return new ie($.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this.comparator=t?(n,r)=>t(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=wa(),this.sortedSet=new Rt(this.comparator)}static emptySet(t){return new uo(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof uo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new uo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.yu=new Rt(pe.comparator)}track(t){const n=t.doc.key,r=this.yu.get(n);r?t.type!==0&&r.type===3?this.yu=this.yu.insert(n,t):t.type===3&&r.type!==1?this.yu=this.yu.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.yu=this.yu.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.yu=this.yu.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.yu=this.yu.remove(n):t.type===1&&r.type===2?this.yu=this.yu.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.yu=this.yu.insert(n,{type:2,doc:t.doc}):be():this.yu=this.yu.insert(n,t)}pu(){const t=[];return this.yu.inorderTraversal((n,r)=>{t.push(r)}),t}}class Ao{constructor(t,n,r,s,i,o,a,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c}static fromInitialDocuments(t,n,r,s){const i=[];return n.forEach(o=>{i.push({type:0,doc:o})}),new Ao(t,n,uo.emptySet(n),i,r,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Pf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(){this.Iu=void 0,this.listeners=[]}}class _q{constructor(){this.queries=new Go(t=>zC(t),Pf),this.onlineState="Unknown",this.Tu=new Set}}async function TO(e,t){const n=Ee(e),r=t.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new yq),s)try{i.Iu=await n.onListen(r)}catch(o){const a=Cy(o,`Initialization of query '${zm(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,i),i.listeners.push(t),t.Eu(n.onlineState),i.Iu&&t.Au(i.Iu)&&Oy(n)}async function IO(e,t){const n=Ee(e),r=t.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(t);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function wq(e,t){const n=Ee(e);let r=!1;for(const s of t){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.Au(s)&&(r=!0);o.Iu=s}}r&&Oy(n)}function bq(e,t,n){const r=Ee(e),s=r.queries.get(t);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(t)}function Oy(e){e.Tu.forEach(t=>{t.next()})}class AO{constructor(t,n,r){this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new Ao(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),n=!0):this.Vu(t,this.onlineState)&&(this.Su(t),n=!0),this.Pu=t,n}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),n=!0),n}Vu(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Du||!r)&&(!t.docs.isEmpty()||n==="Offline")}vu(t){if(t.docChanges.length>0)return!0;const n=this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Su(t){t=Ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(t){this.key=t}}class OO{constructor(t){this.key=t}}class Eq{constructor(t,n){this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Be(),this.mutatedKeys=Be(),this.Lu=HC(t),this.Uu=new uo(this.Lu)}get qu(){return this.Fu}Ku(t,n){const r=n?n.Gu:new qb,s=n?n.Uu:this.Uu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((l,h)=>{const f=s.get(l),p=vy(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),O=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?v!==O&&(r.track({type:3,doc:p}),E=!0):this.Qu(f,p)||(r.track({type:2,doc:p}),E=!0,(c&&this.Lu(p,c)>0||u&&this.Lu(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(c||u)&&(a=!0)),E&&(p?(o=o.add(p),i=O?i.add(l):i.delete(l)):(o=o.delete(l),i=i.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),i=i.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:a,mutatedKeys:i}}Qu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const s=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const i=t.Gu.pu();i.sort((u,l)=>function(h,f){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return p(h)-p(f)}(u.type,l.type)||this.Lu(u.doc,l.doc)),this.ju(r);const o=n?this.Wu():[],a=this.Bu.size===0&&this.current?1:0,c=a!==this.$u;return this.$u=a,i.length!==0||c?{snapshot:new Ao(this.query,t.Uu,s,i,t.mutatedKeys,a===0,c,!1),zu:o}:{zu:o}}Eu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new qb,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=Be(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const n=[];return t.forEach(r=>{this.Bu.has(r)||n.push(new OO(r))}),this.Bu.forEach(r=>{t.has(r)||n.push(new CO(r))}),n}Ju(t){this.Fu=t.ji,this.Bu=Be();const n=this.Ku(t.documents);return this.applyChanges(n,!0)}Yu(){return Ao.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,this.$u===0)}}class Sq{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Tq{constructor(t){this.key=t,this.Xu=!1}}class Iq{constructor(t,n,r,s,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Go(a=>zC(a),Pf),this.ec=new Map,this.nc=new Set,this.sc=new Rt(pe.comparator),this.ic=new Map,this.rc=new wy,this.oc={},this.uc=new Map,this.cc=Io.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return this.ac===!0}}async function Aq(e,t){const n=$q(e);let r,s;const i=n.tc.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Yu();else{const o=await XG(n.localStore,fi(t));n.isPrimaryClient&&vO(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await Cq(n,t,r,a==="current")}return s}async function Cq(e,t,n,r){e.hc=(l,h,f)=>async function(p,v,O,E){let A=v.view.Ku(O);A.Oi&&(A=await Hb(p.localStore,v.query,!1).then(({documents:V})=>v.view.Ku(V,A)));const x=E&&E.targetChanges.get(v.targetId),H=v.view.applyChanges(A,p.isPrimaryClient,x);return Qb(p,v.targetId,H.zu),H.snapshot}(e,l,h,f);const s=await Hb(e.localStore,t,!0),i=new Eq(t,s.ji),o=i.Ku(s.documents),a=uu.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),c=i.applyChanges(o,e.isPrimaryClient,a);Qb(e,n,c.zu);const u=new Sq(t,n,i);return e.tc.set(t,u),e.ec.has(n)?e.ec.get(n).push(t):e.ec.set(n,[t]),c.snapshot}async function Oq(e,t){const n=Ee(e),r=n.tc.get(t),s=n.ec.get(r.targetId);if(s.length>1)return n.ec.set(r.targetId,s.filter(i=>!Pf(i,t))),void n.tc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Gm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),yO(n.remoteStore,r.targetId),qm(n,r.targetId)}).catch(iu)):(qm(n,r.targetId),await Gm(n.localStore,r.targetId,!0))}async function kq(e,t,n){const r=Lq(e);try{const s=await function(i,o){const a=Ee(i),c=kt.now(),u=o.reduce((f,p)=>f.add(p.key),Be());let l,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Hr(),v=Be();return a.Ui.getEntries(f,u).next(O=>{p=O,p.forEach((E,A)=>{A.isValidDocument()||(v=v.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(O=>{l=O;const E=[];for(const A of o){const x=eG(A,l.get(A.key).overlayedDocument);x!=null&&E.push(new Ms(A.key,x,BC(x.value.mapValue),pr.exists(!0)))}return a.mutationQueue.addMutationBatch(f,c,E,o)}).next(O=>{h=O;const E=O.applyToLocalDocumentSet(l,v);return a.documentOverlayCache.saveOverlays(f,O.batchId,E)})}).then(()=>({batchId:h.batchId,changes:rO(l)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,a){let c=i.oc[i.currentUser.toKey()];c||(c=new Rt(Qe)),c=c.insert(o,a),i.oc[i.currentUser.toKey()]=c}(r,s.batchId,n),await hu(r,s.changes),await Uf(r.remoteStore)}catch(s){const i=Cy(s,"Failed to persist write");n.reject(i)}}async function kO(e,t){const n=Ee(e);try{const r=await KG(n.localStore,t);t.targetChanges.forEach((s,i)=>{const o=n.ic.get(i);o&&(at(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Xu=!0:s.modifiedDocuments.size>0?at(o.Xu):s.removedDocuments.size>0&&(at(o.Xu),o.Xu=!1))}),await hu(n,r,t)}catch(r){await iu(r)}}function Xb(e,t,n){const r=Ee(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.tc.forEach((i,o)=>{const a=o.view.Eu(t);a.snapshot&&s.push(a.snapshot)}),function(i,o){const a=Ee(i);a.onlineState=o;let c=!1;a.queries.forEach((u,l)=>{for(const h of l.listeners)h.Eu(o)&&(c=!0)}),c&&Oy(a)}(r.eventManager,t),s.length&&r.Zu.Go(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Dq(e,t,n){const r=Ee(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.ic.get(t),i=s&&s.key;if(i){let o=new Rt(pe.comparator);o=o.insert(i,jt.newNoDocument(i,De.min()));const a=Be().add(i),c=new Lf(De.min(),new Map,new Dt(Qe),o,a);await kO(r,c),r.sc=r.sc.remove(i),r.ic.delete(t),ky(r)}else await Gm(r.localStore,t,!1).then(()=>qm(r,t,n)).catch(iu)}async function xq(e,t){const n=Ee(e),r=t.batch.batchId;try{const s=await YG(n.localStore,t);xO(n,r,null),DO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hu(n,s)}catch(s){await iu(s)}}async function Rq(e,t,n){const r=Ee(e);try{const s=await function(i,o){const a=Ee(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,o).next(l=>(at(l!==null),u=l.keys(),a.mutationQueue.removeMutationBatch(c,l))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,t);xO(r,t,n),DO(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await hu(r,s)}catch(s){await iu(s)}}function DO(e,t){(e.uc.get(t)||[]).forEach(n=>{n.resolve()}),e.uc.delete(t)}function xO(e,t,n){const r=Ee(e);let s=r.oc[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(n?i.reject(n):i.resolve(),s=s.remove(t)),r.oc[r.currentUser.toKey()]=s}}function qm(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ec.get(t))e.tc.delete(r),n&&e.Zu.lc(r,n);e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach(r=>{e.rc.containsKey(r)||RO(e,r)})}function RO(e,t){e.nc.delete(t.path.canonicalString());const n=e.sc.get(t);n!==null&&(yO(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),ky(e))}function Qb(e,t,n){for(const r of n)r instanceof CO?(e.rc.addReference(r.key,t),Mq(e,r)):r instanceof OO?(he("SyncEngine","Document no longer in limbo: "+r.key),e.rc.removeReference(r.key,t),e.rc.containsKey(r.key)||RO(e,r.key)):be()}function Mq(e,t){const n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(he("SyncEngine","New document in limbo: "+n),e.nc.add(r),ky(e))}function ky(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){const t=e.nc.values().next().value;e.nc.delete(t);const n=new pe(ut.fromString(t)),r=e.cc.next();e.ic.set(r,new Tq(n)),e.sc=e.sc.insert(n,r),vO(e.remoteStore,new ni(fi(gy(n.path)),r,2,fy.ot))}}async function hu(e,t,n){const r=Ee(e),s=[],i=[],o=[];r.tc.isEmpty()||(r.tc.forEach((a,c)=>{o.push(r.hc(c,t,n).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u.fromCache?"not-current":"current"),s.push(u);const l=Ey.Vi(c.targetId,u);i.push(l)}}))}),await Promise.all(o),r.Zu.Go(s),await async function(a,c){const u=Ee(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",l=>W.forEach(c,h=>W.forEach(h.Pi,f=>u.persistence.referenceDelegate.addReference(l,h.targetId,f)).next(()=>W.forEach(h.vi,f=>u.persistence.referenceDelegate.removeReference(l,h.targetId,f)))))}catch(l){if(!ou(l))throw l;he("LocalStore","Failed to update sequence numbers: "+l)}for(const l of c){const h=l.targetId;if(!l.fromCache){const f=u.$i.get(h),p=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(p);u.$i=u.$i.insert(h,v)}}}(r.localStore,i))}async function Pq(e,t){const n=Ee(e);if(!n.currentUser.isEqual(t)){he("SyncEngine","User change. New user:",t.toKey());const r=await dO(n.localStore,t);n.currentUser=t,function(s,i){s.uc.forEach(o=>{o.forEach(a=>{a.reject(new ie($.CANCELLED,i))})}),s.uc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await hu(n,r.Ki)}}function Nq(e,t){const n=Ee(e),r=n.ic.get(t);if(r&&r.Xu)return Be().add(r.key);{let s=Be();const i=n.ec.get(t);if(!i)return s;for(const o of i){const a=n.tc.get(o);s=s.unionWith(a.view.qu)}return s}}function $q(e){const t=Ee(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=kO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nq.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Dq.bind(null,t),t.Zu.Go=wq.bind(null,t.eventManager),t.Zu.lc=bq.bind(null,t.eventManager),t}function Lq(e){const t=Ee(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xq.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Rq.bind(null,t),t}class Fq{constructor(){this.synchronizeTabs=!1}async initialize(t){this.wt=Ff(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),await this.persistence.start(),this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore)}mc(t,n){return null}gc(t,n){return null}wc(t){return HG(this.persistence,new WG,t.initialUser,this.wt)}_c(t){return new jG(by.Ms,this.wt)}dc(t){return new JG}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Bq{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pq.bind(null,this.syncEngine),await vq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new _q}createDatastore(t){const n=Ff(t.databaseInfo.databaseId),r=(s=t.databaseInfo,new nq(s));var s;return function(i,o,a,c){return new iq(i,o,a,c)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,s=t.asyncQueue,i=a=>Xb(this.syncEngine,a,0),o=Kb.V()?new Kb:new ZG,new aq(n,r,s,i,o);var n,r,s,i,o}createSyncEngine(t,n){return function(r,s,i,o,a,c,u){const l=new Iq(r,s,i,o,a,c);return u&&(l.ac=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=Ee(t);he("RemoteStore","RemoteStore shutting down."),n.lu.add(5),await lu(n),n.du.shutdown(),n._u.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(t,n,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Kt.UNAUTHENTICATED,this.clientId=NC.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{he("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(he("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Cy(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function jq(e,t){e.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await dO(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function Vq(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Wq(e);he("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(s=>Gb(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,i)=>Gb(t.remoteStore,i)),e.onlineComponents=t}async function Wq(e){return e.offlineComponents||(he("FirestoreClient","Using default OfflineComponentProvider"),await jq(e,new Fq)),e.offlineComponents}async function PO(e){return e.onlineComponents||(he("FirestoreClient","Using default OnlineComponentProvider"),await Vq(e,new Bq)),e.onlineComponents}function zq(e){return PO(e).then(t=>t.syncEngine)}async function Xm(e){const t=await PO(e),n=t.eventManager;return n.onListen=Aq.bind(null,t.syncEngine),n.onUnlisten=Oq.bind(null,t.syncEngine),n}function Hq(e,t,n={}){const r=new gs;return e.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,c){const u=new MO({next:h=>{i.enqueueAndForget(()=>IO(s,l)),h.fromCache&&a.source==="server"?c.reject(new ie($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),l=new AO(o,u,{includeMetadataChanges:!0,Du:!0});return TO(s,l)}(await Xm(e),e.asyncQueue,t,n,r)),r.promise}const Jb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(e,t,n){if(!n)throw new ie($.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Yq(e,t,n,r){if(t===!0&&r===!0)throw new ie($.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Zb(e){if(!pe.isDocumentKey(e))throw new ie($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function e1(e){if(pe.isDocumentKey(e))throw new ie($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function jf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":be()}function Br(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ie($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jf(e);throw new ie($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new ie($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ie($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Yq("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t1({}),this._settingsFrozen=!1,t instanceof So?this._databaseId=t:(this._app=t,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ie($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new So(s.options.projectId)}(t))}get app(){if(!this._app)throw new ie($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new ie($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t1(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new pK;switch(n.type){case"gapi":const r=n.client;return at(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new yK(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new ie($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Jb.get(t);n&&(he("ComponentProvider","Removing Datastore"),Jb.delete(t),n.terminate())}(this),Promise.resolve()}}function Kq(e,t,n,r={}){var s;const i=(e=Br(e,Vf))._getSettings();if(i.host!=="firestore.googleapis.com"&&i.host!==t&&Um("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Kt.MOCK_USER;else{o=W1(r.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ie($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Kt(c)}e._authCredentials=new mK(new PC(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _n(this.firestore,t,this._key)}}class Xo{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Xo(this.firestore,t,this._query)}}class vs extends Xo{constructor(t,n,r){super(t,n,gy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _n(this.firestore,null,new pe(t))}withConverter(t){return new vs(this.firestore,t,this._path)}}function Co(e,t,...n){if(e=zt(e),NO("collection","path",t),e instanceof Vf){const r=ut.fromString(t,...n);return e1(r),new vs(e,null,r)}{if(!(e instanceof _n||e instanceof vs))throw new ie($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ut.fromString(t,...n));return e1(r),new vs(e.firestore,null,r)}}function Dy(e,t,...n){if(e=zt(e),arguments.length===1&&(t=NC.I()),NO("doc","path",t),e instanceof Vf){const r=ut.fromString(t,...n);return Zb(r),new _n(e,null,new pe(r))}{if(!(e instanceof _n||e instanceof vs))throw new ie($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ut.fromString(t,...n));return Zb(r),new _n(e.firestore,e instanceof vs?e.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new mO(this,"async_queue_retry"),this.Kc=()=>{const n=gp();n&&he("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const t=gp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const n=gp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new gs;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Mc.push(t),this.jc()))}async jc(){if(this.Mc.length!==0){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(t){if(!ou(t))throw t;he("AsyncQueue","Operation failed with retryable error: "+t)}this.Mc.length>0&&this.So.Io(()=>this.jc())}}Qc(t){const n=this.Oc.then(()=>(this.Lc=!0,t().catch(r=>{this.Bc=r,this.Lc=!1;const s=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw Ss("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Lc=!1,r))));return this.Oc=n,n}enqueueAfterDelay(t,n,r){this.Gc(),this.qc.indexOf(t)>-1&&(n=0);const s=Ay.createAndSchedule(this,t,n,r,i=>this.Wc(i));return this.$c.push(s),s}Gc(){this.Bc&&be()}verifyOperationInProgress(){}async zc(){let t;do t=this.Oc,await t;while(t!==this.Oc)}Hc(t){for(const n of this.$c)if(n.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const n=this.$c.indexOf(t);this.$c.splice(n,1)}}function n1(e){return function(t,n){if(typeof t!="object"||t===null)return!1;const r=t;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class Oo extends Vf{constructor(t,n,r){super(t,n,r),this.type="firestore",this._queue=new Gq,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||$O(this),this._firestoreClient.terminate()}}function qq(e,t){const n=Pc(e,"firestore");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Qa(s,t))return r;throw new ie($.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ie($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return n.initialize({options:t})}function Qo(e=og()){return Pc(e,"firestore").getImmediate()}function xy(e){return e._firestoreClient||$O(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function $O(e){var t;const n=e._freezeSettings(),r=function(s,i,o,a){return new kK(s,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Uq(e._authCredentials,e._appCheckCredentials,e._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ie($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ko(Ht.fromBase64String(t))}catch(n){throw new ie($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ko(Ht.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ie($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ie($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Qe(this._lat,t._lat)||Qe(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq=/^__.*__$/;class Qq{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ms(t,this.data,this.fieldMask,n,this.fieldTransforms):new cu(t,this.data,n,this.fieldTransforms)}}class LO{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ms(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function FO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class My{constructor(t,n,r,s,i,o){this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Xc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new My(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.ta({path:r,na:!1});return s.sa(t),s}ia(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.ta({path:r,na:!1});return s.Xc(),s}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return Ih(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(t.length===0)throw this.oa("Document fields must not be empty");if(FO(this.Zc)&&Xq.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class Jq{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||Ff(t)}aa(t,n,r,s=!1){return new My({Zc:t,methodName:n,ca:r,path:qt.emptyPath(),na:!1,ua:s},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Py(e){const t=e._freezeSettings(),n=Ff(e._databaseId);return new Jq(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Zq(e,t,n,r,s,i={}){const o=e.aa(i.merge||i.mergeFields?2:0,t,n,s);$y("Data must be an object, but it was:",o,r);const a=BO(r,o);let c,u;if(i.merge)c=new Rn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const l=[];for(const h of i.mergeFields){const f=Qm(t,h,n);if(!o.contains(f))throw new ie($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);jO(l,f)||l.push(f)}c=new Rn(l),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new Qq(new yn(a),c,u)}class Hf extends zf{_toFieldTransform(t){if(t.Zc!==2)throw t.Zc===1?t.oa(`${this._methodName}() can only appear at the top level of your update data`):t.oa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Hf}}class Ny extends zf{_toFieldTransform(t){return new XK(t.path,new Sc)}isEqual(t){return t instanceof Ny}}function eX(e,t,n,r){const s=e.aa(1,t,n);$y("Data must be an object, but it was:",s,r);const i=[],o=yn.empty();Ii(r,(c,u)=>{const l=Ly(t,c,n);u=zt(u);const h=s.ia(l);if(u instanceof Hf)i.push(l);else{const f=fu(u,h);f!=null&&(i.push(l),o.set(l,f))}});const a=new Rn(i);return new LO(o,a,s.fieldTransforms)}function tX(e,t,n,r,s,i){const o=e.aa(1,t,n),a=[Qm(t,r,n)],c=[s];if(i.length%2!=0)throw new ie($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Qm(t,i[f])),c.push(i[f+1]);const u=[],l=yn.empty();for(let f=a.length-1;f>=0;--f)if(!jO(u,a[f])){const p=a[f];let v=c[f];v=zt(v);const O=o.ia(p);if(v instanceof Hf)u.push(p);else{const E=fu(v,O);E!=null&&(u.push(p),l.set(p,E))}}const h=new Rn(u);return new LO(l,h,o.fieldTransforms)}function nX(e,t,n,r=!1){return fu(n,e.aa(r?4:3,t))}function fu(e,t){if(UO(e=zt(e)))return $y("Unsupported field value:",t,e),BO(e,t);if(e instanceof zf)return function(n,r){if(!FO(r.Zc))throw r.oa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&t.Zc!==4)throw t.oa("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const o of n){let a=fu(o,r.ra(i));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),i++}return{arrayValue:{values:s}}}(e,t)}return function(n,r){if((n=zt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return KK(r.wt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=kt.fromDate(n);return{timestampValue:Sh(r.wt,s)}}if(n instanceof kt){const s=new kt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Sh(r.wt,s)}}if(n instanceof Ry)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ko)return{bytesValue:cO(r.wt,n._byteString)};if(n instanceof _n){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.oa(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:yy(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.oa(`Unsupported field value: ${jf(n)}`)}(e,t)}function BO(e,t){const n={};return $C(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ii(e,(r,s)=>{const i=fu(s,t.ea(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function UO(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof kt||e instanceof Ry||e instanceof ko||e instanceof _n||e instanceof zf)}function $y(e,t,n){if(!UO(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=jf(n);throw r==="an object"?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function Qm(e,t,n){if((t=zt(t))instanceof Wf)return t._internalPath;if(typeof t=="string")return Ly(e,t);throw Ih("Field path arguments must be of type string or ",e,!1,void 0,n)}const rX=new RegExp("[~\\*/\\[\\]]");function Ly(e,t,n){if(t.search(rX)>=0)throw Ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Wf(...t.split("."))._internalPath}catch{throw Ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ih(e,t,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new ie($.INVALID_ARGUMENT,a+e+c)}function jO(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new sX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Fy("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sX extends VO{data(){return super.data()}}function Fy(e,t){return typeof t=="string"?Ly(e,t):t instanceof Wf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class WO extends VO{constructor(t,n,r,s,i,o){super(t,n,r,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ol(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Fy("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ol extends WO{data(t={}){return super.data(t)}}class zO{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new ba(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Ol(this._firestore,this._userDataWriter,r.key,r,new ba(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Ol(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ba(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:i++}))}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new Ol(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ba(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return o.type!==0&&(c=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),u=i.indexOf(o.doc.key)),{type:iX(o.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function iX(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ie($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oX{}function YO(e,...t){for(const n of t)e=n._apply(e);return e}class aX extends oX{constructor(t,n,r){super(),this.fa=t,this.da=n,this._a=r,this.type="where"}_apply(t){const n=Py(t.firestore),r=function(s,i,o,a,c,u,l){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ie($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){s1(l,u);const p=[];for(const v of l)p.push(r1(a,s,v));h={arrayValue:{values:p}}}else h=r1(a,s,l)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||s1(l,u),h=nX(o,i,l,u==="in"||u==="not-in");const f=ln.create(c,u,h);return function(p,v){if(v.ht()){const E=VC(p);if(E!==null&&!E.isEqual(v.field))throw new ie($.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${E.toString()}' and '${v.field.toString()}'`);const A=jC(p);A!==null&&cX(p,v.field,A)}const O=function(E,A){for(const x of E.filters)if(A.indexOf(x.op)>=0)return x.op;return null}(p,function(E){switch(E){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(v.op));if(O!==null)throw O===v.op?new ie($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${v.op.toString()}' filter.`):new ie($.INVALID_ARGUMENT,`Invalid query. You cannot use '${v.op.toString()}' filters with '${O.toString()}' filters.`)}(s,f),f}(t._query,"where",n,t.firestore._databaseId,this.fa,this.da,this._a);return new Xo(t.firestore,t.converter,function(s,i){const o=s.filters.concat([i]);return new au(s.path,s.collectionGroup,s.explicitOrderBy.slice(),o,s.limit,s.limitType,s.startAt,s.endAt)}(t._query,r))}}function Ah(e,t,n){const r=t,s=Fy("where",e);return new aX(s,r,n)}function r1(e,t,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new ie($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WC(t)&&n.indexOf("/")!==-1)throw new ie($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ut.fromString(n));if(!pe.isDocumentKey(r))throw new ie($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xb(e,new pe(r))}if(n instanceof _n)return xb(e,n._key);throw new ie($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jf(n)}.`)}function s1(e,t){if(!Array.isArray(e)||e.length===0)throw new ie($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new ie($.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function cX(e,t,n){if(!n.isEqual(t))throw new ie($.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{convertValue(t,n="none"){switch(hi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return It(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Eo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw be()}}convertObject(t,n){const r={};return Ii(t.fields,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(t){return new Ry(It(t.latitude),It(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=FC(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wc(t));default:return null}}convertTimestamp(t){const n=Is(t);return new kt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ut.fromString(t);at(fO(r));const s=new So(r.get(1),r.get(3)),i=new pe(r.popFirst(5));return s.isEqual(n)||Ss(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lX(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class By extends uX{constructor(t){super(),this.firestore=t}convertBytes(t){return new ko(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function KO(e){e=Br(e,Xo);const t=Br(e.firestore,Oo),n=xy(t),r=new By(t);return HO(e._query),Hq(n,e._query).then(s=>new zO(t,r,e,s))}function hX(e,t,n,...r){e=Br(e,_n);const s=Br(e.firestore,Oo),i=Py(s);let o;return o=typeof(t=zt(t))=="string"||t instanceof Wf?tX(i,"updateDoc",e._key,t,n,r):eX(i,"updateDoc",e._key,t),XO(s,[o.toMutation(e._key,pr.exists(!0))])}function GO(e,t){const n=Br(e.firestore,Oo),r=Dy(e),s=lX(e.converter,t);return XO(n,[Zq(Py(e.firestore),"addDoc",r._key,s,e.converter!==null,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}function qO(e,...t){var n,r,s;e=zt(e);let i={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||n1(t[o])||(i=t[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(n1(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),t[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let c,u,l;if(e instanceof _n)u=Br(e.firestore,Oo),l=gy(e._key.path),c={next:h=>{t[o]&&t[o](fX(u,e,h))},error:t[o+1],complete:t[o+2]};else{const h=Br(e,Xo);u=Br(h.firestore,Oo),l=h._query;const f=new By(u);c={next:p=>{t[o]&&t[o](new zO(u,f,h,p))},error:t[o+1],complete:t[o+2]},HO(e._query)}return function(h,f,p,v){const O=new MO(v),E=new AO(f,O,p);return h.asyncQueue.enqueueAndForget(async()=>TO(await Xm(h),E)),()=>{O.Tc(),h.asyncQueue.enqueueAndForget(async()=>IO(await Xm(h),E))}}(xy(u),l,a,c)}function XO(e,t){return function(n,r){const s=new gs;return n.asyncQueue.enqueueAndForget(async()=>kq(await zq(n),r,s)),s.promise}(xy(e),t)}function fX(e,t,n){const r=n.docs.get(t._key),s=new By(e);return new WO(e,s,t._key,r,new ba(n.hasPendingWrites,n.fromCache),t.converter)}function QO(){return new Ny("serverTimestamp")}(function(e,t=!0){(function(n){Ko=n})(Mo),si(new _s("firestore",(n,{options:r})=>{const s=n.getProvider("app").getImmediate(),i=new Oo(s,new gK(n.getProvider("auth-internal")),new wK(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),i._setSettings(r),i},"PUBLIC")),hr(Ab,"3.4.12",e),hr(Ab,"3.4.12","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="firebasestorage.googleapis.com",ZO="storageBucket",dX=2*60*1e3,pX=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt extends Cs{constructor(t,n){super(vp(t),`Firebase Storage: ${n} (${vp(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mt.prototype)}_codeEquals(t){return vp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function vp(e){return"storage/"+e}function Uy(){const e="An unknown error occurred, please check the error payload for server response.";return new Mt("unknown",e)}function mX(e){return new Mt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function gX(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mt("unauthenticated",e)}function vX(){return new Mt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function yX(e){return new Mt("unauthorized","User does not have permission to access '"+e+"'.")}function _X(){return new Mt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function wX(){return new Mt("canceled","User canceled the upload/download.")}function bX(e){return new Mt("invalid-url","Invalid URL '"+e+"'.")}function EX(e){return new Mt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function SX(){return new Mt("no-default-bucket","No default bucket found. Did you set the '"+ZO+"' property when initializing the app?")}function TX(){return new Mt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Jm(e){return new Mt("invalid-argument",e)}function e2(){return new Mt("app-deleted","The Firebase app was deleted.")}function IX(e){return new Mt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ba(e,t){return new Mt("invalid-format","String does not match format '"+e+"': "+t)}function da(e){throw new Mt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Tn.makeFromUrl(t,n)}catch{return new Tn(t,"")}if(r.path==="")return r;throw EX(t)}static makeFromUrl(t,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function u(V){V.path_=decodeURIComponent(V.path)}const l="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${l}/b/${s}/o${f}`,"i"),v={bucket:1,path:3},O=n===JO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",A=new RegExp(`^https?://${O}/${s}/${E}`,"i"),H=[{regex:a,indices:c,postModify:i},{regex:p,indices:v,postModify:u},{regex:A,indices:{bucket:1,path:2},postModify:u}];for(let V=0;V<H.length;V++){const R=H[V],M=R.regex.exec(t);if(M){const w=M[R.indices.bucket];let C=M[R.indices.path];C||(C=""),r=new Tn(w,C),R.postModify(r);break}}if(r==null)throw bX(t);return r}}class AX{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CX(e,t,n){let r=1,s=null,i=null,o=!1,a=0;function c(){return a===2}let u=!1;function l(...E){u||(u=!0,t.apply(null,E))}function h(E){s=setTimeout(()=>{s=null,e(p,c())},E)}function f(){i&&clearTimeout(i)}function p(E,...A){if(u){f();return}if(E){f(),l.call(null,E,...A);return}if(c()||o){f(),l.call(null,E,...A);return}r<64&&(r*=2);let H;a===1?(a=2,H=0):H=(r+Math.random())*1e3,h(H)}let v=!1;function O(E){v||(v=!0,f(),!u&&(s!==null?(E||(a=2),clearTimeout(s),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,O(!0)},n),O}function OX(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kX(e){return e!==void 0}function DX(e){return typeof e=="object"&&!Array.isArray(e)}function t2(e){return typeof e=="string"||e instanceof String}function i1(e){return jy()&&e instanceof Blob}function jy(){return typeof Blob!="undefined"}function o1(e,t,n,r){if(r<t)throw Jm(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Jm(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xX(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function RX(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const s=t(r)+"="+t(e[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ri||(ri={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MX{constructor(t,n,r,s,i,o,a,c,u,l,h){this.url_=t,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const t=(r,s)=>{if(s){r(!1,new qu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===ri.NO_ERROR,c=i.getStatus();if(!a||this.isRetryStatusCode_(c)){const l=i.getErrorCode()===ri.ABORT;r(!1,new qu(!1,null,l));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new qu(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());kX(c)?i(c):i()}catch(c){o(c)}else if(a!==null){const c=Uy();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(s.canceled){const c=this.appDelete_?e2():wX();o(c)}else{const c=_X();o(c)}};this.canceled_?n(!1,new qu(!1,null,!0)):this.backoffId_=CX(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&OX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=this.additionalRetryCodes_.indexOf(t)!==-1;return n||s||i}}class qu{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function PX(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function NX(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function $X(e,t){t&&(e["X-Firebase-GMPID"]=t)}function LX(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function FX(e,t,n,r,s,i){const o=RX(e.urlParams),a=e.url+o,c=Object.assign({},e.headers);return $X(c,t),PX(c,n),NX(c,i),LX(c,r),new MX(a,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BX(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function UX(...e){const t=BX();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(jy())return new Blob(e);throw new Mt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function jX(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VX(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yp{constructor(t,n){this.data=t,this.contentType=n||null}}function WX(e,t){switch(e){case lr.RAW:return new yp(n2(t));case lr.BASE64:case lr.BASE64URL:return new yp(r2(e,t));case lr.DATA_URL:return new yp(HX(t),YX(t))}throw Uy()}function n2(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const i=r,o=e.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function zX(e){let t;try{t=decodeURIComponent(e)}catch{throw Ba(lr.DATA_URL,"Malformed data URL.")}return n2(t)}function r2(e,t){switch(e){case lr.BASE64:{const s=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(s||i)throw Ba(e,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case lr.BASE64URL:{const s=t.indexOf("+")!==-1,i=t.indexOf("/")!==-1;if(s||i)throw Ba(e,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=VX(t)}catch{throw Ba(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class s2{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ba(lr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=KX(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function HX(e){const t=new s2(e);return t.base64?r2(lr.BASE64,t.rest):zX(t.rest)}function YX(e){return new s2(e).contentType}function KX(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t,n){let r=0,s="";i1(t)?(this.data_=t,r=t.size,s=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,n){if(i1(this.data_)){const r=this.data_,s=jX(r,t,n);return s===null?null:new as(s)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new as(r,!0)}}static getBlob(...t){if(jy()){const n=t.map(r=>r instanceof as?r.data_:r);return new as(UX.apply(null,n))}else{const n=t.map(o=>t2(o)?WX(lr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new as(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GX(e){let t;try{t=JSON.parse(e)}catch{return null}return DX(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qX(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function XX(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function i2(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QX(e,t){return t}class rn{constructor(t,n,r,s){this.server=t,this.local=n||t,this.writable=!!r,this.xform=s||QX}}let Xu=null;function JX(e){return!t2(e)||e.length<2?e:i2(e)}function ZX(){if(Xu)return Xu;const e=[];e.push(new rn("bucket")),e.push(new rn("generation")),e.push(new rn("metageneration")),e.push(new rn("name","fullPath",!0));function t(i,o){return JX(o)}const n=new rn("name");n.xform=t,e.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new rn("size");return s.xform=r,e.push(s),e.push(new rn("timeCreated")),e.push(new rn("updated")),e.push(new rn("md5Hash",null,!0)),e.push(new rn("cacheControl",null,!0)),e.push(new rn("contentDisposition",null,!0)),e.push(new rn("contentEncoding",null,!0)),e.push(new rn("contentLanguage",null,!0)),e.push(new rn("contentType",null,!0)),e.push(new rn("metadata","customMetadata",!0)),Xu=e,Xu}function eQ(e,t){function n(){const r=e.bucket,s=e.fullPath,i=new Tn(r,s);return t._makeStorageReference(i)}Object.defineProperty(e,"ref",{get:n})}function tQ(e,t,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,t[o.server])}return eQ(r,e),r}function nQ(e,t,n){const r=GX(t);return r===null?null:tQ(e,r,n)}function rQ(e,t){const n={},r=t.length;for(let s=0;s<r;s++){const i=t[s];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}class sQ{constructor(t,n,r,s){this.url=t,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iQ(e){if(!e)throw Uy()}function oQ(e,t){function n(r,s){const i=nQ(e,s,t);return iQ(i!==null),i}return n}function aQ(e){function t(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=vX():s=gX():n.getStatus()===402?s=mX(e.bucket):n.getStatus()===403?s=yX(e.path):s=r,s.serverResponse=r.serverResponse,s}return t}function cQ(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function uQ(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=cQ(null,t)),r}function lQ(e,t,n,r,s){const i=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let H="";for(let V=0;V<2;V++)H=H+Math.random().toString().slice(2);return H}const c=a();o["Content-Type"]="multipart/related; boundary="+c;const u=uQ(t,r,s),l=rQ(u,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+l+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+c+"--",p=as.getBlob(h,r,f);if(p===null)throw TX();const v={name:u.fullPath},O=xX(i,e.host,e._protocol),E="POST",A=e.maxUploadRetryTime,x=new sQ(O,E,oQ(e,n),A);return x.urlParams=v,x.headers=o,x.body=p.uploadData(),x.errorHandler=aQ(t),x}class hQ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ri.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ri.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ri.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,s){if(this.sent_)throw da("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw da("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw da("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw da("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw da("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class fQ extends hQ{initXhr(){this.xhr_.responseType="text"}}function dQ(){return new fQ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t,n){this._service=t,n instanceof Tn?this._location=n:this._location=Tn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new di(t,n)}get root(){const t=new Tn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return i2(this._location.path)}get storage(){return this._service}get parent(){const t=qX(this._location.path);if(t===null)return null;const n=new Tn(this._location.bucket,t);return new di(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw IX(t)}}function pQ(e,t,n){e._throwIfRoot("uploadBytes");const r=lQ(e.storage,e._location,ZX(),new as(t,!0),n);return e.storage.makeRequestWithTokens(r,dQ).then(s=>({metadata:s,ref:e}))}function mQ(e,t){const n=XX(e._location.path,t),r=new Tn(e._location.bucket,n);return new di(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gQ(e){return/^[A-Za-z]+:\/\//.test(e)}function vQ(e,t){return new di(e,t)}function o2(e,t){if(e instanceof Vy){const n=e;if(n._bucket==null)throw SX();const r=new di(n,n._bucket);return t!=null?o2(r,t):r}else return t!==void 0?mQ(e,t):e}function yQ(e,t){if(t&&gQ(t)){if(e instanceof Vy)return vQ(e,t);throw Jm("To use ref(service, url), the first argument must be a Storage instance.")}else return o2(e,t)}function a1(e,t){const n=t==null?void 0:t[ZO];return n==null?null:Tn.makeFromBucketSpec(n,e)}function _Q(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken=typeof s=="string"?s:W1(s,e.app.options.projectId))}class Vy{constructor(t,n,r,s,i){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=JO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dX,this._maxUploadRetryTime=pX,this._requests=new Set,s!=null?this._bucket=Tn.makeFromBucketSpec(s,this._host):this._bucket=a1(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Tn.makeFromBucketSpec(this._url,t):this._bucket=a1(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){o1("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){o1("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new di(this,t)}_makeRequest(t,n,r,s){if(this._deleted)return new AX(e2());{const i=FX(t,this._appId,r,s,n,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(t,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,s).getPromise()}}const c1="@firebase/storage",u1="0.9.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="storage";function Une(e,t,n){return e=zt(e),pQ(e,t,n)}function jne(e,t){return e=zt(e),yQ(e,t)}function wQ(e=og(),t){return e=zt(e),Pc(e,a2).getImmediate({identifier:t})}function bQ(e,t,n,r={}){_Q(e,t,n,r)}function EQ(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Vy(n,r,s,t,Mo)}function SQ(){si(new _s(a2,EQ,"PUBLIC").setMultipleInstances(!0)),hr(c1,u1,""),hr(c1,u1,"esm2017")}SQ();const Ac={supportsFirebase:!1},TQ=e=>{Object.assign(Ac,e)},Zm={apiKey:"AIzaSyCqk-k-XiYFYgPQo28ITj3qkxoqDGDrVk0",appId:"1:1011232276130:web:1ae2ea1437c349a4c2e1fb",authDomain:"octo-64838.firebaseapp.com",databaseURL:"https://octo-64838.firebaseio.com",messagingSenderId:"1011232276130",projectId:"octo-64838",storageBucket:"octo-64838.appspot.com"},IQ=()=>{const e=Object.keys(Zm).filter(t=>!Zm[t]);return e.length>0?(console.warn(`Skipping Firebase initialization. Missing keys: [${e.join(", ")}]`),!1):!0},AQ=()=>{if(!IQ())return;const e=KD(Zm);qq(e,{experimentalAutoDetectLongPolling:!0}),dK("error"),location.hostname==="localhost"&&!{}.VITE_FIREBASE_EMULATOR_BYPASS&&(Dx(sr(),{}.VITE_FIREBASE_EMULATOR_AUTH,{disableWarnings:!0}),Kq(Qo(),{}.VITE_FIREBASE_EMULATOR_FIRESTORE_HOST,{}.VITE_FIREBASE_EMULATOR_FIRESTORE_PORT),bQ(wQ(),{}.VITE_FIREBASE_EMULATOR_STORAGE_HOST,{}.VITE_FIREBASE_EMULATOR_STORAGE_PORT)),TQ({supportsFirebase:!0})};/*!
  * vue-router v4.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const c2=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Jo=e=>c2?Symbol(e):"_vr_"+e,CQ=Jo("rvlm"),l1=Jo("rvd"),Yf=Jo("r"),Wy=Jo("rl"),eg=Jo("rvl"),zi=typeof window!="undefined";function OQ(e){return e.__esModule||c2&&e[Symbol.toStringTag]==="Module"}const st=Object.assign;function _p(e,t){const n={};for(const r in t){const s=t[r];n[r]=Array.isArray(s)?s.map(e):e(s)}return n}const Ua=()=>{},kQ=/\/$/,DQ=e=>e.replace(kQ,"");function wp(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("?"),c=t.indexOf("#",a>-1?a:0);return a>-1&&(r=t.slice(0,a),i=t.slice(a+1,c>-1?c:t.length),s=e(i)),c>-1&&(r=r||t.slice(0,c),o=t.slice(c,t.length)),r=PQ(r!=null?r:t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function xQ(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function h1(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function RQ(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Do(t.matched[r],n.matched[s])&&u2(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Do(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function u2(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!MQ(e[n],t[n]))return!1;return!0}function MQ(e,t){return Array.isArray(e)?f1(e,t):Array.isArray(t)?f1(t,e):e===t}function f1(e,t){return Array.isArray(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function PQ(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let s=n.length-1,i,o;for(i=0;i<r.length;i++)if(o=r[i],!(s===1||o==="."))if(o==="..")s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var Cc;(function(e){e.pop="pop",e.push="push"})(Cc||(Cc={}));var ja;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ja||(ja={}));function NQ(e){if(!e)if(zi){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),DQ(e)}const $Q=/^[^#]+#/;function LQ(e,t){return e.replace($Q,"#")+t}function FQ(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Kf=()=>({left:window.pageXOffset,top:window.pageYOffset});function BQ(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=FQ(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function d1(e,t){return(history.state?history.state.position-t:-1)+e}const tg=new Map;function UQ(e,t){tg.set(e,t)}function jQ(e){const t=tg.get(e);return tg.delete(e),t}let VQ=()=>location.protocol+"//"+location.host;function l2(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),h1(c,"")}return h1(n,e)+r+s}function WQ(e,t,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const p=l2(e,location),v=n.value,O=t.value;let E=0;if(f){if(n.value=p,t.value=f,o&&o===v){o=null;return}E=O?f.position-O.position:0}else r(p);s.forEach(A=>{A(n.value,v,{delta:E,type:Cc.pop,direction:E?E>0?ja.forward:ja.back:ja.unknown})})};function c(){o=n.value}function u(f){s.push(f);const p=()=>{const v=s.indexOf(f);v>-1&&s.splice(v,1)};return i.push(p),p}function l(){const{history:f}=window;!f.state||f.replaceState(st({},f.state,{scroll:Kf()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l),{pauseListeners:c,listen:u,destroy:h}}function p1(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Kf():null}}function zQ(e){const{history:t,location:n}=window,r={value:l2(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,u,l){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+c:VQ()+e+c;try{t[l?"replaceState":"pushState"](u,"",f),s.value=u}catch(p){console.error(p),n[l?"replace":"assign"](f)}}function o(c,u){const l=st({},t.state,p1(s.value.back,c,s.value.forward,!0),u,{position:s.value.position});i(c,l,!0),r.value=c}function a(c,u){const l=st({},s.value,t.state,{forward:c,scroll:Kf()});i(l.current,l,!0);const h=st({},p1(r.value,c,null),{position:l.position+1},u);i(c,h,!1),r.value=c}return{location:r,state:s,push:a,replace:o}}function HQ(e){e=NQ(e);const t=zQ(e),n=WQ(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=st({location:"",base:e,go:r,createHref:LQ.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function YQ(e){return typeof e=="string"||e&&typeof e=="object"}function h2(e){return typeof e=="string"||typeof e=="symbol"}const es={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},f2=Jo("nf");var m1;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(m1||(m1={}));function xo(e,t){return st(new Error,{type:e,[f2]:!0},t)}function ts(e,t){return e instanceof Error&&f2 in e&&(t==null||!!(e.type&t))}const g1="[^/]+?",KQ={sensitive:!1,strict:!1,start:!0,end:!0},GQ=/[.+*?^${}()[\]/\\]/g;function qQ(e,t){const n=st({},KQ,t),r=[];let s=n.start?"^":"";const i=[];for(const u of e){const l=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let h=0;h<u.length;h++){const f=u[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(GQ,"\\$&"),p+=40;else if(f.type===1){const{value:v,repeatable:O,optional:E,regexp:A}=f;i.push({name:v,repeatable:O,optional:E});const x=A||g1;if(x!==g1){p+=10;try{new RegExp(`(${x})`)}catch(V){throw new Error(`Invalid custom RegExp for param "${v}" (${x}): `+V.message)}}let H=O?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;h||(H=E&&u.length<2?`(?:/${H})`:"/"+H),E&&(H+="?"),s+=H,p+=20,E&&(p+=-8),O&&(p+=-20),x===".*"&&(p+=-50)}l.push(p)}r.push(l)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const l=u.match(o),h={};if(!l)return null;for(let f=1;f<l.length;f++){const p=l[f]||"",v=i[f-1];h[v.name]=p&&v.repeatable?p.split("/"):p}return h}function c(u){let l="",h=!1;for(const f of e){(!h||!l.endsWith("/"))&&(l+="/"),h=!1;for(const p of f)if(p.type===0)l+=p.value;else if(p.type===1){const{value:v,repeatable:O,optional:E}=p,A=v in u?u[v]:"";if(Array.isArray(A)&&!O)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const x=Array.isArray(A)?A.join("/"):A;if(!x)if(E)f.length<2&&e.length>1&&(l.endsWith("/")?l=l.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);l+=x}}return l}return{re:o,score:r,keys:i,parse:a,stringify:c}}function XQ(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function QQ(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=XQ(r[n],s[n]);if(i)return i;n++}return s.length-r.length}const JQ={type:0,value:""},ZQ=/[a-zA-Z0-9_]/;function eJ(e){if(!e)return[[]];if(e==="/")return[[JQ]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,u="",l="";function h(){!u||(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:l,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(u&&h(),o()):c===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:c==="("?n=2:ZQ.test(c)?f():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+c:n=3:l+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,l="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),h(),o(),s}function tJ(e,t,n){const r=qQ(eJ(e.path),n),s=st(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function nJ(e,t){const n=[],r=new Map;t=y1({strict:!1,end:!0,sensitive:!1},t);function s(l){return r.get(l)}function i(l,h,f){const p=!f,v=sJ(l);v.aliasOf=f&&f.record;const O=y1(t,l),E=[v];if("alias"in l){const H=typeof l.alias=="string"?[l.alias]:l.alias;for(const V of H)E.push(st({},v,{components:f?f.record.components:v.components,path:V,aliasOf:f?f.record:v}))}let A,x;for(const H of E){const{path:V}=H;if(h&&V[0]!=="/"){const R=h.record.path,M=R[R.length-1]==="/"?"":"/";H.path=h.record.path+(V&&M+V)}if(A=tJ(H,h,O),f?f.alias.push(A):(x=x||A,x!==A&&x.alias.push(A),p&&l.name&&!v1(A)&&o(l.name)),"children"in v){const R=v.children;for(let M=0;M<R.length;M++)i(R[M],A,f&&f.children[M])}f=f||A,c(A)}return x?()=>{o(x)}:Ua}function o(l){if(h2(l)){const h=r.get(l);h&&(r.delete(l),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(l);h>-1&&(n.splice(h,1),l.record.name&&r.delete(l.record.name),l.children.forEach(o),l.alias.forEach(o))}}function a(){return n}function c(l){let h=0;for(;h<n.length&&QQ(l,n[h])>=0&&(l.record.path!==n[h].record.path||!d2(l,n[h]));)h++;n.splice(h,0,l),l.record.name&&!v1(l)&&r.set(l.record.name,l)}function u(l,h){let f,p={},v,O;if("name"in l&&l.name){if(f=r.get(l.name),!f)throw xo(1,{location:l});O=f.record.name,p=st(rJ(h.params,f.keys.filter(x=>!x.optional).map(x=>x.name)),l.params),v=f.stringify(p)}else if("path"in l)v=l.path,f=n.find(x=>x.re.test(v)),f&&(p=f.parse(v),O=f.record.name);else{if(f=h.name?r.get(h.name):n.find(x=>x.re.test(h.path)),!f)throw xo(1,{location:l,currentLocation:h});O=f.record.name,p=st({},h.params,l.params),v=f.stringify(p)}const E=[];let A=f;for(;A;)E.unshift(A.record),A=A.parent;return{name:O,path:v,params:p,matched:E,meta:oJ(E)}}return e.forEach(l=>i(l)),{addRoute:i,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function rJ(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function sJ(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:iJ(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function iJ(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function v1(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function oJ(e){return e.reduce((t,n)=>st(t,n.meta),{})}function y1(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function d2(e,t){return t.children.some(n=>n===e||d2(e,n))}const p2=/#/g,aJ=/&/g,cJ=/\//g,uJ=/=/g,lJ=/\?/g,m2=/\+/g,hJ=/%5B/g,fJ=/%5D/g,g2=/%5E/g,dJ=/%60/g,v2=/%7B/g,pJ=/%7C/g,y2=/%7D/g,mJ=/%20/g;function zy(e){return encodeURI(""+e).replace(pJ,"|").replace(hJ,"[").replace(fJ,"]")}function gJ(e){return zy(e).replace(v2,"{").replace(y2,"}").replace(g2,"^")}function ng(e){return zy(e).replace(m2,"%2B").replace(mJ,"+").replace(p2,"%23").replace(aJ,"%26").replace(dJ,"`").replace(v2,"{").replace(y2,"}").replace(g2,"^")}function vJ(e){return ng(e).replace(uJ,"%3D")}function yJ(e){return zy(e).replace(p2,"%23").replace(lJ,"%3F")}function _J(e){return e==null?"":yJ(e).replace(cJ,"%2F")}function Ch(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function wJ(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(m2," "),o=i.indexOf("="),a=Ch(o<0?i:i.slice(0,o)),c=o<0?null:Ch(i.slice(o+1));if(a in t){let u=t[a];Array.isArray(u)||(u=t[a]=[u]),u.push(c)}else t[a]=c}return t}function _1(e){let t="";for(let n in e){const r=e[n];if(n=vJ(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Array.isArray(r)?r.map(i=>i&&ng(i)):[r&&ng(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function bJ(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Array.isArray(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}function pa(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function ss(e,t,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(xo(4,{from:n,to:t})):h instanceof Error?a(h):YQ(h)?a(xo(2,{from:t,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},u=e.call(r&&r.instances[s],t,n,c);let l=Promise.resolve(u);e.length<3&&(l=l.then(c)),l.catch(h=>a(h))})}function bp(e,t,n,r){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(EJ(a)){const u=(a.__vccOpts||a)[t];u&&s.push(ss(u,n,r,i,o))}else{let c=a();s.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const l=OQ(u)?u.default:u;i.components[o]=l;const f=(l.__vccOpts||l)[t];return f&&ss(f,n,r,i,o)()}))}}return s}function EJ(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function w1(e){const t=xn(Yf),n=xn(Wy),r=Sn(()=>t.resolve(qs(e.to))),s=Sn(()=>{const{matched:c}=r.value,{length:u}=c,l=c[u-1],h=n.matched;if(!l||!h.length)return-1;const f=h.findIndex(Do.bind(null,l));if(f>-1)return f;const p=b1(c[u-2]);return u>1&&b1(l)===p&&h[h.length-1].path!==p?h.findIndex(Do.bind(null,c[u-2])):f}),i=Sn(()=>s.value>-1&&AJ(n.params,r.value.params)),o=Sn(()=>s.value>-1&&s.value===n.matched.length-1&&u2(n.params,r.value.params));function a(c={}){return IJ(c)?t[qs(e.replace)?"replace":"push"](qs(e.to)).catch(Ua):Promise.resolve()}return{route:r,href:Sn(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const SJ=Uc({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:w1,setup(e,{slots:t}){const n=Os(w1(e)),{options:r}=xn(Yf),s=Sn(()=>({[E1(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[E1(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:kS("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),TJ=SJ;function IJ(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function AJ(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Array.isArray(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function b1(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const E1=(e,t,n)=>e!=null?e:t!=null?t:n,CJ=Uc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=xn(eg),s=Sn(()=>e.route||r.value),i=xn(l1,0),o=Sn(()=>s.value.matched[i]);fl(l1,i+1),fl(CQ,o),fl(eg,s);const a=Yn();return Xs(()=>[a.value,o.value,e.name],([c,u,l],[h,f,p])=>{u&&(u.instances[l]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Do(u,f)||!h)&&(u.enterCallbacks[l]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=s.value,u=o.value,l=u&&u.components[e.name],h=e.name;if(!l)return S1(n.default,{Component:l,route:c});const f=u.props[e.name],p=f?f===!0?c.params:typeof f=="function"?f(c):f:null,O=kS(l,st({},p,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(u.instances[h]=null)},ref:a}));return S1(n.default,{Component:O,route:c})||O}}});function S1(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const OJ=CJ;function kJ(e){const t=nJ(e.routes,e),n=e.parseQuery||wJ,r=e.stringifyQuery||_1,s=e.history,i=pa(),o=pa(),a=pa(),c=RM(es);let u=es;zi&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=_p.bind(null,D=>""+D),h=_p.bind(null,_J),f=_p.bind(null,Ch);function p(D,ne){let N,Z;return h2(D)?(N=t.getRecordMatcher(D),Z=ne):Z=D,t.addRoute(Z,N)}function v(D){const ne=t.getRecordMatcher(D);ne&&t.removeRoute(ne)}function O(){return t.getRoutes().map(D=>D.record)}function E(D){return!!t.getRecordMatcher(D)}function A(D,ne){if(ne=st({},ne||c.value),typeof D=="string"){const _e=wp(n,D,ne.path),g=t.resolve({path:_e.path},ne),S=s.createHref(_e.fullPath);return st(_e,g,{params:f(g.params),hash:Ch(_e.hash),redirectedFrom:void 0,href:S})}let N;if("path"in D)N=st({},D,{path:wp(n,D.path,ne.path).path});else{const _e=st({},D.params);for(const g in _e)_e[g]==null&&delete _e[g];N=st({},D,{params:h(D.params)}),ne.params=h(ne.params)}const Z=t.resolve(N,ne),$e=D.hash||"";Z.params=l(f(Z.params));const Ne=xQ(r,st({},D,{hash:gJ($e),path:Z.path})),Se=s.createHref(Ne);return st({fullPath:Ne,hash:$e,query:r===_1?bJ(D.query):D.query||{}},Z,{redirectedFrom:void 0,href:Se})}function x(D){return typeof D=="string"?wp(n,D,c.value.path):st({},D)}function H(D,ne){if(u!==D)return xo(8,{from:ne,to:D})}function V(D){return w(D)}function R(D){return V(st(x(D),{replace:!0}))}function M(D){const ne=D.matched[D.matched.length-1];if(ne&&ne.redirect){const{redirect:N}=ne;let Z=typeof N=="function"?N(D):N;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=x(Z):{path:Z},Z.params={}),st({query:D.query,hash:D.hash,params:D.params},Z)}}function w(D,ne){const N=u=A(D),Z=c.value,$e=D.state,Ne=D.force,Se=D.replace===!0,_e=M(N);if(_e)return w(st(x(_e),{state:$e,force:Ne,replace:Se}),ne||N);const g=N;g.redirectedFrom=ne;let S;return!Ne&&RQ(r,Z,N)&&(S=xo(16,{to:g,from:Z}),Ln(Z,Z,!0,!1)),(S?Promise.resolve(S):X(g,Z)).catch(k=>ts(k)?ts(k,2)?k:Bt(k):Me(k,g,Z)).then(k=>{if(k){if(ts(k,2))return w(st(x(k.to),{state:$e,force:Ne,replace:Se}),ne||g)}else k=Ce(g,Z,!0,Se,$e);return de(g,Z,k),k})}function C(D,ne){const N=H(D,ne);return N?Promise.reject(N):Promise.resolve()}function X(D,ne){let N;const[Z,$e,Ne]=DJ(D,ne);N=bp(Z.reverse(),"beforeRouteLeave",D,ne);for(const _e of Z)_e.leaveGuards.forEach(g=>{N.push(ss(g,D,ne))});const Se=C.bind(null,D,ne);return N.push(Se),Bi(N).then(()=>{N=[];for(const _e of i.list())N.push(ss(_e,D,ne));return N.push(Se),Bi(N)}).then(()=>{N=bp($e,"beforeRouteUpdate",D,ne);for(const _e of $e)_e.updateGuards.forEach(g=>{N.push(ss(g,D,ne))});return N.push(Se),Bi(N)}).then(()=>{N=[];for(const _e of D.matched)if(_e.beforeEnter&&!ne.matched.includes(_e))if(Array.isArray(_e.beforeEnter))for(const g of _e.beforeEnter)N.push(ss(g,D,ne));else N.push(ss(_e.beforeEnter,D,ne));return N.push(Se),Bi(N)}).then(()=>(D.matched.forEach(_e=>_e.enterCallbacks={}),N=bp(Ne,"beforeRouteEnter",D,ne),N.push(Se),Bi(N))).then(()=>{N=[];for(const _e of o.list())N.push(ss(_e,D,ne));return N.push(Se),Bi(N)}).catch(_e=>ts(_e,8)?_e:Promise.reject(_e))}function de(D,ne,N){for(const Z of a.list())Z(D,ne,N)}function Ce(D,ne,N,Z,$e){const Ne=H(D,ne);if(Ne)return Ne;const Se=ne===es,_e=zi?history.state:{};N&&(Z||Se?s.replace(D.fullPath,st({scroll:Se&&_e&&_e.scroll},$e)):s.push(D.fullPath,$e)),c.value=D,Ln(D,ne,N,Se),Bt()}let Re;function gt(){Re||(Re=s.listen((D,ne,N)=>{const Z=A(D),$e=M(Z);if($e){w(st($e,{replace:!0}),Z).catch(Ua);return}u=Z;const Ne=c.value;zi&&UQ(d1(Ne.fullPath,N.delta),Kf()),X(Z,Ne).catch(Se=>ts(Se,12)?Se:ts(Se,2)?(w(Se.to,Z).then(_e=>{ts(_e,20)&&!N.delta&&N.type===Cc.pop&&s.go(-1,!1)}).catch(Ua),Promise.reject()):(N.delta&&s.go(-N.delta,!1),Me(Se,Z,Ne))).then(Se=>{Se=Se||Ce(Z,Ne,!1),Se&&(N.delta?s.go(-N.delta,!1):N.type===Cc.pop&&ts(Se,20)&&s.go(-1,!1)),de(Z,Ne,Se)}).catch(Ua)}))}let vt=pa(),nt=pa(),rt;function Me(D,ne,N){Bt(D);const Z=nt.list();return Z.length?Z.forEach($e=>$e(D,ne,N)):console.error(D),Promise.reject(D)}function We(){return rt&&c.value!==es?Promise.resolve():new Promise((D,ne)=>{vt.add([D,ne])})}function Bt(D){return rt||(rt=!D,gt(),vt.list().forEach(([ne,N])=>D?N(D):ne()),vt.reset()),D}function Ln(D,ne,N,Z){const{scrollBehavior:$e}=e;if(!zi||!$e)return Promise.resolve();const Ne=!N&&jQ(d1(D.fullPath,0))||(Z||!N)&&history.state&&history.state.scroll||null;return Og().then(()=>$e(D,ne,Ne)).then(Se=>Se&&BQ(Se)).catch(Se=>Me(Se,D,ne))}const ae=D=>s.go(D);let we;const Ae=new Set;return{currentRoute:c,addRoute:p,removeRoute:v,hasRoute:E,getRoutes:O,resolve:A,options:e,push:V,replace:R,go:ae,back:()=>ae(-1),forward:()=>ae(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:nt.add,isReady:We,install(D){const ne=this;D.component("RouterLink",TJ),D.component("RouterView",OJ),D.config.globalProperties.$router=ne,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>qs(c)}),zi&&!we&&c.value===es&&(we=!0,V(s.location).catch($e=>{}));const N={};for(const $e in es)N[$e]=Sn(()=>c.value[$e]);D.provide(Yf,ne),D.provide(Wy,Os(N)),D.provide(eg,c);const Z=D.unmount;Ae.add(D),D.unmount=function(){Ae.delete(D),Ae.size<1&&(u=es,Re&&Re(),Re=null,c.value=es,we=!1,rt=!1),Z()}}}}function Bi(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function DJ(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(u=>Do(u,a))?r.push(a):n.push(a));const c=e.matched[o];c&&(t.matched.find(u=>Do(u,c))||s.push(c))}return[n,r,s]}function Vne(){return xn(Yf)}function Wne(){return xn(Wy)}const xJ={},RJ={fill:"currentColor",viewBox:"0 0 136 133",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},MJ=F("path",{d:"M67.867,0c-37.48,0 -67.867,30.388 -67.867,67.875c0,29.988 19.446,55.425 46.417,64.404c3.396,0.621 4.633,-1.475 4.633,-3.275c0,-1.608 -0.058,-5.879 -0.092,-11.541c-18.879,4.1 -22.862,-9.1 -22.862,-9.1c-3.088,-7.842 -7.538,-9.93 -7.538,-9.93c-6.162,-4.208 0.467,-4.125 0.467,-4.125c6.813,0.48 10.396,6.996 10.396,6.996c6.054,10.371 15.887,7.375 19.754,5.638c0.617,-4.384 2.367,-7.375 4.308,-9.071c-15.07,-1.713 -30.916,-7.538 -30.916,-33.546c-0,-7.408 2.646,-13.467 6.987,-18.212c-0.7,-1.717 -3.029,-8.617 0.663,-17.963c-0,0 5.7,-1.825 18.666,6.958c5.413,-1.508 11.221,-2.258 16.992,-2.283c5.763,0.025 11.571,0.775 16.992,2.283c12.958,-8.783 18.646,-6.958 18.646,-6.958c3.704,9.346 1.375,16.246 0.674,17.963c4.35,4.745 6.98,10.804 6.98,18.212c-0,26.075 -15.871,31.813 -30.992,33.492c2.438,2.096 4.608,6.237 4.608,12.571c0,9.07 -0.083,16.391 -0.083,18.616c0,1.817 1.221,3.929 4.667,3.267c26.95,-8.996 46.379,-34.417 46.379,-64.396c-0,-37.487 -30.392,-67.875 -67.879,-67.875"},null,-1),PJ=[MJ];function NJ(e,t){return Fe(),ot("svg",RJ,PJ)}var _2=Qn(xJ,[["render",NJ]]);const $J={},LJ={fill:"currentColor",version:"1.1",id:"Logo",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 248 204",style:{"enable-background":"new 0 0 248 204"},"xml:space":"preserve"},FJ=F("path",{d:"M221.95,51.29c0.15,2.17,0.15,4.34,0.15,6.53c0,66.73-50.8,143.69-143.69,143.69v-0.04 C50.97,201.51,24.1,193.65,1,178.83c3.99,0.48,8,0.72,12.02,0.73c22.74,0.02,44.83-7.61,62.72-21.66 c-21.61-0.41-40.56-14.5-47.18-35.07c7.57,1.46,15.37,1.16,22.8-0.87C27.8,117.2,10.85,96.5,10.85,72.46c0-0.22,0-0.43,0-0.64 c7.02,3.91,14.88,6.08,22.92,6.32C11.58,63.31,4.74,33.79,18.14,10.71c25.64,31.55,63.47,50.73,104.08,52.76 c-4.07-17.54,1.49-35.92,14.61-48.25c20.34-19.12,52.33-18.14,71.45,2.19c11.31-2.23,22.15-6.38,32.07-12.26 c-3.77,11.69-11.66,21.62-22.2,27.93c10.01-1.18,19.79-3.86,29-7.95C240.37,35.29,231.83,44.14,221.95,51.29z"},null,-1),BJ=[FJ];function UJ(e,t){return Fe(),ot("svg",LJ,BJ)}var w2=Qn($J,[["render",UJ]]);const jJ={},VJ={fill:"currentColor",viewBox:"0 0 256 262",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},WJ=F("path",{d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"},null,-1),zJ=F("path",{d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"},null,-1),HJ=F("path",{d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782"},null,-1),YJ=F("path",{d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"},null,-1),KJ=[WJ,zJ,HJ,YJ];function GJ(e,t){return Fe(),ot("svg",VJ,KJ)}var qJ=Qn(jJ,[["render",GJ]]);const XJ=async({userId:e})=>{const t=await GO(Co(Dy(Co(Qo(),"customers"),e),"checkout_sessions"),{cancel_url:window.location.href,price:"price_1JXGjVFSSDySG1smmI1f8krR",success_url:window.location.href});return await new Promise((n,r)=>{qO(t,s=>{var i;(i=s.data())!=null&&i.url&&n(s)},s=>{r(s)})})},QJ=async({doc:e,ownerId:t})=>{const n=await GO(Co(Qo(),"documents"),{...e,ownerId:t,syncedAt:QO()});return new Promise((r,s)=>{qO(n,i=>{r(i)},i=>{s(i)})})},JJ=async({ownerId:e,syncedAfter:t})=>(await KO(YO(Co(Qo(),"documents"),Ah("ownerId","==",e),Ah("syncedAt",">",t)))).docs,zne=async({docId:e})=>(await KO(YO(Co(Qo(),"documents"),Ah("public","==",!0),Ah("id","==",e)))).docs[0],ZJ=async({doc:e,docId:t})=>hX(Dy(Co(Qo(),"documents"),t),{...e,syncedAt:QO()}),Qu="ACTIVATE_CONTEXT",cs="ADD_DOCUMENT",eZ="BLUR_EDITOR",Ju="DEACTIVATE_CONTEXT",Xi="DISCARD_DOCUMENT",tZ="DUPLICATE_DOCUMENT",Va="DOCUMENTS_LOADED",Wa="EDIT_DOCUMENT",nZ="FOCUS_EDITOR",Zu="LOAD_DOCUMENT",b2="LOAD_DOCUMENTS",lo="MERGE_DOCUMENT",rZ="MERGE_DOCUMENTS",za="RESTORE_DOCUMENT",Ha="RESTRICT_DOCUMENT",Ep="SET_CONTEXT_TAGS",ho="SET_DOCUMENT",Sp="SET_EDITOR",kl="SET_MOD_KEY",Ya="SET_OFFLINE",Ka="SET_ONLINE",Tp="SET_RIGHT_SIDEBAR_VISIBILITY",fo="SET_SHOW_WELCOME",Ga="SHARE_DOCUMENT",sZ="SIGN_OUT",E2="SYNC",qa="TOUCH_DOCUMENT",S2="SET_SUBSCRIPTION",Qi="SET_USER";var iZ={state:()=>({isEvaluated:!1,subscription:{pro:!1},user:null}),mutations:{[S2](e,t){e.subscription=t},[Qi](e,t){e.user=t,e.isEvaluated=!0}},actions:{async[Qi](e,t){e.commit(Qi,t)},async[sZ](e,t){return sr().signOut(),e.dispatch(Qi,{user:null})}}};const T2="ADD_CONTEXT",T1="LOAD_CONTEXT",I2="LOAD_CONTEXTS",A2="REMOVE_CONTEXT";var oZ={state:()=>({all:[]}),getters:{sortedContexts(e,t){return e.all.sort((n,r)=>n.name===r.name?0:n.name<r.name?-1:1)}},mutations:{[T2](e,t){e.all.push(t)},[T1](e,t){e.all.push(t)},[A2](e,t){e.all=e.all.filter(n=>n.id!==t.id)}},actions:{[I2]({commit:e},t){t.forEach(n=>{e(T1,n)})}}};let aZ=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const C2=e=>new TextDecoder().decode(e),cZ=e=>new TextEncoder().encode(e),uZ=()=>window.crypto.getRandomValues(new Uint8Array(12)),Xa=e=>window.btoa(String.fromCharCode.apply(null,new Uint8Array(e))),Ji=e=>{const t=window.atob(e),n=new ArrayBuffer(t.length),r=new Uint8Array(n);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return n},du={name:"RSA-OAEP"},lZ=async(e,t)=>{const n=await window.crypto.subtle.decrypt(du,t,e);return C2(n)},hZ=async e=>{const t={};return e.privateKey&&(t.privateKey=await O2(e.privateKey)),e.publicKey&&(t.publicKey=await k2(e.publicKey)),t},O2=async e=>`-----BEGIN PRIVATE KEY-----
${Xa(await window.crypto.subtle.exportKey("pkcs8",e))}
-----END PRIVATE KEY-----`,k2=async e=>`-----BEGIN PUBLIC KEY-----
${Xa(await window.crypto.subtle.exportKey("spki",e))}
-----END PUBLIC KEY-----`,fZ=async()=>window.crypto.subtle.generateKey({hash:"SHA-512",modulusLength:4096,name:du.name,publicExponent:new Uint8Array([1,0,1])},!0,["encrypt","decrypt"]),dZ=async e=>{const t={};return e.privateKey&&(t.privateKey=await D2(e.privateKey)),e.publicKey&&(t.publicKey=await x2(e.publicKey)),t},D2=async e=>{const t="-----BEGIN PRIVATE KEY-----",n="-----END PRIVATE KEY-----",r=e.substring(t.length,e.length-n.length),s=Ji(r);return window.crypto.subtle.importKey("pkcs8",s,{hash:"SHA-512",name:du.name},!0,["decrypt","unwrapKey"])},x2=async e=>{const t="-----BEGIN PUBLIC KEY-----",n="-----END PUBLIC KEY-----",r=e.substring(t.length,e.length-n.length),s=Ji(r);return window.crypto.subtle.importKey("spki",s,{hash:"SHA-512",name:du.name},!0,["encrypt","wrapKey"])};var Oc={algorithm:du,decrypt:lZ,exportKeys:hZ,exportPrivateKey:O2,exportPublicKey:k2,generateKeys:fZ,importKeys:dZ,importPrivateKey:D2,importPublicKey:x2};const pu={name:"AES-GCM"},pZ=async(e,t,n)=>{const r=await window.crypto.subtle.decrypt({name:pu.name,iv:n},t,e);return C2(r)},mZ=async(e,t)=>{const n=cZ(e),r=uZ();return{cipher:await window.crypto.subtle.encrypt({name:pu.name,iv:r},t,n),iv:r}},gZ=async()=>window.crypto.subtle.generateKey({name:pu.name,length:256},!0,["encrypt","decrypt"]),vZ=async e=>window.crypto.subtle.importKey("raw",e,pu.name,!0,["decrypt","encrypt"]);var kc={algorithm:pu,decrypt:pZ,encrypt:mZ,generateKey:gZ,importKey:vZ};const yZ=async(e,t)=>window.crypto.subtle.unwrapKey("raw",e,t,Oc.algorithm,kc.algorithm,!0,["encrypt","decrypt"]),_Z=async(e,t)=>window.crypto.subtle.wrapKey("raw",e,t,Oc.algorithm),wZ=async e=>{const t=Ji(e.cipher),n=Ji(e.cipherKey),r=Ji(e.iv),{privateKey:s}=await Oc.importKeys({privateKey:e.privateKey});try{var i=await yZ(n,s)}catch{var i=await Oc.decrypt(n,s).then(c=>kc.importKey(Ji(c)))}return kc.decrypt(t,i,r)},bZ=async e=>{const t=await kc.generateKey(),{cipher:n,iv:r}=await kc.encrypt(e.data,t),{publicKey:s}=await Oc.importKeys({publicKey:e.publicKey}),i=await _Z(t,s);return{cipher:Xa(n),cipherKey:Xa(i),iv:Xa(r)}},EZ=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D/,SZ=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/,TZ=/_\u200c\u200d\ua67e\u05be\u05f3\u05f4\uff5e\u301c\u309b\u309c\u30a0\u30fb\u3003\u0f0b\u0f0c\u00b7/,R2=/[#]/,IZ=new RegExp(`[${EZ.source}${SZ.source}${TZ.source}-]`),M2=/(?<boundary>^|\s)/,AZ=new RegExp(`(?<sign>${R2.source})(?!${/\ufe0f|\u20e3/.source})(?<tag>${IZ.source}+)`,"i"),P2=new RegExp(`(?:${M2.source})(?:${AZ.source})`,"i"),CZ=new RegExp(`${M2.source}(?<sign>${R2.source})(?!${/\ufe0f|\u20e3/.source})`,"i"),N2=e=>{var s,i,o;const t=((s=e.groups)==null?void 0:s.boundary)||"",n=((i=e.groups)==null?void 0:i.sign)||"",r=((o=e.groups)==null?void 0:o.tag)||"";return{index:Number(e.index),length:t.length+n.length+r.length,boundary:t,sign:n,tag:r}},Hne=e=>[...e.matchAll(new RegExp(P2.source,"gi"))].map(n=>N2(n)),Yne=e=>[...e.matchAll(new RegExp(CZ.source,"gi"))].map(n=>N2(n)),OZ=["`````","````","```"],kZ=["``","`"],DZ=new RegExp(OZ.map(e=>`${e}.*?${e}`).join("|")),xZ=new RegExp(kZ.map(e=>`${e}[^
]*?${e}`).join("|")),RZ=new RegExp(`${DZ.source}|${xZ.source}`),MZ=new RegExp(`${RZ.source}|(${P2.source})`,"gsi"),PZ=/```([^\n\s]*)(?:\s([\w-]+\.[\w]+))?\n(.*?)```/gs,NZ=/````.*?````|```.*?```|``.*?``|`.*?`|\w+:\/?\/?\S*|# ([^\n]+)/gs,$Z=/````.*?````|```.*?```|``.*?``|`.*?`|- \[ \] ([^\n]+)/gs,Gf=(e,t)=>{let n=null;const r=[];for(;n=e.exec(t);)r.push(n);return r},Kne=e=>{const t=Gf(PZ,e),n=[];return t.forEach(r=>{r&&n.push({filename:r[2],language:r[1],code:r[3]})}),n},I1=e=>{const t=Gf(MZ,e),n=new Set;return t.forEach(r=>{r&&r[1]&&n.add(r[1].toLowerCase().trim().slice(1))}),Array.from(n).sort()},A1=e=>{const t=Gf(NZ,e),n=[];return t.forEach(r=>{r&&r[1]&&n.push(r[1])}),n},C1=e=>{const t=Gf($Z,e),n=[];return t.forEach(r=>{r&&r[1]&&n.push(r[1])}),n};class Dc{constructor(t={}){this.id=t.id||aZ(),this.text=t.text||"",this.textKey=t.textKey||null,this.daily=t.daily||!1,this.iv=t.iv||null,this.encrypted=t.encrypted||!1,this.createdAt=t.createdAt||new Date,this.updatedAt=t.updatedAt||new Date,this.touchedAt=t.touchedAt||new Date,this.discardedAt=t.discardedAt||null,this.headers=this.encrypted?[]:A1(this.text),this.tags=this.encrypted?[]:I1(this.text),this.tasks=this.encrypted?[]:C1(this.text),this.firebaseId=t.firebaseId||null,this.ownerId=t.ownerId||null,this.syncedAt=t.syncedAt||null,this.public=t.public||!1}discard(){this.updatedAt=new Date,this.touchedAt=new Date,this.discardedAt=new Date}duplicate(){return new Dc({text:this.text})}merge(t){Object.assign(this,t,{id:this.id})}restore(){this.updatedAt=new Date,this.touchedAt=new Date,this.discardedAt=null}restrict(){this.public=!1,this.updatedAt=new Date,this.touchedAt=new Date}share(){this.public=!0,this.updatedAt=new Date,this.touchedAt=new Date}touch(){this.touchedAt=new Date}update({text:t}){this.text=t,this.headers.splice(0,this.headers.length,...A1(t)),this.tags.splice(0,this.tags.length,...I1(t)),this.tasks.splice(0,this.tasks.length,...C1(t)),this.updatedAt=new Date,this.touchedAt=new Date}}const $2=async(e,{preferEncryption:t=null,publicKey:n=null})=>{const r=Object.assign({},{...e,headers:[],tags:[],tasks:[]});if(t&&n&&!e.encrypted&&!e.public){const{cipher:s,cipherKey:i,iv:o}=await bZ({data:r.text,publicKey:n});return Object.assign({},r,{encrypted:!0,iv:o,text:s,textKey:i})}return Object.assign({},r)},L2=async(e,{privateKey:t})=>{try{if(t&&e.encrypted){const n=await wZ({cipher:e.text,cipherKey:e.textKey,iv:e.iv,privateKey:t});return new Dc(Object.assign({},e,{encrypted:!1,text:n}))}}catch{}return new Dc(e)},Ir=(e,t)=>e.all.filter(n=>!n.encrypted).find(n=>n.id===t);var LZ={state:()=>({all:[],currentId:null,loaded:!1}),getters:{allKept(e,t){return t.sorted.filter(n=>n.discardedAt===null)},daily(e,t){return t.sortedByCreated.find(n=>n.daily)},currentDoc(e,t){return t.decrypted.find(n=>n.id===e.currentId)},decrypted(e){return e.all.filter(t=>!t.encrypted)},discarded(e,t){return t.sorted.filter(n=>n.discardedAt!==null)},filtered(e,t,n){return n.context.active?t.sorted.filter(r=>n.context.tags.some(s=>r.tags.includes(s))):t.sorted},kept(e,t){return t.filtered.filter(n=>n.discardedAt===null)},sorted(e,t){return t.decrypted.sort((n,r)=>r.updatedAt-n.updatedAt)},sortedByCreated(e,t){return t.decrypted.sort((n,r)=>r.createdAt-n.createdAt)},tasks(e,t,n,r){return t.kept.filter(s=>s.tasks.length>0)},untagged(e,t){return t.allKept.filter(n=>n.tags.length==0)},withTag(e,t){return n=>t.kept.filter(r=>!!r.tags.find(s=>s===n))}},mutations:{[cs](e,t){e.all.push(t)},[Xi](e,{id:t}){Ir(e,t).discard()},[Va](e){e.loaded=!0},[Wa](e,{id:t,text:n}){Ir(e,t).update({text:n})},[Zu](e,t){e.all.push(t)},[lo](e,t){Ir(e,t.id).merge(t)},[za](e,{id:t}){Ir(e,t).restore()},[Ha](e,{id:t}){Ir(e,t).restrict()},[ho](e,{id:t}){e.currentId=t},[Ga](e,{id:t}){Ir(e,t).share()},[qa](e,{id:t}){Ir(e,t).touch()}},actions:{async[cs](e,t){e.commit(cs,t)},async[Xi](e,t){e.commit(Xi,t)},async[Va](e){e.commit(Va)},async[tZ](e,{id:t}){const n=Ir(e.state,t).duplicate();return e.commit(cs,n),n.id},async[Wa](e,t){e.commit(Wa,t)},async[Zu](e,t){e.commit(Zu,t)},async[b2](e,t){return Promise.all(t.map(n=>e.dispatch(Zu,n)))},async[lo](e,t){e.commit(lo,t)},async[rZ](e,t){const n=t.map(s=>Ir(e.state,s.id)),r=new Dc({text:n.map(s=>s.text).join(`

`)});return e.commit(cs,r),n.map(s=>e.dispatch(Xi,s))},async[za](e,t){e.commit(za,t)},async[Ha](e,t){e.commit(Ha,t)},async[ho](e,t){e.commit(ho,t)},async[Ga](e,t){e.commit(Ga,t)},async[qa](e,t){e.commit(qa,t)}}},F2={exports:{}};(function(e){(function(t,n,r){if(!t)return;for(var s={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},i={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},a={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},c,u=1;u<20;++u)s[111+u]="f"+u;for(u=0;u<=9;++u)s[u+96]=u.toString();function l(w,C,X){if(w.addEventListener){w.addEventListener(C,X,!1);return}w.attachEvent("on"+C,X)}function h(w){if(w.type=="keypress"){var C=String.fromCharCode(w.which);return w.shiftKey||(C=C.toLowerCase()),C}return s[w.which]?s[w.which]:i[w.which]?i[w.which]:String.fromCharCode(w.which).toLowerCase()}function f(w,C){return w.sort().join(",")===C.sort().join(",")}function p(w){var C=[];return w.shiftKey&&C.push("shift"),w.altKey&&C.push("alt"),w.ctrlKey&&C.push("ctrl"),w.metaKey&&C.push("meta"),C}function v(w){if(w.preventDefault){w.preventDefault();return}w.returnValue=!1}function O(w){if(w.stopPropagation){w.stopPropagation();return}w.cancelBubble=!0}function E(w){return w=="shift"||w=="ctrl"||w=="alt"||w=="meta"}function A(){if(!c){c={};for(var w in s)w>95&&w<112||s.hasOwnProperty(w)&&(c[s[w]]=w)}return c}function x(w,C,X){return X||(X=A()[w]?"keydown":"keypress"),X=="keypress"&&C.length&&(X="keydown"),X}function H(w){return w==="+"?["+"]:(w=w.replace(/\+{2}/g,"+plus"),w.split("+"))}function V(w,C){var X,de,Ce,Re=[];for(X=H(w),Ce=0;Ce<X.length;++Ce)de=X[Ce],a[de]&&(de=a[de]),C&&C!="keypress"&&o[de]&&(de=o[de],Re.push("shift")),E(de)&&Re.push(de);return C=x(de,Re,C),{key:de,modifiers:Re,action:C}}function R(w,C){return w===null||w===n?!1:w===C?!0:R(w.parentNode,C)}function M(w){var C=this;if(w=w||n,!(C instanceof M))return new M(w);C.target=w,C._callbacks={},C._directMap={};var X={},de,Ce=!1,Re=!1,gt=!1;function vt(ae){ae=ae||{};var we=!1,Ae;for(Ae in X){if(ae[Ae]){we=!0;continue}X[Ae]=0}we||(gt=!1)}function nt(ae,we,Ae,Pe,D,ne){var N,Z,$e=[],Ne=Ae.type;if(!C._callbacks[ae])return[];for(Ne=="keyup"&&E(ae)&&(we=[ae]),N=0;N<C._callbacks[ae].length;++N)if(Z=C._callbacks[ae][N],!(!Pe&&Z.seq&&X[Z.seq]!=Z.level)&&Ne==Z.action&&(Ne=="keypress"&&!Ae.metaKey&&!Ae.ctrlKey||f(we,Z.modifiers))){var Se=!Pe&&Z.combo==D,_e=Pe&&Z.seq==Pe&&Z.level==ne;(Se||_e)&&C._callbacks[ae].splice(N,1),$e.push(Z)}return $e}function rt(ae,we,Ae,Pe){C.stopCallback(we,we.target||we.srcElement,Ae,Pe)||ae(we,Ae)===!1&&(v(we),O(we))}C._handleKey=function(ae,we,Ae){var Pe=nt(ae,we,Ae),D,ne={},N=0,Z=!1;for(D=0;D<Pe.length;++D)Pe[D].seq&&(N=Math.max(N,Pe[D].level));for(D=0;D<Pe.length;++D){if(Pe[D].seq){if(Pe[D].level!=N)continue;Z=!0,ne[Pe[D].seq]=1,rt(Pe[D].callback,Ae,Pe[D].combo,Pe[D].seq);continue}Z||rt(Pe[D].callback,Ae,Pe[D].combo)}var $e=Ae.type=="keypress"&&Re;Ae.type==gt&&!E(ae)&&!$e&&vt(ne),Re=Z&&Ae.type=="keydown"};function Me(ae){typeof ae.which!="number"&&(ae.which=ae.keyCode);var we=h(ae);if(!!we){if(ae.type=="keyup"&&Ce===we){Ce=!1;return}C.handleKey(we,p(ae),ae)}}function We(){clearTimeout(de),de=setTimeout(vt,1e3)}function Bt(ae,we,Ae,Pe){X[ae]=0;function D(Ne){return function(){gt=Ne,++X[ae],We()}}function ne(Ne){rt(Ae,Ne,ae),Pe!=="keyup"&&(Ce=h(Ne)),setTimeout(vt,10)}for(var N=0;N<we.length;++N){var Z=N+1===we.length,$e=Z?ne:D(Pe||V(we[N+1]).action);Ln(we[N],$e,Pe,ae,N)}}function Ln(ae,we,Ae,Pe,D){C._directMap[ae+":"+Ae]=we,ae=ae.replace(/\s+/g," ");var ne=ae.split(" "),N;if(ne.length>1){Bt(ae,ne,we,Ae);return}N=V(ae,Ae),C._callbacks[N.key]=C._callbacks[N.key]||[],nt(N.key,N.modifiers,{type:N.action},Pe,ae,D),C._callbacks[N.key][Pe?"unshift":"push"]({callback:we,modifiers:N.modifiers,action:N.action,seq:Pe,level:D,combo:ae})}C._bindMultiple=function(ae,we,Ae){for(var Pe=0;Pe<ae.length;++Pe)Ln(ae[Pe],we,Ae)},l(w,"keypress",Me),l(w,"keydown",Me),l(w,"keyup",Me)}M.prototype.bind=function(w,C,X){var de=this;return w=w instanceof Array?w:[w],de._bindMultiple.call(de,w,C,X),de},M.prototype.unbind=function(w,C){var X=this;return X.bind.call(X,w,function(){},C)},M.prototype.trigger=function(w,C){var X=this;return X._directMap[w+":"+C]&&X._directMap[w+":"+C]({},w),X},M.prototype.reset=function(){var w=this;return w._callbacks={},w._directMap={},w},M.prototype.stopCallback=function(w,C){var X=this;if((" "+C.className+" ").indexOf(" mousetrap ")>-1||R(C,X.target))return!1;if("composedPath"in w&&typeof w.composedPath=="function"){var de=w.composedPath()[0];de!==w.target&&(C=de)}return C.tagName=="INPUT"||C.tagName=="SELECT"||C.tagName=="TEXTAREA"||C.isContentEditable},M.prototype.handleKey=function(){var w=this;return w._handleKey.apply(w,arguments)},M.addKeycodes=function(w){for(var C in w)w.hasOwnProperty(C)&&(s[C]=w[C]);c=null},M.init=function(){var w=M(n);for(var C in w)C.charAt(0)!=="_"&&(M[C]=function(X){return function(){return w[X].apply(w,arguments)}}(C))},M.init(),t.Mousetrap=M,e.exports&&(e.exports=M),typeof r=="function"&&r.amd&&r(function(){return M})})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)})(F2);var Hy=F2.exports;(function(e){var t={},n=e.prototype.stopCallback;e.prototype.stopCallback=function(r,s,i,o){return this.paused?!0:t[i]||t[o]?!1:n.call(this,r,s,i)},e.prototype.bindGlobal=function(r,s,i){if(this.bind(r,s,i),r instanceof Array)for(s=0;s<r.length;s++)t[r[s]]=!0;else t[r]=!0},e.init()})(Mousetrap);const FZ=({keybinding:e,callback:t})=>{Hy.bind(e,(n,r)=>{n.preventDefault(),t()})},el=(e,t)=>{Hy.bindGlobal(e,(n,r)=>{n.preventDefault(),t()})},BZ=({keybinding:e})=>{Hy.unbind(e)},tl="DISABLE_LISTENER",Ar="DISABLE_LISTENERS",nl="ENABLE_LISTENER",rl="ENABLE_LISTENERS",O1="KEYBINDINGS_LOADED",B2="LOAD_KEYBINDINGS",k1="TOGGLE_LISTENERS",Fn=e=>{G2({name:e})},UZ=(e,t)=>()=>{e(),t.dispatch(Ar)},nr=(e,t,n)=>({keybinding:e,callback:UZ(t,n)}),jZ=e=>[nr("a",()=>Fn("account"),e),nr("c",()=>Fn("context"),e),nr("d",()=>Fn("discarded"),e),nr("e",()=>Fn("graph"),e),nr("n",()=>Fn("new_doc"),e),nr("p",()=>Fn("daily"),e),nr("r",()=>Fn("recent"),e),nr("s",()=>Fn("settings"),e),nr("t",()=>Fn("tasks"),e),nr("u",()=>Fn("untagged"),e)];var VZ={state:()=>({activeElement:null,listeners:[],listening:!1,loaded:!1}),getters:{},mutations:{[tl](e,t){e.listeners=e.listeners.filter(n=>n!==t)},[Ar](e){e.listening=!1},[nl](e,t){e.listeners.push(t)},[rl](e){e.listening=!0},[O1](e){e.loaded=!0}},actions:{async[B2](e){el("esc",()=>e.dispatch(Ar)),el("mod+k",()=>e.dispatch(k1)),el("mod+s",()=>e.dispatch(Ar)),el("mod+shift+f",()=>{e.dispatch(Ar),Fn("documents")}),window.addEventListener("click",()=>e.dispatch(Ar)),e.commit(O1)},async[tl](e,t){BZ(t),e.commit(tl,t)},async[Ar](e){await Promise.all(e.state.listeners.map(t=>{e.dispatch(tl,t)})),e.state.activeElement&&(e.state.activeElement.focus(),e.state.activeElement=null),e.commit(Ar)},async[nl](e,t){FZ(t),e.commit(nl,t)},async[rl](e){e.state.activeElement=document.activeElement,e.state.activeElement.blur(),await Promise.all(jZ(e).map(t=>{e.dispatch(nl,t)})),e.commit(rl)},async[k1](e,t){return e.state.listening?e.dispatch(Ar):e.dispatch(rl)}}},WZ=function(t){return zZ(t)&&!HZ(t)};function zZ(e){return!!e&&typeof e=="object"}function HZ(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||GZ(e)}var YZ=typeof Symbol=="function"&&Symbol.for,KZ=YZ?Symbol.for("react.element"):60103;function GZ(e){return e.$$typeof===KZ}function qZ(e){return Array.isArray(e)?[]:{}}function xc(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Ro(qZ(e),e,t):e}function XZ(e,t,n){return e.concat(t).map(function(r){return xc(r,n)})}function QZ(e,t){if(!t.customMerge)return Ro;var n=t.customMerge(e);return typeof n=="function"?n:Ro}function JZ(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}function D1(e){return Object.keys(e).concat(JZ(e))}function U2(e,t){try{return t in e}catch{return!1}}function ZZ(e,t){return U2(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function eee(e,t,n){var r={};return n.isMergeableObject(e)&&D1(e).forEach(function(s){r[s]=xc(e[s],n)}),D1(t).forEach(function(s){ZZ(e,s)||(U2(e,s)&&n.isMergeableObject(t[s])?r[s]=QZ(s,n)(e[s],t[s],n):r[s]=xc(t[s],n))}),r}function Ro(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||XZ,n.isMergeableObject=n.isMergeableObject||WZ,n.cloneUnlessOtherwiseSpecified=xc;var r=Array.isArray(t),s=Array.isArray(e),i=r===s;return i?r?n.arrayMerge(e,t,n):eee(e,t,n):xc(t,n)}Ro.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,s){return Ro(r,s,n)},{})};var tee=Ro,nee=tee;const Dl="LOAD_SETTINGS",xl="SET_CRYPTO_ENABLED",Rl="SET_CRYPTO_KEYS",Ml="SET_EDITOR_IMAGES_ENABLED",Pl="SET_EDITOR_IMAGES_SHOW_CAPTIONS",Nl="SET_EDITOR_KEY_MAP",j2="SET_EDITOR_LIGATURES",V2="SET_EDITOR_READABILITY_ENABLED",ree="SET_EDITOR_READABILITY_MAX_WIDTH",W2="SET_EDITOR_READABILITY_WORDS_PER_MINUTE",z2="SET_EDITOR_SPELLCHECK",$l="SET_EDITOR_TAB_SIZE",H2="SET_EDITOR_TOOLBAR",Y2="SET_EXPERIMENTAL",Ll="SET_THEME",ys="SETTINGS_LOADED";var see={state:()=>({crypto:{enabled:!1,privateKey:null,publicKey:null},editor:{images:{enabled:!0,showCaptions:!0},keyMap:"default",ligatures:!0,readability:{enabled:!0,maxWidthInChars:100,wordsPerMinute:225},spellcheck:!0,tabSize:2,toolbar:!0},experimental:!1,loaded:!1,theme:"auto"}),getters:{},mutations:{[Dl](e,t){Object.assign(e,nee(e,t))},[xl](e,t){e.crypto.enabled=t},[Rl](e,t){t.privateKey&&(e.crypto.privateKey=t.privateKey),t.publicKey&&(e.crypto.publicKey=t.publicKey)},[Ml](e,t){e.editor.images.enabled=t},[Pl](e,t){e.editor.images.showCaptions=t},[Nl](e,t){e.editor.keyMap=t},[j2](e,t){e.editor.ligatures=t},[V2](e,t){e.editor.readability.enabled=t},[ree](e,t){e.editor.readability.maxWidthInChars=t},[W2](e,t){e.editor.readability.wordsPerMinute=t},[z2](e,t){e.editor.spellcheck=t},[$l](e,t){e.editor.tabSize=t},[H2](e,t){e.editor.toolbar=t},[Y2](e,t){e.experimental=t},[Ll](e,t){e.theme=t},[ys](e){e.loaded=!0}},actions:{async[Dl](e,t){e.commit(Dl,t)},async[xl](e,t){e.commit(xl,t)},async[Rl](e,t){e.commit(Rl,t)},async[Ml](e,t){e.commit(Ml,t)},async[Pl](e,t){e.commit(Pl,t)},async[Nl](e,t){e.commit(Nl,t)},async[$l](e,t){e.commit($l,t)},async[Ll](e,t){e.commit(Ll,t)},async[ys](e){e.commit(ys)}}};const Yy={Array:"[object Array]",Boolean:"[object Boolean]",Date:"[object Date]",Number:"[object Number]",Object:"[object Object]",String:"[object String]"},Ky=(e,t)=>Object.prototype.toString.call(e)===t,iee=e=>Ky(e,Yy.Array),oee=e=>Ky(e,Yy.Date),aee=e=>Ky(e,Yy.Object),Zo=e=>iee(e)?cee(e):oee(e)?uee(e):aee(e)?lee(e):e,cee=e=>e.map(t=>Zo(t)),uee=e=>new Date(e),lee=e=>Object.keys(e).reduce((t,n)=>({...t,[n]:Zo(e[n])}),{}),x1="PULL_DOCUMENT",Ip="PULL_DOCUMENTS",R1="PUSH_DOCUMENT",M1="PUSH_DOCUMENTS",hee=(e,t)=>e.documents.all.find(n=>n.id===t);var fee={state:()=>({}),getters:{lastSyncedAt(e,t,n){return new Date(Math.max(0,...n.documents.all.map(r=>r.syncedAt)))}},actions:{async[x1](e,t){const n=hee(e.rootState,t.id);if(n){if(n.updatedAt<t.updatedAt)return e.dispatch(lo,t);if(!(n.updatedAt>t.updatedAt)){if(!n.syncedAt||n.syncedAt<t.syncedAt)return e.dispatch(lo,t)}}else return e.dispatch(cs,t)},async[Ip](e){const t=await JJ({ownerId:e.rootState.auth.user.uid,syncedAfter:e.getters.lastSyncedAt});return Promise.all(t.map(async n=>{const r=n.data(),s={...r,id:r.id||r.clientId,firebaseId:n.id,textKey:r.textKey||r.dataKey,createdAt:r.createdAt?r.createdAt.toDate():null,discardedAt:r.discardedAt?r.discardedAt.toDate():null,updatedAt:r.updatedAt?r.updatedAt.toDate():null,touchedAt:r.touchedAt?r.touchedAt.toDate():null,syncedAt:r.syncedAt.toDate()},i=await L2(s,{privateKey:e.rootState.settings.crypto.privateKey});return e.dispatch(x1,i)}))},async[R1](e,t){const n=Zo(await $2(t,{preferEncryption:e.rootState.settings.crypto.enabled,publicKey:e.rootState.settings.crypto.publicKey}));if(n.syncedAt){if(n.updatedAt>n.syncedAt||n.touchedAt>n.syncedAt)return ZJ({doc:n,docId:n.firebaseId})}else return QJ({doc:n,ownerId:e.rootState.auth.user.uid})},async[M1](e){await Promise.all(e.rootState.documents.all.map(t=>e.dispatch(R1,t)))},async[E2](e){await e.dispatch(Ip),await e.dispatch(M1),await e.dispatch(Ip)}}},K2={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,s,i){function o(u,l){if(!s[u]){if(!r[u]){var h=typeof Au=="function"&&Au;if(!l&&h)return h(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var p=s[u]={exports:{}};r[u][0].call(p.exports,function(v){var O=r[u][1][v];return o(O||v)},p,p.exports,n,r,s,i)}return s[u].exports}for(var a=typeof Au=="function"&&Au,c=0;c<i.length;c++)o(i[c]);return o}({1:[function(n,r,s){(function(i){var o=i.MutationObserver||i.WebKitMutationObserver,a;if(o){var c=0,u=new o(v),l=i.document.createTextNode("");u.observe(l,{characterData:!0}),a=function(){l.data=c=++c%2}}else if(!i.setImmediate&&typeof i.MessageChannel!="undefined"){var h=new i.MessageChannel;h.port1.onmessage=v,a=function(){h.port2.postMessage(0)}}else"document"in i&&"onreadystatechange"in i.document.createElement("script")?a=function(){var E=i.document.createElement("script");E.onreadystatechange=function(){v(),E.onreadystatechange=null,E.parentNode.removeChild(E),E=null},i.document.documentElement.appendChild(E)}:a=function(){setTimeout(v,0)};var f,p=[];function v(){f=!0;for(var E,A,x=p.length;x;){for(A=p,p=[],E=-1;++E<x;)A[E]();x=p.length}f=!1}r.exports=O;function O(E){p.push(E)===1&&!f&&a()}}).call(this,typeof $t!="undefined"?$t:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(n,r,s){var i=n(1);function o(){}var a={},c=["REJECTED"],u=["FULFILLED"],l=["PENDING"];r.exports=h;function h(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,R!==o&&O(this,R)}h.prototype.catch=function(R){return this.then(null,R)},h.prototype.then=function(R,M){if(typeof R!="function"&&this.state===u||typeof M!="function"&&this.state===c)return this;var w=new this.constructor(o);if(this.state!==l){var C=this.state===u?R:M;p(w,C,this.outcome)}else this.queue.push(new f(w,R,M));return w};function f(R,M,w){this.promise=R,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(R){a.resolve(this.promise,R)},f.prototype.otherCallFulfilled=function(R){p(this.promise,this.onFulfilled,R)},f.prototype.callRejected=function(R){a.reject(this.promise,R)},f.prototype.otherCallRejected=function(R){p(this.promise,this.onRejected,R)};function p(R,M,w){i(function(){var C;try{C=M(w)}catch(X){return a.reject(R,X)}C===R?a.reject(R,new TypeError("Cannot resolve promise with itself")):a.resolve(R,C)})}a.resolve=function(R,M){var w=E(v,M);if(w.status==="error")return a.reject(R,w.value);var C=w.value;if(C)O(R,C);else{R.state=u,R.outcome=M;for(var X=-1,de=R.queue.length;++X<de;)R.queue[X].callFulfilled(M)}return R},a.reject=function(R,M){R.state=c,R.outcome=M;for(var w=-1,C=R.queue.length;++w<C;)R.queue[w].callRejected(M);return R};function v(R){var M=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof M=="function")return function(){M.apply(R,arguments)}}function O(R,M){var w=!1;function C(Re){w||(w=!0,a.reject(R,Re))}function X(Re){w||(w=!0,a.resolve(R,Re))}function de(){M(X,C)}var Ce=E(de);Ce.status==="error"&&C(Ce.value)}function E(R,M){var w={};try{w.value=R(M),w.status="success"}catch(C){w.status="error",w.value=C}return w}h.resolve=A;function A(R){return R instanceof this?R:a.resolve(new this(o),R)}h.reject=x;function x(R){var M=new this(o);return a.reject(M,R)}h.all=H;function H(R){var M=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=R.length,C=!1;if(!w)return this.resolve([]);for(var X=new Array(w),de=0,Ce=-1,Re=new this(o);++Ce<w;)gt(R[Ce],Ce);return Re;function gt(vt,nt){M.resolve(vt).then(rt,function(Me){C||(C=!0,a.reject(Re,Me))});function rt(Me){X[nt]=Me,++de===w&&!C&&(C=!0,a.resolve(Re,X))}}}h.race=V;function V(R){var M=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=R.length,C=!1;if(!w)return this.resolve([]);for(var X=-1,de=new this(o);++X<w;)Ce(R[X]);return de;function Ce(Re){M.resolve(Re).then(function(gt){C||(C=!0,a.resolve(de,gt))},function(gt){C||(C=!0,a.reject(de,gt))})}}},{1:1}],3:[function(n,r,s){(function(i){typeof i.Promise!="function"&&(i.Promise=n(2))}).call(this,typeof $t!="undefined"?$t:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{2:2}],4:[function(n,r,s){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};function o(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var c=a();function u(){try{if(!c||!c.open)return!1;var d=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),y=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!d||y)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function l(d,y){d=d||[],y=y||{};try{return new Blob(d,y)}catch(b){if(b.name!=="TypeError")throw b;for(var m=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,T=new m,I=0;I<d.length;I+=1)T.append(d[I]);return T.getBlob(y.type)}}typeof Promise=="undefined"&&n(3);var h=Promise;function f(d,y){y&&d.then(function(m){y(null,m)},function(m){y(m)})}function p(d,y,m){typeof y=="function"&&d.then(y),typeof m=="function"&&d.catch(m)}function v(d){return typeof d!="string"&&(console.warn(d+" used as a key, but it is not a string."),d=String(d)),d}function O(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var E="local-forage-detect-blob-support",A=void 0,x={},H=Object.prototype.toString,V="readonly",R="readwrite";function M(d){for(var y=d.length,m=new ArrayBuffer(y),T=new Uint8Array(m),I=0;I<y;I++)T[I]=d.charCodeAt(I);return m}function w(d){return new h(function(y){var m=d.transaction(E,R),T=l([""]);m.objectStore(E).put(T,"key"),m.onabort=function(I){I.preventDefault(),I.stopPropagation(),y(!1)},m.oncomplete=function(){var I=navigator.userAgent.match(/Chrome\/(\d+)/),b=navigator.userAgent.match(/Edge\//);y(b||!I||parseInt(I[1],10)>=43)}}).catch(function(){return!1})}function C(d){return typeof A=="boolean"?h.resolve(A):w(d).then(function(y){return A=y,A})}function X(d){var y=x[d.name],m={};m.promise=new h(function(T,I){m.resolve=T,m.reject=I}),y.deferredOperations.push(m),y.dbReady?y.dbReady=y.dbReady.then(function(){return m.promise}):y.dbReady=m.promise}function de(d){var y=x[d.name],m=y.deferredOperations.pop();if(m)return m.resolve(),m.promise}function Ce(d,y){var m=x[d.name],T=m.deferredOperations.pop();if(T)return T.reject(y),T.promise}function Re(d,y){return new h(function(m,T){if(x[d.name]=x[d.name]||we(),d.db)if(y)X(d),d.db.close();else return m(d.db);var I=[d.name];y&&I.push(d.version);var b=c.open.apply(c,I);y&&(b.onupgradeneeded=function(P){var U=b.result;try{U.createObjectStore(d.storeName),P.oldVersion<=1&&U.createObjectStore(E)}catch(Y){if(Y.name==="ConstraintError")console.warn('The database "'+d.name+'" has been upgraded from version '+P.oldVersion+" to version "+P.newVersion+', but the storage "'+d.storeName+'" already exists.');else throw Y}}),b.onerror=function(P){P.preventDefault(),T(b.error)},b.onsuccess=function(){var P=b.result;P.onversionchange=function(U){U.target.close()},m(P),de(d)}})}function gt(d){return Re(d,!1)}function vt(d){return Re(d,!0)}function nt(d,y){if(!d.db)return!0;var m=!d.db.objectStoreNames.contains(d.storeName),T=d.version<d.db.version,I=d.version>d.db.version;if(T&&(d.version!==y&&console.warn('The database "'+d.name+`" can't be downgraded from version `+d.db.version+" to version "+d.version+"."),d.version=d.db.version),I||m){if(m){var b=d.db.version+1;b>d.version&&(d.version=b)}return!0}return!1}function rt(d){return new h(function(y,m){var T=new FileReader;T.onerror=m,T.onloadend=function(I){var b=btoa(I.target.result||"");y({__local_forage_encoded_blob:!0,data:b,type:d.type})},T.readAsBinaryString(d)})}function Me(d){var y=M(atob(d.data));return l([y],{type:d.type})}function We(d){return d&&d.__local_forage_encoded_blob}function Bt(d){var y=this,m=y._initReady().then(function(){var T=x[y._dbInfo.name];if(T&&T.dbReady)return T.dbReady});return p(m,d,d),m}function Ln(d){X(d);for(var y=x[d.name],m=y.forages,T=0;T<m.length;T++){var I=m[T];I._dbInfo.db&&(I._dbInfo.db.close(),I._dbInfo.db=null)}return d.db=null,gt(d).then(function(b){return d.db=b,nt(d)?vt(d):b}).then(function(b){d.db=y.db=b;for(var P=0;P<m.length;P++)m[P]._dbInfo.db=b}).catch(function(b){throw Ce(d,b),b})}function ae(d,y,m,T){T===void 0&&(T=1);try{var I=d.db.transaction(d.storeName,y);m(null,I)}catch(b){if(T>0&&(!d.db||b.name==="InvalidStateError"||b.name==="NotFoundError"))return h.resolve().then(function(){if(!d.db||b.name==="NotFoundError"&&!d.db.objectStoreNames.contains(d.storeName)&&d.version<=d.db.version)return d.db&&(d.version=d.db.version+1),vt(d)}).then(function(){return Ln(d).then(function(){ae(d,y,m,T-1)})}).catch(m);m(b)}}function we(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Ae(d){var y=this,m={db:null};if(d)for(var T in d)m[T]=d[T];var I=x[m.name];I||(I=we(),x[m.name]=I),I.forages.push(y),y._initReady||(y._initReady=y.ready,y.ready=Bt);var b=[];function P(){return h.resolve()}for(var U=0;U<I.forages.length;U++){var Y=I.forages[U];Y!==y&&b.push(Y._initReady().catch(P))}var K=I.forages.slice(0);return h.all(b).then(function(){return m.db=I.db,gt(m)}).then(function(Q){return m.db=Q,nt(m,y._defaultConfig.version)?vt(m):Q}).then(function(Q){m.db=I.db=Q,y._dbInfo=m;for(var ce=0;ce<K.length;ce++){var ke=K[ce];ke!==y&&(ke._dbInfo.db=m.db,ke._dbInfo.version=m.version)}})}function Pe(d,y){var m=this;d=v(d);var T=new h(function(I,b){m.ready().then(function(){ae(m._dbInfo,V,function(P,U){if(P)return b(P);try{var Y=U.objectStore(m._dbInfo.storeName),K=Y.get(d);K.onsuccess=function(){var Q=K.result;Q===void 0&&(Q=null),We(Q)&&(Q=Me(Q)),I(Q)},K.onerror=function(){b(K.error)}}catch(Q){b(Q)}})}).catch(b)});return f(T,y),T}function D(d,y){var m=this,T=new h(function(I,b){m.ready().then(function(){ae(m._dbInfo,V,function(P,U){if(P)return b(P);try{var Y=U.objectStore(m._dbInfo.storeName),K=Y.openCursor(),Q=1;K.onsuccess=function(){var ce=K.result;if(ce){var ke=ce.value;We(ke)&&(ke=Me(ke));var Xe=d(ke,ce.key,Q++);Xe!==void 0?I(Xe):ce.continue()}else I()},K.onerror=function(){b(K.error)}}catch(ce){b(ce)}})}).catch(b)});return f(T,y),T}function ne(d,y,m){var T=this;d=v(d);var I=new h(function(b,P){var U;T.ready().then(function(){return U=T._dbInfo,H.call(y)==="[object Blob]"?C(U.db).then(function(Y){return Y?y:rt(y)}):y}).then(function(Y){ae(T._dbInfo,R,function(K,Q){if(K)return P(K);try{var ce=Q.objectStore(T._dbInfo.storeName);Y===null&&(Y=void 0);var ke=ce.put(Y,d);Q.oncomplete=function(){Y===void 0&&(Y=null),b(Y)},Q.onabort=Q.onerror=function(){var Xe=ke.error?ke.error:ke.transaction.error;P(Xe)}}catch(Xe){P(Xe)}})}).catch(P)});return f(I,m),I}function N(d,y){var m=this;d=v(d);var T=new h(function(I,b){m.ready().then(function(){ae(m._dbInfo,R,function(P,U){if(P)return b(P);try{var Y=U.objectStore(m._dbInfo.storeName),K=Y.delete(d);U.oncomplete=function(){I()},U.onerror=function(){b(K.error)},U.onabort=function(){var Q=K.error?K.error:K.transaction.error;b(Q)}}catch(Q){b(Q)}})}).catch(b)});return f(T,y),T}function Z(d){var y=this,m=new h(function(T,I){y.ready().then(function(){ae(y._dbInfo,R,function(b,P){if(b)return I(b);try{var U=P.objectStore(y._dbInfo.storeName),Y=U.clear();P.oncomplete=function(){T()},P.onabort=P.onerror=function(){var K=Y.error?Y.error:Y.transaction.error;I(K)}}catch(K){I(K)}})}).catch(I)});return f(m,d),m}function $e(d){var y=this,m=new h(function(T,I){y.ready().then(function(){ae(y._dbInfo,V,function(b,P){if(b)return I(b);try{var U=P.objectStore(y._dbInfo.storeName),Y=U.count();Y.onsuccess=function(){T(Y.result)},Y.onerror=function(){I(Y.error)}}catch(K){I(K)}})}).catch(I)});return f(m,d),m}function Ne(d,y){var m=this,T=new h(function(I,b){if(d<0){I(null);return}m.ready().then(function(){ae(m._dbInfo,V,function(P,U){if(P)return b(P);try{var Y=U.objectStore(m._dbInfo.storeName),K=!1,Q=Y.openKeyCursor();Q.onsuccess=function(){var ce=Q.result;if(!ce){I(null);return}d===0||K?I(ce.key):(K=!0,ce.advance(d))},Q.onerror=function(){b(Q.error)}}catch(ce){b(ce)}})}).catch(b)});return f(T,y),T}function Se(d){var y=this,m=new h(function(T,I){y.ready().then(function(){ae(y._dbInfo,V,function(b,P){if(b)return I(b);try{var U=P.objectStore(y._dbInfo.storeName),Y=U.openKeyCursor(),K=[];Y.onsuccess=function(){var Q=Y.result;if(!Q){T(K);return}K.push(Q.key),Q.continue()},Y.onerror=function(){I(Y.error)}}catch(Q){I(Q)}})}).catch(I)});return f(m,d),m}function _e(d,y){y=O.apply(this,arguments);var m=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||m.name,d.storeName=d.storeName||m.storeName);var T=this,I;if(!d.name)I=h.reject("Invalid arguments");else{var b=d.name===m.name&&T._dbInfo.db,P=b?h.resolve(T._dbInfo.db):gt(d).then(function(U){var Y=x[d.name],K=Y.forages;Y.db=U;for(var Q=0;Q<K.length;Q++)K[Q]._dbInfo.db=U;return U});d.storeName?I=P.then(function(U){if(!!U.objectStoreNames.contains(d.storeName)){var Y=U.version+1;X(d);var K=x[d.name],Q=K.forages;U.close();for(var ce=0;ce<Q.length;ce++){var ke=Q[ce];ke._dbInfo.db=null,ke._dbInfo.version=Y}var Xe=new h(function(Je,St){var _t=c.open(d.name,Y);_t.onerror=function(kn){var ra=_t.result;ra.close(),St(kn)},_t.onupgradeneeded=function(){var kn=_t.result;kn.deleteObjectStore(d.storeName)},_t.onsuccess=function(){var kn=_t.result;kn.close(),Je(kn)}});return Xe.then(function(Je){K.db=Je;for(var St=0;St<Q.length;St++){var _t=Q[St];_t._dbInfo.db=Je,de(_t._dbInfo)}}).catch(function(Je){throw(Ce(d,Je)||h.resolve()).catch(function(){}),Je})}}):I=P.then(function(U){X(d);var Y=x[d.name],K=Y.forages;U.close();for(var Q=0;Q<K.length;Q++){var ce=K[Q];ce._dbInfo.db=null}var ke=new h(function(Xe,Je){var St=c.deleteDatabase(d.name);St.onerror=function(){var _t=St.result;_t&&_t.close(),Je(St.error)},St.onblocked=function(){console.warn('dropInstance blocked for database "'+d.name+'" until all open connections are closed')},St.onsuccess=function(){var _t=St.result;_t&&_t.close(),Xe(_t)}});return ke.then(function(Xe){Y.db=Xe;for(var Je=0;Je<K.length;Je++){var St=K[Je];de(St._dbInfo)}}).catch(function(Xe){throw(Ce(d,Xe)||h.resolve()).catch(function(){}),Xe})})}return f(I,y),I}var g={_driver:"asyncStorage",_initStorage:Ae,_support:u(),iterate:D,getItem:Pe,setItem:ne,removeItem:N,clear:Z,length:$e,key:Ne,keys:Se,dropInstance:_e};function S(){return typeof openDatabase=="function"}var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B="~~local_forage_type~",L=/^~~local_forage_type~([^~]+)~/,q="__lfsc__:",ee=q.length,G="arbf",J="blob",j="si08",ue="ui08",oe="uic8",le="si16",ge="si32",Le="ur16",Ge="ui32",qe="fl32",Ze="fl64",dn=ee+G.length,Er=Object.prototype.toString;function ea(d){var y=d.length*.75,m=d.length,T,I=0,b,P,U,Y;d[d.length-1]==="="&&(y--,d[d.length-2]==="="&&y--);var K=new ArrayBuffer(y),Q=new Uint8Array(K);for(T=0;T<m;T+=4)b=k.indexOf(d[T]),P=k.indexOf(d[T+1]),U=k.indexOf(d[T+2]),Y=k.indexOf(d[T+3]),Q[I++]=b<<2|P>>4,Q[I++]=(P&15)<<4|U>>2,Q[I++]=(U&3)<<6|Y&63;return K}function Sr(d){var y=new Uint8Array(d),m="",T;for(T=0;T<y.length;T+=3)m+=k[y[T]>>2],m+=k[(y[T]&3)<<4|y[T+1]>>4],m+=k[(y[T+1]&15)<<2|y[T+2]>>6],m+=k[y[T+2]&63];return y.length%3===2?m=m.substring(0,m.length-1)+"=":y.length%3===1&&(m=m.substring(0,m.length-2)+"=="),m}function mu(d,y){var m="";if(d&&(m=Er.call(d)),d&&(m==="[object ArrayBuffer]"||d.buffer&&Er.call(d.buffer)==="[object ArrayBuffer]")){var T,I=q;d instanceof ArrayBuffer?(T=d,I+=G):(T=d.buffer,m==="[object Int8Array]"?I+=j:m==="[object Uint8Array]"?I+=ue:m==="[object Uint8ClampedArray]"?I+=oe:m==="[object Int16Array]"?I+=le:m==="[object Uint16Array]"?I+=Le:m==="[object Int32Array]"?I+=ge:m==="[object Uint32Array]"?I+=Ge:m==="[object Float32Array]"?I+=qe:m==="[object Float64Array]"?I+=Ze:y(new Error("Failed to get type for BinaryArray"))),y(I+Sr(T))}else if(m==="[object Blob]"){var b=new FileReader;b.onload=function(){var P=B+d.type+"~"+Sr(this.result);y(q+J+P)},b.readAsArrayBuffer(d)}else try{y(JSON.stringify(d))}catch(P){console.error("Couldn't convert value into a JSON string: ",d),y(null,P)}}function nn(d){if(d.substring(0,ee)!==q)return JSON.parse(d);var y=d.substring(dn),m=d.substring(ee,dn),T;if(m===J&&L.test(y)){var I=y.match(L);T=I[1],y=y.substring(I[0].length)}var b=ea(y);switch(m){case G:return b;case J:return l([b],{type:T});case j:return new Int8Array(b);case ue:return new Uint8Array(b);case oe:return new Uint8ClampedArray(b);case le:return new Int16Array(b);case Le:return new Uint16Array(b);case ge:return new Int32Array(b);case Ge:return new Uint32Array(b);case qe:return new Float32Array(b);case Ze:return new Float64Array(b);default:throw new Error("Unkown type: "+m)}}var pn={serialize:mu,deserialize:nn,stringToBuffer:ea,bufferToString:Sr};function ta(d,y,m,T){d.executeSql("CREATE TABLE IF NOT EXISTS "+y.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],m,T)}function Z2(d){var y=this,m={db:null};if(d)for(var T in d)m[T]=typeof d[T]!="string"?d[T].toString():d[T];var I=new h(function(b,P){try{m.db=openDatabase(m.name,String(m.version),m.description,m.size)}catch(U){return P(U)}m.db.transaction(function(U){ta(U,m,function(){y._dbInfo=m,b()},function(Y,K){P(K)})},P)});return m.serializer=pn,I}function qr(d,y,m,T,I,b){d.executeSql(m,T,I,function(P,U){U.code===U.SYNTAX_ERR?P.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[y.storeName],function(Y,K){K.rows.length?b(Y,U):ta(Y,y,function(){Y.executeSql(m,T,I,b)},b)},b):b(P,U)},b)}function ek(d,y){var m=this;d=v(d);var T=new h(function(I,b){m.ready().then(function(){var P=m._dbInfo;P.db.transaction(function(U){qr(U,P,"SELECT * FROM "+P.storeName+" WHERE key = ? LIMIT 1",[d],function(Y,K){var Q=K.rows.length?K.rows.item(0).value:null;Q&&(Q=P.serializer.deserialize(Q)),I(Q)},function(Y,K){b(K)})})}).catch(b)});return f(T,y),T}function tk(d,y){var m=this,T=new h(function(I,b){m.ready().then(function(){var P=m._dbInfo;P.db.transaction(function(U){qr(U,P,"SELECT * FROM "+P.storeName,[],function(Y,K){for(var Q=K.rows,ce=Q.length,ke=0;ke<ce;ke++){var Xe=Q.item(ke),Je=Xe.value;if(Je&&(Je=P.serializer.deserialize(Je)),Je=d(Je,Xe.key,ke+1),Je!==void 0){I(Je);return}}I()},function(Y,K){b(K)})})}).catch(b)});return f(T,y),T}function Xy(d,y,m,T){var I=this;d=v(d);var b=new h(function(P,U){I.ready().then(function(){y===void 0&&(y=null);var Y=y,K=I._dbInfo;K.serializer.serialize(y,function(Q,ce){ce?U(ce):K.db.transaction(function(ke){qr(ke,K,"INSERT OR REPLACE INTO "+K.storeName+" (key, value) VALUES (?, ?)",[d,Q],function(){P(Y)},function(Xe,Je){U(Je)})},function(ke){if(ke.code===ke.QUOTA_ERR){if(T>0){P(Xy.apply(I,[d,Y,m,T-1]));return}U(ke)}})})}).catch(U)});return f(b,m),b}function nk(d,y,m){return Xy.apply(this,[d,y,m,1])}function rk(d,y){var m=this;d=v(d);var T=new h(function(I,b){m.ready().then(function(){var P=m._dbInfo;P.db.transaction(function(U){qr(U,P,"DELETE FROM "+P.storeName+" WHERE key = ?",[d],function(){I()},function(Y,K){b(K)})})}).catch(b)});return f(T,y),T}function sk(d){var y=this,m=new h(function(T,I){y.ready().then(function(){var b=y._dbInfo;b.db.transaction(function(P){qr(P,b,"DELETE FROM "+b.storeName,[],function(){T()},function(U,Y){I(Y)})})}).catch(I)});return f(m,d),m}function ik(d){var y=this,m=new h(function(T,I){y.ready().then(function(){var b=y._dbInfo;b.db.transaction(function(P){qr(P,b,"SELECT COUNT(key) as c FROM "+b.storeName,[],function(U,Y){var K=Y.rows.item(0).c;T(K)},function(U,Y){I(Y)})})}).catch(I)});return f(m,d),m}function ok(d,y){var m=this,T=new h(function(I,b){m.ready().then(function(){var P=m._dbInfo;P.db.transaction(function(U){qr(U,P,"SELECT key FROM "+P.storeName+" WHERE id = ? LIMIT 1",[d+1],function(Y,K){var Q=K.rows.length?K.rows.item(0).key:null;I(Q)},function(Y,K){b(K)})})}).catch(b)});return f(T,y),T}function ak(d){var y=this,m=new h(function(T,I){y.ready().then(function(){var b=y._dbInfo;b.db.transaction(function(P){qr(P,b,"SELECT key FROM "+b.storeName,[],function(U,Y){for(var K=[],Q=0;Q<Y.rows.length;Q++)K.push(Y.rows.item(Q).key);T(K)},function(U,Y){I(Y)})})}).catch(I)});return f(m,d),m}function ck(d){return new h(function(y,m){d.transaction(function(T){T.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(I,b){for(var P=[],U=0;U<b.rows.length;U++)P.push(b.rows.item(U).name);y({db:d,storeNames:P})},function(I,b){m(b)})},function(T){m(T)})})}function uk(d,y){y=O.apply(this,arguments);var m=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||m.name,d.storeName=d.storeName||m.storeName);var T=this,I;return d.name?I=new h(function(b){var P;d.name===m.name?P=T._dbInfo.db:P=openDatabase(d.name,"","",0),d.storeName?b({db:P,storeNames:[d.storeName]}):b(ck(P))}).then(function(b){return new h(function(P,U){b.db.transaction(function(Y){function K(Xe){return new h(function(Je,St){Y.executeSql("DROP TABLE IF EXISTS "+Xe,[],function(){Je()},function(_t,kn){St(kn)})})}for(var Q=[],ce=0,ke=b.storeNames.length;ce<ke;ce++)Q.push(K(b.storeNames[ce]));h.all(Q).then(function(){P()}).catch(function(Xe){U(Xe)})},function(Y){U(Y)})})}):I=h.reject("Invalid arguments"),f(I,y),I}var lk={_driver:"webSQLStorage",_initStorage:Z2,_support:S(),iterate:tk,getItem:ek,setItem:nk,removeItem:rk,clear:sk,length:ik,key:ok,keys:ak,dropInstance:uk};function hk(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Qy(d,y){var m=d.name+"/";return d.storeName!==y.storeName&&(m+=d.storeName+"/"),m}function fk(){var d="_localforage_support_test";try{return localStorage.setItem(d,!0),localStorage.removeItem(d),!1}catch{return!0}}function dk(){return!fk()||localStorage.length>0}function pk(d){var y=this,m={};if(d)for(var T in d)m[T]=d[T];return m.keyPrefix=Qy(d,y._defaultConfig),dk()?(y._dbInfo=m,m.serializer=pn,h.resolve()):h.reject()}function mk(d){var y=this,m=y.ready().then(function(){for(var T=y._dbInfo.keyPrefix,I=localStorage.length-1;I>=0;I--){var b=localStorage.key(I);b.indexOf(T)===0&&localStorage.removeItem(b)}});return f(m,d),m}function gk(d,y){var m=this;d=v(d);var T=m.ready().then(function(){var I=m._dbInfo,b=localStorage.getItem(I.keyPrefix+d);return b&&(b=I.serializer.deserialize(b)),b});return f(T,y),T}function vk(d,y){var m=this,T=m.ready().then(function(){for(var I=m._dbInfo,b=I.keyPrefix,P=b.length,U=localStorage.length,Y=1,K=0;K<U;K++){var Q=localStorage.key(K);if(Q.indexOf(b)===0){var ce=localStorage.getItem(Q);if(ce&&(ce=I.serializer.deserialize(ce)),ce=d(ce,Q.substring(P),Y++),ce!==void 0)return ce}}});return f(T,y),T}function yk(d,y){var m=this,T=m.ready().then(function(){var I=m._dbInfo,b;try{b=localStorage.key(d)}catch{b=null}return b&&(b=b.substring(I.keyPrefix.length)),b});return f(T,y),T}function _k(d){var y=this,m=y.ready().then(function(){for(var T=y._dbInfo,I=localStorage.length,b=[],P=0;P<I;P++){var U=localStorage.key(P);U.indexOf(T.keyPrefix)===0&&b.push(U.substring(T.keyPrefix.length))}return b});return f(m,d),m}function wk(d){var y=this,m=y.keys().then(function(T){return T.length});return f(m,d),m}function bk(d,y){var m=this;d=v(d);var T=m.ready().then(function(){var I=m._dbInfo;localStorage.removeItem(I.keyPrefix+d)});return f(T,y),T}function Ek(d,y,m){var T=this;d=v(d);var I=T.ready().then(function(){y===void 0&&(y=null);var b=y;return new h(function(P,U){var Y=T._dbInfo;Y.serializer.serialize(y,function(K,Q){if(Q)U(Q);else try{localStorage.setItem(Y.keyPrefix+d,K),P(b)}catch(ce){(ce.name==="QuotaExceededError"||ce.name==="NS_ERROR_DOM_QUOTA_REACHED")&&U(ce),U(ce)}})})});return f(I,m),I}function Sk(d,y){if(y=O.apply(this,arguments),d=typeof d!="function"&&d||{},!d.name){var m=this.config();d.name=d.name||m.name,d.storeName=d.storeName||m.storeName}var T=this,I;return d.name?I=new h(function(b){d.storeName?b(Qy(d,T._defaultConfig)):b(d.name+"/")}).then(function(b){for(var P=localStorage.length-1;P>=0;P--){var U=localStorage.key(P);U.indexOf(b)===0&&localStorage.removeItem(U)}}):I=h.reject("Invalid arguments"),f(I,y),I}var Tk={_driver:"localStorageWrapper",_initStorage:pk,_support:hk(),iterate:vk,getItem:gk,setItem:Ek,removeItem:bk,clear:mk,length:wk,key:yk,keys:_k,dropInstance:Sk},Ik=function(y,m){return y===m||typeof y=="number"&&typeof m=="number"&&isNaN(y)&&isNaN(m)},Ak=function(y,m){for(var T=y.length,I=0;I<T;){if(Ik(y[I],m))return!0;I++}return!1},Jy=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"},na={},Zy={},ki={INDEXEDDB:g,WEBSQL:lk,LOCALSTORAGE:Tk},Ck=[ki.INDEXEDDB._driver,ki.WEBSQL._driver,ki.LOCALSTORAGE._driver],gu=["dropInstance"],Xf=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(gu),Ok={description:"",driver:Ck.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function kk(d,y){d[y]=function(){var m=arguments;return d.ready().then(function(){return d[y].apply(d,m)})}}function Qf(){for(var d=1;d<arguments.length;d++){var y=arguments[d];if(y)for(var m in y)y.hasOwnProperty(m)&&(Jy(y[m])?arguments[0][m]=y[m].slice():arguments[0][m]=y[m])}return arguments[0]}var Dk=function(){function d(y){o(this,d);for(var m in ki)if(ki.hasOwnProperty(m)){var T=ki[m],I=T._driver;this[m]=I,na[I]||this.defineDriver(T)}this._defaultConfig=Qf({},Ok),this._config=Qf({},this._defaultConfig,y),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return d.prototype.config=function(m){if((typeof m=="undefined"?"undefined":i(m))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var T in m){if(T==="storeName"&&(m[T]=m[T].replace(/\W/g,"_")),T==="version"&&typeof m[T]!="number")return new Error("Database version must be a number.");this._config[T]=m[T]}return"driver"in m&&m.driver?this.setDriver(this._config.driver):!0}else return typeof m=="string"?this._config[m]:this._config},d.prototype.defineDriver=function(m,T,I){var b=new h(function(P,U){try{var Y=m._driver,K=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!m._driver){U(K);return}for(var Q=Xf.concat("_initStorage"),ce=0,ke=Q.length;ce<ke;ce++){var Xe=Q[ce],Je=!Ak(gu,Xe);if((Je||m[Xe])&&typeof m[Xe]!="function"){U(K);return}}var St=function(){for(var ra=function(Mk){return function(){var Pk=new Error("Method "+Mk+" is not implemented by the current driver"),e0=h.reject(Pk);return f(e0,arguments[arguments.length-1]),e0}},Jf=0,Rk=gu.length;Jf<Rk;Jf++){var Zf=gu[Jf];m[Zf]||(m[Zf]=ra(Zf))}};St();var _t=function(ra){na[Y]&&console.info("Redefining LocalForage driver: "+Y),na[Y]=m,Zy[Y]=ra,P()};"_support"in m?m._support&&typeof m._support=="function"?m._support().then(_t,U):_t(!!m._support):_t(!0)}catch(kn){U(kn)}});return p(b,T,I),b},d.prototype.driver=function(){return this._driver||null},d.prototype.getDriver=function(m,T,I){var b=na[m]?h.resolve(na[m]):h.reject(new Error("Driver not found."));return p(b,T,I),b},d.prototype.getSerializer=function(m){var T=h.resolve(pn);return p(T,m),T},d.prototype.ready=function(m){var T=this,I=T._driverSet.then(function(){return T._ready===null&&(T._ready=T._initDriver()),T._ready});return p(I,m,m),I},d.prototype.setDriver=function(m,T,I){var b=this;Jy(m)||(m=[m]);var P=this._getSupportedDrivers(m);function U(){b._config.driver=b.driver()}function Y(ce){return b._extend(ce),U(),b._ready=b._initStorage(b._config),b._ready}function K(ce){return function(){var ke=0;function Xe(){for(;ke<ce.length;){var Je=ce[ke];return ke++,b._dbInfo=null,b._ready=null,b.getDriver(Je).then(Y).catch(Xe)}U();var St=new Error("No available storage method found.");return b._driverSet=h.reject(St),b._driverSet}return Xe()}}var Q=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=Q.then(function(){var ce=P[0];return b._dbInfo=null,b._ready=null,b.getDriver(ce).then(function(ke){b._driver=ke._driver,U(),b._wrapLibraryMethodsWithReady(),b._initDriver=K(P)})}).catch(function(){U();var ce=new Error("No available storage method found.");return b._driverSet=h.reject(ce),b._driverSet}),p(this._driverSet,T,I),this._driverSet},d.prototype.supports=function(m){return!!Zy[m]},d.prototype._extend=function(m){Qf(this,m)},d.prototype._getSupportedDrivers=function(m){for(var T=[],I=0,b=m.length;I<b;I++){var P=m[I];this.supports(P)&&T.push(P)}return T},d.prototype._wrapLibraryMethodsWithReady=function(){for(var m=0,T=Xf.length;m<T;m++)kk(this,Xf[m])},d.prototype.createInstance=function(m){return new d(m)},d}(),xk=new Dk;r.exports=xk},{3:3}]},{},[4])(4)})})(K2);var qf=K2.exports;class Gy{constructor(t){this.timeout=t,this.timers=[]}debounce(t=null,n){const r=this._findTimer(t);r&&this._clearTimer(r),this._setTimer(t,n)}_clearTimer(t){clearTimeout(t.instance),this.timers=this.timers.filter(n=>n.identifier!==t.identifier)}_findTimer(t){return this.timers.find(n=>n.identifier===t)}_setTimer(t,n){this.timers.push({identifier:t,instance:setTimeout(n,this.timeout)})}}const sl=qf.createInstance({name:"contexts"}),dee=new Gy(800),pee=(e,t)=>e.contexts.all.find(n=>n.id===t);var mee=e=>{e.subscribe(({type:t,payload:n},r)=>{switch(t){case T2:const s=pee(r,n.id);s&&dee.debounce(s.id,async()=>{sl.setItem(s.id,Zo(s))});break;case A2:sl.removeItem(n.id);break;case ys:sl.keys().then(i=>Promise.all(i.map(o=>sl.getItem(o)))).then(i=>e.dispatch(I2,i));break}})};const Ap=qf.createInstance({name:"firebase/documents"}),gee=new Gy(800),vee=(e,t)=>e.documents.all.find(n=>n.id===t);var yee=e=>{e.subscribe(({type:t,payload:n},r)=>{switch(t){case cs:case Xi:case Wa:case lo:case za:case Ha:case Ga:case qa:const s=vee(r,n.id);s&&gee.debounce(s.id,async()=>{const i=await $2(s,{preferEncryption:r.settings.crypto.enabled,publicKey:r.settings.crypto.publicKey});Ap.setItem(s.id,i)});break;case ys:Ap.keys().then(i=>Promise.all(i.map(o=>Ap.getItem(o)))).then(i=>Promise.all(i.map(o=>{const a=Object.assign({},o,{id:o.id||o.clientId,textKey:o.textKey||o.dataKey});return L2(a,{privateKey:r.settings.crypto.privateKey})}))).then(i=>e.dispatch(b2,i)).then(()=>e.dispatch(Va));break}})},_ee=e=>{e.subscribe(({type:t,_payload:n},r)=>{switch(t){case ys:e.dispatch(B2);break}})};const P1="main",N1=qf.createInstance({name:"settings"});var wee=e=>{N1.getItem(P1).then(t=>{t?e.dispatch(Dl,t).then(()=>{e.dispatch(ys)}):e.dispatch(ys)}),e.subscribe(({type:t,_payload:n},r)=>{switch(t){case xl:case Rl:case Ml:case Pl:case Nl:case j2:case V2:case W2:case z2:case $l:case H2:case Y2:case Ll:N1.setItem(P1,Zo(r.settings));break}})};const bee=new Gy(1500);var Eee=e=>{e.subscribe(async({type:t,payload:n},r)=>{switch(t){case cs:case Xi:case Va:case Wa:case za:case Ha:case Ka:case Qi:case Ga:case qa:e.state.online&&e.state.auth.user&&bee.debounce("sync",()=>{e.dispatch(E2)});break}})};const Zi="SET_STRIPE_MODAL_VISIBILITY",Gt=wL({state(){return{context:{active:!1,editing:!1,tags:[]},editor:null,modKey:"\u2303 ctrl",online:!0,showLeftSidebar:!0,showRightSidebar:!1,showStripeModal:!1,showWelcome:!1}},getters:{allTags(e,t){return Array.from(t.allKept.reduce((n,r)=>{for(let s of r.tags)n.add(s);return n},new Set)).sort()},contextTags(e){return e.context.tags.sort()},tags(e,t){return Array.from(t.kept.reduce((n,r)=>{for(let s of r.tags)n.add(s);return n},new Set)).sort()}},mutations:{[Qu](e,t){e.context.active=!0},[Ju](e,t){e.context.active=!1,e.context.tags=[]},[Ep](e,t){e.context.tags=t.context.tags},[Sp](e,t){e.editor=t.editor},[kl](e,t){e.modKey=t},[Ya](e){e.online=!1},[Ka](e){e.online=!0},[Tp](e,t){e.showRightSidebar=t},[Zi](e,t){e.showStripeModal=t},[fo](e,t){e.showWelcome=t}},actions:{async[Qu](e){e.commit(Qu)},async[eZ](e){e.state.editor&&e.state.editor.getInputField().blur()},async[Ju](e){e.commit(Ju)},async[nZ](e){e.state.editor&&e.state.editor.focus()},async[Ep](e,t){if(e.commit(Ep,t),t.context.tags.length>0){if(!e.state.context.active)return e.dispatch(Qu)}else if(e.state.context.active)return e.dispatch(Ju)},async[Sp](e,t){e.commit(Sp,t)},async[kl](e,t){e.commit(kl,t)},async[Ya](e){e.commit(Ya)},async[Ka](e){e.commit(Ka)},async[Tp](e,t){e.commit(Tp,t)},async[fo](e,t){e.commit(fo,t)},async[Zi](e,t){e.commit(Zi,t),t&&setTimeout(()=>{e.state.showStripeModal&&e.commit(Zi,!1)},15e3)}},modules:{auth:iZ,contexts:oZ,documents:LZ,keybindings:VZ,settings:see,sync:fee},plugins:[mee,yee,_ee,wee,Eee]}),See={name:"Subscriptions",components:{GitHubIcon:_2,GoogleIcon:qJ,TwitterIcon:w2},data(){return{accountConflict:!1,stripeError:null,subscribed:!1}},watch:{user(){this.user&&this.checkSubscription()}},computed:{github(){return this.providers.find(e=>e.providerId==="github.com")},google(){return this.providers.find(e=>e.providerId==="google.com")},online(){return this.$store.state.online},providers(){return this.user?this.user.providerData:[]},twitter(){return this.providers.find(e=>e.providerId==="twitter.com")},user(){return this.$store.state.auth.user}},methods:{linkGithub(){this.user.linkWithRedirect(new ar)},linkGoogle(){this.user.linkWithRedirect(new or)},linkTwitter(){this.user.linkWithRedirect(new cr)},signInGithub(){od(sr(),new ar)},signInGithubPro(){window.location.hash="pro",this.trackCtaContinueWithPro(),this.signInGithub()},signInGoogle(){od(sr(),new or)},signInGooglePro(){window.location.hash="pro",this.trackCtaContinueWithPro(),this.signInGoogle()},signInTwitter(){od(sr(),new cr)},signInTwitterPro(){window.location.hash="pro",this.trackCtaContinueWithPro(),this.signInTwitter()},signOut(){sr().signOut()},trackCtaContinue(){window.fathom.trackGoal({}.VITE_FATHOM_EVENT_CTA_CONTINUE,0)},trackCtaContinueWithPro(){window.fathom.trackGoal("YKH3CBR1",0)},trackCtaUpgradeToPro(){window.fathom.trackGoal("WGUAVK63",0)},upgrade(){this.trackCtaUpgradeToPro(),this.subscribe()},async checkSubscription(){await sr().currentUser.getIdToken(!0);const e=await sr().currentUser.getIdTokenResult();this.subscribed=e.claims.stripeRole==="subscriber"},async subscribe(){this.$store.dispatch(Zi,!0);const e=await XJ({userId:this.user.uid}),{error:t,url:n}=e.data();t&&(this.stripeError=t.message,this.$store.dispatch(Zi,!1)),n&&window.location.assign(n)}},created(){this.user&&this.checkSubscription(),fR(sr()).then(e=>{e.additionalUserInfo&&e.additionalUserInfo.isNewUser&&window.fathom.trackGoal("SQC05HQB",0),window.location.hash==="#pro"?this.checkSubscription().then(()=>{this.subscribed||this.subscribe()}):G2({name:"new_doc"})}).catch(e=>{switch(e.code){case"auth/account-exists-with-different-credential":this.accountConflict=!0;break}})}},Tee={key:0,role:"alert",class:"flex items-center rounded p-2 bg-blue-100 dark:bg-blue-400 text-gray-900 mb-4 shadow"},Iee=F("svg",{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[F("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),Aee=F("span",{class:"ml-3"},"You have an account with another provider. If you want to link these accounts, you need to sign in with the correct provider first.",-1),Cee=[Iee,Aee],Oee={key:1,role:"alert",class:"flex items-center rounded p-2 bg-blue-100 dark:bg-blue-400 text-gray-900 mb-4 shadow"},kee=F("svg",{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[F("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),Dee=F("span",{class:"ml-3"},"We could not connect to Stripe for checkout. Please try again.",-1),xee=[kee,Dee],Ree={class:"flex flex-col justify-center lg:flex-row gap-4"},Mee={class:"flex-shrink flex-basis-1/2 bg-gray-100 dark:bg-darkest shadow rounded p-4"},Pee=F("h3",{class:"text-3xl flex justify-between mb-2"},[F("span",{class:"font-bold"},"Personal"),F("span",{class:"font-semibold ml-4"},[F("span",null,"$0"),mi(),F("span",{class:"text-base font-normal"},"per month")])],-1),Nee={key:0,class:"bg-gray-200 dark:bg-gray-900 text-base font-normal py-0.5 px-2 rounded ml-2"},$ee=F("p",{class:"mb-4"},"For individuals who want to maintain a personal knowledge base",-1),Lee={key:1,class:"flex flex-col gap-2 mb-4"},Fee=["disabled"],Bee=F("span",{class:"action ml-3"},"Continue with GitHub",-1),Uee=["disabled"],jee=F("span",{class:"action ml-3"},"Continue with Google",-1),Vee=["disabled"],Wee=F("span",{class:"action ml-3"},"Continue with Twitter",-1),zee=gi('<p class="font-bold mb-4">What&#39;s included?</p><ul><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Unlimited private docs</span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Unlimited syncing</span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Backups and retention</span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>End-to-End Encryption (E2EE)</span></li></ul>',2),Hee={class:"flex-grow flex-shrink flex-basis-1/2 bg-gray-100 dark:bg-darkest shadow rounded p-4 ring ring-blue-400 ring-opacity-75"},Yee=gi('<h3 class="text-3xl flex justify-between mb-2"><span class="font-bold">Pro</span><span class="font-semibold ml-4"><span class="text-blue-400">$4</span> <span class="text-base font-normal">per month</span></span></h3>',1),Kee={key:0,class:"bg-gray-200 dark:bg-gray-900 text-base font-normal py-0.5 px-2 rounded ml-2"},Gee=F("p",{class:"mb-4"},"For professionals who want to collaborate on documentation and more",-1),qee={key:1,class:"flex flex-col gap-2 mb-4"},Xee=["disabled"],Qee=F("span",{class:"action ml-3"},"Continue with GitHub",-1),Jee=["disabled"],Zee=F("span",{class:"action ml-3"},"Continue with Google",-1),ete=["disabled"],tte=F("span",{class:"action ml-3"},"Continue with Twitter",-1),nte=F("p",{class:"text-gray-500 mb-4"},"You will be redirected to Stripe for checkout after you sign up with your preferred auth provider.",-1),rte={key:2,class:"flex flex-col gap-2 mb-4"},ste=["disabled"],ite=F("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[F("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"})],-1),ote=F("span",{class:"action ml-3"},"Upgrade Subscription",-1),ate=[ite,ote],cte=gi('<p class="font-bold mb-4">What&#39;s included?</p><ul><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Everything in <span class="font-bold">Personal</span></span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Unlimited public docs</span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Unlimited file attachments</span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Realtime collaboration (coming soon)</span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>1% of revenue <a href="https://stripe.com/climate" target="_blank" rel="noopener noreferrer" class="text-blue-400">funds carbon removal</a></span></li></ul>',2);function ute(e,t,n,r,s,i){const o=jn("GitHubIcon"),a=jn("GoogleIcon"),c=jn("TwitterIcon");return Fe(),ot("section",null,[s.accountConflict?(Fe(),ot("div",Tee,Cee)):vn("",!0),s.stripeError?(Fe(),ot("div",Oee,xee)):vn("",!0),F("div",Ree,[F("div",Mee,[Pee,i.user&&!s.subscribed?(Fe(),ot("p",Nee,"Active")):vn("",!0),$ee,i.user?vn("",!0):(Fe(),ot("div",Lee,[F("button",{onClick:t[0]||(t[0]=(...u)=>i.signInGithub&&i.signInGithub(...u)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center"},[et(o,{class:"h-5 w-5"}),Bee],8,Fee),F("button",{onClick:t[1]||(t[1]=(...u)=>i.signInGoogle&&i.signInGoogle(...u)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center"},[et(a,{class:"h-5 w-5"}),jee],8,Uee),F("button",{onClick:t[2]||(t[2]=(...u)=>i.signInTwitter&&i.signInTwitter(...u)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center"},[et(c,{class:"h-5 w-5"}),Wee],8,Vee)])),zee]),F("div",Hee,[Yee,i.user&&s.subscribed?(Fe(),ot("p",Kee,"Active")):vn("",!0),Gee,i.user?vn("",!0):(Fe(),ot("div",qee,[F("button",{onClick:t[3]||(t[3]=(...u)=>i.signInGithubPro&&i.signInGithubPro(...u)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400"},[et(o,{class:"h-5 w-5"}),Qee],8,Xee),F("button",{onClick:t[4]||(t[4]=(...u)=>i.signInGooglePro&&i.signInGooglePro(...u)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400"},[et(a,{class:"h-5 w-5"}),Zee],8,Jee),F("button",{onClick:t[5]||(t[5]=(...u)=>i.signInTwitterPro&&i.signInTwitterPro(...u)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400"},[et(c,{class:"h-5 w-5"}),tte],8,ete)])),nte,i.user&&!s.subscribed?(Fe(),ot("div",rte,[F("button",{onClick:t[6]||(t[6]=(...u)=>i.upgrade&&i.upgrade(...u)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400"},ate,8,ste)])):vn("",!0),cte])])])}var lte=Qn(See,[["render",ute]]);const hte={name:"TheLogo",props:{size:{type:String,default:"1.25em",required:!1}}},fte=["height"],dte=gi('<path d="M22.5178 3.79666L22.4777 3.987L22.3993 3.80889C22.2838 3.54603 22.0628 3.34162 21.7934 3.24773C21.4453 3.12643 21.0561 3.1995 20.7762 3.43789C20.681 3.519 20.67 3.66221 20.7519 3.75683C20.8337 3.85146 20.9774 3.86223 21.0728 3.78131C21.2288 3.64796 21.4469 3.60668 21.6427 3.67463C21.9452 3.77985 22.1054 4.10975 22.0001 4.40988C21.9667 4.50451 21.9093 4.58872 21.8343 4.65357L21.7989 4.68499C21.6331 4.75952 21.4574 4.79751 21.2775 4.79751C20.5788 4.79751 20.0104 4.23251 20.0104 3.53781C20.0104 2.84329 20.5788 2.27811 21.2775 2.27811C21.9764 2.27811 22.5448 2.84329 22.5448 3.53781C22.5448 3.62367 22.5358 3.7108 22.5178 3.79666ZM21.2775 1.82582C20.3278 1.82582 19.5552 2.59395 19.5552 3.53781C19.5552 4.48186 20.3278 5.24999 21.2775 5.24999C22.2274 5.24999 23 4.48186 23 3.53781C23 2.59395 22.2274 1.82582 21.2775 1.82582Z"></path><path d="M16.7047 2.62332H16.9357L16.9408 4.14552C16.9408 4.75418 17.439 5.24922 18.0512 5.24922C18.6635 5.24922 19.1615 4.75418 19.1615 4.14552C19.1615 3.75314 18.9493 3.38707 18.6074 3.19015C18.5549 3.15983 18.4933 3.15197 18.4349 3.16713C18.3763 3.18284 18.3268 3.22011 18.2963 3.27235C18.266 3.3246 18.2575 3.38561 18.2733 3.44406C18.289 3.50234 18.3265 3.55129 18.379 3.58143C18.581 3.69798 18.7065 3.9139 18.7065 4.14552C18.7065 4.50465 18.4125 4.79675 18.0512 4.79675C17.6899 4.79675 17.396 4.50465 17.396 4.14552L17.3907 2.62332H18.5025C18.6282 2.62332 18.73 2.52176 18.73 2.39699C18.73 2.27241 18.6282 2.17085 18.5025 2.17085H17.389L17.3857 1.47523C17.3854 1.3512 17.2832 1.25 17.1584 1.25C17.0318 1.25073 16.9303 1.35248 16.9305 1.47724L16.9338 2.17085H16.7047C16.579 2.17085 16.4772 2.27241 16.4772 2.39699C16.4772 2.52176 16.579 2.62332 16.7047 2.62332Z"></path><path d="M14.6305 1.82582C13.681 1.82582 12.9084 2.59395 12.9084 3.53799C12.9084 4.48204 13.681 5.24999 14.6305 5.24999C15.1781 5.24999 15.6809 4.99973 16.0099 4.56369C16.085 4.46377 16.0647 4.32184 15.9643 4.24694C15.8638 4.17241 15.7208 4.19287 15.6457 4.29224C15.4036 4.61338 15.0337 4.79769 14.6305 4.79769C13.9318 4.79769 13.3632 4.23251 13.3632 3.53799C13.3632 2.8433 13.9318 2.27829 14.6305 2.27829C14.9719 2.27829 15.2923 2.41128 15.5323 2.65259C15.6199 2.741 15.7646 2.74228 15.854 2.6546C15.9434 2.5671 15.9441 2.42352 15.8561 2.33474C15.5297 2.00648 15.0945 1.82582 14.6305 1.82582Z"></path><path d="M10.7223 4.79752C10.5088 4.79752 10.2969 4.74309 10.1096 4.6397L10.0962 4.62983C10.0322 4.56736 9.98336 4.49137 9.95469 4.40971C9.84939 4.10958 10.0096 3.77986 10.3121 3.67464C10.5073 3.60687 10.7262 3.64797 10.8826 3.78132C10.9776 3.86243 11.1216 3.8511 11.2032 3.75666C11.285 3.66204 11.2736 3.51882 11.1782 3.43772C10.8985 3.19933 10.5091 3.12663 10.1616 3.24756C9.91408 3.33378 9.71009 3.50951 9.58733 3.7426L9.49857 3.91102L9.47027 3.72305C9.45998 3.65382 9.45502 3.595 9.45502 3.53782C9.45502 2.84331 10.0236 2.27812 10.7223 2.27812C11.4212 2.27812 11.9896 2.84331 11.9896 3.53782C11.9896 4.23234 11.4212 4.79752 10.7223 4.79752ZM10.7223 1.82564C9.77257 1.82564 9 2.59378 9 3.53782C9 4.13242 9.30561 4.67586 9.8176 4.99189C9.84131 5.01088 9.86005 5.02203 9.88155 5.03116C10.1421 5.17529 10.431 5.25 10.7223 5.25C11.672 5.25 12.4446 4.48187 12.4446 3.53782C12.4446 2.59378 11.672 1.82564 10.7223 1.82564Z"></path><path d="M5.0172 2.52242C5.07005 2.43324 5.18702 2.40283 5.27856 2.45431C5.37017 2.50566 5.40139 2.61962 5.34855 2.70879C5.2957 2.79796 5.17879 2.8286 5.08725 2.77712C4.99572 2.72563 4.96436 2.61159 5.0172 2.52242ZM3.77932 2.04145C3.68779 1.98996 3.65657 1.876 3.70942 1.78683C3.76226 1.69766 3.87909 1.66716 3.97063 1.71864C4.06216 1.77013 4.09361 1.88403 4.04076 1.9732C3.98792 2.06237 3.87086 2.09293 3.77932 2.04145ZM6.97456 5.24405C6.92443 5.1633 6.81672 5.1375 6.73375 5.18648C6.1733 5.51732 5.63054 5.49027 5.03345 5.09848C4.61413 4.81631 4.55782 4.4461 4.55782 4.4461C4.83958 4.742 5.199 4.90655 5.199 4.90655C5.25052 4.93553 5.30367 4.96108 5.35826 4.9829C5.73494 5.13371 6.13786 5.09061 6.46359 4.86478C6.78057 4.64518 6.95111 4.35871 6.9439 4.05789C6.93777 3.79813 6.79513 3.5559 6.56247 3.40992C6.37448 3.2917 6.21177 3.29451 6.1085 3.31751C5.87158 3.37025 5.74324 3.56553 5.7293 3.58774C5.67887 3.66825 5.70484 3.7734 5.78748 3.82253C5.87004 3.8718 5.97699 3.84652 6.02787 3.76721C6.0458 3.74024 6.10886 3.66722 6.18843 3.65016C6.24342 3.63856 6.30367 3.65411 6.37254 3.69701C6.50727 3.78168 6.58981 3.9194 6.59328 4.06577C6.59761 4.24966 6.47947 4.43461 6.26031 4.58637C6.03139 4.74511 5.75832 4.77373 5.49163 4.66683C5.08739 4.50523 4.78526 4.06953 4.68372 3.50224C4.68157 3.4895 4.67758 3.47724 4.67242 3.46565L4.67561 3.46026C4.67561 3.46026 4.73185 3.07037 5.1276 3.02399C5.1276 3.02399 5.42218 3.22559 5.63034 2.92116C5.8385 2.61672 5.50933 2.56616 5.65686 2.31722C5.8043 2.06841 5.78113 2.38712 6.20364 1.67417C6.59817 1.00843 6.25954 0.477158 5.74877 0.189863C5.23785 -0.097513 4.59611 -0.117661 4.20158 0.548075C3.77907 1.26102 4.05079 1.08212 3.90335 1.33092C3.75582 1.57986 3.54642 1.3275 3.37974 1.65526C3.21319 1.98311 3.53969 2.13084 3.53969 2.13084C3.69634 2.48793 3.37787 2.73032 3.37787 2.73032C3.37663 2.73208 3.37577 2.73386 3.37468 2.73571C3.36179 2.73715 3.3489 2.73992 3.33635 2.74439C2.78145 2.94245 2.24307 2.90539 1.89715 2.64504C1.66893 2.47358 1.55768 2.22879 1.58433 1.95628C1.60981 1.69557 1.715 1.50334 1.88078 1.41513C2.01263 1.34488 2.17632 1.34565 2.31881 1.41691C2.39152 1.45365 2.43547 1.49671 2.45265 1.5489C2.47728 1.62456 2.44404 1.71437 2.42888 1.74289C2.38368 1.82539 2.41482 1.92835 2.4999 1.97337C2.5849 2.01853 2.69135 1.98787 2.73756 1.90498C2.75034 1.88211 2.85991 1.67627 2.78824 1.45016C2.75714 1.35138 2.67828 1.2127 2.47905 1.11312C2.23309 0.989898 1.94631 0.990581 1.71247 1.11537C1.44145 1.2597 1.27199 1.54696 1.23521 1.92398C1.19733 2.31171 1.36047 2.67321 1.68287 2.91561C1.72971 2.95083 1.779 2.98291 1.83037 3.0118C1.83037 3.0118 2.1565 3.23285 2.56027 3.32254C2.56027 3.32254 2.20302 3.46014 1.74253 3.24744C1.09586 2.93965 0.800346 2.49539 0.814306 1.85697C0.816279 1.76262 0.739562 1.68451 0.642719 1.68258C0.54573 1.68058 0.465543 1.75531 0.463716 1.84974C0.448007 2.56543 0.758465 3.09579 1.41083 3.46273C1.50571 3.51609 1.60802 3.56608 1.71763 3.61261C1.92171 3.69942 2.10748 3.75231 2.27494 3.7811C1.96828 4.01765 1.46664 4.3262 0.946575 4.31683C0.55872 4.30962 0.387347 4.14764 0.35612 3.99833C0.333299 3.88852 0.382929 3.78677 0.479535 3.74489C0.569103 3.70605 0.608389 3.72456 0.621178 3.73081C0.686456 3.76242 0.73208 3.86747 0.743753 3.9126C0.765802 4.00439 0.860226 4.06147 0.95453 4.03985C1.04875 4.01837 1.10734 3.92638 1.08515 3.83451C1.07791 3.80416 1.00656 3.53626 0.777845 3.4252C0.686697 3.38092 0.536001 3.34644 0.336838 3.4327C0.0904172 3.53945 -0.0429087 3.79978 0.0124192 4.06623C0.0466814 4.23105 0.156189 4.40379 0.362826 4.52002C0.506163 4.60064 0.696122 4.654 0.940056 4.65851C1.26973 4.66437 1.58564 4.56968 1.8621 4.43975C1.78873 4.52853 1.73558 4.6336 1.67293 4.73899C1.14167 5.63347 1.49024 6.13783 1.63689 6.28685C1.6488 6.29884 1.66182 6.30862 1.67594 6.31656C1.74171 6.35356 1.82726 6.34573 1.88501 6.29183C1.95476 6.22652 1.95712 6.11841 1.89003 6.05024C1.79836 5.95709 1.73777 5.80166 1.79565 5.49152C1.85701 5.16141 2.05232 4.86393 2.33983 4.67935C2.58075 4.5249 2.89483 4.39894 3.18181 4.52104C3.43369 4.70203 3.4789 5.03008 3.46193 5.3105C3.4416 5.64535 3.27481 5.95888 3.01205 6.17571C2.76529 6.37961 2.59682 6.40621 2.46818 6.37544C2.37404 6.35292 2.27912 6.40897 2.25594 6.50046C2.2369 6.57614 2.27271 6.65223 2.33849 6.68923C2.3526 6.69717 2.36781 6.70326 2.38443 6.70731C2.59022 6.75653 3.21285 6.79845 3.74236 5.90298C3.80487 5.79751 3.87155 5.70005 3.91378 5.59376C3.93666 5.89205 4.01044 6.20593 4.18049 6.48115C4.30632 6.68462 4.44872 6.81821 4.59206 6.89883C4.7987 7.01506 5.00701 7.02108 5.17088 6.96752C5.43517 6.88103 5.59993 6.63838 5.5717 6.37696C5.5488 6.16579 5.44271 6.05603 5.35801 6.00121C5.1447 5.86384 4.87087 5.93759 4.84028 5.94665C4.74751 5.97387 4.69503 6.06929 4.72305 6.15953C4.75113 6.24998 4.84893 6.30103 4.94156 6.27373C4.98751 6.26102 5.1037 6.24699 5.16444 6.28626C5.17639 6.29392 5.21263 6.3179 5.22274 6.4128C5.23397 6.51533 5.16819 6.608 5.05917 6.64364C4.91097 6.69204 4.68114 6.62836 4.48081 6.30473C4.21245 5.87063 4.23605 5.29321 4.29286 4.91612C4.40218 5.04301 4.54208 5.1733 4.72129 5.30208C4.81745 5.37129 4.91305 5.43262 5.00807 5.48606C5.66029 5.85292 6.28712 5.84975 6.91547 5.47866C6.99835 5.42982 7.02478 5.32465 6.97456 5.24405Z"></path>',5),pte=[dte];function mte(e,t,n,r,s,i){return Fe(),ot("svg",{height:n.size,class:"text-theme",viewBox:"0 0 23 7",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},pte,8,fte)}var gte=Qn(hte,[["render",mte]]),vte="/img/screenshot.png";const yte={name:"Home",components:{GitHubIcon:_2,TwitterIcon:w2,Subscriptions:lte,TheLogo:gte},data(){return{supportsFirebase:Ac.supportsFirebase}},computed:{discordInviteLink(){return"https://link.octo.app/discord"}},methods:{trackCtaSignUpNow(){window.fathom.trackGoal("TOVMVZSW",0)}}},Ci=e=>(YM("data-v-dfae218c"),e=e(),KM(),e),_te={class:"text-gray-100 text-lg overflow-auto home"},wte={class:"p-4 lg:p-8 container mx-auto"},bte={class:"max-w-[100ch] mx-auto mb-8"},Ete={class:"flex flex-col"},Ste=Ci(()=>F("h1",{class:"text-4xl lg:text-6xl text-brand font-semibold text-center mt-20 lg:mt-40"},"Build your knowledge base",-1)),Tte=Ci(()=>F("p",{class:"text-xl lg:text-4xl text-gray-600 text-center mt-8"},"Access your information anywhere, anytime",-1)),Ite={class:"flex flex-col gap-4 items-center text-center mt-16"},Ate=Ci(()=>F("span",{class:"flex items-center gap-3 align-center"},[F("span",null,"Get started for free"),F("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[F("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})])],-1)),Cte=[Ate],Ote=gi('<section class="p-4 lg:p-8" data-v-dfae218c><div class="container mx-auto mb-8 lg:mt-20" data-v-dfae218c><div class="aspect-w-16 aspect-h-9 w-full" data-v-dfae218c><img src="'+vte+'" class="w-full" data-v-dfae218c></div></div></section><section class="p-4 lg:p-8 container mx-auto" data-v-dfae218c><div class="max-w-[100ch] mx-auto mb-8" data-v-dfae218c><h2 class="text-2xl lg:text-4xl font-bold" data-v-dfae218c>Experience Something Different</h2><div class="grid lg:grid-cols-2 gap-8 mt-8" data-v-dfae218c><div data-v-dfae218c><h3 class="text-xl lg:text-2xl text-gray-400" data-v-dfae218c>Better for focus</h3><p class="lg:text-xl mt-2" data-v-dfae218c>Markdown has become a widespread format for note-taking, but most editors still leave much to be desired. The effect is friction in writing down your thoughts which leads to interruptions in your concentration.</p><p class="lg:text-xl mt-2" data-v-dfae218c>We have crafted a beautiful new editor that bridges the gap between plain-text and <a class="underline" href="https://en.wikipedia.org/wiki/WYSIWYG" target="_blank" rel="noopener noreferrer" data-v-dfae218c>WYSIWYG</a>, and we are constantly improving it with your feedback.</p></div><div data-v-dfae218c><h3 class="text-xl lg:text-2xl text-gray-400" data-v-dfae218c>Always available</h3><p class="lg:text-xl mt-2" data-v-dfae218c>Your information should be available to you anywhere, anytime. Whether you are on a plane, at home, or using an incognito tab on a temporary device, you should have access to your information.</p><p class="lg:text-xl mt-2" data-v-dfae218c>Using modern technologies, Octo takes an offline-first approach by storing <strong data-v-dfae218c>everything</strong> in your browser. If <a class="underline" href="https://aws.amazon.com/message/41926/" target="_blank" rel="noopener noreferrer" data-v-dfae218c>your entire region of the internet goes out</a>, you will still be able to open Octo and access your docs.</p></div><div data-v-dfae218c><h3 class="text-xl lg:text-2xl text-gray-400" data-v-dfae218c>Native spellcheck &amp; Grammarly support</h3><p class="lg:text-xl mt-2" data-v-dfae218c>Improve your spelling, grammar, and overall readability with your favorite tools. Since Octo is a Progressive Web App built on <a class="underline" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/contenteditable" target="_blank" rel="noopener noreferrer" data-v-dfae218c>contenteditable</a>, you can use all of your favorite browser extensions, Grammarly included.</p></div></div></div></section>',2),kte={class:"p-4 lg:p-8 container mx-auto"},Dte={class:"max-w-[100ch] mx-auto mb-8"},xte=Ci(()=>F("h2",{class:"text-2xl lg:text-4xl font-bold"},"Open Source",-1)),Rte={class:"grid lg:grid-cols-2 gap-8 mt-4"},Mte=gi('<div data-v-dfae218c><h3 class="text-xl lg:text-2xl text-gray-400" data-v-dfae218c>Transparency</h3><p class="lg:text-xl mt-2" data-v-dfae218c>You get full visibility of the <a class="underline" href="https://github.com/voracious/octo" target="_blank" rel="noopener noreferrer" data-v-dfae218c>codebase</a> that powers Octo. This means you can participate in feature discussions, track bugs, and collaborate with the developer community that relies on us.</p></div><div data-v-dfae218c><h3 class="text-xl lg:text-2xl text-gray-400" data-v-dfae218c>Security &amp; Reliability</h3><p class="lg:text-xl mt-2" data-v-dfae218c>We have a lot of eyes on our code, so you can hold us accountable when something is not up to your standards. We strive to uphold best practices, and we will always listen to feedback from our community.</p></div>',2),Pte=Ci(()=>F("h3",{class:"text-xl lg:text-2xl text-gray-400"},"Community",-1)),Nte={class:"lg:text-xl mt-2"},$te=mi("We love to connect with our community of developers and writers. Whether you want to collaborate on improving Octo itself or you want to meet other knowledge workers, creators, or enthusiasts, you can connect with us on "),Lte=["href"],Fte=mi("."),Bte=gi('<section class="p-4 lg:p-8 container mx-auto" data-v-dfae218c><div class="max-w-[100ch] mx-auto mb-8" data-v-dfae218c><h2 class="text-2xl lg:text-4xl font-bold" data-v-dfae218c>Privacy Focused</h2><div class="grid lg:grid-cols-2 gap-8 mt-4" data-v-dfae218c><div data-v-dfae218c><h3 class="text-xl lg:text-2xl text-gray-400" data-v-dfae218c>End-to-End Encryption (E2EE)</h3><p class="lg:text-xl mt-2" data-v-dfae218c><strong class="font-semibold" data-v-dfae218c>Trust is earned</strong>, yet many organizations expect it from you in order to use their services. We support end-to-end encryption, because <strong class="font-semibold" data-v-dfae218c>we believe you deserve to make that choice</strong>. Whether you are end-to-end encrypted or not, we will always use best practices to secure your data.</p></div><div data-v-dfae218c><h3 class="text-xl lg:text-2xl text-gray-400" data-v-dfae218c>Transparent Analytics</h3><p class="lg:text-xl mt-2" data-v-dfae218c>We use privacy-first tools to ensure we only track a minimal amount of basic analytics, and all of that information is available to view on our <a class="underline" href="https://app.usefathom.com/share/npcchoaz/octo.app" target="_blank" rel="noopener noreferrer" data-v-dfae218c>public dashboard</a>. <strong class="font-semibold" data-v-dfae218c>We sell software, not data.</strong></p></div><div data-v-dfae218c><h3 class="text-xl lg:text-2xl text-gray-400" data-v-dfae218c>No Cookies</h3><p class="lg:text-xl mt-2" data-v-dfae218c>You heard that right! No annoying cookie banners are necessary since we do not use them. We use token-based authentication and cookieless third-party integrations.</p></div></div></div></section>',1),Ute={key:0,class:"p-4 lg:p-8 bg-gray-900"},jte={class:"container mx-auto"},Vte={class:"max-w-[100ch] mx-auto mb-8"},Wte=Ci(()=>F("h2",{id:"pricing",class:"text-2xl lg:text-4xl font-bold"},"Pricing",-1)),zte={class:"text-gray-500 p-4 lg:p-8 container mx-auto"},Hte={class:"max-w-[100ch] mx-auto mb-8"},Yte={class:"flex flex-col items-center lg:items-start gap-2"},Kte={class:"flex flex-col items-center lg:flex-row gap-2 lg:gap-4"},Gte=mi("Privacy Policy"),qte=mi("Terms & Conditions"),Xte={class:"flex items-center gap-2 mt-1 lg:mt-0"},Qte={href:"https://twitter.com/writewithocto",target:"_blank",rel:"noopener noreferrer"},Jte={href:"https://github.com/voracious",target:"_blank",rel:"noopener noreferrer"},Zte=Ci(()=>F("p",{class:"mt-4"},"\xA9 2022 Octo",-1));function ene(e,t,n,r,s,i){const o=jn("Subscriptions"),a=jn("router-link"),c=jn("TwitterIcon"),u=jn("GitHubIcon");return Fe(),ot("div",_te,[F("section",wte,[F("div",bte,[F("div",Ete,[Ste,Tte,F("div",Ite,[F("a",{onClick:t[0]||(t[0]=(...l)=>i.trackCtaSignUpNow&&i.trackCtaSignUpNow(...l)),href:"#pricing",class:"button-base bg-blue-600 shadow whitespace-nowrap justify-center gap-3 text-blue-100 text-xl py-2 px-8"},Cte)])])])]),Ote,F("section",kte,[F("div",Dte,[xte,F("div",Rte,[Mte,F("div",null,[Pte,F("p",Nte,[$te,F("a",{class:"underline",href:i.discordInviteLink,target:"_blank",rel:"noopener noreferrer"},"Discord",8,Lte),Fte])])])])]),Bte,s.supportsFirebase?(Fe(),ot("section",Ute,[F("div",jte,[F("div",Vte,[Wte,et(o,{class:"bg-gray-900 rounded mt-4"})])])])):vn("",!0),F("footer",zte,[F("div",Hte,[F("div",Yte,[F("div",Kte,[et(a,{to:{name:"privacy_policy"},class:"font-semibold"},{default:Dr(()=>[Gte]),_:1}),et(a,{to:{name:"terms_and_conditions"},class:"font-semibold"},{default:Dr(()=>[qte]),_:1}),F("div",Xte,[F("a",Qte,[et(c,{class:"h-6 lg:h-4"})]),F("a",Jte,[et(u,{class:"h-6 lg:h-4"})])])]),Zte])])])])}var tne=Qn(yte,[["render",ene],["__scopeId","data-v-dfae218c"]]);const nne="Build your knowledge base",rne=e=>{document.title=`${e||nne} | Octo`},qy=kJ({history:HQ(),routes:[{path:"/index.html",meta:{track:!0},redirect:{name:"editor"}},{path:"/home",name:"home",meta:{track:!0},component:tne,beforeEnter(e,t,n){Gt.state.showWelcome&&(localStorage.setItem("octo/welcome/v1","done"),Gt.dispatch(fo,!1)),n()}},{path:"/",name:"editor",component:()=>mt(()=>import("./Dashboard.722eb7d8.js"),["assets/Dashboard.722eb7d8.js","assets/Dashboard.2a6e8295.css","assets/TheLeftSidebar.b272ae7f.js","assets/TagLink.399c2e91.js","assets/Tag.90ac6f0e.js","assets/files.34c3b63f.js","assets/TheRightSidebar.b199f113.js"]),children:[{path:"",meta:{track:!0},beforeEnter(e,t,n){Ac.supportsFirebase&&Gt.state.showWelcome?n({name:"home"}):n({name:"new_doc"})}},{path:"account",name:"account",meta:{title:"My Account",track:!0},component:()=>mt(()=>import("./Account.b77808d9.js"),[])},{path:"docs",name:"docs",meta:{title:"My Docs",track:!0},component:()=>mt(()=>import("./Documents.73c56bc7.js"),["assets/Documents.73c56bc7.js","assets/DocumentList.16cc2e1f.js","assets/Tag.90ac6f0e.js"])},{path:"docs/new",name:"new_doc",meta:{track:!0},component:()=>mt(()=>import("./Editor.e6ee46d3.js"),["assets/Editor.e6ee46d3.js","assets/Editor.77a7dd0b.js","assets/Editor.6dee4f3f.css"]),props:!0,beforeEnter(e,t,n){Gt.dispatch(ho,{id:null}),Ac.supportsFirebase&&Gt.state.showWelcome?(localStorage.setItem("octo/welcome/v1","done"),Gt.dispatch(fo,!1),n({name:"home"})):n()}},{path:"docs/f/:filter",name:"filtered_docs",meta:{title:"My Docs"},component:()=>mt(()=>import("./Documents.73c56bc7.js"),["assets/Documents.73c56bc7.js","assets/DocumentList.16cc2e1f.js","assets/Tag.90ac6f0e.js"]),props:!0},{path:"docs/t/:tag",name:"tagged_docs",meta:{title:"My Docs"},component:()=>mt(()=>import("./Documents.73c56bc7.js"),["assets/Documents.73c56bc7.js","assets/DocumentList.16cc2e1f.js","assets/Tag.90ac6f0e.js"]),props:!0},{path:"notepad",name:"notepad",meta:{title:"Notepad",track:!0},component:()=>mt(()=>import("./Daily.c131c099.js"),["assets/Daily.c131c099.js","assets/Editor.e6ee46d3.js","assets/Editor.77a7dd0b.js","assets/Editor.6dee4f3f.css"]),props:!0},{path:"docs/:id",name:"doc",component:()=>mt(()=>import("./Editor.e6ee46d3.js"),["assets/Editor.e6ee46d3.js","assets/Editor.77a7dd0b.js","assets/Editor.6dee4f3f.css"]),props({params:e}){return typeof(e==null?void 0:e.props)=="string"?{...e,...JSON.parse(e.props)}:e},beforeEnter(e,t,n){Gt.dispatch(ho,{id:e.params.id}),n()}},{path:"docs/:id/meta",name:"doc_meta",component:()=>mt(()=>import("./TheRightSidebar.b199f113.js"),["assets/TheRightSidebar.b199f113.js","assets/TagLink.399c2e91.js","assets/Tag.90ac6f0e.js"]),props:!0,beforeEnter(e,t,n){Gt.dispatch(ho,{id:e.params.id}),n()}},{path:"public/:id",name:"public_doc",component:()=>mt(()=>import("./Editor.e6ee46d3.js"),["assets/Editor.e6ee46d3.js","assets/Editor.77a7dd0b.js","assets/Editor.6dee4f3f.css"]),props:{readonly:!0}},{path:"force-graph",name:"force_graph",meta:{title:"Force Graph",track:!0},component:()=>mt(()=>import("./Graph.8d5c62f4.js"),["assets/Graph.8d5c62f4.js","assets/Graph.e6cff609.css","assets/DocumentList.16cc2e1f.js","assets/Tag.90ac6f0e.js"]),props:!0},{path:"documents",name:"documents",meta:{track:!0},redirect:{name:"docs"}},{path:"documents/new",name:"dashboard",meta:{track:!0},redirect:{name:"new_doc"}},{path:"documents/export",name:"export",meta:{title:"Export Docs",track:!0},component:()=>mt(()=>import("./Exporter.c9a7b04e.js"),[])},{path:"documents/import",name:"import",meta:{title:"Import Docs",track:!0},component:()=>mt(()=>import("./Importer.7bcb3d51.js"),[])},{path:"documents/recent",name:"recent",meta:{track:!0},redirect:{name:"docs"}},{path:"documents/actionable",meta:{track:!0},redirect:{name:"filtered_docs",params:{filter:"tasks"}}},{path:"documents/discarded",name:"discarded",meta:{track:!0},redirect:{name:"filtered_docs",params:{filter:"discarded"}}},{path:"documents/tasks",name:"tasks",meta:{track:!0},redirect:{name:"filtered_docs",params:{filter:"tasks"}}},{path:"documents/untagged",name:"untagged",meta:{track:!0},redirect:{name:"filtered_docs",params:{filter:"untagged"}}},{path:"documents/daily",name:"daily",meta:{track:!0},redirect:{name:"notepad"}},{path:"documents/:id",name:"document",redirect:{name:"doc"}},{path:"documents/:id/meta",name:"document-meta",redirect:{name:"doc_meta"}},{path:"example",name:"example",meta:{title:"Example",track:!0},component:()=>mt(()=>import("./Example.399a5c14.js"),["assets/Example.399a5c14.js","assets/Editor.77a7dd0b.js","assets/Editor.6dee4f3f.css"]),props:{url:"/example.md"}},{path:"file-editor/:id",name:"file_editor",meta:{title:"File Editor"},component:()=>mt(()=>import("./FileEditor.949c19cb.js"),["assets/FileEditor.949c19cb.js","assets/Editor.77a7dd0b.js","assets/Editor.6dee4f3f.css","assets/files.34c3b63f.js"]),props:!0},{path:"quick-action",name:"quick_action",meta:{title:"Quick Action",track:!0},component:()=>mt(()=>import("./QuickAction.6f7482cc.js"),[])},{path:"menu",name:"menu",meta:{track:!0},component:()=>mt(()=>import("./TheLeftSidebar.b272ae7f.js").then(function(e){return e.b}),["assets/TheLeftSidebar.b272ae7f.js","assets/TagLink.399c2e91.js","assets/Tag.90ac6f0e.js","assets/files.34c3b63f.js"])},{path:"shared/:id",name:"shared",redirect:{name:"public_doc"}},{path:"context",name:"context",meta:{track:!0},redirect:{name:"contexts"}},{path:"contexts",name:"contexts",meta:{title:"Context Switching",track:!0},component:()=>mt(()=>import("./Context.f8889224.js"),["assets/Context.f8889224.js","assets/Context.fc4d976a.css","assets/Tag.90ac6f0e.js"])},{path:"tags/:tag",name:"tag",redirect:{name:"tagged_docs"}},{path:"tags",name:"tags",meta:{title:"Tags",track:!0},component:()=>mt(()=>import("./TagList.3ad3ed37.js"),["assets/TagList.3ad3ed37.js","assets/TagList.063e6a70.css","assets/TagLink.399c2e91.js","assets/Tag.90ac6f0e.js"]),props:!0},{path:"settings",name:"settings",meta:{title:"App Settings",track:!0},component:()=>mt(()=>import("./TheSettings.38b328e7.js"),[])},{path:"graph",name:"graph",meta:{track:!0},redirect:{name:"force_graph"}},{path:"privacy-policy",name:"privacy_policy",meta:{title:"Privacy Policy",track:!0},component:()=>mt(()=>import("./Privacy.c5f6a7e4.js"),[])},{path:"terms-and-conditions",name:"terms_and_conditions",meta:{title:"Terms & Conditions",track:!0},component:()=>mt(()=>import("./Terms.8c7de29b.js"),[])}]}]});qy.beforeEach(e=>{var t;return e.meta.title&&rne(e.meta.title),e.meta.track&&((t=window.fathom)==null||t.trackPageview()),!0});const G2=e=>{var t;(t=e.params)!=null&&t.props&&(e.params.props=JSON.stringify(e.params.props)),qy.push(e)};function $1(e){return typeof e!="object"||e===null?0:Array.isArray(e)?2:one(e)?1:e instanceof Set?3:e instanceof Map?4:5}function sne(e){const t=new Set;for(const n of e)for(const r of[...Object.keys(n),...Object.getOwnPropertySymbols(n)])t.add(r);return t}function ine(e,t){return typeof e=="object"&&Object.prototype.propertyIsEnumerable.call(e,t)}function q2(e){return{*[Symbol.iterator](){for(const t of e)for(const n of t)yield n}}}const L1=new Set(["[object Object]","[object Module]"]);function one(e){if(!L1.has(Object.prototype.toString.call(e)))return!1;const{constructor:t}=e;if(t===void 0)return!0;const n=t.prototype;return!(n===null||typeof n!="object"||!L1.has(Object.prototype.toString.call(n))||!n.hasOwnProperty("isPrototypeOf"))}const Cp={mergeMaps:yne,mergeSets:vne,mergeArrays:gne,mergeRecords:mne,mergeOthers:Q2},Oi={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};function ane(e,t){return t}function cne(...e){return une({})(...e)}function une(e,t){const n=lne(e,r);function r(...s){return X2(s,n,t)}return r}function lne(e,t){var n,r;return{defaultMergeFunctions:Cp,mergeFunctions:{...Cp,...Object.fromEntries(Object.entries(e).filter(([s,i])=>Object.prototype.hasOwnProperty.call(Cp,s)).map(([s,i])=>i===!1?[s,Q2]:[s,i]))},metaDataUpdater:(n=e.metaDataUpdater)!==null&&n!==void 0?n:ane,deepmerge:t,useImplicitDefaultMerging:(r=e.enableImplicitDefaultMerging)!==null&&r!==void 0?r:!1,actions:Oi}}function X2(e,t,n){if(e.length===0)return;if(e.length===1)return Op(e,t,n);const r=$1(e[0]);if(r!==0&&r!==5){for(let s=1;s<e.length;s++)if($1(e[s])!==r)return Op(e,t,n)}switch(r){case 1:return hne(e,t,n);case 2:return fne(e,t,n);case 3:return dne(e,t,n);case 4:return pne(e,t,n);default:return Op(e,t,n)}}function hne(e,t,n){const r=t.mergeFunctions.mergeRecords(e,t,n);return r===Oi.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeRecords!==t.defaultMergeFunctions.mergeRecords?t.defaultMergeFunctions.mergeRecords(e,t,n):r}function fne(e,t,n){const r=t.mergeFunctions.mergeArrays(e,t,n);return r===Oi.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeArrays!==t.defaultMergeFunctions.mergeArrays?t.defaultMergeFunctions.mergeArrays(e):r}function dne(e,t,n){const r=t.mergeFunctions.mergeSets(e,t,n);return r===Oi.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeSets!==t.defaultMergeFunctions.mergeSets?t.defaultMergeFunctions.mergeSets(e):r}function pne(e,t,n){const r=t.mergeFunctions.mergeMaps(e,t,n);return r===Oi.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeMaps!==t.defaultMergeFunctions.mergeMaps?t.defaultMergeFunctions.mergeMaps(e):r}function Op(e,t,n){const r=t.mergeFunctions.mergeOthers(e,t,n);return r===Oi.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeOthers!==t.defaultMergeFunctions.mergeOthers?t.defaultMergeFunctions.mergeOthers(e):r}function mne(e,t,n){const r={};for(const s of sne(e)){const i=[];for(const c of e)ine(c,s)&&i.push(c[s]);if(i.length===0)continue;const o=t.metaDataUpdater(n,{key:s,parents:e}),a=X2(i,t,o);a!==Oi.skip&&(s==="__proto__"?Object.defineProperty(r,s,{value:a,configurable:!0,enumerable:!0,writable:!0}):r[s]=a)}return r}function gne(e){return e.flat()}function vne(e){return new Set(q2(e))}function yne(e){return new Map(q2(e))}function Q2(e){return e[e.length-1]}const _ne=async({options:{caching:e},store:t})=>{if(!e)return;e===!0&&(e={});const{actions:n=!1,mutations:r=!0,namespace:s=t.$id,hydrate:i=async c=>{const u=await c.getItem(s);u&&(t.$state=cne(t.$state,u))},persist:o=async c=>{await c.setItem(s,Zo(t.$state))}}=e,a=qf.createInstance({name:s});await i(a),r?t.$subscribe((c,u)=>{o(a)},{detached:!0}):n&&t.$onAction(c=>{o(a)},!0)};try{self["workbox:window:6.5.2"]&&_()}catch{}function F1(e,t){return new Promise(function(n){var r=new MessageChannel;r.port1.onmessage=function(s){n(s.data)},e.postMessage(t,[r.port2])})}function wne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bne(e,t){var n;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=function(s,i){if(s){if(typeof s=="string")return B1(s,i);var o=Object.prototype.toString.call(s).slice(8,-1);return o==="Object"&&s.constructor&&(o=s.constructor.name),o==="Map"||o==="Set"?Array.from(s):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?B1(s,i):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=e[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.2"]&&_()}catch{}var kp=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})};function Dp(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var ma=function(e,t){this.type=e,Object.assign(this,t)};function il(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Ene(){}var Sne={type:"SKIP_WAITING"};function U1(e,t){if(!t)return e&&e.then?e.then(Ene):Promise.resolve()}var Tne=function(e){var t,n;function r(a,c){var u,l;return c===void 0&&(c={}),(u=e.call(this)||this).nn={},u.tn=0,u.rn=new kp,u.en=new kp,u.on=new kp,u.un=0,u.an=new Set,u.cn=function(){var h=u.fn,f=h.installing;u.tn>0||!Dp(f.scriptURL,u.sn.toString())||performance.now()>u.un+6e4?(u.vn=f,h.removeEventListener("updatefound",u.cn)):(u.hn=f,u.an.add(f),u.rn.resolve(f)),++u.tn,f.addEventListener("statechange",u.ln)},u.ln=function(h){var f=u.fn,p=h.target,v=p.state,O=p===u.vn,E={sw:p,isExternal:O,originalEvent:h};!O&&u.mn&&(E.isUpdate=!0),u.dispatchEvent(new ma(v,E)),v==="installed"?u.wn=self.setTimeout(function(){v==="installed"&&f.waiting===p&&u.dispatchEvent(new ma("waiting",E))},200):v==="activating"&&(clearTimeout(u.wn),O||u.en.resolve(p))},u.dn=function(h){var f=u.hn,p=f!==navigator.serviceWorker.controller;u.dispatchEvent(new ma("controlling",{isExternal:p,originalEvent:h,sw:f,isUpdate:u.mn})),p||u.on.resolve(f)},u.gn=(l=function(h){var f=h.data,p=h.ports,v=h.source;return il(u.getSW(),function(){u.an.has(v)&&u.dispatchEvent(new ma("message",{data:f,originalEvent:h,ports:p,sw:v}))})},function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];try{return Promise.resolve(l.apply(this,h))}catch(p){return Promise.reject(p)}}),u.sn=a,u.nn=c,navigator.serviceWorker.addEventListener("message",u.gn),u}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s,i,o=r.prototype;return o.register=function(a){var c=(a===void 0?{}:a).immediate,u=c!==void 0&&c;try{var l=this;return function(h,f){var p=h();return p&&p.then?p.then(f):f(p)}(function(){if(!u&&document.readyState!=="complete")return U1(new Promise(function(h){return window.addEventListener("load",h)}))},function(){return l.mn=Boolean(navigator.serviceWorker.controller),l.yn=l.pn(),il(l.bn(),function(h){l.fn=h,l.yn&&(l.hn=l.yn,l.en.resolve(l.yn),l.on.resolve(l.yn),l.yn.addEventListener("statechange",l.ln,{once:!0}));var f=l.fn.waiting;return f&&Dp(f.scriptURL,l.sn.toString())&&(l.hn=f,Promise.resolve().then(function(){l.dispatchEvent(new ma("waiting",{sw:f,wasWaitingBeforeRegister:!0}))}).then(function(){})),l.hn&&(l.rn.resolve(l.hn),l.an.add(l.hn)),l.fn.addEventListener("updatefound",l.cn),navigator.serviceWorker.addEventListener("controllerchange",l.dn),l.fn})})}catch(h){return Promise.reject(h)}},o.update=function(){try{return this.fn?U1(this.fn.update()):void 0}catch(a){return Promise.reject(a)}},o.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},o.messageSW=function(a){try{return il(this.getSW(),function(c){return F1(c,a)})}catch(c){return Promise.reject(c)}},o.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&F1(this.fn.waiting,Sne)},o.pn=function(){var a=navigator.serviceWorker.controller;return a&&Dp(a.scriptURL,this.sn.toString())?a:void 0},o.bn=function(){try{var a=this;return function(c,u){try{var l=c()}catch(h){return u(h)}return l&&l.then?l.then(void 0,u):l}(function(){return il(navigator.serviceWorker.register(a.sn,a.nn),function(c){return a.un=performance.now(),c})},function(c){throw c})}catch(c){return Promise.reject(c)}},s=r,(i=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&wne(s.prototype,i),r}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(n,r){this.Sn(n).add(r)},t.removeEventListener=function(n,r){this.Sn(n).delete(r)},t.dispatchEvent=function(n){n.target=this;for(var r,s=bne(this.Sn(n.type));!(r=s()).done;)(0,r.value)(n)},t.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},e}());function Ine(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisterError:i}=e;let o;const a=async(c=!0)=>{};return"serviceWorker"in navigator&&(o=new Tne("/sw.js",{scope:"/",type:"classic"}),o.addEventListener("activated",c=>{c.isUpdate?window.location.reload():r==null||r()}),o.register({immediate:t}).then(c=>{s==null||s(c)}).catch(c=>{i==null||i(c)})),a}Ine({immediate:!0,onOfflineReady(){},onNeedRefresh(){window.dispatchEvent(new Event("swupdated"))},onRegistered(e){},onRegisterError(e){}});class Ane{constructor(){this.components=new Set}registerComponent({component:t,container:n,position:r}){this.components.add({component:t,container:n,position:r})}}class Cne{constructor(){this.packages=new Set,this.components=new Set}emit(t,n){this.packages.forEach(r=>r.emit(t,n))}getComponents(t,n){return[...this.components].filter(r=>r.container===t&&r.position===n).map(({component:r})=>r)}register(t){const n=new Ane;t.register(n),n.components.forEach(r=>this.components.add(r)),this.packages.add(t)}}var One=new Cne;AQ();localStorage.getItem("octo/welcome/v1")===null&&Gt.dispatch(fo,!0);window.addEventListener("offline",()=>{Gt.dispatch(Ya)});window.addEventListener("online",()=>{Gt.dispatch(Ka)});navigator.onLine||Gt.dispatch(Ya);/Mac|iPod|iPhone|iPad/.test(navigator.platform||navigator.userAgentData.platform)&&Gt.dispatch(kl,"\u2318 cmd");const Ps=dP(JL),J2=TP();J2.use(_ne);Ps.config.globalProperties.$packageManager=One;Ps.use(J2);Ps.use(qy);Ps.use(Gt);Ps.component("Extendable",tF);Ps.component("SimpleBar",sY);Ps.use(tN,{breakpoints:{xs:0,sm:577,md:769,lg:993,xl:1201}});Ps.mount("#app");Ac.supportsFirebase&&sr().onAuthStateChanged(async e=>{if(Gt.commit(Qi,e),e){await e.getIdToken(!0);const t=await e.getIdTokenResult(),n=t.claims.ambassador||t.claims.stripeRole==="subscriber";Gt.commit(S2,{pro:n})}});export{R3 as $,Rne as A,qs as B,qJ as C,Ju as D,w2 as E,on as F,_2 as G,ar as H,or as I,cr as J,od as K,sr as L,fR as M,lte as N,Uc as O,Wne as P,Vne as Q,za as R,Ep as S,gte as T,Yn as U,Xs as V,rZ as W,xne as X,Mne as Y,Lne as Z,Qn as _,Fe as a,Dc as a0,Wa as a1,cs as a2,zne as a3,L2 as a4,rne as a5,ho as a6,mt as a7,Bne as a8,jne as a9,Pne as aA,Rl as aB,xl as aC,qa as aD,fZ as aE,hZ as aF,Y2 as aG,yt as aH,Ll as aI,Nne as aJ,wQ as aa,Une as ab,Yne as ac,Hne as ad,bL as ae,gg as af,YM as ag,KM as ah,Va as ai,Nw as aj,BT as ak,Sn as al,Dne as am,Gy as an,A2 as ao,T2 as ap,Ml as aq,j2 as ar,V2 as as,ree as at,W2 as au,Pl as av,z2 as aw,$l as ax,H2 as ay,Nl as az,et as b,ot as c,Mr as d,F as e,vn as f,gi as g,Aa as h,mi as i,Rh as j,Ac as k,Kl as l,$ne as m,aZ as n,G2 as o,te as p,Kne as q,jn as r,Xi as s,I0 as t,tZ as u,Ha as v,Dr as w,Ga as x,Tp as y,Fne as z};
