const QO=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}};QO();function vp(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const JO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ZO=vp(JO);function eb(t){return!!t||t===""}function yp(t){if(he(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=mt(r)?nC(r):yp(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if(mt(t))return t;if(He(t))return t}}const eC=/;(?![^(]*\))/g,tC=/:(.+)/;function nC(t){const e={};return t.split(eC).forEach(n=>{if(n){const r=n.split(tC);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ll(t){let e="";if(mt(t))e=t;else if(he(t))for(let n=0;n<t.length;n++){const r=ll(t[n]);r&&(e+=r+" ")}else if(He(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function rC(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=ci(t[r],e[r]);return n}function ci(t,e){if(t===e)return!0;let n=rv(t),r=rv(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Ko(t),r=Ko(e),n||r)return t===e;if(n=he(t),r=he(e),n||r)return n&&r?rC(t,e):!1;if(n=He(t),r=He(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!ci(t[o],e[o]))return!1}}return String(t)===String(e)}function Ep(t,e){return t.findIndex(n=>ci(n,e))}const m7=t=>mt(t)?t:t==null?"":he(t)||He(t)&&(t.toString===rb||!ye(t.toString))?JSON.stringify(t,tb,2):String(t),tb=(t,e)=>e&&e.__v_isRef?tb(t,e.value):Qi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Rs(e)?{[`Set(${e.size})`]:[...e.values()]}:He(e)&&!he(e)&&!ib(e)?String(e):e,Ke={},Xi=[],yn=()=>{},iC=()=>!1,sC=/^on[^a-z]/,hl=t=>sC.test(t),_p=t=>t.startsWith("onUpdate:"),Kt=Object.assign,bp=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},oC=Object.prototype.hasOwnProperty,ke=(t,e)=>oC.call(t,e),he=Array.isArray,Qi=t=>ba(t)==="[object Map]",Rs=t=>ba(t)==="[object Set]",rv=t=>ba(t)==="[object Date]",ye=t=>typeof t=="function",mt=t=>typeof t=="string",Ko=t=>typeof t=="symbol",He=t=>t!==null&&typeof t=="object",nb=t=>He(t)&&ye(t.then)&&ye(t.catch),rb=Object.prototype.toString,ba=t=>rb.call(t),aC=t=>ba(t).slice(8,-1),ib=t=>ba(t)==="[object Object]",wp=t=>mt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,qc=vp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},cC=/-(\w)/g,Nn=fl(t=>t.replace(cC,(e,n)=>n?n.toUpperCase():"")),uC=/\B([A-Z])/g,Ei=fl(t=>t.replace(uC,"-$1").toLowerCase()),dl=fl(t=>t.charAt(0).toUpperCase()+t.slice(1)),Th=fl(t=>t?`on${dl(t)}`:""),zo=(t,e)=>!Object.is(t,e),Gc=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Iu=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Su=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let iv;const lC=()=>iv||(iv=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Qt;class sb{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Qt&&(this.parent=Qt,this.index=(Qt.scopes||(Qt.scopes=[])).push(this)-1)}run(e){if(this.active){const n=Qt;try{return Qt=this,e()}finally{Qt=n}}}on(){Qt=this}off(){Qt=this.parent}stop(e){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function ob(t){return new sb(t)}function hC(t,e=Qt){e&&e.active&&e.effects.push(t)}function fC(){return Qt}function dC(t){Qt&&Qt.cleanups.push(t)}const Ip=t=>{const e=new Set(t);return e.w=0,e.n=0,e},ab=t=>(t.w&Tr)>0,cb=t=>(t.n&Tr)>0,pC=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Tr},gC=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];ab(i)&&!cb(i)?i.delete(t):e[n++]=i,i.w&=~Tr,i.n&=~Tr}e.length=n}},ed=new WeakMap;let lo=0,Tr=1;const td=30;let gn;const ei=Symbol(""),nd=Symbol("");class Sp{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,hC(this,r)}run(){if(!this.active)return this.fn();let e=gn,n=vr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=gn,gn=this,vr=!0,Tr=1<<++lo,lo<=td?pC(this):sv(this),this.fn()}finally{lo<=td&&gC(this),Tr=1<<--lo,gn=this.parent,vr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){gn===this?this.deferStop=!0:this.active&&(sv(this),this.onStop&&this.onStop(),this.active=!1)}}function sv(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let vr=!0;const ub=[];function Ds(){ub.push(vr),vr=!1}function xs(){const t=ub.pop();vr=t===void 0?!0:t}function tn(t,e,n){if(vr&&gn){let r=ed.get(t);r||ed.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=Ip()),lb(i)}}function lb(t,e){let n=!1;lo<=td?cb(t)||(t.n|=Tr,n=!ab(t)):n=!t.has(gn),n&&(t.add(gn),gn.deps.push(t))}function Xn(t,e,n,r,i,s){const o=ed.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&he(t))o.forEach((c,u)=>{(u==="length"||u>=r)&&a.push(c)});else switch(n!==void 0&&a.push(o.get(n)),e){case"add":he(t)?wp(n)&&a.push(o.get("length")):(a.push(o.get(ei)),Qi(t)&&a.push(o.get(nd)));break;case"delete":he(t)||(a.push(o.get(ei)),Qi(t)&&a.push(o.get(nd)));break;case"set":Qi(t)&&a.push(o.get(ei));break}if(a.length===1)a[0]&&rd(a[0]);else{const c=[];for(const u of a)u&&c.push(...u);rd(Ip(c))}}function rd(t,e){const n=he(t)?t:[...t];for(const r of n)r.computed&&ov(r);for(const r of n)r.computed||ov(r)}function ov(t,e){(t!==gn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const mC=vp("__proto__,__v_isRef,__isVue"),hb=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ko)),vC=Tp(),yC=Tp(!1,!0),EC=Tp(!0),av=_C();function _C(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=$e(this);for(let s=0,o=this.length;s<o;s++)tn(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map($e)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Ds();const r=$e(this)[e].apply(this,n);return xs(),r}}),t}function Tp(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?$C:mb:e?gb:pb).get(r))return r;const o=he(r);if(!t&&o&&ke(av,i))return Reflect.get(av,i,s);const a=Reflect.get(r,i,s);return(Ko(i)?hb.has(i):mC(i))||(t||tn(r,"get",i),e)?a:it(a)?o&&wp(i)?a:a.value:He(a)?t?Mr(a):Nr(a):a}}const bC=fb(),wC=fb(!0);function fb(t=!1){return function(n,r,i,s){let o=n[r];if(cs(o)&&it(o)&&!it(i))return!1;if(!t&&(!Tu(i)&&!cs(i)&&(o=$e(o),i=$e(i)),!he(n)&&it(o)&&!it(i)))return o.value=i,!0;const a=he(n)&&wp(r)?Number(r)<n.length:ke(n,r),c=Reflect.set(n,r,i,s);return n===$e(s)&&(a?zo(i,o)&&Xn(n,"set",r,i):Xn(n,"add",r,i)),c}}function IC(t,e){const n=ke(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Xn(t,"delete",e,void 0),r}function SC(t,e){const n=Reflect.has(t,e);return(!Ko(e)||!hb.has(e))&&tn(t,"has",e),n}function TC(t){return tn(t,"iterate",he(t)?"length":ei),Reflect.ownKeys(t)}const db={get:vC,set:bC,deleteProperty:IC,has:SC,ownKeys:TC},AC={get:EC,set(t,e){return!0},deleteProperty(t,e){return!0}},OC=Kt({},db,{get:yC,set:wC}),Ap=t=>t,pl=t=>Reflect.getPrototypeOf(t);function ic(t,e,n=!1,r=!1){t=t.__v_raw;const i=$e(t),s=$e(e);n||(e!==s&&tn(i,"get",e),tn(i,"get",s));const{has:o}=pl(i),a=r?Ap:n?Rp:Wo;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function sc(t,e=!1){const n=this.__v_raw,r=$e(n),i=$e(t);return e||(t!==i&&tn(r,"has",t),tn(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function oc(t,e=!1){return t=t.__v_raw,!e&&tn($e(t),"iterate",ei),Reflect.get(t,"size",t)}function cv(t){t=$e(t);const e=$e(this);return pl(e).has.call(e,t)||(e.add(t),Xn(e,"add",t,t)),this}function uv(t,e){e=$e(e);const n=$e(this),{has:r,get:i}=pl(n);let s=r.call(n,t);s||(t=$e(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?zo(e,o)&&Xn(n,"set",t,e):Xn(n,"add",t,e),this}function lv(t){const e=$e(this),{has:n,get:r}=pl(e);let i=n.call(e,t);i||(t=$e(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Xn(e,"delete",t,void 0),s}function hv(){const t=$e(this),e=t.size!==0,n=t.clear();return e&&Xn(t,"clear",void 0,void 0),n}function ac(t,e){return function(r,i){const s=this,o=s.__v_raw,a=$e(o),c=e?Ap:t?Rp:Wo;return!t&&tn(a,"iterate",ei),o.forEach((u,l)=>r.call(i,c(u),c(l),s))}}function cc(t,e,n){return function(...r){const i=this.__v_raw,s=$e(i),o=Qi(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,u=i[t](...r),l=n?Ap:e?Rp:Wo;return!e&&tn(s,"iterate",c?nd:ei),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[l(h[0]),l(h[1])]:l(h),done:f}},[Symbol.iterator](){return this}}}}function ir(t){return function(...e){return t==="delete"?!1:this}}function CC(){const t={get(s){return ic(this,s)},get size(){return oc(this)},has:sc,add:cv,set:uv,delete:lv,clear:hv,forEach:ac(!1,!1)},e={get(s){return ic(this,s,!1,!0)},get size(){return oc(this)},has:sc,add:cv,set:uv,delete:lv,clear:hv,forEach:ac(!1,!0)},n={get(s){return ic(this,s,!0)},get size(){return oc(this,!0)},has(s){return sc.call(this,s,!0)},add:ir("add"),set:ir("set"),delete:ir("delete"),clear:ir("clear"),forEach:ac(!0,!1)},r={get(s){return ic(this,s,!0,!0)},get size(){return oc(this,!0)},has(s){return sc.call(this,s,!0)},add:ir("add"),set:ir("set"),delete:ir("delete"),clear:ir("clear"),forEach:ac(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=cc(s,!1,!1),n[s]=cc(s,!0,!1),e[s]=cc(s,!1,!0),r[s]=cc(s,!0,!0)}),[t,n,e,r]}const[RC,DC,xC,kC]=CC();function Op(t,e){const n=e?t?kC:xC:t?DC:RC;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(ke(n,i)&&i in r?n:r,i,s)}const PC={get:Op(!1,!1)},NC={get:Op(!1,!0)},MC={get:Op(!0,!1)},pb=new WeakMap,gb=new WeakMap,mb=new WeakMap,$C=new WeakMap;function LC(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function FC(t){return t.__v_skip||!Object.isExtensible(t)?0:LC(aC(t))}function Nr(t){return cs(t)?t:Cp(t,!1,db,PC,pb)}function BC(t){return Cp(t,!1,OC,NC,gb)}function Mr(t){return Cp(t,!0,AC,MC,mb)}function Cp(t,e,n,r,i){if(!He(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=FC(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function yr(t){return cs(t)?yr(t.__v_raw):!!(t&&t.__v_isReactive)}function cs(t){return!!(t&&t.__v_isReadonly)}function Tu(t){return!!(t&&t.__v_isShallow)}function vb(t){return yr(t)||cs(t)}function $e(t){const e=t&&t.__v_raw;return e?$e(e):t}function us(t){return Iu(t,"__v_skip",!0),t}const Wo=t=>He(t)?Nr(t):t,Rp=t=>He(t)?Mr(t):t;function yb(t){vr&&gn&&(t=$e(t),lb(t.dep||(t.dep=Ip())))}function Eb(t,e){t=$e(t),t.dep&&rd(t.dep)}function it(t){return!!(t&&t.__v_isRef===!0)}function Xe(t){return bb(t,!1)}function _b(t){return bb(t,!0)}function bb(t,e){return it(t)?t:new UC(t,e)}class UC{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:$e(e),this._value=n?e:Wo(e)}get value(){return yb(this),this._value}set value(e){const n=this.__v_isShallow||Tu(e)||cs(e);e=n?e:$e(e),zo(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Wo(e),Eb(this))}}function Er(t){return it(t)?t.value:t}const jC={get:(t,e,n)=>Er(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return it(i)&&!it(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function wb(t){return yr(t)?t:new Proxy(t,jC)}function VC(t){const e=he(t)?new Array(t.length):{};for(const n in t)e[n]=zC(t,n);return e}class KC{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function zC(t,e,n){const r=t[e];return it(r)?r:new KC(t,e,n)}var Ib;class WC{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Ib]=!1,this._dirty=!0,this.effect=new Sp(e,()=>{this._dirty||(this._dirty=!0,Eb(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=$e(this);return yb(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}Ib="__v_isReadonly";function HC(t,e,n=!1){let r,i;const s=ye(t);return s?(r=t,i=yn):(r=t.get,i=t.set),new WC(r,i,s||!i,n)}function _r(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){wa(s,e,n)}return i}function En(t,e,n,r){if(ye(t)){const s=_r(t,e,n,r);return s&&nb(s)&&s.catch(o=>{wa(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(En(t[s],e,n,r));return i}function wa(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=n;for(;s;){const u=s.ec;if(u){for(let l=0;l<u.length;l++)if(u[l](t,o,a)===!1)return}s=s.parent}const c=e.appContext.config.errorHandler;if(c){_r(c,null,10,[t,o,a]);return}}qC(t,n,i,r)}function qC(t,e,n,r=!0){console.error(t)}let Ho=!1,id=!1;const Dt=[];let Cn=0;const Ji=[];let jn=null,qr=0;const Sb=Promise.resolve();let Dp=null;function gl(t){const e=Dp||Sb;return t?e.then(this?t.bind(this):t):e}function GC(t){let e=Cn+1,n=Dt.length;for(;e<n;){const r=e+n>>>1;qo(Dt[r])<t?e=r+1:n=r}return e}function ml(t){(!Dt.length||!Dt.includes(t,Ho&&t.allowRecurse?Cn+1:Cn))&&(t.id==null?Dt.push(t):Dt.splice(GC(t.id),0,t),Tb())}function Tb(){!Ho&&!id&&(id=!0,Dp=Sb.then(Ob))}function YC(t){const e=Dt.indexOf(t);e>Cn&&Dt.splice(e,1)}function XC(t){he(t)?Ji.push(...t):(!jn||!jn.includes(t,t.allowRecurse?qr+1:qr))&&Ji.push(t),Tb()}function fv(t,e=Ho?Cn+1:0){for(;e<Dt.length;e++){const n=Dt[e];n&&n.pre&&(Dt.splice(e,1),e--,n())}}function Ab(t){if(Ji.length){const e=[...new Set(Ji)];if(Ji.length=0,jn){jn.push(...e);return}for(jn=e,jn.sort((n,r)=>qo(n)-qo(r)),qr=0;qr<jn.length;qr++)jn[qr]();jn=null,qr=0}}const qo=t=>t.id==null?1/0:t.id,QC=(t,e)=>{const n=qo(t)-qo(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Ob(t){id=!1,Ho=!0,Dt.sort(QC);const e=yn;try{for(Cn=0;Cn<Dt.length;Cn++){const n=Dt[Cn];n&&n.active!==!1&&_r(n,null,14)}}finally{Cn=0,Dt.length=0,Ab(),Ho=!1,Dp=null,(Dt.length||Ji.length)&&Ob()}}function JC(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ke;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const l=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=r[l]||Ke;f&&(i=n.map(d=>d.trim())),h&&(i=n.map(Su))}let a,c=r[a=Th(e)]||r[a=Th(Nn(e))];!c&&s&&(c=r[a=Th(Ei(e))]),c&&En(c,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,En(u,t,6,i)}}function Cb(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!ye(t)){const c=u=>{const l=Cb(u,e,!0);l&&(a=!0,Kt(o,l))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!s&&!a?(He(t)&&r.set(t,null),null):(he(s)?s.forEach(c=>o[c]=null):Kt(o,s),He(t)&&r.set(t,o),o)}function vl(t,e){return!t||!hl(e)?!1:(e=e.slice(2).replace(/Once$/,""),ke(t,e[0].toLowerCase()+e.slice(1))||ke(t,Ei(e))||ke(t,e))}let kt=null,yl=null;function Au(t){const e=kt;return kt=t,yl=t&&t.type.__scopeId||null,e}function v7(t){yl=t}function y7(){yl=null}function ZC(t,e=kt,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Tv(-1);const s=Au(e),o=t(...i);return Au(s),r._d&&Tv(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function Ah(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:c,emit:u,render:l,renderCache:h,data:f,setupState:d,ctx:v,inheritAttrs:O}=t;let I,T;const R=Au(t);try{if(n.shapeFlag&4){const j=i||r;I=On(l.call(j,j,h,s,d,f,v)),T=c}else{const j=e;I=On(j.length>1?j(s,{attrs:c,slots:a,emit:u}):j(s,null)),T=e.props?c:eR(c)}}catch(j){Eo.length=0,wa(j,t,1),I=ct(Ar)}let V=I;if(T&&O!==!1){const j=Object.keys(T),{shapeFlag:k}=V;j.length&&k&7&&(o&&j.some(_p)&&(T=tR(T,o)),V=hs(V,T))}return n.dirs&&(V=hs(V),V.dirs=V.dirs?V.dirs.concat(n.dirs):n.dirs),n.transition&&(V.transition=n.transition),I=V,Au(R),I}const eR=t=>{let e;for(const n in t)(n==="class"||n==="style"||hl(n))&&((e||(e={}))[n]=t[n]);return e},tR=(t,e)=>{const n={};for(const r in t)(!_p(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function nR(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:c}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?dv(r,o,u):!!o;if(c&8){const l=e.dynamicProps;for(let h=0;h<l.length;h++){const f=l[h];if(o[f]!==r[f]&&!vl(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?dv(r,o,u):!0:!!o;return!1}function dv(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!vl(n,s))return!0}return!1}function rR({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const iR=t=>t.__isSuspense;function sR(t,e){e&&e.pendingBranch?he(t)?e.effects.push(...t):e.effects.push(t):XC(t)}function Zi(t,e){if(dt){let n=dt.provides;const r=dt.parent&&dt.parent.provides;r===n&&(n=dt.provides=Object.create(r)),n[t]=e}}function cn(t,e,n=!1){const r=dt||kt;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ye(e)?e.call(r.proxy):e}}function E7(t,e){return xp(t,null,e)}const pv={};function qn(t,e,n){return xp(t,e,n)}function xp(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=Ke){const a=dt;let c,u=!1,l=!1;if(it(t)?(c=()=>t.value,u=Tu(t)):yr(t)?(c=()=>t,r=!0):he(t)?(l=!0,u=t.some(T=>yr(T)||Tu(T)),c=()=>t.map(T=>{if(it(T))return T.value;if(yr(T))return Yr(T);if(ye(T))return _r(T,a,2)})):ye(t)?e?c=()=>_r(t,a,2):c=()=>{if(!(a&&a.isUnmounted))return h&&h(),En(t,a,3,[f])}:c=yn,e&&r){const T=c;c=()=>Yr(T())}let h,f=T=>{h=I.onStop=()=>{_r(T,a,4)}};if(ds)return f=yn,e?n&&En(e,a,3,[c(),l?[]:void 0,f]):c(),yn;let d=l?[]:pv;const v=()=>{if(!!I.active)if(e){const T=I.run();(r||u||(l?T.some((R,V)=>zo(R,d[V])):zo(T,d)))&&(h&&h(),En(e,a,3,[T,d===pv?void 0:d,f]),d=T)}else I.run()};v.allowRecurse=!!e;let O;i==="sync"?O=v:i==="post"?O=()=>Ht(v,a&&a.suspense):(v.pre=!0,a&&(v.id=a.uid),O=()=>ml(v));const I=new Sp(c,O);return e?n?v():d=I.run():i==="post"?Ht(I.run.bind(I),a&&a.suspense):I.run(),()=>{I.stop(),a&&a.scope&&bp(a.scope.effects,I)}}function oR(t,e,n){const r=this.proxy,i=mt(t)?t.includes(".")?Rb(r,t):()=>r[t]:t.bind(r,r);let s;ye(e)?s=e:(s=e.handler,n=e);const o=dt;fs(this);const a=xp(i,s.bind(r),n);return o?fs(o):ti(),a}function Rb(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Yr(t,e){if(!He(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),it(t))Yr(t.value,e);else if(he(t))for(let n=0;n<t.length;n++)Yr(t[n],e);else if(Rs(t)||Qi(t))t.forEach(n=>{Yr(n,e)});else if(ib(t))for(const n in t)Yr(t[n],e);return t}function Ia(t){return ye(t)?{setup:t,name:t.name}:t}const yo=t=>!!t.type.__asyncLoader;function aR(t){ye(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:o=!0,onError:a}=t;let c=null,u,l=0;const h=()=>(l++,c=null,f()),f=()=>{let d;return c||(d=c=e().catch(v=>{if(v=v instanceof Error?v:new Error(String(v)),a)return new Promise((O,I)=>{a(v,()=>O(h()),()=>I(v),l+1)});throw v}).then(v=>d!==c&&c?c:(v&&(v.__esModule||v[Symbol.toStringTag]==="Module")&&(v=v.default),u=v,v)))};return Ia({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return u},setup(){const d=dt;if(u)return()=>Oh(u,d);const v=R=>{c=null,wa(R,d,13,!r)};if(o&&d.suspense||ds)return f().then(R=>()=>Oh(R,d)).catch(R=>(v(R),()=>r?ct(r,{error:R}):null));const O=Xe(!1),I=Xe(),T=Xe(!!i);return i&&setTimeout(()=>{T.value=!1},i),s!=null&&setTimeout(()=>{if(!O.value&&!I.value){const R=new Error(`Async component timed out after ${s}ms.`);v(R),I.value=R}},s),f().then(()=>{O.value=!0,d.parent&&kp(d.parent.vnode)&&ml(d.parent.update)}).catch(R=>{v(R),I.value=R}),()=>{if(O.value&&u)return Oh(u,d);if(I.value&&r)return ct(r,{error:I.value});if(n&&!T.value)return ct(n)}}})}function Oh(t,{vnode:{ref:e,props:n,children:r,shapeFlag:i},parent:s}){const o=ct(t,n,r);return o.ref=e,o}const kp=t=>t.type.__isKeepAlive;function cR(t,e){Db(t,"a",e)}function uR(t,e){Db(t,"da",e)}function Db(t,e,n=dt){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(El(e,r,n),n){let i=n.parent;for(;i&&i.parent;)kp(i.parent.vnode)&&lR(r,e,n,i),i=i.parent}}function lR(t,e,n,r){const i=El(e,t,r,!0);Pp(()=>{bp(r[e],i)},n)}function El(t,e,n=dt,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Ds(),fs(n);const a=En(e,n,t,o);return ti(),xs(),a});return r?i.unshift(s):i.push(s),s}}const tr=t=>(e,n=dt)=>(!ds||t==="sp")&&El(t,(...r)=>e(...r),n),hR=tr("bm"),xb=tr("m"),fR=tr("bu"),dR=tr("u"),pR=tr("bum"),Pp=tr("um"),gR=tr("sp"),mR=tr("rtg"),vR=tr("rtc");function yR(t,e=dt){El("ec",t,e)}function _7(t,e){const n=kt;if(n===null)return t;const r=wl(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,c,u=Ke]=e[s];ye(o)&&(o={mounted:o,updated:o}),o.deep&&Yr(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:c,modifiers:u})}return t}function Vr(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let c=a.dir[r];c&&(Ds(),En(c,n,8,[t.el,a,t,e]),xs())}}const Np="components";function gv(t,e){return Pb(Np,t,!0,e)||t}const kb=Symbol();function mv(t){return mt(t)?Pb(Np,t,!1)||t:t||kb}function Pb(t,e,n=!0,r=!1){const i=kt||dt;if(i){const s=i.type;if(t===Np){const a=GR(s,!1);if(a&&(a===e||a===Nn(e)||a===dl(Nn(e))))return s}const o=vv(i[t]||s[t],e)||vv(i.appContext[t],e);return!o&&r?s:o}}function vv(t,e){return t&&(t[e]||t[Nn(e)]||t[dl(Nn(e))])}function yv(t,e,n,r){let i;const s=n&&n[r];if(he(t)||mt(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(He(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function Nb(t,e,n={},r,i){if(kt.isCE||kt.parent&&yo(kt.parent)&&kt.parent.isCE)return ct("slot",e==="default"?null:{name:e},r&&r());let s=t[e];s&&s._c&&(s._d=!1),mn();const o=s&&Mb(s(n)),a=ls(Jt,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function Mb(t){return t.some(e=>Ru(e)?!(e.type===Ar||e.type===Jt&&!Mb(e.children)):!0)?t:null}const sd=t=>t?Hb(t)?wl(t)||t.proxy:sd(t.parent):null,Ou=Kt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>sd(t.parent),$root:t=>sd(t.root),$emit:t=>t.emit,$options:t=>Mp(t),$forceUpdate:t=>t.f||(t.f=()=>ml(t.update)),$nextTick:t=>t.n||(t.n=gl.bind(t.proxy)),$watch:t=>oR.bind(t)}),ER={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:c}=t;let u;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(r!==Ke&&ke(r,e))return o[e]=1,r[e];if(i!==Ke&&ke(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&ke(u,e))return o[e]=3,s[e];if(n!==Ke&&ke(n,e))return o[e]=4,n[e];od&&(o[e]=0)}}const l=Ou[e];let h,f;if(l)return e==="$attrs"&&tn(t,"get",e),l(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Ke&&ke(n,e))return o[e]=4,n[e];if(f=c.config.globalProperties,ke(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return i!==Ke&&ke(i,e)?(i[e]=n,!0):r!==Ke&&ke(r,e)?(r[e]=n,!0):ke(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==Ke&&ke(t,o)||e!==Ke&&ke(e,o)||(a=s[0])&&ke(a,o)||ke(r,o)||ke(Ou,o)||ke(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ke(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let od=!0;function _R(t){const e=Mp(t),n=t.proxy,r=t.ctx;od=!1,e.beforeCreate&&Ev(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:c,inject:u,created:l,beforeMount:h,mounted:f,beforeUpdate:d,updated:v,activated:O,deactivated:I,beforeDestroy:T,beforeUnmount:R,destroyed:V,unmounted:j,render:k,renderTracked:P,renderTriggered:y,errorCaptured:C,serverPrefetch:q,expose:se,inheritAttrs:we,components:Oe,directives:tt,filters:Ze}=e;if(u&&bR(u,r,null,t.appContext.config.unwrapInjectedRef),o)for(const Ae in o){const Pe=o[Ae];ye(Pe)&&(r[Ae]=Pe.bind(n))}if(i){const Ae=i.call(n,n);He(Ae)&&(t.data=Nr(Ae))}if(od=!0,s)for(const Ae in s){const Pe=s[Ae],Mt=ye(Pe)?Pe.bind(n,n):ye(Pe.get)?Pe.get.bind(n,n):yn,sn=!ye(Pe)&&ye(Pe.set)?Pe.set.bind(n):yn,re=Zt({get:Mt,set:sn});Object.defineProperty(r,Ae,{enumerable:!0,configurable:!0,get:()=>re.value,set:fe=>re.value=fe})}if(a)for(const Ae in a)$b(a[Ae],r,n,Ae);if(c){const Ae=ye(c)?c.call(n):c;Reflect.ownKeys(Ae).forEach(Pe=>{Zi(Pe,Ae[Pe])})}l&&Ev(l,t,"c");function Ve(Ae,Pe){he(Pe)?Pe.forEach(Mt=>Ae(Mt.bind(n))):Pe&&Ae(Pe.bind(n))}if(Ve(hR,h),Ve(xb,f),Ve(fR,d),Ve(dR,v),Ve(cR,O),Ve(uR,I),Ve(yR,C),Ve(vR,P),Ve(mR,y),Ve(pR,R),Ve(Pp,j),Ve(gR,q),he(se))if(se.length){const Ae=t.exposed||(t.exposed={});se.forEach(Pe=>{Object.defineProperty(Ae,Pe,{get:()=>n[Pe],set:Mt=>n[Pe]=Mt})})}else t.exposed||(t.exposed={});k&&t.render===yn&&(t.render=k),we!=null&&(t.inheritAttrs=we),Oe&&(t.components=Oe),tt&&(t.directives=tt)}function bR(t,e,n=yn,r=!1){he(t)&&(t=ad(t));for(const i in t){const s=t[i];let o;He(s)?"default"in s?o=cn(s.from||i,s.default,!0):o=cn(s.from||i):o=cn(s),it(o)&&r?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[i]=o}}function Ev(t,e,n){En(he(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function $b(t,e,n,r){const i=r.includes(".")?Rb(n,r):()=>n[r];if(mt(t)){const s=e[t];ye(s)&&qn(i,s)}else if(ye(t))qn(i,t.bind(n));else if(He(t))if(he(t))t.forEach(s=>$b(s,e,n,r));else{const s=ye(t.handler)?t.handler.bind(n):e[t.handler];ye(s)&&qn(i,s,t)}}function Mp(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let c;return a?c=a:!i.length&&!n&&!r?c=e:(c={},i.length&&i.forEach(u=>Cu(c,u,o,!0)),Cu(c,e,o)),He(e)&&s.set(e,c),c}function Cu(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Cu(t,s,n,!0),i&&i.forEach(o=>Cu(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=wR[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const wR={data:_v,props:Wr,emits:Wr,methods:Wr,computed:Wr,beforeCreate:Ft,created:Ft,beforeMount:Ft,mounted:Ft,beforeUpdate:Ft,updated:Ft,beforeDestroy:Ft,beforeUnmount:Ft,destroyed:Ft,unmounted:Ft,activated:Ft,deactivated:Ft,errorCaptured:Ft,serverPrefetch:Ft,components:Wr,directives:Wr,watch:SR,provide:_v,inject:IR};function _v(t,e){return e?t?function(){return Kt(ye(t)?t.call(this,this):t,ye(e)?e.call(this,this):e)}:e:t}function IR(t,e){return Wr(ad(t),ad(e))}function ad(t){if(he(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ft(t,e){return t?[...new Set([].concat(t,e))]:e}function Wr(t,e){return t?Kt(Kt(Object.create(null),t),e):e}function SR(t,e){if(!t)return e;if(!e)return t;const n=Kt(Object.create(null),t);for(const r in e)n[r]=Ft(t[r],e[r]);return n}function TR(t,e,n,r=!1){const i={},s={};Iu(s,_l,1),t.propsDefaults=Object.create(null),Lb(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:BC(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function AR(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=$e(i),[c]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const l=t.vnode.dynamicProps;for(let h=0;h<l.length;h++){let f=l[h];if(vl(t.emitsOptions,f))continue;const d=e[f];if(c)if(ke(s,f))d!==s[f]&&(s[f]=d,u=!0);else{const v=Nn(f);i[v]=cd(c,a,v,d,t,!1)}else d!==s[f]&&(s[f]=d,u=!0)}}}else{Lb(t,e,i,s)&&(u=!0);let l;for(const h in a)(!e||!ke(e,h)&&((l=Ei(h))===h||!ke(e,l)))&&(c?n&&(n[h]!==void 0||n[l]!==void 0)&&(i[h]=cd(c,a,h,void 0,t,!0)):delete i[h]);if(s!==a)for(const h in s)(!e||!ke(e,h)&&!0)&&(delete s[h],u=!0)}u&&Xn(t,"set","$attrs")}function Lb(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(qc(c))continue;const u=e[c];let l;i&&ke(i,l=Nn(c))?!s||!s.includes(l)?n[l]=u:(a||(a={}))[l]=u:vl(t.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,o=!0)}if(s){const c=$e(n),u=a||Ke;for(let l=0;l<s.length;l++){const h=s[l];n[h]=cd(i,c,h,u[h],t,!ke(u,h))}}return o}function cd(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=ke(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&ye(c)){const{propsDefaults:u}=i;n in u?r=u[n]:(fs(i),r=u[n]=c.call(null,e),ti())}else r=c}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Ei(n))&&(r=!0))}return r}function Fb(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let c=!1;if(!ye(t)){const l=h=>{c=!0;const[f,d]=Fb(h,e,!0);Kt(o,f),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}if(!s&&!c)return He(t)&&r.set(t,Xi),Xi;if(he(s))for(let l=0;l<s.length;l++){const h=Nn(s[l]);bv(h)&&(o[h]=Ke)}else if(s)for(const l in s){const h=Nn(l);if(bv(h)){const f=s[l],d=o[h]=he(f)||ye(f)?{type:f}:f;if(d){const v=Sv(Boolean,d.type),O=Sv(String,d.type);d[0]=v>-1,d[1]=O<0||v<O,(v>-1||ke(d,"default"))&&a.push(h)}}}const u=[o,a];return He(t)&&r.set(t,u),u}function bv(t){return t[0]!=="$"}function wv(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Iv(t,e){return wv(t)===wv(e)}function Sv(t,e){return he(e)?e.findIndex(n=>Iv(n,t)):ye(e)&&Iv(e,t)?0:-1}const Bb=t=>t[0]==="_"||t==="$stable",$p=t=>he(t)?t.map(On):[On(t)],OR=(t,e,n)=>{if(e._n)return e;const r=ZC((...i)=>$p(e(...i)),n);return r._c=!1,r},Ub=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Bb(i))continue;const s=t[i];if(ye(s))e[i]=OR(i,s,r);else if(s!=null){const o=$p(s);e[i]=()=>o}}},jb=(t,e)=>{const n=$p(e);t.slots.default=()=>n},CR=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=$e(e),Iu(e,"_",n)):Ub(e,t.slots={})}else t.slots={},e&&jb(t,e);Iu(t.slots,_l,1)},RR=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Ke;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(Kt(i,e),!n&&a===1&&delete i._):(s=!e.$stable,Ub(e,i)),o=e}else e&&(jb(t,e),o={default:1});if(s)for(const a in i)!Bb(a)&&!(a in o)&&delete i[a]};function Vb(){return{app:null,config:{isNativeTag:iC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let DR=0;function xR(t,e){return function(r,i=null){ye(r)||(r=Object.assign({},r)),i!=null&&!He(i)&&(i=null);const s=Vb(),o=new Set;let a=!1;const c=s.app={_uid:DR++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:QR,get config(){return s.config},set config(u){},use(u,...l){return o.has(u)||(u&&ye(u.install)?(o.add(u),u.install(c,...l)):ye(u)&&(o.add(u),u(c,...l))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,l){return l?(s.components[u]=l,c):s.components[u]},directive(u,l){return l?(s.directives[u]=l,c):s.directives[u]},mount(u,l,h){if(!a){const f=ct(r,i);return f.appContext=s,l&&e?e(f,u):t(f,u,h),a=!0,c._container=u,u.__vue_app__=c,wl(f.component)||f.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(u,l){return s.provides[u]=l,c}};return c}}function ud(t,e,n,r,i=!1){if(he(t)){t.forEach((f,d)=>ud(f,e&&(he(e)?e[d]:e),n,r,i));return}if(yo(r)&&!i)return;const s=r.shapeFlag&4?wl(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:c}=t,u=e&&e.r,l=a.refs===Ke?a.refs={}:a.refs,h=a.setupState;if(u!=null&&u!==c&&(mt(u)?(l[u]=null,ke(h,u)&&(h[u]=null)):it(u)&&(u.value=null)),ye(c))_r(c,a,12,[o,l]);else{const f=mt(c),d=it(c);if(f||d){const v=()=>{if(t.f){const O=f?l[c]:c.value;i?he(O)&&bp(O,s):he(O)?O.includes(s)||O.push(s):f?(l[c]=[s],ke(h,c)&&(h[c]=l[c])):(c.value=[s],t.k&&(l[t.k]=c.value))}else f?(l[c]=o,ke(h,c)&&(h[c]=o)):d&&(c.value=o,t.k&&(l[t.k]=o))};o?(v.id=-1,Ht(v,n)):v()}}}const Ht=sR;function kR(t){return PR(t)}function PR(t,e){const n=lC();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:c,setText:u,setElementText:l,parentNode:h,nextSibling:f,setScopeId:d=yn,insertStaticContent:v}=t,O=(m,b,x,N=null,L=null,G=null,J=!1,H=null,X=!!b.dynamicChildren)=>{if(m===b)return;m&&!eo(m,b)&&(N=F(m),fe(m,L,G,!0),m=null),b.patchFlag===-2&&(X=!1,b.dynamicChildren=null);const{type:B,ref:oe,shapeFlag:ne}=b;switch(B){case Lp:I(m,b,x,N);break;case Ar:T(m,b,x,N);break;case Yc:m==null&&R(b,x,N,J);break;case Jt:Oe(m,b,x,N,L,G,J,H,X);break;default:ne&1?k(m,b,x,N,L,G,J,H,X):ne&6?tt(m,b,x,N,L,G,J,H,X):(ne&64||ne&128)&&B.process(m,b,x,N,L,G,J,H,X,me)}oe!=null&&L&&ud(oe,m&&m.ref,G,b||m,!b)},I=(m,b,x,N)=>{if(m==null)r(b.el=a(b.children),x,N);else{const L=b.el=m.el;b.children!==m.children&&u(L,b.children)}},T=(m,b,x,N)=>{m==null?r(b.el=c(b.children||""),x,N):b.el=m.el},R=(m,b,x,N)=>{[m.el,m.anchor]=v(m.children,b,x,N,m.el,m.anchor)},V=({el:m,anchor:b},x,N)=>{let L;for(;m&&m!==b;)L=f(m),r(m,x,N),m=L;r(b,x,N)},j=({el:m,anchor:b})=>{let x;for(;m&&m!==b;)x=f(m),i(m),m=x;i(b)},k=(m,b,x,N,L,G,J,H,X)=>{J=J||b.type==="svg",m==null?P(b,x,N,L,G,J,H,X):q(m,b,L,G,J,H,X)},P=(m,b,x,N,L,G,J,H)=>{let X,B;const{type:oe,props:ne,shapeFlag:ae,transition:de,dirs:_e}=m;if(X=m.el=o(m.type,G,ne&&ne.is,ne),ae&8?l(X,m.children):ae&16&&C(m.children,X,null,N,L,G&&oe!=="foreignObject",J,H),_e&&Vr(m,null,N,"created"),ne){for(const Ne in ne)Ne!=="value"&&!qc(Ne)&&s(X,Ne,null,ne[Ne],G,m.children,N,L,Q);"value"in ne&&s(X,"value",null,ne.value),(B=ne.onVnodeBeforeMount)&&Sn(B,N,m)}y(X,m,m.scopeId,J,N),_e&&Vr(m,null,N,"beforeMount");const Be=(!L||L&&!L.pendingBranch)&&de&&!de.persisted;Be&&de.beforeEnter(X),r(X,b,x),((B=ne&&ne.onVnodeMounted)||Be||_e)&&Ht(()=>{B&&Sn(B,N,m),Be&&de.enter(X),_e&&Vr(m,null,N,"mounted")},L)},y=(m,b,x,N,L)=>{if(x&&d(m,x),N)for(let G=0;G<N.length;G++)d(m,N[G]);if(L){let G=L.subTree;if(b===G){const J=L.vnode;y(m,J,J.scopeId,J.slotScopeIds,L.parent)}}},C=(m,b,x,N,L,G,J,H,X=0)=>{for(let B=X;B<m.length;B++){const oe=m[B]=H?ur(m[B]):On(m[B]);O(null,oe,b,x,N,L,G,J,H)}},q=(m,b,x,N,L,G,J)=>{const H=b.el=m.el;let{patchFlag:X,dynamicChildren:B,dirs:oe}=b;X|=m.patchFlag&16;const ne=m.props||Ke,ae=b.props||Ke;let de;x&&Kr(x,!1),(de=ae.onVnodeBeforeUpdate)&&Sn(de,x,b,m),oe&&Vr(b,m,x,"beforeUpdate"),x&&Kr(x,!0);const _e=L&&b.type!=="foreignObject";if(B?se(m.dynamicChildren,B,H,x,N,_e,G):J||Pe(m,b,H,null,x,N,_e,G,!1),X>0){if(X&16)we(H,b,ne,ae,x,N,L);else if(X&2&&ne.class!==ae.class&&s(H,"class",null,ae.class,L),X&4&&s(H,"style",ne.style,ae.style,L),X&8){const Be=b.dynamicProps;for(let Ne=0;Ne<Be.length;Ne++){const et=Be[Ne],Wt=ne[et],Ln=ae[et];(Ln!==Wt||et==="value")&&s(H,et,Wt,Ln,L,m.children,x,N,Q)}}X&1&&m.children!==b.children&&l(H,b.children)}else!J&&B==null&&we(H,b,ne,ae,x,N,L);((de=ae.onVnodeUpdated)||oe)&&Ht(()=>{de&&Sn(de,x,b,m),oe&&Vr(b,m,x,"updated")},N)},se=(m,b,x,N,L,G,J)=>{for(let H=0;H<b.length;H++){const X=m[H],B=b[H],oe=X.el&&(X.type===Jt||!eo(X,B)||X.shapeFlag&70)?h(X.el):x;O(X,B,oe,null,N,L,G,J,!0)}},we=(m,b,x,N,L,G,J)=>{if(x!==N){if(x!==Ke)for(const H in x)!qc(H)&&!(H in N)&&s(m,H,x[H],null,J,b.children,L,G,Q);for(const H in N){if(qc(H))continue;const X=N[H],B=x[H];X!==B&&H!=="value"&&s(m,H,B,X,J,b.children,L,G,Q)}"value"in N&&s(m,"value",x.value,N.value)}},Oe=(m,b,x,N,L,G,J,H,X)=>{const B=b.el=m?m.el:a(""),oe=b.anchor=m?m.anchor:a("");let{patchFlag:ne,dynamicChildren:ae,slotScopeIds:de}=b;de&&(H=H?H.concat(de):de),m==null?(r(B,x,N),r(oe,x,N),C(b.children,x,oe,L,G,J,H,X)):ne>0&&ne&64&&ae&&m.dynamicChildren?(se(m.dynamicChildren,ae,x,L,G,J,H),(b.key!=null||L&&b===L.subTree)&&Kb(m,b,!0)):Pe(m,b,x,oe,L,G,J,H,X)},tt=(m,b,x,N,L,G,J,H,X)=>{b.slotScopeIds=H,m==null?b.shapeFlag&512?L.ctx.activate(b,x,N,J,X):Ze(b,x,N,L,G,J,X):ze(m,b,X)},Ze=(m,b,x,N,L,G,J)=>{const H=m.component=zR(m,N,L);if(kp(m)&&(H.ctx.renderer=me),WR(H),H.asyncDep){if(L&&L.registerDep(H,Ve),!m.el){const X=H.subTree=ct(Ar);T(null,X,b,x)}return}Ve(H,m,b,x,L,G,J)},ze=(m,b,x)=>{const N=b.component=m.component;if(nR(m,b,x))if(N.asyncDep&&!N.asyncResolved){Ae(N,b,x);return}else N.next=b,YC(N.update),N.update();else b.el=m.el,N.vnode=b},Ve=(m,b,x,N,L,G,J)=>{const H=()=>{if(m.isMounted){let{next:oe,bu:ne,u:ae,parent:de,vnode:_e}=m,Be=oe,Ne;Kr(m,!1),oe?(oe.el=_e.el,Ae(m,oe,J)):oe=_e,ne&&Gc(ne),(Ne=oe.props&&oe.props.onVnodeBeforeUpdate)&&Sn(Ne,de,oe,_e),Kr(m,!0);const et=Ah(m),Wt=m.subTree;m.subTree=et,O(Wt,et,h(Wt.el),F(Wt),m,L,G),oe.el=et.el,Be===null&&rR(m,et.el),ae&&Ht(ae,L),(Ne=oe.props&&oe.props.onVnodeUpdated)&&Ht(()=>Sn(Ne,de,oe,_e),L)}else{let oe;const{el:ne,props:ae}=b,{bm:de,m:_e,parent:Be}=m,Ne=yo(b);if(Kr(m,!1),de&&Gc(de),!Ne&&(oe=ae&&ae.onVnodeBeforeMount)&&Sn(oe,Be,b),Kr(m,!0),ne&&ve){const et=()=>{m.subTree=Ah(m),ve(ne,m.subTree,m,L,null)};Ne?b.type.__asyncLoader().then(()=>!m.isUnmounted&&et()):et()}else{const et=m.subTree=Ah(m);O(null,et,x,N,m,L,G),b.el=et.el}if(_e&&Ht(_e,L),!Ne&&(oe=ae&&ae.onVnodeMounted)){const et=b;Ht(()=>Sn(oe,Be,et),L)}(b.shapeFlag&256||Be&&yo(Be.vnode)&&Be.vnode.shapeFlag&256)&&m.a&&Ht(m.a,L),m.isMounted=!0,b=x=N=null}},X=m.effect=new Sp(H,()=>ml(B),m.scope),B=m.update=()=>X.run();B.id=m.uid,Kr(m,!0),B()},Ae=(m,b,x)=>{b.component=m;const N=m.vnode.props;m.vnode=b,m.next=null,AR(m,b.props,N,x),RR(m,b.children,x),Ds(),fv(),xs()},Pe=(m,b,x,N,L,G,J,H,X=!1)=>{const B=m&&m.children,oe=m?m.shapeFlag:0,ne=b.children,{patchFlag:ae,shapeFlag:de}=b;if(ae>0){if(ae&128){sn(B,ne,x,N,L,G,J,H,X);return}else if(ae&256){Mt(B,ne,x,N,L,G,J,H,X);return}}de&8?(oe&16&&Q(B,L,G),ne!==B&&l(x,ne)):oe&16?de&16?sn(B,ne,x,N,L,G,J,H,X):Q(B,L,G,!0):(oe&8&&l(x,""),de&16&&C(ne,x,N,L,G,J,H,X))},Mt=(m,b,x,N,L,G,J,H,X)=>{m=m||Xi,b=b||Xi;const B=m.length,oe=b.length,ne=Math.min(B,oe);let ae;for(ae=0;ae<ne;ae++){const de=b[ae]=X?ur(b[ae]):On(b[ae]);O(m[ae],de,x,null,L,G,J,H,X)}B>oe?Q(m,L,G,!0,!1,ne):C(b,x,N,L,G,J,H,X,ne)},sn=(m,b,x,N,L,G,J,H,X)=>{let B=0;const oe=b.length;let ne=m.length-1,ae=oe-1;for(;B<=ne&&B<=ae;){const de=m[B],_e=b[B]=X?ur(b[B]):On(b[B]);if(eo(de,_e))O(de,_e,x,null,L,G,J,H,X);else break;B++}for(;B<=ne&&B<=ae;){const de=m[ne],_e=b[ae]=X?ur(b[ae]):On(b[ae]);if(eo(de,_e))O(de,_e,x,null,L,G,J,H,X);else break;ne--,ae--}if(B>ne){if(B<=ae){const de=ae+1,_e=de<oe?b[de].el:N;for(;B<=ae;)O(null,b[B]=X?ur(b[B]):On(b[B]),x,_e,L,G,J,H,X),B++}}else if(B>ae)for(;B<=ne;)fe(m[B],L,G,!0),B++;else{const de=B,_e=B,Be=new Map;for(B=_e;B<=ae;B++){const $t=b[B]=X?ur(b[B]):On(b[B]);$t.key!=null&&Be.set($t.key,B)}let Ne,et=0;const Wt=ae-_e+1;let Ln=!1,Qs=0;const nr=new Array(Wt);for(B=0;B<Wt;B++)nr[B]=0;for(B=de;B<=ne;B++){const $t=m[B];if(et>=Wt){fe($t,L,G,!0);continue}let on;if($t.key!=null)on=Be.get($t.key);else for(Ne=_e;Ne<=ae;Ne++)if(nr[Ne-_e]===0&&eo($t,b[Ne])){on=Ne;break}on===void 0?fe($t,L,G,!0):(nr[on-_e]=B+1,on>=Qs?Qs=on:Ln=!0,O($t,b[on],x,null,L,G,J,H,X),et++)}const Di=Ln?NR(nr):Xi;for(Ne=Di.length-1,B=Wt-1;B>=0;B--){const $t=_e+B,on=b[$t],xi=$t+1<oe?b[$t+1].el:N;nr[B]===0?O(null,on,x,xi,L,G,J,H,X):Ln&&(Ne<0||B!==Di[Ne]?re(on,x,xi,2):Ne--)}}},re=(m,b,x,N,L=null)=>{const{el:G,type:J,transition:H,children:X,shapeFlag:B}=m;if(B&6){re(m.component.subTree,b,x,N);return}if(B&128){m.suspense.move(b,x,N);return}if(B&64){J.move(m,b,x,me);return}if(J===Jt){r(G,b,x);for(let ne=0;ne<X.length;ne++)re(X[ne],b,x,N);r(m.anchor,b,x);return}if(J===Yc){V(m,b,x);return}if(N!==2&&B&1&&H)if(N===0)H.beforeEnter(G),r(G,b,x),Ht(()=>H.enter(G),L);else{const{leave:ne,delayLeave:ae,afterLeave:de}=H,_e=()=>r(G,b,x),Be=()=>{ne(G,()=>{_e(),de&&de()})};ae?ae(G,_e,Be):Be()}else r(G,b,x)},fe=(m,b,x,N=!1,L=!1)=>{const{type:G,props:J,ref:H,children:X,dynamicChildren:B,shapeFlag:oe,patchFlag:ne,dirs:ae}=m;if(H!=null&&ud(H,null,x,m,!0),oe&256){b.ctx.deactivate(m);return}const de=oe&1&&ae,_e=!yo(m);let Be;if(_e&&(Be=J&&J.onVnodeBeforeUnmount)&&Sn(Be,b,m),oe&6)D(m.component,x,N);else{if(oe&128){m.suspense.unmount(x,N);return}de&&Vr(m,null,b,"beforeUnmount"),oe&64?m.type.remove(m,b,x,L,me,N):B&&(G!==Jt||ne>0&&ne&64)?Q(B,b,x,!1,!0):(G===Jt&&ne&384||!L&&oe&16)&&Q(X,b,x),N&&Re(m)}(_e&&(Be=J&&J.onVnodeUnmounted)||de)&&Ht(()=>{Be&&Sn(Be,b,m),de&&Vr(m,null,b,"unmounted")},x)},Re=m=>{const{type:b,el:x,anchor:N,transition:L}=m;if(b===Jt){Ie(x,N);return}if(b===Yc){j(m);return}const G=()=>{i(x),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(m.shapeFlag&1&&L&&!L.persisted){const{leave:J,delayLeave:H}=L,X=()=>J(x,G);H?H(m.el,G,X):X()}else G()},Ie=(m,b)=>{let x;for(;m!==b;)x=f(m),i(m),m=x;i(b)},D=(m,b,x)=>{const{bum:N,scope:L,update:G,subTree:J,um:H}=m;N&&Gc(N),L.stop(),G&&(G.active=!1,fe(J,m,b,x)),H&&Ht(H,b),Ht(()=>{m.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},Q=(m,b,x,N=!1,L=!1,G=0)=>{for(let J=G;J<m.length;J++)fe(m[J],b,x,N,L)},F=m=>m.shapeFlag&6?F(m.component.subTree):m.shapeFlag&128?m.suspense.next():f(m.anchor||m.el),Z=(m,b,x)=>{m==null?b._vnode&&fe(b._vnode,null,null,!0):O(b._vnode||null,m,b,null,null,null,x),fv(),Ab(),b._vnode=m},me={p:O,um:fe,m:re,r:Re,mt:Ze,mc:C,pc:Pe,pbc:se,n:F,o:t};let De,ve;return e&&([De,ve]=e(me)),{render:Z,hydrate:De,createApp:xR(Z,De)}}function Kr({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Kb(t,e,n=!1){const r=t.children,i=e.children;if(he(r)&&he(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=ur(i[s]),a.el=o.el),n||Kb(o,a))}}function NR(t){const e=t.slice(),n=[0];let r,i,s,o,a;const c=t.length;for(r=0;r<c;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}const MR=t=>t.__isTeleport,Jt=Symbol(void 0),Lp=Symbol(void 0),Ar=Symbol(void 0),Yc=Symbol(void 0),Eo=[];let vn=null;function mn(t=!1){Eo.push(vn=t?null:[])}function $R(){Eo.pop(),vn=Eo[Eo.length-1]||null}let Go=1;function Tv(t){Go+=t}function zb(t){return t.dynamicChildren=Go>0?vn||Xi:null,$R(),Go>0&&vn&&vn.push(t),t}function _o(t,e,n,r,i,s){return zb(qt(t,e,n,r,i,s,!0))}function ls(t,e,n,r,i){return zb(ct(t,e,n,r,i,!0))}function Ru(t){return t?t.__v_isVNode===!0:!1}function eo(t,e){return t.type===e.type&&t.key===e.key}const _l="__vInternal",Wb=({key:t})=>t!=null?t:null,Xc=({ref:t,ref_key:e,ref_for:n})=>t!=null?mt(t)||it(t)||ye(t)?{i:kt,r:t,k:e,f:!!n}:t:null;function qt(t,e=null,n=null,r=0,i=null,s=t===Jt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Wb(e),ref:e&&Xc(e),scopeId:yl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(Fp(c,n),s&128&&t.normalize(c)):n&&(c.shapeFlag|=mt(n)?8:16),Go>0&&!o&&vn&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&vn.push(c),c}const ct=LR;function LR(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===kb)&&(t=Ar),Ru(t)){const a=hs(t,e,!0);return n&&Fp(a,n),Go>0&&!s&&vn&&(a.shapeFlag&6?vn[vn.indexOf(t)]=a:vn.push(a)),a.patchFlag|=-2,a}if(YR(t)&&(t=t.__vccOpts),e){e=FR(e);let{class:a,style:c}=e;a&&!mt(a)&&(e.class=ll(a)),He(c)&&(vb(c)&&!he(c)&&(c=Kt({},c)),e.style=yp(c))}const o=mt(t)?1:iR(t)?128:MR(t)?64:He(t)?4:ye(t)?2:0;return qt(t,e,n,r,i,o,s,!0)}function FR(t){return t?vb(t)||_l in t?Kt({},t):t:null}function hs(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?jR(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Wb(a),ref:e&&e.ref?n&&i?he(i)?i.concat(Xc(e)):[i,Xc(e)]:Xc(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Jt?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&hs(t.ssContent),ssFallback:t.ssFallback&&hs(t.ssFallback),el:t.el,anchor:t.anchor}}function BR(t=" ",e=0){return ct(Lp,null,t,e)}function b7(t,e){const n=ct(Yc,null,t);return n.staticCount=e,n}function UR(t="",e=!1){return e?(mn(),ls(Ar,null,t)):ct(Ar,null,t)}function On(t){return t==null||typeof t=="boolean"?ct(Ar):he(t)?ct(Jt,null,t.slice()):typeof t=="object"?ur(t):ct(Lp,null,String(t))}function ur(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:hs(t)}function Fp(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(he(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Fp(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(_l in e)?e._ctx=kt:i===3&&kt&&(kt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ye(e)?(e={default:e,_ctx:kt},n=32):(e=String(e),r&64?(n=16,e=[BR(e)]):n=8);t.children=e,t.shapeFlag|=n}function jR(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=ll([e.class,r.class]));else if(i==="style")e.style=yp([e.style,r.style]);else if(hl(i)){const s=e[i],o=r[i];o&&s!==o&&!(he(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Sn(t,e,n,r=null){En(t,e,7,[n,r])}const VR=Vb();let KR=0;function zR(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||VR,s={uid:KR++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new sb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Fb(r,i),emitsOptions:Cb(r,i),emit:null,emitted:null,propsDefaults:Ke,inheritAttrs:r.inheritAttrs,ctx:Ke,data:Ke,props:Ke,attrs:Ke,slots:Ke,refs:Ke,setupState:Ke,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=JC.bind(null,s),t.ce&&t.ce(s),s}let dt=null;const bl=()=>dt||kt,fs=t=>{dt=t,t.scope.on()},ti=()=>{dt&&dt.scope.off(),dt=null};function Hb(t){return t.vnode.shapeFlag&4}let ds=!1;function WR(t,e=!1){ds=e;const{props:n,children:r}=t.vnode,i=Hb(t);TR(t,n,i,e),CR(t,r);const s=i?HR(t,e):void 0;return ds=!1,s}function HR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=us(new Proxy(t.ctx,ER));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?Gb(t):null;fs(t),Ds();const s=_r(r,t,0,[t.props,i]);if(xs(),ti(),nb(s)){if(s.then(ti,ti),e)return s.then(o=>{Av(t,o,e)}).catch(o=>{wa(o,t,0)});t.asyncDep=s}else Av(t,s,e)}else qb(t,e)}function Av(t,e,n){ye(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:He(e)&&(t.setupState=wb(e)),qb(t,n)}let Ov;function qb(t,e,n){const r=t.type;if(!t.render){if(!e&&Ov&&!r.render){const i=r.template||Mp(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=r,u=Kt(Kt({isCustomElement:s,delimiters:a},o),c);r.render=Ov(i,u)}}t.render=r.render||yn}fs(t),Ds(),_R(t),xs(),ti()}function qR(t){return new Proxy(t.attrs,{get(e,n){return tn(t,"get","$attrs"),e[n]}})}function Gb(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=qR(t))},slots:t.slots,emit:t.emit,expose:e}}function wl(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(wb(us(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ou)return Ou[n](t)}}))}function GR(t,e=!0){return ye(t)?t.displayName||t.name:t.name||e&&t.__name}function YR(t){return ye(t)&&"__vccOpts"in t}const Zt=(t,e)=>HC(t,e,ds);function w7(){return XR().slots}function XR(){const t=bl();return t.setupContext||(t.setupContext=Gb(t))}function Bp(t,e,n){const r=arguments.length;return r===2?He(e)&&!he(e)?Ru(e)?ct(t,null,[e]):ct(t,e):ct(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ru(n)&&(n=[n]),ct(t,e,n))}const QR="3.2.40",JR="http://www.w3.org/2000/svg",Gr=typeof document!="undefined"?document:null,Cv=Gr&&Gr.createElement("template"),ZR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Gr.createElementNS(JR,t):Gr.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Gr.createTextNode(t),createComment:t=>Gr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Gr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Cv.innerHTML=r?`<svg>${t}</svg>`:t;const a=Cv.content;if(r){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function eD(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function tD(t,e,n){const r=t.style,i=mt(n);if(n&&!i){for(const s in n)ld(r,s,n[s]);if(e&&!mt(e))for(const s in e)n[s]==null&&ld(r,s,"")}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const Rv=/\s*!important$/;function ld(t,e,n){if(he(n))n.forEach(r=>ld(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=nD(t,e);Rv.test(n)?t.setProperty(Ei(r),n.replace(Rv,""),"important"):t[r]=n}}const Dv=["Webkit","Moz","ms"],Ch={};function nD(t,e){const n=Ch[e];if(n)return n;let r=Nn(e);if(r!=="filter"&&r in t)return Ch[e]=r;r=dl(r);for(let i=0;i<Dv.length;i++){const s=Dv[i]+r;if(s in t)return Ch[e]=s}return e}const xv="http://www.w3.org/1999/xlink";function rD(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(xv,e.slice(6,e.length)):t.setAttributeNS(xv,e,n);else{const s=ZO(e);n==null||s&&!eb(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function iD(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const c=n==null?"":n;(t.value!==c||t.tagName==="OPTION")&&(t.value=c),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=eb(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}const[Yb,sD]=(()=>{let t=Date.now,e=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(n&&Number(n[1])<=53)}return[t,e]})();let hd=0;const oD=Promise.resolve(),aD=()=>{hd=0},cD=()=>hd||(oD.then(aD),hd=Yb());function Kn(t,e,n,r){t.addEventListener(e,n,r)}function uD(t,e,n,r){t.removeEventListener(e,n,r)}function lD(t,e,n,r,i=null){const s=t._vei||(t._vei={}),o=s[e];if(r&&o)o.value=r;else{const[a,c]=hD(e);if(r){const u=s[e]=fD(r,i);Kn(t,a,u,c)}else o&&(uD(t,a,o,c),s[e]=void 0)}}const kv=/(?:Once|Passive|Capture)$/;function hD(t){let e;if(kv.test(t)){e={};let r;for(;r=t.match(kv);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ei(t.slice(2)),e]}function fD(t,e){const n=r=>{const i=r.timeStamp||Yb();(sD||i>=n.attached-1)&&En(dD(r,n.value),e,5,[r])};return n.value=t,n.attached=cD(),n}function dD(t,e){if(he(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Pv=/^on[a-z]/,pD=(t,e,n,r,i=!1,s,o,a,c)=>{e==="class"?eD(t,r,i):e==="style"?tD(t,n,r):hl(e)?_p(e)||lD(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):gD(t,e,r,i))?iD(t,e,r,s,o,a,c):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),rD(t,e,r,i))};function gD(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&Pv.test(e)&&ye(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Pv.test(e)&&mt(n)?!1:e in t}const Or=t=>{const e=t.props["onUpdate:modelValue"]||!1;return he(e)?n=>Gc(e,n):e};function mD(t){t.target.composing=!0}function Nv(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Mv={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=Or(i);const s=r||i.props&&i.props.type==="number";Kn(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Su(a)),t._assign(a)}),n&&Kn(t,"change",()=>{t.value=t.value.trim()}),e||(Kn(t,"compositionstart",mD),Kn(t,"compositionend",Nv),Kn(t,"change",Nv))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t._assign=Or(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&Su(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},vD={deep:!0,created(t,e,n){t._assign=Or(n),Kn(t,"change",()=>{const r=t._modelValue,i=ps(t),s=t.checked,o=t._assign;if(he(r)){const a=Ep(r,i),c=a!==-1;if(s&&!c)o(r.concat(i));else if(!s&&c){const u=[...r];u.splice(a,1),o(u)}}else if(Rs(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(Xb(t,s))})},mounted:$v,beforeUpdate(t,e,n){t._assign=Or(n),$v(t,e,n)}};function $v(t,{value:e,oldValue:n},r){t._modelValue=e,he(e)?t.checked=Ep(e,r.props.value)>-1:Rs(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=ci(e,Xb(t,!0)))}const yD={created(t,{value:e},n){t.checked=ci(e,n.props.value),t._assign=Or(n),Kn(t,"change",()=>{t._assign(ps(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t._assign=Or(r),e!==n&&(t.checked=ci(e,r.props.value))}},ED={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Rs(e);Kn(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Su(ps(o)):ps(o));t._assign(t.multiple?i?new Set(s):s:s[0])}),t._assign=Or(r)},mounted(t,{value:e}){Lv(t,e)},beforeUpdate(t,e,n){t._assign=Or(n)},updated(t,{value:e}){Lv(t,e)}};function Lv(t,e){const n=t.multiple;if(!(n&&!he(e)&&!Rs(e))){for(let r=0,i=t.options.length;r<i;r++){const s=t.options[r],o=ps(s);if(n)he(e)?s.selected=Ep(e,o)>-1:s.selected=e.has(o);else if(ci(ps(s),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ps(t){return"_value"in t?t._value:t.value}function Xb(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const I7={created(t,e,n){uc(t,e,n,null,"created")},mounted(t,e,n){uc(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){uc(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){uc(t,e,n,r,"updated")}};function _D(t,e){switch(t){case"SELECT":return ED;case"TEXTAREA":return Mv;default:switch(e){case"checkbox":return vD;case"radio":return yD;default:return Mv}}}function uc(t,e,n,r,i){const o=_D(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}const bD=["ctrl","shift","alt","meta"],wD={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>bD.some(n=>t[`${n}Key`]&&!e.includes(n))},S7=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const s=wD[e[i]];if(s&&s(n,e))return}return t(n,...r)},ID={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},T7=(t,e)=>n=>{if(!("key"in n))return;const r=Ei(n.key);if(e.some(i=>i===r||ID[i]===r))return t(n)},SD=Kt({patchProp:pD},ZR);let Fv;function TD(){return Fv||(Fv=kR(SD))}const AD=(...t)=>{const e=TD().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=OD(r);if(!i)return;const s=e._component;!ye(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function OD(t){return mt(t)?document.querySelector(t):t}var CD=!1,Bv;const Sa=typeof window!="undefined",RD=t=>typeof t=="function",DD=t=>typeof t=="string",Rh=()=>{};Sa&&((Bv=window==null?void 0:window.navigator)==null?void 0:Bv.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Qb(t){return typeof t=="function"?t():Er(t)}function xD(t,e){function n(...r){t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})}return n}const Jb=t=>t();function kD(t=Jb){const e=Xe(!0);function n(){e.value=!1}function r(){e.value=!0}return{isActive:e,pause:n,resume:r,eventFilter:(...s)=>{e.value&&t(...s)}}}function PD(t){return t}function ND(t){return fC()?(dC(t),!0):!1}function MD(t,e=!0){bl()?xb(t):e?t():gl(t)}var Uv=Object.getOwnPropertySymbols,$D=Object.prototype.hasOwnProperty,LD=Object.prototype.propertyIsEnumerable,FD=(t,e)=>{var n={};for(var r in t)$D.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Uv)for(var r of Uv(t))e.indexOf(r)<0&&LD.call(t,r)&&(n[r]=t[r]);return n};function BD(t,e,n={}){const r=n,{eventFilter:i=Jb}=r,s=FD(r,["eventFilter"]);return qn(t,xD(i,e),s)}var UD=Object.defineProperty,jD=Object.defineProperties,VD=Object.getOwnPropertyDescriptors,Du=Object.getOwnPropertySymbols,Zb=Object.prototype.hasOwnProperty,ew=Object.prototype.propertyIsEnumerable,jv=(t,e,n)=>e in t?UD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,KD=(t,e)=>{for(var n in e||(e={}))Zb.call(e,n)&&jv(t,n,e[n]);if(Du)for(var n of Du(e))ew.call(e,n)&&jv(t,n,e[n]);return t},zD=(t,e)=>jD(t,VD(e)),WD=(t,e)=>{var n={};for(var r in t)Zb.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Du)for(var r of Du(t))e.indexOf(r)<0&&ew.call(t,r)&&(n[r]=t[r]);return n};function HD(t,e,n={}){const r=n,{eventFilter:i}=r,s=WD(r,["eventFilter"]),{eventFilter:o,pause:a,resume:c,isActive:u}=kD(i);return{stop:BD(t,e,zD(KD({},s),{eventFilter:o})),pause:a,resume:c,isActive:u}}function qD(t){var e;const n=Qb(t);return(e=n==null?void 0:n.$el)!=null?e:n}const xu=Sa?window:void 0;Sa&&window.document;Sa&&window.navigator;Sa&&window.location;function Qc(...t){let e,n,r,i;if(DD(t[0])?([n,r,i]=t,e=xu):[e,n,r,i]=t,!e)return Rh;let s=Rh;const o=qn(()=>qD(e),c=>{s(),c&&(c.addEventListener(n,r,i),s=()=>{c.removeEventListener(n,r,i),s=Rh})},{immediate:!0,flush:"post"}),a=()=>{o(),s()};return ND(a),a}function GD(t,e=!1){const n=Xe(),r=()=>n.value=Boolean(t());return r(),MD(r,e),n}const fd=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},dd="__vueuse_ssr_handlers__";fd[dd]=fd[dd]||{};const YD=fd[dd];function XD(t,e){return YD[t]||e}function QD(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"||Array.isArray(t)?"object":Number.isNaN(t)?"any":"number"}var JD=Object.defineProperty,Vv=Object.getOwnPropertySymbols,ZD=Object.prototype.hasOwnProperty,ex=Object.prototype.propertyIsEnumerable,Kv=(t,e,n)=>e in t?JD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zv=(t,e)=>{for(var n in e||(e={}))ZD.call(e,n)&&Kv(t,n,e[n]);if(Vv)for(var n of Vv(e))ex.call(e,n)&&Kv(t,n,e[n]);return t};const tx={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}};function Wv(t,e,n,r={}){var i;const{flush:s="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:c=!0,mergeDefaults:u=!1,shallow:l,window:h=xu,eventFilter:f,onError:d=y=>{console.error(y)}}=r,v=(l?_b:Xe)(e);if(!n)try{n=XD("getDefaultStorage",()=>{var y;return(y=xu)==null?void 0:y.localStorage})()}catch(y){d(y)}if(!n)return v;const O=Qb(e),I=QD(O),T=(i=r.serializer)!=null?i:tx[I],{pause:R,resume:V}=HD(v,()=>j(v.value),{flush:s,deep:o,eventFilter:f});return h&&a&&Qc(h,"storage",P),P(),v;function j(y){try{y==null?n.removeItem(t):n.setItem(t,T.write(y))}catch(C){d(C)}}function k(y){R();try{const C=y?y.newValue:n.getItem(t);if(C==null)return c&&O!==null&&n.setItem(t,T.write(O)),O;if(!y&&u){const q=T.read(C);return RD(u)?u(q,O):I==="object"&&!Array.isArray(q)?zv(zv({},O),q):q}else return typeof C!="string"?C:T.read(C)}catch(C){d(C)}finally{V()}}function P(y){if(!(y&&y.storageArea!==n)){if(y&&y.key===null){v.value=O;return}y&&y.key!==t||(v.value=k(y))}}}function nx(t={}){const{window:e=xu}=t,n=e==null?void 0:e.navigator,r=GD(()=>n&&"connection"in n),i=Xe(!0),s=Xe(!1),o=Xe(void 0),a=Xe(void 0),c=Xe(void 0),u=Xe(void 0),l=Xe(void 0),h=Xe(void 0),f=Xe("unknown"),d=r.value&&n.connection;function v(){!n||(i.value=n.onLine,o.value=i.value?void 0:Date.now(),a.value=i.value?Date.now():void 0,d&&(c.value=d.downlink,u.value=d.downlinkMax,h.value=d.effectiveType,l.value=d.rtt,s.value=d.saveData,f.value=d.type))}return e&&(Qc(e,"offline",()=>{i.value=!1,o.value=Date.now()}),Qc(e,"online",()=>{i.value=!0,a.value=Date.now()})),d&&Qc(d,"change",v,!1),v(),{isSupported:r,isOnline:i,saveData:s,offlineAt:o,onlineAt:a,downlink:c,downlinkMax:u,effectiveType:h,rtt:l,type:f}}function A7(t={}){const{isOnline:e}=nx(t);return e}var Hv;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(Hv||(Hv={}));var rx=Object.defineProperty,qv=Object.getOwnPropertySymbols,ix=Object.prototype.hasOwnProperty,sx=Object.prototype.propertyIsEnumerable,Gv=(t,e,n)=>e in t?rx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ox=(t,e)=>{for(var n in e||(e={}))ix.call(e,n)&&Gv(t,n,e[n]);if(qv)for(var n of qv(e))sx.call(e,n)&&Gv(t,n,e[n]);return t};const ax={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};ox({linear:PD},ax);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},nw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,d=u&63;c||(d=64,o||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw Error();const f=s<<2|a>>4;if(r.push(f),u!==64){const d=a<<4&240|u>>2;if(r.push(d),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ux=function(t){const e=tw(t);return nw.encodeByteArray(e,!0)},ku=function(t){return ux(t).replace(/\./g,"")},lx=function(t){try{return nw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ku(JSON.stringify(n)),ku(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iw(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function sw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ow(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fx(){return bt().indexOf("Electron/")>=0}function aw(){const t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dx(){return bt().indexOf("MSAppHost/")>=0}function px(){return typeof indexedDB=="object"}function gx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="FirebaseError";class $r extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mx,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ta.prototype.create)}}class Ta{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?vx(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new $r(i,a,r)}}function vx(t,e){return t.replace(yx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yx=/\{\$([^}]+)}/g;function Ex(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Yv(s)&&Yv(o)){if(!Yo(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Yv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ho(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function fo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _x(t,e){const n=new bx(t,e);return n.subscribe.bind(n)}class bx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dh),i.error===void 0&&(i.error=Dh),i.complete===void 0&&(i.complete=Dh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){return t&&t._delegate?t._delegate:t}class Cr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Tx(e))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hr){return this.instances.has(e)}getOptions(e=Hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Sx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hr){return this.component?this.component.multipleInstances?e:Hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sx(t){return t===Hr?void 0:t}function Tx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ix(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const Ox={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Cx=Me.INFO,Rx={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Dx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Rx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Up{constructor(e){this.name=e,this._logLevel=Cx,this._logHandler=Dx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ox[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const xx=(t,e)=>e.some(n=>t instanceof n);let Xv,Qv;function kx(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Px(){return Qv||(Qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cw=new WeakMap,pd=new WeakMap,uw=new WeakMap,xh=new WeakMap,jp=new WeakMap;function Nx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(br(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cw.set(n,t)}).catch(()=>{}),jp.set(e,t),e}function Mx(t){if(pd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pd.set(t,e)}let gd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return br(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $x(t){gd=t(gd)}function Lx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kh(this),e,...n);return uw.set(r,e.sort?e.sort():[e]),br(r)}:Px().includes(t)?function(...e){return t.apply(kh(this),e),br(cw.get(this))}:function(...e){return br(t.apply(kh(this),e))}}function Fx(t){return typeof t=="function"?Lx(t):(t instanceof IDBTransaction&&Mx(t),xx(t,kx())?new Proxy(t,gd):t)}function br(t){if(t instanceof IDBRequest)return Nx(t);if(xh.has(t))return xh.get(t);const e=Fx(t);return e!==t&&(xh.set(t,e),jp.set(e,t)),e}const kh=t=>jp.get(t);function Bx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=br(o);return r&&o.addEventListener("upgradeneeded",c=>{r(br(o.result),c.oldVersion,c.newVersion,br(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const Ux=["get","getKey","getAll","getAllKeys","count"],jx=["put","add","delete","clear"],Ph=new Map;function Jv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ph.get(e))return Ph.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ux.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return Ph.set(e,s),s}$x(t=>({...t,get:(e,n,r)=>Jv(e,n)||t.get(e,n,r),has:(e,n)=>!!Jv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Kx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Kx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const md="@firebase/app",Zv="0.7.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=new Up("@firebase/app"),zx="@firebase/app-compat",Wx="@firebase/analytics-compat",Hx="@firebase/analytics",qx="@firebase/app-check-compat",Gx="@firebase/app-check",Yx="@firebase/auth",Xx="@firebase/auth-compat",Qx="@firebase/database",Jx="@firebase/database-compat",Zx="@firebase/functions",ek="@firebase/functions-compat",tk="@firebase/installations",nk="@firebase/installations-compat",rk="@firebase/messaging",ik="@firebase/messaging-compat",sk="@firebase/performance",ok="@firebase/performance-compat",ak="@firebase/remote-config",ck="@firebase/remote-config-compat",uk="@firebase/storage",lk="@firebase/storage-compat",hk="@firebase/firestore",fk="@firebase/firestore-compat",dk="firebase",pk="9.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="[DEFAULT]",gk={[md]:"fire-core",[zx]:"fire-core-compat",[Hx]:"fire-analytics",[Wx]:"fire-analytics-compat",[Gx]:"fire-app-check",[qx]:"fire-app-check-compat",[Yx]:"fire-auth",[Xx]:"fire-auth-compat",[Qx]:"fire-rtdb",[Jx]:"fire-rtdb-compat",[Zx]:"fire-fn",[ek]:"fire-fn-compat",[tk]:"fire-iid",[nk]:"fire-iid-compat",[rk]:"fire-fcm",[ik]:"fire-fcm-compat",[sk]:"fire-perf",[ok]:"fire-perf-compat",[ak]:"fire-rc",[ck]:"fire-rc-compat",[uk]:"fire-gcs",[lk]:"fire-gcs-compat",[hk]:"fire-fst",[fk]:"fire-fst-compat","fire-js":"fire-js",[dk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new Map,vd=new Map;function mk(t,e){try{t.container.addComponent(e)}catch(n){Vp.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ui(t){const e=t.name;if(vd.has(e))return Vp.debug(`There were multiple attempts to register component ${e}.`),!1;vd.set(e,t);for(const n of Pu.values())mk(n,t);return!0}function Oa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},li=new Ta("app","Firebase",vk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=pk;function Ek(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:lw,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw li.create("bad-app-name",{appName:String(r)});const i=Pu.get(r);if(i){if(Yo(t,i.options)&&Yo(n,i.config))return i;throw li.create("duplicate-app",{appName:r})}const s=new Ax(r);for(const a of vd.values())s.addComponent(a);const o=new yk(t,n,s);return Pu.set(r,o),o}function Kp(t=lw){const e=Pu.get(t);if(!e)throw li.create("no-app",{appName:t});return e}function Dn(t,e,n){var r;let i=(r=gk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vp.warn(a.join(" "));return}ui(new Cr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="firebase-heartbeat-database",bk=1,Xo="firebase-heartbeat-store";let Nh=null;function hw(){return Nh||(Nh=Bx(_k,bk,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Xo)}}}).catch(t=>{throw li.create("storage-open",{originalErrorMessage:t.message})})),Nh}async function wk(t){var e;try{return(await hw()).transaction(Xo).objectStore(Xo).get(fw(t))}catch(n){throw li.create("storage-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message})}}async function ey(t,e){var n;try{const i=(await hw()).transaction(Xo,"readwrite");return await i.objectStore(Xo).put(e,fw(t)),i.done}catch(r){throw li.create("storage-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message})}}function fw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=1024,Sk=30*24*60*60*1e3;class Tk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ok(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ty();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Sk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ty(),{heartbeatsToSend:n,unsentEntries:r}=Ak(this._heartbeatsCache.heartbeats),i=ku(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ty(){return new Date().toISOString().substring(0,10)}function Ak(t,e=Ik){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ny(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ny(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ok{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return px()?gx().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await wk(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ey(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ey(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ny(t){return ku(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){ui(new Cr("platform-logger",e=>new Vx(e),"PRIVATE")),ui(new Cr("heartbeat",e=>new Tk(e),"PRIVATE")),Dn(md,Zv,t),Dn(md,Zv,"esm2017"),Dn("fire-js","")}Ck("");function zp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function dw(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rk=dw,pw=new Ta("auth","Firebase",dw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=new Up("@firebase/auth");function Jc(t,...e){ry.logLevel<=Me.ERROR&&ry.error(`Auth (${ks}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,...e){throw Wp(t,...e)}function xn(t,...e){return Wp(t,...e)}function gw(t,e,n){const r=Object.assign(Object.assign({},Rk()),{[e]:n});return new Ta("auth","Firebase",r).create(e,{appName:t.name})}function mw(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ln(t,"argument-error"),gw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pw.create(t,...e)}function ue(t,e,...n){if(!t)throw Wp(e,...n)}function zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jc(e),new Error(e)}function Qn(t,e){t||zn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=new Map;function Wn(t){Qn(t instanceof Function,"Expected a class definition");let e=iy.get(t);return e?(Qn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iy.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t,e){const n=Oa(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Yo(s,e!=null?e:{}))return i;ln(i,"already-initialized")}return n.initialize({options:e})}function xk(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kk(){return sy()==="http:"||sy()==="https:"}function sy(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kk()||sw()||"connection"in navigator)?navigator.onLine:!0}function Nk(){if(typeof navigator=="undefined")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qn(n>e,"Short delay should be less than long delay!"),this.isMobile=iw()||ow()}get(){return Pk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t,e){Qn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=new Ca(3e4,6e4);function Ra(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ps(t,e,n,r,i={}){return yw(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Aa(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),vw.fetch()(Ew(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function yw(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Mk),e);try{const i=new Lk(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw lc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw lc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw lc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw lc(t,"user-disabled",o);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw gw(t,l,u);ln(t,l)}}catch(i){if(i instanceof $r)throw i;ln(t,"network-request-failed")}}async function Il(t,e,n,r,i={}){const s=await Ps(t,e,n,r,i);return"mfaPendingCredential"in s&&ln(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Ew(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Hp(t.config,i):`${t.config.apiScheme}://${i}`}class Lk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xn(this.auth,"network-request-failed")),$k.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fk(t,e){return Ps(t,"POST","/v1/accounts:delete",e)}async function Bk(t,e){return Ps(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Uk(t,e=!1){const n=ut(t),r=await n.getIdToken(e),i=qp(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:bo(Mh(i.auth_time)),issuedAtTime:bo(Mh(i.iat)),expirationTime:bo(Mh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Mh(t){return Number(t)*1e3}function qp(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const s=lx(r);return s?JSON.parse(s):(Jc("Failed to decode base64 JWT payload"),null)}catch(s){return Jc("Caught error parsing JWT payload as JSON",(e=s)===null||e===void 0?void 0:e.toString()),null}}function jk(t){const e=qp(t);return ue(e,"internal-error"),ue(typeof e.exp!="undefined","internal-error"),ue(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $r&&Vk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Vk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bo(this.lastLoginAt),this.creationTime=bo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Qo(t,Bk(n,{idToken:r}));ue(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Hk(s.providerUserInfo):[],a=Wk(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),l=c?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _w(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,h)}async function zk(t){const e=ut(t);await Jo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Wk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Hk(t){return t.map(e=>{var{providerId:n}=e,r=zp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(t,e){const n=await yw(t,{},async()=>{const r=Aa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Ew(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vw.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken!="undefined","internal-error"),ue(typeof e.refreshToken!="undefined","internal-error");const n="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):jk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ue(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await qk(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Zo;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ue(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,e){ue(typeof t=="string"||typeof t=="undefined","internal-error",{appName:e})}class ni{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=zp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _w(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Qo(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Uk(this,e)}reload(){return zk(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Jo(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Qo(this,Fk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,d=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,O=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,R=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:V,emailVerified:j,isAnonymous:k,providerData:P,stsTokenManager:y}=n;ue(V&&y,e,"internal-error");const C=Zo.fromJSON(this.name,y);ue(typeof V=="string",e,"internal-error"),sr(h,e.name),sr(f,e.name),ue(typeof j=="boolean",e,"internal-error"),ue(typeof k=="boolean",e,"internal-error"),sr(d,e.name),sr(v,e.name),sr(O,e.name),sr(I,e.name),sr(T,e.name),sr(R,e.name);const q=new ni({uid:V,auth:e,email:f,emailVerified:j,displayName:h,isAnonymous:k,photoURL:v,phoneNumber:d,tenantId:O,stsTokenManager:C,createdAt:T,lastLoginAt:R});return P&&Array.isArray(P)&&(q.providerData=P.map(se=>Object.assign({},se))),I&&(q._redirectEventId=I),q}static async _fromIdTokenResponse(e,n,r=!1){const i=new Zo;i.updateFromServerResponse(n);const s=new ni({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Jo(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bw.type="NONE";const oy=bw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t,e,n){return`firebase:${t}:${e}:${n}`}class es{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Zc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new es(Wn(oy),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Wn(oy);const o=Zc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=await u._get(o);if(l){const h=ni._fromJSON(e,l);u!==s&&(a=h),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new es(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new es(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Sw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ww(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Aw(e))return"Blackberry";if(Ow(e))return"Webos";if(Gp(e))return"Safari";if((e.includes("chrome/")||Iw(e))&&!e.includes("edge/"))return"Chrome";if(Tw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ww(t=bt()){return/firefox\//i.test(t)}function Gp(t=bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Iw(t=bt()){return/crios\//i.test(t)}function Sw(t=bt()){return/iemobile/i.test(t)}function Tw(t=bt()){return/android/i.test(t)}function Aw(t=bt()){return/blackberry/i.test(t)}function Ow(t=bt()){return/webos/i.test(t)}function Sl(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Gk(t=bt()){var e;return Sl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Yk(){return aw()&&document.documentMode===10}function Cw(t=bt()){return Sl(t)||Tw(t)||Ow(t)||Aw(t)||/windows phone/i.test(t)||Sw(t)}function Xk(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t,e=[]){let n;switch(t){case"Browser":n=ay(bt());break;case"Worker":n=`${ay(bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ks}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cy(this),this.idTokenSubscription=new cy(this),this.beforeStateQueue=new Qk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pw,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await es.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c==null?void 0:c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await Jo(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Nk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ut(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ta("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wn(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await es.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Ns(t){return ut(t)}class cy{constructor(e){this.auth=e,this.observer=null,this.addObserver=_x(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zk(t,e,n){const r=Ns(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Dw(e),{host:o,port:a}=eP(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||tP()}function Dw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eP(t){const e=Dw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:uy(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:uy(o)}}}function uy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zn("not implemented")}_getIdTokenResponse(e){return zn("not implemented")}_linkToIdToken(e,n){return zn("not implemented")}_getReauthenticationResolver(e){return zn("not implemented")}}async function nP(t,e){return Ps(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(t,e){return Il(t,"POST","/v1/accounts:signInWithPassword",Ra(t,e))}async function iP(t,e){return Ps(t,"POST","/v1/accounts:sendOobCode",Ra(t,e))}async function sP(t,e){return iP(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(t,e){return Il(t,"POST","/v1/accounts:signInWithEmailLink",Ra(t,e))}async function aP(t,e){return Il(t,"POST","/v1/accounts:signInWithEmailLink",Ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Yp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ea(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ea(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return rP(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return oP(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return nP(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return aP(e,{idToken:n,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ts(t,e){return Il(t,"POST","/v1/accounts:signInWithIdp",Ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="http://localhost";class hi extends Yp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=zp(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new hi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ts(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ts(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ts(e,n)}buildRequest(){const e={requestUri:cP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Aa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lP(t){const e=ho(fo(t)).link,n=e?ho(fo(e)).deep_link_id:null,r=ho(fo(t)).deep_link_id;return(r?ho(fo(r)).link:null)||r||n||e||t}class Tl{constructor(e){var n,r,i,s,o,a;const c=ho(fo(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,h=uP((i=c.mode)!==null&&i!==void 0?i:null);ue(u&&l&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=l,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=lP(e);try{return new Tl(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.providerId=Ms.PROVIDER_ID}static credential(e,n){return ea._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Tl.parseLink(n);return ue(r,"argument-error"),ea._fromEmailAndCode(e,r.code,r.tenantId)}}Ms.PROVIDER_ID="password";Ms.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ms.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Al{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends Da{constructor(){super("facebook.com")}static credential(e){return hi._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Da{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hi._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fr.credential(n,r)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends Da{constructor(){super("github.com")}static credential(e){return hi._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.GITHUB_SIGN_IN_METHOD="github.com";dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Da{constructor(){super("twitter.com")}static credential(e,n){return hi._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pr.credential(n,r)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ni._fromIdTokenResponse(e,r,i),o=ly(r);return new gs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ly(r);return new gs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ly(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends $r{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mu(e,n,r,i)}}function xw(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Mu._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}async function fP(t,e,n=!1){const r=await Qo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gs._forOperation(t,"link",r)}async function dP(t,e,n){await Jo(e);const r=hP(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";ue(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const o=await Qo(t,xw(i,s,e,t),n);ue(o.idToken,i,"internal-error");const a=qp(o.idToken);ue(a,i,"internal-error");const{sub:c}=a;return ue(t.uid===c,i,"user-mismatch"),gs._forOperation(t,s,o)}catch(o){throw((r=o)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&ln(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(t,e,n=!1){const r="signIn",i=await xw(t,r,e),s=await gs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function gP(t,e){return kw(Ns(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t,e,n){var r;ue(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ue(typeof n.dynamicLinkDomain=="undefined"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ue(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ue(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O7(t,e,n){const r=ut(t),i={requestType:"EMAIL_SIGNIN",email:e};ue(n.handleCodeInApp,r,"argument-error"),n&&mP(r,i,n),await sP(r,i)}function C7(t,e){const n=Tl.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function R7(t,e,n){const r=ut(t),i=Ms.credentialWithLink(e,n||Nu());return ue(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),gP(r,i)}const $u="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($u,"1"),this.storage.removeItem($u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(){const t=bt();return Gp(t)||Sl(t)}const yP=1e3,EP=10;class Nw extends Pw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=vP()&&Xk(),this.fallbackToPolling=Cw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Yk()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,EP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},yP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nw.type="LOCAL";const _P=Nw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw extends Pw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Mw.type="SESSION";const $w=Mw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ol(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await bP(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ol.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=Cl("",20);i.port1.start();const l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return window}function IP(t){kn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(){return typeof kn().WorkerGlobalScope!="undefined"&&typeof kn().importScripts=="function"}async function SP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function AP(){return Lw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="firebaseLocalStorageDb",OP=1,Lu="firebaseLocalStorage",Bw="fbase_key";class xa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rl(t,e){return t.transaction([Lu],e?"readwrite":"readonly").objectStore(Lu)}function CP(){const t=indexedDB.deleteDatabase(Fw);return new xa(t).toPromise()}function yd(){const t=indexedDB.open(Fw,OP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lu,{keyPath:Bw})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lu)?e(r):(r.close(),await CP(),e(await yd()))})})}async function hy(t,e,n){const r=Rl(t,!0).put({[Bw]:e,value:n});return new xa(r).toPromise()}async function RP(t,e){const n=Rl(t,!1).get(e),r=await new xa(n).toPromise();return r===void 0?null:r.value}function fy(t,e){const n=Rl(t,!0).delete(e);return new xa(n).toPromise()}const DP=800,xP=3;class Uw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ol._getInstance(AP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await SP(),!this.activeServiceWorker)return;this.sender=new wP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yd();return await hy(e,$u,"1"),await fy(e,$u),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Rl(i,!1).getAll();return new xa(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Uw.type="LOCAL";const kP=Uw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function NP(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=xn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",PP().appendChild(r)})}function MP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Ca(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(t,e){return e?Wn(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends Yp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ts(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ts(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ts(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $P(t){return kw(t.auth,new Qp(t),t.bypassAuthState)}function LP(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),pP(n,new Qp(t),t.bypassAuthState)}async function FP(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),fP(n,new Qp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $P;case"linkViaPopup":case"linkViaRedirect":return FP;case"reauthViaPopup":case"reauthViaRedirect":return LP;default:ln(this.auth,"internal-error")}}resolve(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=new Ca(2e3,1e4);class zi extends jw{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,zi.currentPopupAction&&zi.currentPopupAction.cancel(),zi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Qn(this.filter.length===1,"Popup operations only handle one event");const e=Cl();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,BP.get())};e()}}zi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="pendingRedirect",eu=new Map;class jP extends jw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=eu.get(this.auth._key());if(!e){try{const r=await VP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}eu.set(this.auth._key(),e)}return this.bypassAuthState||eu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VP(t,e){const n=zw(e),r=Kw(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function Vw(t,e){return Kw(t)._set(zw(e),"true")}function KP(t,e){eu.set(t._key(),e)}function Kw(t){return Wn(t._redirectPersistence)}function zw(t){return Zc(UP,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(t,e,n){return zP(t,e,n)}async function zP(t,e,n){const r=Ns(t);mw(t,e,Al);const i=Xp(r,n);return await Vw(i,r),i._openRedirect(r,e,"signInViaRedirect")}function x7(t,e,n){return WP(t,e,n)}async function WP(t,e,n){const r=ut(t);mw(r.auth,e,Al);const i=Xp(r.auth,n);await dP(!1,r,e.providerId),await Vw(i,r.auth);const s=await HP(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function k7(t,e){return await Ns(t)._initializationPromise,Ww(t,e,!1)}async function Ww(t,e,n=!1){const r=Ns(t),i=Xp(r,e),o=await new jP(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function HP(t){const e=Cl(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=10*60*1e3;class GP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Hw(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(xn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qP&&this.cachedEventUids.clear(),this.cachedEventUids.has(dy(e))}saveEventToCache(e){this.cachedEventUids.add(dy(e)),this.lastProcessedEventTime=Date.now()}}function dy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Hw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(t,e={}){return Ps(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JP=/^https?/;async function ZP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await XP(t);for(const n of e)try{if(eN(n))return}catch{}ln(t,"unauthorized-domain")}function eN(t){const e=Nu(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!JP.test(n))return!1;if(QP.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new Ca(3e4,6e4);function py(){const t=kn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nN(t){return new Promise((e,n)=>{var r,i,s;function o(){py(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{py(),n(xn(t,"network-request-failed"))},timeout:tN.get()})}if(!((i=(r=kn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=kn().gapi)===null||s===void 0)&&s.load)o();else{const a=MP("iframefcb");return kn()[a]=()=>{gapi.load?o():n(xn(t,"network-request-failed"))},NP(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw tu=null,e})}let tu=null;function rN(t){return tu=tu||nN(t),tu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new Ca(5e3,15e3),sN="__/auth/iframe",oN="emulator/auth/iframe",aN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uN(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hp(e,oN):`https://${t.config.authDomain}/${sN}`,r={apiKey:e.apiKey,appName:t.name,v:ks},i=cN.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Aa(r).slice(1)}`}async function lN(t){const e=await rN(t),n=kn().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:uN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aN,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=xn(t,"network-request-failed"),a=kn().setTimeout(()=>{s(o)},iN.get());function c(){kn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fN=500,dN=600,pN="_blank",gN="http://localhost";class gy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mN(t,e,n,r=fN,i=dN){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},hN),{width:r.toString(),height:i.toString(),top:s,left:o}),u=bt().toLowerCase();n&&(a=Iw(u)?pN:n),ww(u)&&(e=e||gN,c.scrollbars="yes");const l=Object.entries(c).reduce((f,[d,v])=>`${f}${d}=${v},`,"");if(Gk(u)&&a!=="_self")return vN(e||"",a),new gy(null);const h=window.open(e||"",a,l);ue(h,t,"popup-blocked");try{h.focus()}catch{}return new gy(h)}function vN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="__/auth/handler",EN="emulator/auth/handler";function my(t,e,n,r,i,s){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ks,eventId:i};if(e instanceof Al){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Ex(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,u]of Object.entries(s||{}))o[c]=u}if(e instanceof Da){const c=e.getScopes().filter(u=>u!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];return`${_N(t)}?${Aa(a).slice(1)}`}function _N({config:t}){return t.emulator?Hp(t,EN):`https://${t.authDomain}/${yN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="webStorageSupport";class bN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$w,this._completeRedirectFn=Ww,this._overrideRedirectResult=KP}async _openPopup(e,n,r,i){var s;Qn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=my(e,n,r,Nu(),i);return mN(e,o,Cl())}async _openRedirect(e,n,r,i){return await this._originValidation(e),IP(my(e,n,r,Nu(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lN(e),r=new GP(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($h,{type:$h},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[$h];o!==void 0&&n(!!o),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Cw()||Gp()||Sl()}}const wN=bN;var vy="@firebase/auth",yy="0.20.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function TN(t){ui(new Cr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,c)=>{ue(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),ue(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rw(t)},l=new Jk(a,c,u);return xk(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ui(new Cr("auth-internal",e=>{const n=Ns(e.getProvider("auth").getImmediate());return(r=>new IN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(vy,yy,SN(t)),Dn(vy,yy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t=Kp()){const e=Oa(t,"auth");return e.isInitialized()?e.getImmediate():Dk(t,{popupRedirectResolver:wN,persistence:[kP,_P,$w]})}TN("Browser");function AN(){return qw().__VUE_DEVTOOLS_GLOBAL_HOOK__}function qw(){return typeof navigator!="undefined"&&typeof window!="undefined"?window:typeof global!="undefined"?global:{}}const ON=typeof Proxy=="function",CN="devtools-plugin:setup",RN="plugin:settings:set";let Pi,Ed;function DN(){var t;return Pi!==void 0||(typeof window!="undefined"&&window.performance?(Pi=!0,Ed=window.performance):typeof global!="undefined"&&((t=global.perf_hooks)===null||t===void 0?void 0:t.performance)?(Pi=!0,Ed=global.perf_hooks.performance):Pi=!1),Pi}function xN(){return DN()?Ed.now():Date.now()}class kN{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const o in e.settings){const a=e.settings[o];r[o]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const o=localStorage.getItem(i),a=JSON.parse(o);Object.assign(s,a)}catch{}this.fallbacks={getSettings(){return s},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}s=o},now(){return xN()}},n&&n.on(RN,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...c)=>{this.onQueue.push({method:a,args:c})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...c)=>(this.targetQueue.push({method:a,args:c,resolve:()=>{}}),this.fallbacks[a](...c)):(...c)=>new Promise(u=>{this.targetQueue.push({method:a,args:c,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function PN(t,e){const n=t,r=qw(),i=AN(),s=ON&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(CN,t,e);else{const o=s?new kN(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let Gw;const Dl=t=>Gw=t,Yw=Symbol();function _d(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var wo;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(wo||(wo={}));function NN(){const t=ob(!0),e=t.run(()=>Xe({}));let n=[],r=[];const i=us({install(s){Dl(i),i._a=s,s.provide(Yw,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!CD?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const Xw=()=>{};function Ey(t,e,n,r=Xw){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&bl()&&Pp(i),i}function Ni(t,...e){t.slice().forEach(n=>{n(...e)})}function bd(t,e){for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];_d(i)&&_d(r)&&t.hasOwnProperty(n)&&!it(r)&&!yr(r)?t[n]=bd(i,r):t[n]=r}return t}const MN=Symbol();function $N(t){return!_d(t)||!t.hasOwnProperty(MN)}const{assign:Vn}=Object;function LN(t){return!!(it(t)&&t.effect)}function FN(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let c;function u(){a||(n.state.value[t]=i?i():{});const l=VC(n.state.value[t]);return Vn(l,s,Object.keys(o||{}).reduce((h,f)=>(h[f]=us(Zt(()=>{Dl(n);const d=n._s.get(t);return o[f].call(d,d)})),h),{}))}return c=Qw(t,u,e,n,r,!0),c.$reset=function(){const h=i?i():{};this.$patch(f=>{Vn(f,h)})},c}function Qw(t,e,n={},r,i,s){let o;const a=Vn({actions:{}},n),c={deep:!0};let u,l,h=us([]),f=us([]),d;const v=r.state.value[t];!s&&!v&&(r.state.value[t]={}),Xe({});let O;function I(y){let C;u=l=!1,typeof y=="function"?(y(r.state.value[t]),C={type:wo.patchFunction,storeId:t,events:d}):(bd(r.state.value[t],y),C={type:wo.patchObject,payload:y,storeId:t,events:d});const q=O=Symbol();gl().then(()=>{O===q&&(u=!0)}),l=!0,Ni(h,C,r.state.value[t])}const T=Xw;function R(){o.stop(),h=[],f=[],r._s.delete(t)}function V(y,C){return function(){Dl(r);const q=Array.from(arguments),se=[],we=[];function Oe(ze){se.push(ze)}function tt(ze){we.push(ze)}Ni(f,{args:q,name:y,store:k,after:Oe,onError:tt});let Ze;try{Ze=C.apply(this&&this.$id===t?this:k,q)}catch(ze){throw Ni(we,ze),ze}return Ze instanceof Promise?Ze.then(ze=>(Ni(se,ze),ze)).catch(ze=>(Ni(we,ze),Promise.reject(ze))):(Ni(se,Ze),Ze)}}const j={_p:r,$id:t,$onAction:Ey.bind(null,f),$patch:I,$reset:T,$subscribe(y,C={}){const q=Ey(h,y,C.detached,()=>se()),se=o.run(()=>qn(()=>r.state.value[t],we=>{(C.flush==="sync"?l:u)&&y({storeId:t,type:wo.direct,events:d},we)},Vn({},c,C)));return q},$dispose:R},k=Nr(Vn({},j));r._s.set(t,k);const P=r._e.run(()=>(o=ob(),o.run(()=>e())));for(const y in P){const C=P[y];if(it(C)&&!LN(C)||yr(C))s||(v&&$N(C)&&(it(C)?C.value=v[y]:bd(C,v[y])),r.state.value[t][y]=C);else if(typeof C=="function"){const q=V(y,C);P[y]=q,a.actions[y]=C}}return Vn(k,P),Vn($e(k),P),Object.defineProperty(k,"$state",{get:()=>r.state.value[t],set:y=>{I(C=>{Vn(C,y)})}}),r._p.forEach(y=>{Vn(k,o.run(()=>y({store:k,app:r._a,pinia:r,options:a})))}),v&&s&&n.hydrate&&n.hydrate(k.$state,v),u=!0,l=!0,k}function P7(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,c){const u=bl();return a=a||u&&cn(Yw),a&&Dl(a),a=Gw,a._s.has(r)||(s?Qw(r,e,i,a):FN(r,i,a)),a._s.get(r)}return o.$id=r,o}const Jw=Xe([]),Zw=Xe(null),eI=Xe(null),tI=Xe(null),nI=Xe(null),Pt=Nr({current:""}),wd=[],BN=Xe(!1),Id=Mr(Jw),UN=Mr(Zw),jN=Mr(eI),VN=Mr(tI),KN=Mr(nI),zN=Mr(Pt),WN=t=>{Jw.value=t},HN=t=>{Zw.value=t},qN=t=>{eI.value=t},GN=t=>{tI.value=t},YN=t=>{nI.value=t},rI=(t=UN.value)=>{Pt.current=t;const e=Id.value.findIndex(r=>r.name===t),n=Id.value.map(r=>r.name);for(let r=0;r<n.length;r++){if(r>0&&r<n.length-1){const i=n[r]+"Minus",s=n[r]+"Plus";Pt[i]=e<=r,Pt[s]=e>=r}Pt[n[r]]=n[r]===t}},XN=()=>{const t=Object.keys(Pt);for(let e of t)delete Pt[e];rI(),iI(),sI(),oI()},iI=(t=jN.value)=>{Pt.orientation=t,Pt.isLandscape=t==="landscape",Pt.isPortrait=t==="portrait"},sI=(t=VN.value||"light")=>{Pt.theme=t,Pt.isDark=t==="dark",Pt.isLight=t==="light"},oI=(t=KN.value||"no-preference")=>{Pt.motionPreference=t,Pt.isMotion=t==="no-preference",Pt.isInert=t==="reduce"};function QN(){for(;wd.length>0;){const t=wd.shift();if(t&&typeof t=="object"){const{mql:e,cb:n}=t;e.addEventListener&&typeof e.addEventListener=="function"?e.removeEventListener("change",n):e.removeListener(n)}}}function JN(){return Id.value.reduce((e,n,r,i)=>{const s=`(min-width: ${n.min}px)`,o=r<i.length-1?`(max-width: ${i[r+1].min-1}px)`:null,a=s+(o?" and "+o:"");return Object.assign(e,{[n.name]:a})},{})}function hc(t,e){if(typeof window=="undefined"||!window.matchMedia)return!1;if(typeof window!="undefined"&&!window.matchMedia)return console.error("Vue3 Mq: No MatchMedia support detected in this browser. Responsive breakpoints not available."),!1;{BN.value=!0;const n=window.matchMedia(t),r=({matches:s})=>{s&&e()};wd.push({mql:n,cb:r}),n.addEventListener&&typeof n.addEventListener=="function"?n.addEventListener("change",r):n.addListener(r),r(n)}}const ZN={xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400},eM={xs:0,sm:576,md:768,lg:992,xl:1200},tM={xs:0,sm:768,md:992,lg:1200},nM={xs:0,sm:600,md:960,lg:1264,xl:1904},rM={xs:0,sm:640,md:768,lg:1024,xl:1280,xxl:1536},iM={phone:0,tablet:768,laptop:1370,desktop:1906},sM={mobile:0,small:600,medium:782,large:960,xlarge:1080,wide:1280,huge:1440};var Lh=Object.freeze(Object.defineProperty({__proto__:null,bootstrap5:ZN,bootstrap4:eM,bootstrap3:tM,vuetify:nM,tailwind:rM,devices:iM,wordpress:sM},Symbol.toStringTag,{value:"Module"}));const oM=t=>{if(typeof t=="string"&&Lh[t])return Lh[t];{const e=Object.keys(Lh);return console.error(`Vue3 Mq: "${t}" is not a valid preset. Available options are: ${e.join(", ")}`),!1}},aM=t=>["landscape","portrait"].includes(t)===!1?(console.error(`Vue3 Mq: "${t}" is not a valid default orientation. Reverting to unset value.`),null):t,cM=(t=null)=>["dark","light"].includes(t)===!1&&t!==null?(console.error(`Vue3 Mq: "${t}" is not a valid default theme. Reverting to unset value.`),null):t,uM=(t=null)=>["no-preference","reduce"].includes(t)===!1&&t!==null?(console.error(`Vue3 Mq: "${t}" is not a valid default motion preference. Reverting to unset value.`),null):t,_y=t=>{if(!t||typeof t!="object")return!1;const e=[];for(let i in t){const s=parseFloat(t[i]);if(!i||typeof i!="string"){console.warn(`Vue3 Mq: Invalid or missing breakpoint key (${JSON.stringify(i)}). Skipping.`);continue}else if(/^[^a-z]/i.test(i)||/[^a-zA-Z0-9_]/.test(i)){console.warn(`Vue3 Mq: "${i}" is an invalid breakpoint key. Breakpoint keys must start with a letter and contain only alphanumeric characters and underscores. Skipping.`);continue}else if(!s&&s!==0||isNaN(s)||s<0){console.warn(`Vue3 Mq: "${i}: ${t[i]}" is not a valid breakpoint. Breakpoints should be a number of zero or above. Skipping.`);continue}e.push({name:i,min:s})}return e.some(i=>i.min===0)||console.warn("Vue3 Mq: You have not declared a breakpoint with a minimum value of 0. There may be screen sizes to which Vue3Mq does not respond."),new Set(e.map(i=>i.min)).size<e.length&&console.warn("Vue3 Mq: Your breakpoint configuration contains duplicate values. Behaviour may be unpredictable."),e.length===0?!1:e.sort((i,s)=>i.min-s.min)};function by({breakpoints:t,preset:e}){const n=oM(e),r=_y(t);if(n===!1&&!r)throw new TypeError("Vue3 Mq: You must provide a valid preset, or valid breakpoint settings.");WN(r||_y(n)),QN(),XN();const i=JN();for(const s in i){const o=i[s];hc(o,()=>{rI(s)})}["portrait","landscape"].forEach(s=>{const o=()=>{iI(s)};hc(`(orientation: ${s})`,o)}),["light","dark"].forEach(s=>{const o=()=>{sI(s)};hc(`(prefers-color-scheme: ${s})`,o)}),["reduce","no-preference"].forEach(s=>{const o=()=>{oI(s)};hc(`(prefers-reduced-motion: ${s})`,o)})}const lM=(t,{preset:e="bootstrap5",breakpoints:n,defaultBreakpoint:r,defaultOrientation:i="landscape",defaultMotion:s="no-preference",defaultTheme:o}={})=>{try{const a=aM(i),c=cM(o),u=uM(s);HN(r),qN(a),GN(c),YN(u),t.provide("mq",zN),t.provide("updateBreakpoints",by),by({breakpoints:n,preset:e})}catch(a){console.error(a)}};var hM={install:lM},Zp=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const fM={props:{scope:String},computed:{appendable(){return this.$packageManager.getComponents(this.scope,"append")},prependable(){return this.$packageManager.getComponents(this.scope,"prepend")}},created(){[...this.appendable,...this.prependable].forEach(t=>{this.$options.components[t.name]=t})}};function dM(t,e,n,r,i,s){return mn(),_o("div",null,[(mn(!0),_o(Jt,null,yv(s.prependable,o=>(mn(),ls(mv(o.name),{key:o.name}))),128)),Nb(t.$slots,"default"),(mn(!0),_o(Jt,null,yv(s.appendable,o=>(mn(),ls(mv(o.name),{key:o.name}))),128))])}var pM=Zp(fM,[["render",dM]]);var _t=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function N7(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),e}function fc(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var dc=function(t){return t&&t.Math==Math&&t},be=dc(typeof globalThis=="object"&&globalThis)||dc(typeof window=="object"&&window)||dc(typeof self=="object"&&self)||dc(typeof _t=="object"&&_t)||function(){return this}()||Function("return this")(),xl={exports:{}},wy=be,gM=Object.defineProperty,eg=function(t,e){try{gM(wy,t,{value:e,configurable:!0,writable:!0})}catch{wy[t]=e}return e},mM=be,vM=eg,Iy="__core-js_shared__",yM=mM[Iy]||vM(Iy,{}),tg=yM,Sy=tg;(xl.exports=function(t,e){return Sy[t]||(Sy[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.22.6",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.6/LICENSE",source:"https://github.com/zloirock/core-js"});var Je=function(t){try{return!!t()}catch{return!0}},EM=Je,kl=!EM(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),aI=kl,cI=Function.prototype,_M=cI.bind,Sd=cI.call,bM=aI&&_M.bind(Sd,Sd),qe=aI?function(t){return t&&bM(t)}:function(t){return t&&function(){return Sd.apply(t,arguments)}},wM=be,IM=wM.TypeError,$s=function(t){if(t==null)throw IM("Can't call method on "+t);return t},SM=be,TM=$s,AM=SM.Object,Ls=function(t){return AM(TM(t))},OM=qe,CM=Ls,RM=OM({}.hasOwnProperty),bn=Object.hasOwn||function(e,n){return RM(CM(e),n)},DM=qe,xM=0,kM=Math.random(),PM=DM(1 .toString),ng=function(t){return"Symbol("+(t===void 0?"":t)+")_"+PM(++xM+kM,36)},ht=function(t){return typeof t=="function"},Fh=be,NM=ht,MM=function(t){return NM(t)?t:void 0},ka=function(t,e){return arguments.length<2?MM(Fh[t]):Fh[t]&&Fh[t][e]},$M=ka,LM=$M("navigator","userAgent")||"",uI=be,Bh=LM,Ty=uI.process,Ay=uI.Deno,Oy=Ty&&Ty.versions||Ay&&Ay.version,Cy=Oy&&Oy.v8,pn,Fu;Cy&&(pn=Cy.split("."),Fu=pn[0]>0&&pn[0]<4?1:+(pn[0]+pn[1]));!Fu&&Bh&&(pn=Bh.match(/Edge\/(\d+)/),(!pn||pn[1]>=74)&&(pn=Bh.match(/Chrome\/(\d+)/),pn&&(Fu=+pn[1])));var rg=Fu,Ry=rg,FM=Je,lI=!!Object.getOwnPropertySymbols&&!FM(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Ry&&Ry<41}),BM=lI,hI=BM&&!Symbol.sham&&typeof Symbol.iterator=="symbol",UM=be,jM=xl.exports,Dy=bn,VM=ng,xy=lI,fI=hI,Mi=jM("wks"),ri=UM.Symbol,ky=ri&&ri.for,KM=fI?ri:ri&&ri.withoutSetter||VM,zt=function(t){if(!Dy(Mi,t)||!(xy||typeof Mi[t]=="string")){var e="Symbol."+t;xy&&Dy(ri,t)?Mi[t]=ri[t]:fI&&ky?Mi[t]=ky(e):Mi[t]=KM(e)}return Mi[t]},zM=zt,WM=zM("toStringTag"),dI={};dI[WM]="z";var ig=String(dI)==="[object z]",HM=Je,wn=!HM(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),$n={},qM=ht,hn=function(t){return typeof t=="object"?t!==null:qM(t)},GM=be,Py=hn,Td=GM.document,YM=Py(Td)&&Py(Td.createElement),sg=function(t){return YM?Td.createElement(t):{}},XM=wn,QM=Je,JM=sg,pI=!XM&&!QM(function(){return Object.defineProperty(JM("div"),"a",{get:function(){return 7}}).a!=7}),ZM=wn,e$=Je,gI=ZM&&e$(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),mI=be,t$=hn,n$=mI.String,r$=mI.TypeError,rn=function(t){if(t$(t))return t;throw r$(n$(t)+" is not an object")},i$=kl,pc=Function.prototype.call,fn=i$?pc.bind(pc):function(){return pc.apply(pc,arguments)},s$=qe,og=s$({}.isPrototypeOf),o$=be,a$=ka,c$=ht,u$=og,l$=hI,h$=o$.Object,vI=l$?function(t){return typeof t=="symbol"}:function(t){var e=a$("Symbol");return c$(e)&&u$(e.prototype,h$(t))},f$=be,d$=f$.String,ag=function(t){try{return d$(t)}catch{return"Object"}},p$=be,g$=ht,m$=ag,v$=p$.TypeError,Pl=function(t){if(g$(t))return t;throw v$(m$(t)+" is not a function")},y$=Pl,Pa=function(t,e){var n=t[e];return n==null?void 0:y$(n)},E$=be,Uh=fn,jh=ht,Vh=hn,_$=E$.TypeError,b$=function(t,e){var n,r;if(e==="string"&&jh(n=t.toString)&&!Vh(r=Uh(n,t))||jh(n=t.valueOf)&&!Vh(r=Uh(n,t))||e!=="string"&&jh(n=t.toString)&&!Vh(r=Uh(n,t)))return r;throw _$("Can't convert object to primitive value")},w$=be,I$=fn,Ny=hn,My=vI,S$=Pa,T$=b$,A$=zt,O$=w$.TypeError,C$=A$("toPrimitive"),R$=function(t,e){if(!Ny(t)||My(t))return t;var n=S$(t,C$),r;if(n){if(e===void 0&&(e="default"),r=I$(n,t,e),!Ny(r)||My(r))return r;throw O$("Can't convert object to primitive value")}return e===void 0&&(e="number"),T$(t,e)},D$=R$,x$=vI,cg=function(t){var e=D$(t,"string");return x$(e)?e:e+""},k$=be,P$=wn,N$=pI,M$=gI,gc=rn,$y=cg,$$=k$.TypeError,Kh=Object.defineProperty,L$=Object.getOwnPropertyDescriptor,zh="enumerable",Wh="configurable",Hh="writable";$n.f=P$?M$?function(e,n,r){if(gc(e),n=$y(n),gc(r),typeof e=="function"&&n==="prototype"&&"value"in r&&Hh in r&&!r[Hh]){var i=L$(e,n);i&&i[Hh]&&(e[n]=r.value,r={configurable:Wh in r?r[Wh]:i[Wh],enumerable:zh in r?r[zh]:i[zh],writable:!1})}return Kh(e,n,r)}:Kh:function(e,n,r){if(gc(e),n=$y(n),gc(r),N$)try{return Kh(e,n,r)}catch{}if("get"in r||"set"in r)throw $$("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var Nl=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},F$=wn,B$=$n,U$=Nl,_i=F$?function(t,e,n){return B$.f(t,e,U$(1,n))}:function(t,e,n){return t[e]=n,t},yI={exports:{}},Ad=wn,j$=bn,EI=Function.prototype,V$=Ad&&Object.getOwnPropertyDescriptor,ug=j$(EI,"name"),K$=ug&&function(){}.name==="something",z$=ug&&(!Ad||Ad&&V$(EI,"name").configurable),lg={EXISTS:ug,PROPER:K$,CONFIGURABLE:z$},W$=qe,H$=ht,Od=tg,q$=W$(Function.toString);H$(Od.inspectSource)||(Od.inspectSource=function(t){return q$(t)});var hg=Od.inspectSource,G$=be,Y$=ht,X$=hg,Ly=G$.WeakMap,_I=Y$(Ly)&&/native code/.test(X$(Ly)),Q$=xl.exports,J$=ng,Fy=Q$("keys"),fg=function(t){return Fy[t]||(Fy[t]=J$(t))},Ml={},Z$=_I,bI=be,qh=qe,eL=hn,tL=_i,Gh=bn,Yh=tg,nL=fg,rL=Ml,By="Object already initialized",Cd=bI.TypeError,iL=bI.WeakMap,Bu,ta,Uu,sL=function(t){return Uu(t)?ta(t):Bu(t,{})},oL=function(t){return function(e){var n;if(!eL(e)||(n=ta(e)).type!==t)throw Cd("Incompatible receiver, "+t+" required");return n}};if(Z$||Yh.state){var zr=Yh.state||(Yh.state=new iL),aL=qh(zr.get),Uy=qh(zr.has),cL=qh(zr.set);Bu=function(t,e){if(Uy(zr,t))throw new Cd(By);return e.facade=t,cL(zr,t,e),e},ta=function(t){return aL(zr,t)||{}},Uu=function(t){return Uy(zr,t)}}else{var $i=nL("state");rL[$i]=!0,Bu=function(t,e){if(Gh(t,$i))throw new Cd(By);return e.facade=t,tL(t,$i,e),e},ta=function(t){return Gh(t,$i)?t[$i]:{}},Uu=function(t){return Gh(t,$i)}}var Fs={set:Bu,get:ta,has:Uu,enforce:sL,getterFor:oL},uL=Je,lL=ht,mc=bn,wI=wn,hL=lg.CONFIGURABLE,fL=hg,II=Fs,dL=II.enforce,pL=II.get,nu=Object.defineProperty,gL=wI&&!uL(function(){return nu(function(){},"length",{value:8}).length!==8}),mL=String(String).split("String"),vL=yI.exports=function(t,e,n){if(String(e).slice(0,7)==="Symbol("&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!mc(t,"name")||hL&&t.name!==e)&&nu(t,"name",{value:e,configurable:!0}),gL&&n&&mc(n,"arity")&&t.length!==n.arity&&nu(t,"length",{value:n.arity}),n&&mc(n,"constructor")&&n.constructor){if(wI)try{nu(t,"prototype",{writable:!1})}catch{}}else t.prototype=void 0;var r=dL(t);return mc(r,"source")||(r.source=mL.join(typeof e=="string"?e:"")),t};Function.prototype.toString=vL(function(){return lL(this)&&pL(this).source||fL(this)},"toString");var yL=ht,EL=_i,_L=yI.exports,bL=eg,bi=function(t,e,n,r){r||(r={});var i=r.enumerable,s=r.name!==void 0?r.name:e;return yL(n)&&_L(n,s,r),r.global?i?t[e]=n:bL(e,n):(r.unsafe?t[e]&&(i=!0):delete t[e],i?t[e]=n:EL(t,e,n)),t},SI=qe,wL=SI({}.toString),IL=SI("".slice),wi=function(t){return IL(wL(t),8,-1)},SL=be,TL=ig,AL=ht,ru=wi,OL=zt,CL=OL("toStringTag"),RL=SL.Object,DL=ru(function(){return arguments}())=="Arguments",xL=function(t,e){try{return t[e]}catch{}},$l=TL?ru:function(t){var e,n,r;return t===void 0?"Undefined":t===null?"Null":typeof(n=xL(e=RL(t),CL))=="string"?n:DL?ru(e):(r=ru(e))=="Object"&&AL(e.callee)?"Arguments":r},kL=ig,PL=$l,NL=kL?{}.toString:function(){return"[object "+PL(this)+"]"},ML=ig,$L=bi,LL=NL;ML||$L(Object.prototype,"toString",LL,{unsafe:!0});var TI={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},FL=sg,Xh=FL("span").classList,jy=Xh&&Xh.constructor&&Xh.constructor.prototype,AI=jy===Object.prototype?void 0:jy,Vy=qe,BL=Pl,UL=kl,jL=Vy(Vy.bind),OI=function(t,e){return BL(t),e===void 0?t:UL?jL(t,e):function(){return t.apply(e,arguments)}},VL=be,KL=qe,zL=Je,WL=wi,Qh=VL.Object,HL=KL("".split),Ll=zL(function(){return!Qh("z").propertyIsEnumerable(0)})?function(t){return WL(t)=="String"?HL(t,""):Qh(t)}:Qh,qL=Math.ceil,GL=Math.floor,YL=Math.trunc||function(e){var n=+e;return(n>0?GL:qL)(n)},XL=YL,Fl=function(t){var e=+t;return e!==e||e===0?0:XL(e)},QL=Fl,JL=Math.min,dg=function(t){return t>0?JL(QL(t),9007199254740991):0},ZL=dg,Na=function(t){return ZL(t.length)},eF=wi,tF=Array.isArray||function(e){return eF(e)=="Array"},nF=qe,rF=Je,CI=ht,iF=$l,sF=ka,oF=hg,RI=function(){},aF=[],DI=sF("Reflect","construct"),pg=/^\s*(?:class|function)\b/,cF=nF(pg.exec),uF=!pg.exec(RI),to=function(e){if(!CI(e))return!1;try{return DI(RI,aF,e),!0}catch{return!1}},xI=function(e){if(!CI(e))return!1;switch(iF(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return uF||!!cF(pg,oF(e))}catch{return!0}};xI.sham=!0;var lF=!DI||rF(function(){var t;return to(to.call)||!to(Object)||!to(function(){t=!0})||t})?xI:to,hF=be,Ky=tF,fF=lF,dF=hn,pF=zt,gF=pF("species"),zy=hF.Array,mF=function(t){var e;return Ky(t)&&(e=t.constructor,fF(e)&&(e===zy||Ky(e.prototype))?e=void 0:dF(e)&&(e=e[gF],e===null&&(e=void 0))),e===void 0?zy:e},vF=mF,yF=function(t,e){return new(vF(t))(e===0?0:e)},EF=OI,_F=qe,bF=Ll,wF=Ls,IF=Na,SF=yF,Wy=_F([].push),or=function(t){var e=t==1,n=t==2,r=t==3,i=t==4,s=t==6,o=t==7,a=t==5||s;return function(c,u,l,h){for(var f=wF(c),d=bF(f),v=EF(u,l),O=IF(d),I=0,T=h||SF,R=e?T(c,O):n||o?T(c,0):void 0,V,j;O>I;I++)if((a||I in d)&&(V=d[I],j=v(V,I,f),t))if(e)R[I]=j;else if(j)switch(t){case 3:return!0;case 5:return V;case 6:return I;case 2:Wy(R,V)}else switch(t){case 4:return!1;case 7:Wy(R,V)}return s?-1:r||i?i:R}},gg={forEach:or(0),map:or(1),filter:or(2),some:or(3),every:or(4),find:or(5),findIndex:or(6),filterReject:or(7)},TF=Je,kI=function(t,e){var n=[][t];return!!n&&TF(function(){n.call(null,e||function(){return 1},1)})},AF=gg.forEach,OF=kI,CF=OF("forEach"),RF=CF?[].forEach:function(e){return AF(this,e,arguments.length>1?arguments[1]:void 0)},Hy=be,qy=TI,DF=AI,Jh=RF,xF=_i,PI=function(t){if(t&&t.forEach!==Jh)try{xF(t,"forEach",Jh)}catch{t.forEach=Jh}};for(var Zh in qy)qy[Zh]&&PI(Hy[Zh]&&Hy[Zh].prototype);PI(DF);var kF=!!(typeof window!="undefined"&&window.document&&window.document.createElement),mg=kF,vg={},yg={},NI={}.propertyIsEnumerable,MI=Object.getOwnPropertyDescriptor,PF=MI&&!NI.call({1:2},1);yg.f=PF?function(e){var n=MI(this,e);return!!n&&n.enumerable}:NI;var NF=Ll,MF=$s,Bs=function(t){return NF(MF(t))},$F=wn,LF=fn,FF=yg,BF=Nl,UF=Bs,jF=cg,VF=bn,KF=pI,Gy=Object.getOwnPropertyDescriptor;vg.f=$F?Gy:function(e,n){if(e=UF(e),n=jF(n),KF)try{return Gy(e,n)}catch{}if(VF(e,n))return BF(!LF(FF.f,e,n),e[n])};var Bl={},zF=Fl,WF=Math.max,HF=Math.min,$I=function(t,e){var n=zF(t);return n<0?WF(n+e,0):HF(n,e)},qF=Bs,GF=$I,YF=Na,Yy=function(t){return function(e,n,r){var i=qF(e),s=YF(i),o=GF(r,s),a;if(t&&n!=n){for(;s>o;)if(a=i[o++],a!=a)return!0}else for(;s>o;o++)if((t||o in i)&&i[o]===n)return t||o||0;return!t&&-1}},XF={includes:Yy(!0),indexOf:Yy(!1)},QF=qe,ef=bn,JF=Bs,ZF=XF.indexOf,eB=Ml,Xy=QF([].push),LI=function(t,e){var n=JF(t),r=0,i=[],s;for(s in n)!ef(eB,s)&&ef(n,s)&&Xy(i,s);for(;e.length>r;)ef(n,s=e[r++])&&(~ZF(i,s)||Xy(i,s));return i},Eg=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],tB=LI,nB=Eg,rB=nB.concat("length","prototype");Bl.f=Object.getOwnPropertyNames||function(e){return tB(e,rB)};var _g={};_g.f=Object.getOwnPropertySymbols;var iB=ka,sB=qe,oB=Bl,aB=_g,cB=rn,uB=sB([].concat),lB=iB("Reflect","ownKeys")||function(e){var n=oB.f(cB(e)),r=aB.f;return r?uB(n,r(e)):n},Qy=bn,hB=lB,fB=vg,dB=$n,pB=function(t,e,n){for(var r=hB(e),i=dB.f,s=fB.f,o=0;o<r.length;o++){var a=r[o];!Qy(t,a)&&!(n&&Qy(n,a))&&i(t,a,s(e,a))}},gB=Je,mB=ht,vB=/#|\.prototype\./,Ma=function(t,e){var n=EB[yB(t)];return n==bB?!0:n==_B?!1:mB(e)?gB(e):!!e},yB=Ma.normalize=function(t){return String(t).replace(vB,".").toLowerCase()},EB=Ma.data={},_B=Ma.NATIVE="N",bB=Ma.POLYFILL="P",FI=Ma,tf=be,wB=vg.f,IB=_i,SB=bi,TB=eg,AB=pB,OB=FI,Lr=function(t,e){var n=t.target,r=t.global,i=t.stat,s,o,a,c,u,l;if(r?o=tf:i?o=tf[n]||TB(n,{}):o=(tf[n]||{}).prototype,o)for(a in e){if(u=e[a],t.dontCallGetSet?(l=wB(o,a),c=l&&l.value):c=o[a],s=OB(r?a:n+(i?".":"#")+a,t.forced),!s&&c!==void 0){if(typeof u==typeof c)continue;AB(u,c)}(t.sham||c&&c.sham)&&IB(u,"sham",!0),SB(o,a,u,t)}},CB=be,RB=$l,DB=CB.String,Ii=function(t){if(RB(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return DB(t)},BI=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,xB=qe,kB=$s,PB=Ii,NB=BI,Jy=xB("".replace),ju="["+NB+"]",MB=RegExp("^"+ju+ju+"*"),$B=RegExp(ju+ju+"*$"),nf=function(t){return function(e){var n=PB(kB(e));return t&1&&(n=Jy(n,MB,"")),t&2&&(n=Jy(n,$B,"")),n}},LB={start:nf(1),end:nf(2),trim:nf(3)},UI=be,FB=Je,BB=qe,UB=Ii,jB=LB.trim,Zy=BI,Io=UI.parseInt,eE=UI.Symbol,tE=eE&&eE.iterator,jI=/^[+-]?0x/i,VB=BB(jI.exec),KB=Io(Zy+"08")!==8||Io(Zy+"0x16")!==22||tE&&!FB(function(){Io(Object(tE))}),zB=KB?function(e,n){var r=jB(UB(e));return Io(r,n>>>0||(VB(jI,r)?16:10))}:Io,WB=Lr,nE=zB;WB({global:!0,forced:parseInt!=nE},{parseInt:nE});var HB=LI,qB=Eg,VI=Object.keys||function(e){return HB(e,qB)},rE=wn,GB=qe,YB=fn,XB=Je,rf=VI,QB=_g,JB=yg,ZB=Ls,eU=Ll,Li=Object.assign,iE=Object.defineProperty,tU=GB([].concat),nU=!Li||XB(function(){if(rE&&Li({b:1},Li(iE({},"a",{enumerable:!0,get:function(){iE(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(i){e[i]=i}),Li({},t)[n]!=7||rf(Li({},e)).join("")!=r})?function(e,n){for(var r=ZB(e),i=arguments.length,s=1,o=QB.f,a=JB.f;i>s;)for(var c=eU(arguments[s++]),u=o?tU(rf(c),o(c)):rf(c),l=u.length,h=0,f;l>h;)f=u[h++],(!rE||YB(a,c,f))&&(r[f]=c[f]);return r}:Li,rU=Lr,sE=nU;rU({target:"Object",stat:!0,arity:2,forced:Object.assign!==sE},{assign:sE});var iU=Je,sU=zt,oU=rg,aU=sU("species"),cU=function(t){return oU>=51||!iU(function(){var e=[],n=e.constructor={};return n[aU]=function(){return{foo:1}},e[t](Boolean).foo!==1})},uU=Lr,lU=gg.filter,hU=cU,fU=hU("filter");uU({target:"Array",proto:!0,forced:!fU},{filter:function(e){return lU(this,e,arguments.length>1?arguments[1]:void 0)}});var KI={},dU=wn,pU=gI,gU=$n,mU=rn,vU=Bs,yU=VI;KI.f=dU&&!pU?Object.defineProperties:function(e,n){mU(e);for(var r=vU(n),i=yU(n),s=i.length,o=0,a;s>o;)gU.f(e,a=i[o++],r[a]);return e};var EU=ka,_U=EU("document","documentElement"),bU=rn,wU=KI,oE=Eg,IU=Ml,SU=_U,TU=sg,AU=fg,aE=">",cE="<",Rd="prototype",Dd="script",zI=AU("IE_PROTO"),sf=function(){},WI=function(t){return cE+Dd+aE+t+cE+"/"+Dd+aE},uE=function(t){t.write(WI("")),t.close();var e=t.parentWindow.Object;return t=null,e},OU=function(){var t=TU("iframe"),e="java"+Dd+":",n;return t.style.display="none",SU.appendChild(t),t.src=String(e),n=t.contentWindow.document,n.open(),n.write(WI("document.F=Object")),n.close(),n.F},vc,iu=function(){try{vc=new ActiveXObject("htmlfile")}catch{}iu=typeof document!="undefined"?document.domain&&vc?uE(vc):OU():uE(vc);for(var t=oE.length;t--;)delete iu[Rd][oE[t]];return iu()};IU[zI]=!0;var bg=Object.create||function(e,n){var r;return e!==null?(sf[Rd]=bU(e),r=new sf,sf[Rd]=null,r[zI]=e):r=iu(),n===void 0?r:wU.f(r,n)},CU=zt,RU=bg,DU=$n.f,xd=CU("unscopables"),kd=Array.prototype;kd[xd]==null&&DU(kd,xd,{configurable:!0,value:RU(null)});var xU=function(t){kd[xd][t]=!0},$a={},kU=Je,PU=!kU(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),NU=be,MU=bn,$U=ht,LU=Ls,FU=fg,BU=PU,lE=FU("IE_PROTO"),Pd=NU.Object,UU=Pd.prototype,HI=BU?Pd.getPrototypeOf:function(t){var e=LU(t);if(MU(e,lE))return e[lE];var n=e.constructor;return $U(n)&&e instanceof n?n.prototype:e instanceof Pd?UU:null},jU=Je,VU=ht,hE=HI,KU=bi,zU=zt,Nd=zU("iterator"),qI=!1,fi,of,af;[].keys&&(af=[].keys(),"next"in af?(of=hE(hE(af)),of!==Object.prototype&&(fi=of)):qI=!0);var WU=fi==null||jU(function(){var t={};return fi[Nd].call(t)!==t});WU&&(fi={});VU(fi[Nd])||KU(fi,Nd,function(){return this});var GI={IteratorPrototype:fi,BUGGY_SAFARI_ITERATORS:qI},HU=$n.f,qU=bn,GU=zt,fE=GU("toStringTag"),wg=function(t,e,n){t&&!n&&(t=t.prototype),t&&!qU(t,fE)&&HU(t,fE,{configurable:!0,value:e})},YU=GI.IteratorPrototype,XU=bg,QU=Nl,JU=wg,ZU=$a,ej=function(){return this},tj=function(t,e,n,r){var i=e+" Iterator";return t.prototype=XU(YU,{next:QU(+!r,n)}),JU(t,i,!1),ZU[i]=ej,t},YI=be,nj=ht,rj=YI.String,ij=YI.TypeError,sj=function(t){if(typeof t=="object"||nj(t))return t;throw ij("Can't set "+rj(t)+" as a prototype")},oj=qe,aj=rn,cj=sj,XI=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},n;try{n=oj(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),n(e,[]),t=e instanceof Array}catch{}return function(i,s){return aj(i),cj(s),t?n(i,s):i.__proto__=s,i}}():void 0),uj=Lr,lj=fn,QI=lg,hj=ht,fj=tj,dE=HI,pE=XI,dj=wg,pj=_i,cf=bi,gj=zt,mj=$a,JI=GI,vj=QI.PROPER,yj=QI.CONFIGURABLE,gE=JI.IteratorPrototype,yc=JI.BUGGY_SAFARI_ITERATORS,no=gj("iterator"),mE="keys",ro="values",vE="entries",Ej=function(){return this},ZI=function(t,e,n,r,i,s,o){fj(n,e,r);var a=function(T){if(T===i&&f)return f;if(!yc&&T in l)return l[T];switch(T){case mE:return function(){return new n(this,T)};case ro:return function(){return new n(this,T)};case vE:return function(){return new n(this,T)}}return function(){return new n(this)}},c=e+" Iterator",u=!1,l=t.prototype,h=l[no]||l["@@iterator"]||i&&l[i],f=!yc&&h||a(i),d=e=="Array"&&l.entries||h,v,O,I;if(d&&(v=dE(d.call(new t)),v!==Object.prototype&&v.next&&(dE(v)!==gE&&(pE?pE(v,gE):hj(v[no])||cf(v,no,Ej)),dj(v,c,!0))),vj&&i==ro&&h&&h.name!==ro&&(yj?pj(l,"name",ro):(u=!0,f=function(){return lj(h,this)})),i)if(O={values:a(ro),keys:s?f:a(mE),entries:a(vE)},o)for(I in O)(yc||u||!(I in l))&&cf(l,I,O[I]);else uj({target:e,proto:!0,forced:yc||u},O);return l[no]!==f&&cf(l,no,f,{name:i}),mj[e]=f,O},_j=Bs,Ig=xU,yE=$a,eS=Fs,bj=$n.f,wj=ZI,Ij=wn,tS="Array Iterator",Sj=eS.set,Tj=eS.getterFor(tS),Aj=wj(Array,"Array",function(t,e){Sj(this,{type:tS,target:_j(t),index:0,kind:e})},function(){var t=Tj(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):n=="keys"?{value:r,done:!1}:n=="values"?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),EE=yE.Arguments=yE.Array;Ig("keys");Ig("values");Ig("entries");if(Ij&&EE.name!=="values")try{bj(EE,"name",{value:"values"})}catch{}var Sg=qe,Oj=Fl,Cj=Ii,Rj=$s,Dj=Sg("".charAt),_E=Sg("".charCodeAt),xj=Sg("".slice),bE=function(t){return function(e,n){var r=Cj(Rj(e)),i=Oj(n),s=r.length,o,a;return i<0||i>=s?t?"":void 0:(o=_E(r,i),o<55296||o>56319||i+1===s||(a=_E(r,i+1))<56320||a>57343?t?Dj(r,i):o:t?xj(r,i,i+2):(o-55296<<10)+(a-56320)+65536)}},nS={codeAt:bE(!1),charAt:bE(!0)},kj=nS.charAt,Pj=Ii,rS=Fs,Nj=ZI,iS="String Iterator",Mj=rS.set,$j=rS.getterFor(iS);Nj(String,"String",function(t){Mj(this,{type:iS,string:Pj(t),index:0})},function(){var e=$j(this),n=e.string,r=e.index,i;return r>=n.length?{value:void 0,done:!0}:(i=kj(n,r),e.index+=i.length,{value:i,done:!1})});var Lj=bi,sS=function(t,e,n){for(var r in e)Lj(t,r,e[r],n);return t},Ul={exports:{}},oS={},Fj=cg,Bj=$n,Uj=Nl,jj=function(t,e,n){var r=Fj(e);r in t?Bj.f(t,r,Uj(0,n)):t[r]=n},Vj=be,wE=$I,Kj=Na,zj=jj,Wj=Vj.Array,Hj=Math.max,qj=function(t,e,n){for(var r=Kj(t),i=wE(e,r),s=wE(n===void 0?r:n,r),o=Wj(Hj(s-i,0)),a=0;i<s;i++,a++)zj(o,a,t[i]);return o.length=a,o},Gj=wi,Yj=Bs,aS=Bl.f,Xj=qj,cS=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Qj=function(t){try{return aS(t)}catch{return Xj(cS)}};oS.f=function(e){return cS&&Gj(e)=="Window"?Qj(e):aS(Yj(e))};var Jj=Je,Zj=Jj(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),e2=Je,t2=hn,n2=wi,IE=Zj,su=Object.isExtensible,r2=e2(function(){su(1)}),uS=r2||IE?function(e){return!t2(e)||IE&&n2(e)=="ArrayBuffer"?!1:su?su(e):!0}:su,i2=Je,s2=!i2(function(){return Object.isExtensible(Object.preventExtensions({}))}),o2=Lr,a2=qe,c2=Ml,u2=hn,Tg=bn,l2=$n.f,SE=Bl,h2=oS,Ag=uS,f2=ng,d2=s2,lS=!1,Jn=f2("meta"),p2=0,Og=function(t){l2(t,Jn,{value:{objectID:"O"+p2++,weakData:{}}})},g2=function(t,e){if(!u2(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!Tg(t,Jn)){if(!Ag(t))return"F";if(!e)return"E";Og(t)}return t[Jn].objectID},m2=function(t,e){if(!Tg(t,Jn)){if(!Ag(t))return!0;if(!e)return!1;Og(t)}return t[Jn].weakData},v2=function(t){return d2&&lS&&Ag(t)&&!Tg(t,Jn)&&Og(t),t},y2=function(){E2.enable=function(){},lS=!0;var t=SE.f,e=a2([].splice),n={};n[Jn]=1,t(n).length&&(SE.f=function(r){for(var i=t(r),s=0,o=i.length;s<o;s++)if(i[s]===Jn){e(i,s,1);break}return i},o2({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:h2.f}))},E2=Ul.exports={enable:y2,fastKey:g2,getWeakData:m2,onFreeze:v2};c2[Jn]=!0;var _2=zt,b2=$a,w2=_2("iterator"),I2=Array.prototype,S2=function(t){return t!==void 0&&(b2.Array===t||I2[w2]===t)},T2=$l,TE=Pa,A2=$a,O2=zt,C2=O2("iterator"),hS=function(t){if(t!=null)return TE(t,C2)||TE(t,"@@iterator")||A2[T2(t)]},R2=be,D2=fn,x2=Pl,k2=rn,P2=ag,N2=hS,M2=R2.TypeError,$2=function(t,e){var n=arguments.length<2?N2(t):e;if(x2(n))return k2(D2(n,t));throw M2(P2(t)+" is not iterable")},L2=fn,AE=rn,F2=Pa,B2=function(t,e,n){var r,i;AE(t);try{if(r=F2(t,"return"),!r){if(e==="throw")throw n;return n}r=L2(r,t)}catch(s){i=!0,r=s}if(e==="throw")throw n;if(i)throw r;return AE(r),n},U2=be,j2=OI,V2=fn,K2=rn,z2=ag,W2=S2,H2=Na,OE=og,q2=$2,G2=hS,CE=B2,Y2=U2.TypeError,ou=function(t,e){this.stopped=t,this.result=e},RE=ou.prototype,fS=function(t,e,n){var r=n&&n.that,i=!!(n&&n.AS_ENTRIES),s=!!(n&&n.IS_ITERATOR),o=!!(n&&n.INTERRUPTED),a=j2(e,r),c,u,l,h,f,d,v,O=function(T){return c&&CE(c,"normal",T),new ou(!0,T)},I=function(T){return i?(K2(T),o?a(T[0],T[1],O):a(T[0],T[1])):o?a(T,O):a(T)};if(s)c=t;else{if(u=G2(t),!u)throw Y2(z2(t)+" is not iterable");if(W2(u)){for(l=0,h=H2(t);h>l;l++)if(f=I(t[l]),f&&OE(RE,f))return f;return new ou(!1)}c=q2(t,u)}for(d=c.next;!(v=V2(d,c)).done;){try{f=I(v.value)}catch(T){CE(c,"throw",T)}if(typeof f=="object"&&f&&OE(RE,f))return f}return new ou(!1)},X2=be,Q2=og,J2=X2.TypeError,dS=function(t,e){if(Q2(e,t))return t;throw J2("Incorrect invocation")},Z2=zt,pS=Z2("iterator"),gS=!1;try{var eV=0,DE={next:function(){return{done:!!eV++}},return:function(){gS=!0}};DE[pS]=function(){return this},Array.from(DE,function(){throw 2})}catch{}var tV=function(t,e){if(!e&&!gS)return!1;var n=!1;try{var r={};r[pS]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch{}return n},nV=ht,rV=hn,xE=XI,iV=function(t,e,n){var r,i;return xE&&nV(r=e.constructor)&&r!==n&&rV(i=r.prototype)&&i!==n.prototype&&xE(t,i),t},sV=Lr,oV=be,aV=qe,kE=FI,cV=bi,uV=Ul.exports,lV=fS,hV=dS,fV=ht,uf=hn,lf=Je,dV=tV,pV=wg,gV=iV,mV=function(t,e,n){var r=t.indexOf("Map")!==-1,i=t.indexOf("Weak")!==-1,s=r?"set":"add",o=oV[t],a=o&&o.prototype,c=o,u={},l=function(T){var R=aV(a[T]);cV(a,T,T=="add"?function(j){return R(this,j===0?0:j),this}:T=="delete"?function(V){return i&&!uf(V)?!1:R(this,V===0?0:V)}:T=="get"?function(j){return i&&!uf(j)?void 0:R(this,j===0?0:j)}:T=="has"?function(j){return i&&!uf(j)?!1:R(this,j===0?0:j)}:function(j,k){return R(this,j===0?0:j,k),this})},h=kE(t,!fV(o)||!(i||a.forEach&&!lf(function(){new o().entries().next()})));if(h)c=n.getConstructor(e,t,r,s),uV.enable();else if(kE(t,!0)){var f=new c,d=f[s](i?{}:-0,1)!=f,v=lf(function(){f.has(1)}),O=dV(function(T){new o(T)}),I=!i&&lf(function(){for(var T=new o,R=5;R--;)T[s](R,R);return!T.has(-0)});O||(c=e(function(T,R){hV(T,a);var V=gV(new o,T,c);return R!=null&&lV(R,V[s],{that:V,AS_ENTRIES:r}),V}),c.prototype=a,a.constructor=c),(v||I)&&(l("delete"),l("has"),r&&l("get")),(I||d)&&l(s),i&&a.clear&&delete a.clear}return u[t]=c,sV({global:!0,constructor:!0,forced:c!=o},u),pV(c,t),i||n.setStrong(c,t,r),c},vV=qe,PE=sS,Ec=Ul.exports.getWeakData,yV=rn,hf=hn,EV=dS,_V=fS,mS=gg,NE=bn,vS=Fs,bV=vS.set,wV=vS.getterFor,IV=mS.find,SV=mS.findIndex,TV=vV([].splice),AV=0,_c=function(t){return t.frozen||(t.frozen=new yS)},yS=function(){this.entries=[]},ff=function(t,e){return IV(t.entries,function(n){return n[0]===e})};yS.prototype={get:function(t){var e=ff(this,t);if(e)return e[1]},has:function(t){return!!ff(this,t)},set:function(t,e){var n=ff(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=SV(this.entries,function(n){return n[0]===t});return~e&&TV(this.entries,e,1),!!~e}};var OV={getConstructor:function(t,e,n,r){var i=t(function(c,u){EV(c,s),bV(c,{type:e,id:AV++,frozen:void 0}),u!=null&&_V(u,c[r],{that:c,AS_ENTRIES:n})}),s=i.prototype,o=wV(e),a=function(c,u,l){var h=o(c),f=Ec(yV(u),!0);return f===!0?_c(h).set(u,l):f[h.id]=l,c};return PE(s,{delete:function(c){var u=o(this);if(!hf(c))return!1;var l=Ec(c);return l===!0?_c(u).delete(c):l&&NE(l,u.id)&&delete l[u.id]},has:function(u){var l=o(this);if(!hf(u))return!1;var h=Ec(u);return h===!0?_c(l).has(u):h&&NE(h,l.id)}}),PE(s,n?{get:function(u){var l=o(this);if(hf(u)){var h=Ec(u);return h===!0?_c(l).get(u):h?h[l.id]:void 0}},set:function(u,l){return a(this,u,l)}}:{add:function(u){return a(this,u,!0)}}),i}},ME=be,bc=qe,CV=sS,RV=Ul.exports,DV=mV,ES=OV,wc=hn,Ic=uS,Sc=Fs.enforce,xV=_I,kV=!ME.ActiveXObject&&"ActiveXObject"in ME,io,_S=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},PV=DV("WeakMap",_S,ES);if(xV&&kV){io=ES.getConstructor(_S,"WeakMap",!0),RV.enable();var so=PV.prototype,$E=bc(so.delete),Tc=bc(so.has),LE=bc(so.get),FE=bc(so.set);CV(so,{delete:function(t){if(wc(t)&&!Ic(t)){var e=Sc(this);return e.frozen||(e.frozen=new io),$E(this,t)||e.frozen.delete(t)}return $E(this,t)},has:function(e){if(wc(e)&&!Ic(e)){var n=Sc(this);return n.frozen||(n.frozen=new io),Tc(this,e)||n.frozen.has(e)}return Tc(this,e)},get:function(e){if(wc(e)&&!Ic(e)){var n=Sc(this);return n.frozen||(n.frozen=new io),Tc(this,e)?LE(this,e):n.frozen.get(e)}return LE(this,e)},set:function(e,n){if(wc(e)&&!Ic(e)){var r=Sc(this);r.frozen||(r.frozen=new io),Tc(this,e)?FE(this,e,n):r.frozen.set(e,n)}else FE(this,e,n);return this}})}var BE=be,bS=TI,NV=AI,po=Aj,df=_i,wS=zt,pf=wS("iterator"),UE=wS("toStringTag"),gf=po.values,IS=function(t,e){if(t){if(t[pf]!==gf)try{df(t,pf,gf)}catch{t[pf]=gf}if(t[UE]||df(t,UE,e),bS[e]){for(var n in po)if(t[n]!==po[n])try{df(t,n,po[n])}catch{t[n]=po[n]}}}};for(var mf in bS)IS(BE[mf]&&BE[mf].prototype,mf);IS(NV,"DOMTokenList");var SS="Expected a function",jE=0/0,MV="[object Symbol]",$V=/^\s+|\s+$/g,LV=/^[-+]0x[0-9a-f]+$/i,FV=/^0b[01]+$/i,BV=/^0o[0-7]+$/i,UV=parseInt,jV=typeof _t=="object"&&_t&&_t.Object===Object&&_t,VV=typeof self=="object"&&self&&self.Object===Object&&self,KV=jV||VV||Function("return this")(),zV=Object.prototype,WV=zV.toString,HV=Math.max,qV=Math.min,vf=function(){return KV.Date.now()};function GV(t,e,n){var r,i,s,o,a,c,u=0,l=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(SS);e=VE(e)||0,Vu(n)&&(l=!!n.leading,h="maxWait"in n,s=h?HV(VE(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function d(P){var y=r,C=i;return r=i=void 0,u=P,o=t.apply(C,y),o}function v(P){return u=P,a=setTimeout(T,e),l?d(P):o}function O(P){var y=P-c,C=P-u,q=e-y;return h?qV(q,s-C):q}function I(P){var y=P-c,C=P-u;return c===void 0||y>=e||y<0||h&&C>=s}function T(){var P=vf();if(I(P))return R(P);a=setTimeout(T,O(P))}function R(P){return a=void 0,f&&r?d(P):(r=i=void 0,o)}function V(){a!==void 0&&clearTimeout(a),u=0,r=c=i=a=void 0}function j(){return a===void 0?o:R(vf())}function k(){var P=vf(),y=I(P);if(r=arguments,i=this,c=P,y){if(a===void 0)return v(c);if(h)return a=setTimeout(T,e),d(c)}return a===void 0&&(a=setTimeout(T,e)),o}return k.cancel=V,k.flush=j,k}function YV(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(SS);return Vu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),GV(t,e,{leading:r,maxWait:e,trailing:i})}function Vu(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function XV(t){return!!t&&typeof t=="object"}function QV(t){return typeof t=="symbol"||XV(t)&&WV.call(t)==MV}function VE(t){if(typeof t=="number")return t;if(QV(t))return jE;if(Vu(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Vu(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace($V,"");var n=FV.test(t);return n||BV.test(t)?UV(t.slice(2),n?2:8):LV.test(t)?jE:+t}var KE=YV,JV="Expected a function",zE=0/0,ZV="[object Symbol]",e3=/^\s+|\s+$/g,t3=/^[-+]0x[0-9a-f]+$/i,n3=/^0b[01]+$/i,r3=/^0o[0-7]+$/i,i3=parseInt,s3=typeof _t=="object"&&_t&&_t.Object===Object&&_t,o3=typeof self=="object"&&self&&self.Object===Object&&self,a3=s3||o3||Function("return this")(),c3=Object.prototype,u3=c3.toString,l3=Math.max,h3=Math.min,yf=function(){return a3.Date.now()};function f3(t,e,n){var r,i,s,o,a,c,u=0,l=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(JV);e=WE(e)||0,Md(n)&&(l=!!n.leading,h="maxWait"in n,s=h?l3(WE(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function d(P){var y=r,C=i;return r=i=void 0,u=P,o=t.apply(C,y),o}function v(P){return u=P,a=setTimeout(T,e),l?d(P):o}function O(P){var y=P-c,C=P-u,q=e-y;return h?h3(q,s-C):q}function I(P){var y=P-c,C=P-u;return c===void 0||y>=e||y<0||h&&C>=s}function T(){var P=yf();if(I(P))return R(P);a=setTimeout(T,O(P))}function R(P){return a=void 0,f&&r?d(P):(r=i=void 0,o)}function V(){a!==void 0&&clearTimeout(a),u=0,r=c=i=a=void 0}function j(){return a===void 0?o:R(yf())}function k(){var P=yf(),y=I(P);if(r=arguments,i=this,c=P,y){if(a===void 0)return v(c);if(h)return a=setTimeout(T,e),d(c)}return a===void 0&&(a=setTimeout(T,e)),o}return k.cancel=V,k.flush=j,k}function Md(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function d3(t){return!!t&&typeof t=="object"}function p3(t){return typeof t=="symbol"||d3(t)&&u3.call(t)==ZV}function WE(t){if(typeof t=="number")return t;if(p3(t))return zE;if(Md(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Md(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(e3,"");var n=n3.test(t);return n||r3.test(t)?i3(t.slice(2),n?2:8):t3.test(t)?zE:+t}var HE=f3,g3="Expected a function",TS="__lodash_hash_undefined__",m3="[object Function]",v3="[object GeneratorFunction]",y3=/[\\^$.*+?()[\]{}|]/g,E3=/^\[object .+?Constructor\]$/,_3=typeof _t=="object"&&_t&&_t.Object===Object&&_t,b3=typeof self=="object"&&self&&self.Object===Object&&self,AS=_3||b3||Function("return this")();function w3(t,e){return t==null?void 0:t[e]}function I3(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var S3=Array.prototype,T3=Function.prototype,OS=Object.prototype,Ef=AS["__core-js_shared__"],qE=function(){var t=/[^.]+$/.exec(Ef&&Ef.keys&&Ef.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),CS=T3.toString,Cg=OS.hasOwnProperty,A3=OS.toString,O3=RegExp("^"+CS.call(Cg).replace(y3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C3=S3.splice,R3=RS(AS,"Map"),na=RS(Object,"create");function di(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function D3(){this.__data__=na?na(null):{}}function x3(t){return this.has(t)&&delete this.__data__[t]}function k3(t){var e=this.__data__;if(na){var n=e[t];return n===TS?void 0:n}return Cg.call(e,t)?e[t]:void 0}function P3(t){var e=this.__data__;return na?e[t]!==void 0:Cg.call(e,t)}function N3(t,e){var n=this.__data__;return n[t]=na&&e===void 0?TS:e,this}di.prototype.clear=D3;di.prototype.delete=x3;di.prototype.get=k3;di.prototype.has=P3;di.prototype.set=N3;function Us(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function M3(){this.__data__=[]}function $3(t){var e=this.__data__,n=jl(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():C3.call(e,n,1),!0}function L3(t){var e=this.__data__,n=jl(e,t);return n<0?void 0:e[n][1]}function F3(t){return jl(this.__data__,t)>-1}function B3(t,e){var n=this.__data__,r=jl(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}Us.prototype.clear=M3;Us.prototype.delete=$3;Us.prototype.get=L3;Us.prototype.has=F3;Us.prototype.set=B3;function Si(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function U3(){this.__data__={hash:new di,map:new(R3||Us),string:new di}}function j3(t){return Vl(this,t).delete(t)}function V3(t){return Vl(this,t).get(t)}function K3(t){return Vl(this,t).has(t)}function z3(t,e){return Vl(this,t).set(t,e),this}Si.prototype.clear=U3;Si.prototype.delete=j3;Si.prototype.get=V3;Si.prototype.has=K3;Si.prototype.set=z3;function jl(t,e){for(var n=t.length;n--;)if(Y3(t[n][0],e))return n;return-1}function W3(t){if(!DS(t)||q3(t))return!1;var e=X3(t)||I3(t)?O3:E3;return e.test(G3(t))}function Vl(t,e){var n=t.__data__;return H3(e)?n[typeof e=="string"?"string":"hash"]:n.map}function RS(t,e){var n=w3(t,e);return W3(n)?n:void 0}function H3(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function q3(t){return!!qE&&qE in t}function G3(t){if(t!=null){try{return CS.call(t)}catch{}try{return t+""}catch{}}return""}function Rg(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(g3);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o),o};return n.cache=new(Rg.Cache||Si),n}Rg.Cache=Si;function Y3(t,e){return t===e||t!==t&&e!==e}function X3(t){var e=DS(t)?A3.call(t):"";return e==m3||e==v3}function DS(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}var Q3=Rg,ii=[],J3=function(){return ii.some(function(t){return t.activeTargets.length>0})},Z3=function(){return ii.some(function(t){return t.skippedTargets.length>0})},GE="ResizeObserver loop completed with undelivered notifications.",eK=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:GE}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=GE),window.dispatchEvent(t)},ra;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(ra||(ra={}));var si=function(t){return Object.freeze(t)},tK=function(){function t(e,n){this.inlineSize=e,this.blockSize=n,si(this)}return t}(),xS=function(){function t(e,n,r,i){return this.x=e,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,si(this)}return t.prototype.toJSON=function(){var e=this,n=e.x,r=e.y,i=e.top,s=e.right,o=e.bottom,a=e.left,c=e.width,u=e.height;return{x:n,y:r,top:i,right:s,bottom:o,left:a,width:c,height:u}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),Dg=function(t){return t instanceof SVGElement&&"getBBox"in t},kS=function(t){if(Dg(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var i=t,s=i.offsetWidth,o=i.offsetHeight;return!(s||o||t.getClientRects().length)},YE=function(t){var e,n;if(t instanceof Element)return!0;var r=(n=(e=t)===null||e===void 0?void 0:e.ownerDocument)===null||n===void 0?void 0:n.defaultView;return!!(r&&t instanceof r.Element)},nK=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},So=typeof window!="undefined"?window:{},Ac=new WeakMap,XE=/auto|scroll/,rK=/^tb|vertical/,iK=/msie|trident/i.test(So.navigator&&So.navigator.userAgent),Tn=function(t){return parseFloat(t||"0")},ns=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new tK((n?e:t)||0,(n?t:e)||0)},QE=si({devicePixelContentBoxSize:ns(),borderBoxSize:ns(),contentBoxSize:ns(),contentRect:new xS(0,0,0,0)}),PS=function(t,e){if(e===void 0&&(e=!1),Ac.has(t)&&!e)return Ac.get(t);if(kS(t))return Ac.set(t,QE),QE;var n=getComputedStyle(t),r=Dg(t)&&t.ownerSVGElement&&t.getBBox(),i=!iK&&n.boxSizing==="border-box",s=rK.test(n.writingMode||""),o=!r&&XE.test(n.overflowY||""),a=!r&&XE.test(n.overflowX||""),c=r?0:Tn(n.paddingTop),u=r?0:Tn(n.paddingRight),l=r?0:Tn(n.paddingBottom),h=r?0:Tn(n.paddingLeft),f=r?0:Tn(n.borderTopWidth),d=r?0:Tn(n.borderRightWidth),v=r?0:Tn(n.borderBottomWidth),O=r?0:Tn(n.borderLeftWidth),I=h+u,T=c+l,R=O+d,V=f+v,j=a?t.offsetHeight-V-t.clientHeight:0,k=o?t.offsetWidth-R-t.clientWidth:0,P=i?I+R:0,y=i?T+V:0,C=r?r.width:Tn(n.width)-P-k,q=r?r.height:Tn(n.height)-y-j,se=C+I+k+R,we=q+T+j+V,Oe=si({devicePixelContentBoxSize:ns(Math.round(C*devicePixelRatio),Math.round(q*devicePixelRatio),s),borderBoxSize:ns(se,we,s),contentBoxSize:ns(C,q,s),contentRect:new xS(h,c,C,q)});return Ac.set(t,Oe),Oe},NS=function(t,e,n){var r=PS(t,n),i=r.borderBoxSize,s=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(e){case ra.DEVICE_PIXEL_CONTENT_BOX:return o;case ra.BORDER_BOX:return i;default:return s}},sK=function(){function t(e){var n=PS(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=si([n.borderBoxSize]),this.contentBoxSize=si([n.contentBoxSize]),this.devicePixelContentBoxSize=si([n.devicePixelContentBoxSize])}return t}(),MS=function(t){if(kS(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},oK=function(){var t=1/0,e=[];ii.forEach(function(o){if(o.activeTargets.length!==0){var a=[];o.activeTargets.forEach(function(u){var l=new sK(u.target),h=MS(u.target);a.push(l),u.lastReportedSize=NS(u.target,u.observedBox),h<t&&(t=h)}),e.push(function(){o.callback.call(o.observer,a,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var n=0,r=e;n<r.length;n++){var i=r[n];i()}return t},JE=function(t){ii.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(MS(i.target)>t?n.activeTargets.push(i):n.skippedTargets.push(i))})})},aK=function(){var t=0;for(JE(t);J3();)t=oK(),JE(t);return Z3()&&eK(),t>0},_f,$S=[],cK=function(){return $S.splice(0).forEach(function(t){return t()})},uK=function(t){if(!_f){var e=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return cK()}).observe(n,r),_f=function(){n.textContent=""+(e?e--:e++)}}$S.push(t),_f()},lK=function(t){uK(function(){requestAnimationFrame(t)})},au=0,hK=function(){return!!au},fK=250,dK={attributes:!0,characterData:!0,childList:!0,subtree:!0},ZE=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],e0=function(t){return t===void 0&&(t=0),Date.now()+t},bf=!1,pK=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var n=this;if(e===void 0&&(e=fK),!bf){bf=!0;var r=e0(e);lK(function(){var i=!1;try{i=aK()}finally{if(bf=!1,e=r-e0(),!hK())return;i?n.run(1e3):e>0?n.run(e):n.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,n=function(){return e.observer&&e.observer.observe(document.body,dK)};document.body?n():So.addEventListener("DOMContentLoaded",n)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),ZE.forEach(function(n){return So.addEventListener(n,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),ZE.forEach(function(n){return So.removeEventListener(n,e.listener,!0)}),this.stopped=!0)},t}(),$d=new pK,t0=function(t){!au&&t>0&&$d.start(),au+=t,!au&&$d.stop()},gK=function(t){return!Dg(t)&&!nK(t)&&getComputedStyle(t).display==="inline"},mK=function(){function t(e,n){this.target=e,this.observedBox=n||ra.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=NS(this.target,this.observedBox,!0);return gK(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),vK=function(){function t(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n}return t}(),Oc=new WeakMap,n0=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},Cc=function(){function t(){}return t.connect=function(e,n){var r=new vK(e,n);Oc.set(e,r)},t.observe=function(e,n,r){var i=Oc.get(e),s=i.observationTargets.length===0;n0(i.observationTargets,n)<0&&(s&&ii.push(i),i.observationTargets.push(new mK(n,r&&r.box)),t0(1),$d.schedule())},t.unobserve=function(e,n){var r=Oc.get(e),i=n0(r.observationTargets,n),s=r.observationTargets.length===1;i>=0&&(s&&ii.splice(ii.indexOf(r),1),r.observationTargets.splice(i,1),t0(-1))},t.disconnect=function(e){var n=this,r=Oc.get(e);r.observationTargets.slice().forEach(function(i){return n.unobserve(e,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},t}(),yK=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Cc.connect(this,e)}return t.prototype.observe=function(e,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!YE(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Cc.observe(this,e,n)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!YE(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Cc.unobserve(this,e)},t.prototype.disconnect=function(){Cc.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}(),EK=be,_K=Pl,bK=Ls,wK=Ll,IK=Na,SK=EK.TypeError,r0=function(t){return function(e,n,r,i){_K(n);var s=bK(e),o=wK(s),a=IK(s),c=t?a-1:0,u=t?-1:1;if(r<2)for(;;){if(c in o){i=o[c],c+=u;break}if(c+=u,t?c<0:a<=c)throw SK("Reduce of empty array with no initial value")}for(;t?c>=0:a>c;c+=u)c in o&&(i=n(i,o[c],c,s));return i}},TK={left:r0(!1),right:r0(!0)},AK=wi,OK=be,CK=AK(OK.process)=="process",RK=Lr,DK=TK.left,xK=kI,i0=rg,kK=CK,PK=xK("reduce"),NK=!kK&&i0>79&&i0<83;RK({target:"Array",proto:!0,forced:!PK||NK},{reduce:function(e){var n=arguments.length;return DK(this,e,n,n>1?arguments[1]:void 0)}});var MK=rn,$K=function(){var t=MK(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},xg=Je,LK=be,kg=LK.RegExp,Pg=xg(function(){var t=kg("a","y");return t.lastIndex=2,t.exec("abcd")!=null}),FK=Pg||xg(function(){return!kg("a","y").sticky}),BK=Pg||xg(function(){var t=kg("^r","gy");return t.lastIndex=2,t.exec("str")!=null}),UK={BROKEN_CARET:BK,MISSED_STICKY:FK,UNSUPPORTED_Y:Pg},jK=Je,VK=be,KK=VK.RegExp,zK=jK(function(){var t=KK(".","s");return!(t.dotAll&&t.exec(`
`)&&t.flags==="s")}),WK=Je,HK=be,qK=HK.RegExp,GK=WK(function(){var t=qK("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"}),Wi=fn,Kl=qe,YK=Ii,XK=$K,QK=UK,JK=xl.exports,ZK=bg,ez=Fs.get,tz=zK,nz=GK,rz=JK("native-string-replace",String.prototype.replace),Ku=RegExp.prototype.exec,Ld=Ku,iz=Kl("".charAt),sz=Kl("".indexOf),oz=Kl("".replace),wf=Kl("".slice),Fd=function(){var t=/a/,e=/b*/g;return Wi(Ku,t,"a"),Wi(Ku,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),LS=QK.BROKEN_CARET,Bd=/()??/.exec("")[1]!==void 0,az=Fd||Bd||LS||tz||nz;az&&(Ld=function(e){var n=this,r=ez(n),i=YK(e),s=r.raw,o,a,c,u,l,h,f;if(s)return s.lastIndex=n.lastIndex,o=Wi(Ld,s,i),n.lastIndex=s.lastIndex,o;var d=r.groups,v=LS&&n.sticky,O=Wi(XK,n),I=n.source,T=0,R=i;if(v&&(O=oz(O,"y",""),sz(O,"g")===-1&&(O+="g"),R=wf(i,n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&iz(i,n.lastIndex-1)!==`
`)&&(I="(?: "+I+")",R=" "+R,T++),a=new RegExp("^(?:"+I+")",O)),Bd&&(a=new RegExp("^"+I+"$(?!\\s)",O)),Fd&&(c=n.lastIndex),u=Wi(Ku,v?a:n,R),v?u?(u.input=wf(u.input,T),u[0]=wf(u[0],T),u.index=n.lastIndex,n.lastIndex+=u[0].length):n.lastIndex=0:Fd&&u&&(n.lastIndex=n.global?u.index+u[0].length:c),Bd&&u&&u.length>1&&Wi(rz,u[0],a,function(){for(l=1;l<arguments.length-2;l++)arguments[l]===void 0&&(u[l]=void 0)}),u&&d)for(u.groups=h=ZK(null),l=0;l<d.length;l++)f=d[l],h[f[0]]=u[f[1]];return u});var Ng=Ld,cz=Lr,s0=Ng;cz({target:"RegExp",proto:!0,forced:/./.exec!==s0},{exec:s0});var o0=qe,a0=bi,uz=Ng,c0=Je,FS=zt,lz=_i,hz=FS("species"),If=RegExp.prototype,BS=function(t,e,n,r){var i=FS(t),s=!c0(function(){var u={};return u[i]=function(){return 7},""[t](u)!=7}),o=s&&!c0(function(){var u=!1,l=/a/;return t==="split"&&(l={},l.constructor={},l.constructor[hz]=function(){return l},l.flags="",l[i]=/./[i]),l.exec=function(){return u=!0,null},l[i](""),!u});if(!s||!o||n){var a=o0(/./[i]),c=e(i,""[t],function(u,l,h,f,d){var v=o0(u),O=l.exec;return O===uz||O===If.exec?s&&!d?{done:!0,value:a(l,h,f)}:{done:!0,value:v(h,l,f)}:{done:!1}});a0(String.prototype,t,c[0]),a0(If,i,c[1])}r&&lz(If[i],"sham",!0)},fz=nS.charAt,US=function(t,e,n){return e+(n?fz(t,e).length:1)},dz=be,u0=fn,pz=rn,gz=ht,mz=wi,vz=Ng,yz=dz.TypeError,jS=function(t,e){var n=t.exec;if(gz(n)){var r=u0(n,t,e);return r!==null&&pz(r),r}if(mz(t)==="RegExp")return u0(vz,t,e);throw yz("RegExp#exec called on incompatible receiver")},Ez=fn,_z=BS,bz=rn,wz=dg,Sf=Ii,Iz=$s,Sz=Pa,Tz=US,l0=jS;_z("match",function(t,e,n){return[function(i){var s=Iz(this),o=i==null?void 0:Sz(i,t);return o?Ez(o,i,s):new RegExp(i)[t](Sf(s))},function(r){var i=bz(this),s=Sf(r),o=n(e,i,s);if(o.done)return o.value;if(!i.global)return l0(i,s);var a=i.unicode;i.lastIndex=0;for(var c=[],u=0,l;(l=l0(i,s))!==null;){var h=Sf(l[0]);c[u]=h,h===""&&(i.lastIndex=Tz(s,wz(i.lastIndex),a)),u++}return u===0?null:c}]});var Az=wn,Oz=lg.EXISTS,VS=qe,Cz=$n.f,KS=Function.prototype,Rz=VS(KS.toString),zS=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Dz=VS(zS.exec),xz="name";Az&&!Oz&&Cz(KS,xz,{configurable:!0,get:function(){try{return Dz(zS,Rz(this))[1]}catch{return""}}});var kz=kl,WS=Function.prototype,h0=WS.apply,f0=WS.call,Pz=typeof Reflect=="object"&&Reflect.apply||(kz?f0.bind(h0):function(){return f0.apply(h0,arguments)}),Mg=qe,Nz=Ls,Mz=Math.floor,Tf=Mg("".charAt),$z=Mg("".replace),Af=Mg("".slice),Lz=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Fz=/\$([$&'`]|\d{1,2})/g,Bz=function(t,e,n,r,i,s){var o=n+t.length,a=r.length,c=Fz;return i!==void 0&&(i=Nz(i),c=Lz),$z(s,c,function(u,l){var h;switch(Tf(l,0)){case"$":return"$";case"&":return t;case"`":return Af(e,0,n);case"'":return Af(e,o);case"<":h=i[Af(l,1,-1)];break;default:var f=+l;if(f===0)return u;if(f>a){var d=Mz(f/10);return d===0?u:d<=a?r[d-1]===void 0?Tf(l,1):r[d-1]+Tf(l,1):u}h=r[f-1]}return h===void 0?"":h})},Uz=Pz,d0=fn,zl=qe,jz=BS,Vz=Je,Kz=rn,zz=ht,Wz=Fl,Hz=dg,Fi=Ii,qz=$s,Gz=US,Yz=Pa,Xz=Bz,Qz=jS,Jz=zt,Ud=Jz("replace"),Zz=Math.max,e6=Math.min,t6=zl([].concat),Of=zl([].push),p0=zl("".indexOf),g0=zl("".slice),n6=function(t){return t===void 0?t:String(t)},r6=function(){return"a".replace(/./,"$0")==="$0"}(),m0=function(){return/./[Ud]?/./[Ud]("a","$0")==="":!1}(),i6=!Vz(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});jz("replace",function(t,e,n){var r=m0?"$":"$0";return[function(s,o){var a=qz(this),c=s==null?void 0:Yz(s,Ud);return c?d0(c,s,a,o):d0(e,Fi(a),s,o)},function(i,s){var o=Kz(this),a=Fi(i);if(typeof s=="string"&&p0(s,r)===-1&&p0(s,"$<")===-1){var c=n(e,o,a,s);if(c.done)return c.value}var u=zz(s);u||(s=Fi(s));var l=o.global;if(l){var h=o.unicode;o.lastIndex=0}for(var f=[];;){var d=Qz(o,a);if(d===null||(Of(f,d),!l))break;var v=Fi(d[0]);v===""&&(o.lastIndex=Gz(a,Hz(o.lastIndex),h))}for(var O="",I=0,T=0;T<f.length;T++){d=f[T];for(var R=Fi(d[0]),V=Zz(e6(Wz(d.index),a.length),0),j=[],k=1;k<d.length;k++)Of(j,n6(d[k]));var P=d.groups;if(u){var y=t6([R],j,V,a);P!==void 0&&Of(y,P);var C=Fi(Uz(s,void 0,y))}else C=Xz(R,a,V,j,P,s);V>=I&&(O+=g0(a,I,V)+C,I=V+R.length)}return O+g0(a,I)}]},!i6||!r6||m0);var zu=function(e){var n=Array.prototype.reduce.call(e,function(r,i){var s=i.name.match(/data-simplebar-(.+)/);if(s){var o=s[1].replace(/\W+(.)/g,function(a,c){return c.toUpperCase()});switch(i.value){case"true":r[o]=!0;break;case"false":r[o]=!1;break;case void 0:r[o]=!0;break;default:r[o]=i.value}}return r},{});return n};function ar(t){return!t||!t.ownerDocument||!t.ownerDocument.defaultView?window:t.ownerDocument.defaultView}function cu(t){return!t||!t.ownerDocument?document:t.ownerDocument}var Vi=null,v0=null;mg&&window.addEventListener("resize",function(){v0!==window.devicePixelRatio&&(v0=window.devicePixelRatio,Vi=null)});function y0(t){if(Vi===null){var e=cu(t);if(typeof e=="undefined")return Vi=0,Vi;var n=e.body,r=e.createElement("div");r.classList.add("simplebar-hide-scrollbar"),n.appendChild(r);var i=r.getBoundingClientRect().right;n.removeChild(r),Vi=i}return Vi}var rt=function(){function t(n,r){var i=this;this.onScroll=function(){var s=ar(i.el);i.scrollXTicking||(s.requestAnimationFrame(i.scrollX),i.scrollXTicking=!0),i.scrollYTicking||(s.requestAnimationFrame(i.scrollY),i.scrollYTicking=!0)},this.scrollX=function(){i.axis.x.isOverflowing&&(i.showScrollbar("x"),i.positionScrollbar("x")),i.scrollXTicking=!1},this.scrollY=function(){i.axis.y.isOverflowing&&(i.showScrollbar("y"),i.positionScrollbar("y")),i.scrollYTicking=!1},this.onMouseEnter=function(){i.showScrollbar("x"),i.showScrollbar("y")},this.onMouseMove=function(s){i.mouseX=s.clientX,i.mouseY=s.clientY,(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&i.onMouseMoveForAxis("x"),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&i.onMouseMoveForAxis("y")},this.onMouseLeave=function(){i.onMouseMove.cancel(),(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&i.onMouseLeaveForAxis("x"),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&i.onMouseLeaveForAxis("y"),i.mouseX=-1,i.mouseY=-1},this.onWindowResize=function(){i.scrollbarWidth=i.getScrollbarWidth(),i.hideNativeScrollbar()},this.hideScrollbars=function(){i.axis.x.track.rect=i.axis.x.track.el.getBoundingClientRect(),i.axis.y.track.rect=i.axis.y.track.el.getBoundingClientRect(),i.isWithinBounds(i.axis.y.track.rect)||(i.axis.y.scrollbar.el.classList.remove(i.classNames.visible),i.axis.y.isVisible=!1),i.isWithinBounds(i.axis.x.track.rect)||(i.axis.x.scrollbar.el.classList.remove(i.classNames.visible),i.axis.x.isVisible=!1)},this.onPointerEvent=function(s){var o,a;i.axis.x.track.rect=i.axis.x.track.el.getBoundingClientRect(),i.axis.y.track.rect=i.axis.y.track.el.getBoundingClientRect(),(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&(o=i.isWithinBounds(i.axis.x.track.rect)),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&(a=i.isWithinBounds(i.axis.y.track.rect)),(o||a)&&(s.preventDefault(),s.stopPropagation(),s.type==="mousedown"&&(o&&(i.axis.x.scrollbar.rect=i.axis.x.scrollbar.el.getBoundingClientRect(),i.isWithinBounds(i.axis.x.scrollbar.rect)?i.onDragStart(s,"x"):i.onTrackClick(s,"x")),a&&(i.axis.y.scrollbar.rect=i.axis.y.scrollbar.el.getBoundingClientRect(),i.isWithinBounds(i.axis.y.scrollbar.rect)?i.onDragStart(s,"y"):i.onTrackClick(s,"y"))))},this.drag=function(s){var o,a=i.axis[i.draggedAxis].track,c=a.rect[i.axis[i.draggedAxis].sizeAttr],u=i.axis[i.draggedAxis].scrollbar,l=i.contentWrapperEl[i.axis[i.draggedAxis].scrollSizeAttr],h=parseInt(i.elStyles[i.axis[i.draggedAxis].sizeAttr],10);s.preventDefault(),s.stopPropagation(),i.draggedAxis==="y"?o=s.pageY:o=s.pageX;var f=o-a.rect[i.axis[i.draggedAxis].offsetAttr]-i.axis[i.draggedAxis].dragOffset,d=f/(c-u.size),v=d*(l-h);i.draggedAxis==="x"&&(v=i.isRtl&&t.getRtlHelpers().isRtlScrollbarInverted?v-(c+u.size):v,v=i.isRtl&&t.getRtlHelpers().isRtlScrollingInverted?-v:v),i.contentWrapperEl[i.axis[i.draggedAxis].scrollOffsetAttr]=v},this.onEndDrag=function(s){var o=cu(i.el),a=ar(i.el);s.preventDefault(),s.stopPropagation(),i.el.classList.remove(i.classNames.dragging),o.removeEventListener("mousemove",i.drag,!0),o.removeEventListener("mouseup",i.onEndDrag,!0),i.removePreventClickId=a.setTimeout(function(){o.removeEventListener("click",i.preventClick,!0),o.removeEventListener("dblclick",i.preventClick,!0),i.removePreventClickId=null})},this.preventClick=function(s){s.preventDefault(),s.stopPropagation()},this.el=n,this.minScrollbarWidth=20,this.options=Object.assign({},t.defaultOptions,r),this.classNames=Object.assign({},t.defaultOptions.classNames,this.options.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,!t.instances.has(this.el)&&(this.recalculate=KE(this.recalculate.bind(this),64),this.onMouseMove=KE(this.onMouseMove.bind(this),64),this.hideScrollbars=HE(this.hideScrollbars.bind(this),this.options.timeout),this.onWindowResize=HE(this.onWindowResize.bind(this),64,{leading:!0}),t.getRtlHelpers=Q3(t.getRtlHelpers),this.init())}t.getRtlHelpers=function(){var r=document.createElement("div");r.innerHTML='<div class="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>';var i=r.firstElementChild;document.body.appendChild(i);var s=i.firstElementChild;i.scrollLeft=0;var o=t.getOffset(i),a=t.getOffset(s);i.scrollLeft=999;var c=t.getOffset(s);return{isRtlScrollingInverted:o.left!==a.left&&a.left-c.left!==0,isRtlScrollbarInverted:o.left!==a.left}},t.getOffset=function(r){var i=r.getBoundingClientRect(),s=cu(r),o=ar(r);return{top:i.top+(o.pageYOffset||s.documentElement.scrollTop),left:i.left+(o.pageXOffset||s.documentElement.scrollLeft)}};var e=t.prototype;return e.init=function(){t.instances.set(this.el,this),mg&&(this.initDOM(),this.setAccessibilityAttributes(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},e.initDOM=function(){var r=this;if(Array.prototype.filter.call(this.el.children,function(o){return o.classList.contains(r.classNames.wrapper)}).length)this.wrapperEl=this.el.querySelector("."+this.classNames.wrapper),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector("."+this.classNames.contentWrapper),this.contentEl=this.options.contentNode||this.el.querySelector("."+this.classNames.contentEl),this.offsetEl=this.el.querySelector("."+this.classNames.offset),this.maskEl=this.el.querySelector("."+this.classNames.mask),this.placeholderEl=this.findChild(this.wrapperEl,"."+this.classNames.placeholder),this.heightAutoObserverWrapperEl=this.el.querySelector("."+this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl=this.el.querySelector("."+this.classNames.heightAutoObserverEl),this.axis.x.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.horizontal),this.axis.y.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.vertical);else{for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),this.wrapperEl.classList.add(this.classNames.wrapper),this.contentWrapperEl.classList.add(this.classNames.contentWrapper),this.offsetEl.classList.add(this.classNames.offset),this.maskEl.classList.add(this.classNames.mask),this.contentEl.classList.add(this.classNames.contentEl),this.placeholderEl.classList.add(this.classNames.placeholder),this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl)}if(!this.axis.x.track.el||!this.axis.y.track.el){var i=document.createElement("div"),s=document.createElement("div");i.classList.add(this.classNames.track),s.classList.add(this.classNames.scrollbar),i.appendChild(s),this.axis.x.track.el=i.cloneNode(!0),this.axis.x.track.el.classList.add(this.classNames.horizontal),this.axis.y.track.el=i.cloneNode(!0),this.axis.y.track.el.classList.add(this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}this.axis.x.scrollbar.el=this.axis.x.track.el.querySelector("."+this.classNames.scrollbar),this.axis.y.scrollbar.el=this.axis.y.track.el.querySelector("."+this.classNames.scrollbar),this.options.autoHide||(this.axis.x.scrollbar.el.classList.add(this.classNames.visible),this.axis.y.scrollbar.el.classList.add(this.classNames.visible)),this.el.setAttribute("data-simplebar","init")},e.setAccessibilityAttributes=function(){var r=this.options.ariaLabel||"scrollable content";this.contentWrapperEl.setAttribute("tabindex","0"),this.contentWrapperEl.setAttribute("role","region"),this.contentWrapperEl.setAttribute("aria-label",r)},e.initListeners=function(){var r=this,i=ar(this.el);this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach(function(a){r.el.addEventListener(a,r.onPointerEvent,!0)}),["touchstart","touchend","touchmove"].forEach(function(a){r.el.addEventListener(a,r.onPointerEvent,{capture:!0,passive:!0})}),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.addEventListener("scroll",this.onScroll),i.addEventListener("resize",this.onWindowResize);var s=!1,o=i.ResizeObserver||yK;this.resizeObserver=new o(function(){!s||r.recalculate()}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),i.requestAnimationFrame(function(){s=!0}),this.mutationObserver=new i.MutationObserver(this.recalculate),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})},e.recalculate=function(){var r=ar(this.el);this.elStyles=r.getComputedStyle(this.el),this.isRtl=this.elStyles.direction==="rtl";var i=this.heightAutoObserverEl.offsetHeight<=1,s=this.heightAutoObserverEl.offsetWidth<=1,o=this.contentEl.offsetWidth,a=this.contentWrapperEl.offsetWidth,c=this.elStyles.overflowX,u=this.elStyles.overflowY;this.contentEl.style.padding=this.elStyles.paddingTop+" "+this.elStyles.paddingRight+" "+this.elStyles.paddingBottom+" "+this.elStyles.paddingLeft,this.wrapperEl.style.margin="-"+this.elStyles.paddingTop+" -"+this.elStyles.paddingRight+" -"+this.elStyles.paddingBottom+" -"+this.elStyles.paddingLeft;var l=this.contentEl.scrollHeight,h=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=i?"auto":"100%",this.placeholderEl.style.width=s?o+"px":"auto",this.placeholderEl.style.height=l+"px";var f=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=h>o,this.axis.y.isOverflowing=l>f,this.axis.x.isOverflowing=c==="hidden"?!1:this.axis.x.isOverflowing,this.axis.y.isOverflowing=u==="hidden"?!1:this.axis.y.isOverflowing,this.axis.x.forceVisible=this.options.forceVisible==="x"||this.options.forceVisible===!0,this.axis.y.forceVisible=this.options.forceVisible==="y"||this.options.forceVisible===!0,this.hideNativeScrollbar();var d=this.axis.x.isOverflowing?this.scrollbarWidth:0,v=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&h>a-v,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&l>f-d,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el.style.width=this.axis.x.scrollbar.size+"px",this.axis.y.scrollbar.el.style.height=this.axis.y.scrollbar.size+"px",this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")},e.getScrollbarSize=function(r){if(r===void 0&&(r="y"),!this.axis[r].isOverflowing)return 0;var i=this.contentEl[this.axis[r].scrollSizeAttr],s=this.axis[r].track.el[this.axis[r].offsetSizeAttr],o,a=s/i;return o=Math.max(~~(a*s),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(o=Math.min(o,this.options.scrollbarMaxSize)),o},e.positionScrollbar=function(r){if(r===void 0&&(r="y"),!!this.axis[r].isOverflowing){var i=this.contentWrapperEl[this.axis[r].scrollSizeAttr],s=this.axis[r].track.el[this.axis[r].offsetSizeAttr],o=parseInt(this.elStyles[this.axis[r].sizeAttr],10),a=this.axis[r].scrollbar,c=this.contentWrapperEl[this.axis[r].scrollOffsetAttr];c=r==="x"&&this.isRtl&&t.getRtlHelpers().isRtlScrollingInverted?-c:c;var u=c/(i-o),l=~~((s-a.size)*u);l=r==="x"&&this.isRtl&&t.getRtlHelpers().isRtlScrollbarInverted?l+(s-a.size):l,a.el.style.transform=r==="x"?"translate3d("+l+"px, 0, 0)":"translate3d(0, "+l+"px, 0)"}},e.toggleTrackVisibility=function(r){r===void 0&&(r="y");var i=this.axis[r].track.el,s=this.axis[r].scrollbar.el;this.axis[r].isOverflowing||this.axis[r].forceVisible?(i.style.visibility="visible",this.contentWrapperEl.style[this.axis[r].overflowAttr]="scroll"):(i.style.visibility="hidden",this.contentWrapperEl.style[this.axis[r].overflowAttr]="hidden"),this.axis[r].isOverflowing?s.style.display="block":s.style.display="none"},e.hideNativeScrollbar=function(){this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-"+this.scrollbarWidth+"px":0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-"+this.scrollbarWidth+"px":0},e.onMouseMoveForAxis=function(r){r===void 0&&(r="y"),this.axis[r].track.rect=this.axis[r].track.el.getBoundingClientRect(),this.axis[r].scrollbar.rect=this.axis[r].scrollbar.el.getBoundingClientRect();var i=this.isWithinBounds(this.axis[r].scrollbar.rect);i?this.axis[r].scrollbar.el.classList.add(this.classNames.hover):this.axis[r].scrollbar.el.classList.remove(this.classNames.hover),this.isWithinBounds(this.axis[r].track.rect)?(this.showScrollbar(r),this.axis[r].track.el.classList.add(this.classNames.hover)):this.axis[r].track.el.classList.remove(this.classNames.hover)},e.onMouseLeaveForAxis=function(r){r===void 0&&(r="y"),this.axis[r].track.el.classList.remove(this.classNames.hover),this.axis[r].scrollbar.el.classList.remove(this.classNames.hover)},e.showScrollbar=function(r){r===void 0&&(r="y");var i=this.axis[r].scrollbar.el;this.axis[r].isVisible||(i.classList.add(this.classNames.visible),this.axis[r].isVisible=!0),this.options.autoHide&&this.hideScrollbars()},e.onDragStart=function(r,i){i===void 0&&(i="y");var s=cu(this.el),o=ar(this.el),a=this.axis[i].scrollbar,c=i==="y"?r.pageY:r.pageX;this.axis[i].dragOffset=c-a.rect[this.axis[i].offsetAttr],this.draggedAxis=i,this.el.classList.add(this.classNames.dragging),s.addEventListener("mousemove",this.drag,!0),s.addEventListener("mouseup",this.onEndDrag,!0),this.removePreventClickId===null?(s.addEventListener("click",this.preventClick,!0),s.addEventListener("dblclick",this.preventClick,!0)):(o.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},e.onTrackClick=function(r,i){var s=this;if(i===void 0&&(i="y"),!!this.options.clickOnTrack){var o=ar(this.el);this.axis[i].scrollbar.rect=this.axis[i].scrollbar.el.getBoundingClientRect();var a=this.axis[i].scrollbar,c=a.rect[this.axis[i].offsetAttr],u=parseInt(this.elStyles[this.axis[i].sizeAttr],10),l=this.contentWrapperEl[this.axis[i].scrollOffsetAttr],h=i==="y"?this.mouseY-c:this.mouseX-c,f=h<0?-1:1,d=f===-1?l-u:l+u,v=function O(){if(f===-1){if(l>d){var I;l-=s.options.clickOnTrackSpeed,s.contentWrapperEl.scrollTo((I={},I[s.axis[i].offsetAttr]=l,I)),o.requestAnimationFrame(O)}}else if(l<d){var T;l+=s.options.clickOnTrackSpeed,s.contentWrapperEl.scrollTo((T={},T[s.axis[i].offsetAttr]=l,T)),o.requestAnimationFrame(O)}};v()}},e.getContentElement=function(){return this.contentEl},e.getScrollElement=function(){return this.contentWrapperEl},e.getScrollbarWidth=function(){try{return getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display==="none"||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:y0(this.el)}catch{return y0(this.el)}},e.removeListeners=function(){var r=this,i=ar(this.el);this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach(function(s){r.el.removeEventListener(s,r.onPointerEvent,!0)}),["touchstart","touchend","touchmove"].forEach(function(s){r.el.removeEventListener(s,r.onPointerEvent,{capture:!0,passive:!0})}),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),i.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.recalculate.cancel(),this.onMouseMove.cancel(),this.hideScrollbars.cancel(),this.onWindowResize.cancel()},e.unMount=function(){this.removeListeners(),t.instances.delete(this.el)},e.isWithinBounds=function(r){return this.mouseX>=r.left&&this.mouseX<=r.left+r.width&&this.mouseY>=r.top&&this.mouseY<=r.top+r.height},e.findChild=function(r,i){var s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;return Array.prototype.filter.call(r.children,function(o){return s.call(o,i)})[0]},t}();rt.defaultOptions={autoHide:!0,forceVisible:!1,clickOnTrack:!0,clickOnTrackSpeed:40,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging"},scrollbarMinSize:25,scrollbarMaxSize:0,timeout:1e3};rt.instances=new WeakMap;rt.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),function(t){t.getAttribute("data-simplebar")!=="init"&&!rt.instances.has(t)&&new rt(t,zu(t.attributes))})};rt.removeObserver=function(){this.globalObserver.disconnect()};rt.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),typeof MutationObserver!="undefined"&&(this.globalObserver=new MutationObserver(rt.handleMutations),this.globalObserver.observe(document,{childList:!0,subtree:!0})),document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))};rt.handleMutations=function(t){t.forEach(function(e){Array.prototype.forEach.call(e.addedNodes,function(n){n.nodeType===1&&(n.hasAttribute("data-simplebar")?!rt.instances.has(n)&&document.documentElement.contains(n)&&new rt(n,zu(n.attributes)):Array.prototype.forEach.call(n.querySelectorAll("[data-simplebar]"),function(r){r.getAttribute("data-simplebar")!=="init"&&!rt.instances.has(r)&&document.documentElement.contains(r)&&new rt(r,zu(r.attributes))}))}),Array.prototype.forEach.call(e.removedNodes,function(n){n.nodeType===1&&(n.getAttribute("data-simplebar")==="init"?rt.instances.has(n)&&!document.documentElement.contains(n)&&rt.instances.get(n).unMount():Array.prototype.forEach.call(n.querySelectorAll('[data-simplebar="init"]'),function(r){rt.instances.has(r)&&!document.documentElement.contains(r)&&rt.instances.get(r).unMount()}))})})};rt.getOptions=zu;mg&&rt.initHtmlApi();const s6=Ia({data(){return{SimpleBar:null}},computed:{contentElement(){return this.$refs.contentElement},scrollElement(){return this.$refs.scrollElement}},mounted(){const t=rt.getOptions(this.$refs.element.attributes);this.SimpleBar=new rt(this.$refs.element,t)}}),o6={ref:"element"},a6={class:"simplebar-wrapper"},c6=qt("div",{class:"simplebar-height-auto-observer-wrapper"},[qt("div",{class:"simplebar-height-auto-observer"})],-1),u6={class:"simplebar-mask"},l6={class:"simplebar-offset"},h6={class:"simplebar-content-wrapper",ref:"scrollElement"},f6={class:"simplebar-content",ref:"contentElement"},d6=qt("div",{class:"simplebar-placeholder"},null,-1),p6=qt("div",{class:"simplebar-track simplebar-horizontal"},[qt("div",{class:"simplebar-scrollbar"})],-1),g6=qt("div",{class:"simplebar-track simplebar-vertical"},[qt("div",{class:"simplebar-scrollbar"})],-1);function m6(t,e,n,r,i,s){return mn(),_o("div",o6,[qt("div",a6,[c6,qt("div",u6,[qt("div",l6,[qt("div",h6,[qt("div",f6,[Nb(t.$slots,"default")],512)],512)])]),d6]),p6,g6],512)}var v6=Zp(s6,[["render",m6]]);const y6="modulepreload",E0={},E6="/",Ge=function(e,n){return!n||n.length===0?e():Promise.all(n.map(r=>{if(r=`${E6}${r}`,r in E0)return;E0[r]=!0;const i=r.endsWith(".css"),s=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${s}`))return;const o=document.createElement("link");if(o.rel=i?"stylesheet":y6,i||(o.as="script",o.crossOrigin=""),o.href=r,document.head.appendChild(o),i)return new Promise((a,c)=>{o.addEventListener("load",a),o.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())},_6=Ia({__name:"AsyncChangeLog",setup(t){const e=aR(()=>Ge(()=>import("./ChangeLog.3f0a474b.js"),["assets/ChangeLog.3f0a474b.js","assets/account.39fe3759.js","assets/Modal.1410e76a.js"]));return(n,r)=>(mn(),ls(Er(e)))}});const b6={components:{AsyncChangeLog:_6},inject:["mq"],watch:{theme(t){this.updateTheme()}},computed:{flow(){return this.$route.query.flow},home(){return this.$route.name==="home"},ligatures(){return this.$store.state.settings.editor.ligatures},publicDoc(){return this.$route.name==="public-doc"},sizes(){return this.mq.current==="xs"?["xs xs-plus"]:this.mq.current==="sm"?["sm xs-plus sm-plus"]:this.mq.current==="md"?["md xs-plus sm-plus md-plus"]:this.mq.current==="lg"?["lg xs-plus sm-plus md-plus lg-plus"]:this.mq.current==="xl"?["xl xs-plus sm-plus md-plus lg-plus xl-plus"]:[]},theme(){return this.$store.state.settings.theme}},methods:{closeChangelog(){this.showChangelog=!1},updateTheme(){switch(document.documentElement.classList.remove("auto","dark","light","october"),this.theme){case"dark":document.documentElement.classList.add("dark");break;case"light":document.documentElement.classList.add("light");break;case"october":document.documentElement.classList.add("dark","october");break;case"auto":const e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";document.documentElement.classList.add("auto",e);break;default:document.documentElement.classList.add("dark");break}}},created(){this.updateTheme(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{this.updateTheme()})}};function w6(t,e,n,r,i,s){const o=gv("AsyncChangeLog"),a=gv("router-view");return mn(),_o("div",{id:"app",class:ll(["h-screen",s.sizes.concat([!s.ligatures&&"ligatures-none"])])},[!s.home&&!s.publicDoc&&!s.flow?(mn(),ls(o,{key:0})):UR("",!0),ct(a,{inheritAttrs:!0,class:"flex-grow flex-shrink min-h-0"})],2)}var I6=Zp(b6,[["render",w6]]),S6="firebase",T6="9.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn(S6,T6,"app");var A6=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ee,$g=$g||{},pe=A6||self;function Wu(){}function jd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function La(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function O6(t){return Object.prototype.hasOwnProperty.call(t,Cf)&&t[Cf]||(t[Cf]=++C6)}var Cf="closure_uid_"+(1e9*Math.random()>>>0),C6=0;function R6(t,e,n){return t.call.apply(t.bind,arguments)}function D6(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Tt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Tt=R6:Tt=D6,Tt.apply(null,arguments)}function Rc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ct(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Fr(){this.s=this.s,this.o=this.o}var x6=0;Fr.prototype.s=!1;Fr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),x6!=0)&&O6(this)};Fr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const HS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},qS=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function k6(t){e:{var e=IW;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function _0(t){return Array.prototype.concat.apply([],arguments)}function Lg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Hu(t){return/^[\s\xa0]*$/.test(t)}var b0=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Bt(t,e){return t.indexOf(e)!=-1}function Rf(t,e){return t<e?-1:t>e?1:0}var Ut;e:{var w0=pe.navigator;if(w0){var I0=w0.userAgent;if(I0){Ut=I0;break e}}Ut=""}function Fg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function GS(t){const e={};for(const n in t)e[n]=t[n];return e}var S0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function YS(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<S0.length;s++)n=S0[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Bg(t){return Bg[" "](t),t}Bg[" "]=Wu;function P6(t){var e=$6;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var N6=Bt(Ut,"Opera"),ms=Bt(Ut,"Trident")||Bt(Ut,"MSIE"),XS=Bt(Ut,"Edge"),Vd=XS||ms,QS=Bt(Ut,"Gecko")&&!(Bt(Ut.toLowerCase(),"webkit")&&!Bt(Ut,"Edge"))&&!(Bt(Ut,"Trident")||Bt(Ut,"MSIE"))&&!Bt(Ut,"Edge"),M6=Bt(Ut.toLowerCase(),"webkit")&&!Bt(Ut,"Edge");function JS(){var t=pe.document;return t?t.documentMode:void 0}var qu;e:{var Df="",xf=function(){var t=Ut;if(QS)return/rv:([^\);]+)(\)|;)/.exec(t);if(XS)return/Edge\/([\d\.]+)/.exec(t);if(ms)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(M6)return/WebKit\/(\S+)/.exec(t);if(N6)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(xf&&(Df=xf?xf[1]:""),ms){var kf=JS();if(kf!=null&&kf>parseFloat(Df)){qu=String(kf);break e}}qu=Df}var $6={};function L6(){return P6(function(){let t=0;const e=b0(String(qu)).split("."),n=b0("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Rf(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Rf(i[2].length==0,s[2].length==0)||Rf(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Kd;if(pe.document&&ms){var T0=JS();Kd=T0||parseInt(qu,10)||void 0}else Kd=void 0;var F6=Kd,B6=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{pe.addEventListener("test",Wu,e),pe.removeEventListener("test",Wu,e)}catch{}return t}();function Nt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};function ia(t,e){if(Nt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(QS){e:{try{Bg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:U6[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ia.Z.h.call(this)}}Ct(ia,Nt);var U6={2:"touch",3:"pen",4:"mouse"};ia.prototype.h=function(){ia.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Fa="closure_listenable_"+(1e6*Math.random()|0),j6=0;function V6(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++j6,this.ca=this.fa=!1}function Wl(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Hl(t){this.src=t,this.g={},this.h=0}Hl.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Wd(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new V6(e,this.src,s,!!r,i),e.fa=n,t.push(e)),e};function zd(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=HS(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Wl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Wd(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}var Ug="closure_lm_"+(1e6*Math.random()|0),Pf={};function ZS(t,e,n,r,i){if(r&&r.once)return tT(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ZS(t,e[s],n,r,i);return null}return n=Kg(n),t&&t[Fa]?t.N(e,n,La(r)?!!r.capture:!!r,i):eT(t,e,n,!1,r,i)}function eT(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=La(i)?!!i.capture:!!i,a=Vg(t);if(a||(t[Ug]=a=new Hl(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=K6(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)B6||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(rT(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function K6(){function t(n){return e.call(t.src,t.listener,n)}var e=z6;return t}function tT(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)tT(t,e[s],n,r,i);return null}return n=Kg(n),t&&t[Fa]?t.O(e,n,La(r)?!!r.capture:!!r,i):eT(t,e,n,!0,r,i)}function nT(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)nT(t,e[s],n,r,i);else r=La(r)?!!r.capture:!!r,n=Kg(n),t&&t[Fa]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Wd(s,n,r,i),-1<n&&(Wl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Vg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Wd(e,n,r,i)),(n=-1<t?e[t]:null)&&jg(n))}function jg(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[Fa])zd(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(rT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Vg(e))?(zd(n,t),n.h==0&&(n.src=null,e[Ug]=null)):Wl(t)}}}function rT(t){return t in Pf?Pf[t]:Pf[t]="on"+t}function z6(t,e){if(t.ca)t=!0;else{e=new ia(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&jg(t),t=n.call(r,e)}return t}function Vg(t){return t=t[Ug],t instanceof Hl?t:null}var Nf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kg(t){return typeof t=="function"?t:(t[Nf]||(t[Nf]=function(e){return t.handleEvent(e)}),t[Nf])}function wt(){Fr.call(this),this.i=new Hl(this),this.P=this,this.I=null}Ct(wt,Fr);wt.prototype[Fa]=!0;wt.prototype.removeEventListener=function(t,e,n,r){nT(this,t,e,n,r)};function At(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Nt(e,t);else if(e instanceof Nt)e.target=e.target||t;else{var i=e;e=new Nt(r,t),YS(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Dc(o,r,!0,e)&&i}if(o=e.g=t,i=Dc(o,r,!0,e)&&i,i=Dc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Dc(o,r,!1,e)&&i}wt.prototype.M=function(){if(wt.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Wl(n[r]);delete t.g[e],t.h--}}this.I=null};wt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Dc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&zd(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var zg=pe.JSON.stringify;function W6(){var t=sT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class H6{constructor(){this.h=this.g=null}add(e,n){const r=iT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var iT=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new q6,t=>t.reset());class q6{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function G6(t){pe.setTimeout(()=>{throw t},0)}function Wg(t,e){Hd||Y6(),qd||(Hd(),qd=!0),sT.add(t,e)}var Hd;function Y6(){var t=pe.Promise.resolve(void 0);Hd=function(){t.then(X6)}}var qd=!1,sT=new H6;function X6(){for(var t;t=W6();){try{t.h.call(t.g)}catch(n){G6(n)}var e=iT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qd=!1}function ql(t,e){wt.call(this),this.h=t||1,this.g=e||pe,this.j=Tt(this.kb,this),this.l=Date.now()}Ct(ql,wt);ee=ql.prototype;ee.da=!1;ee.S=null;ee.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),At(this,"tick"),this.da&&(Hg(this),this.start()))}};ee.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Hg(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}ee.M=function(){ql.Z.M.call(this),Hg(this),delete this.g};function qg(t,e,n){if(typeof t=="function")n&&(t=Tt(t,n));else if(t&&typeof t.handleEvent=="function")t=Tt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:pe.setTimeout(t,e||0)}function oT(t){t.g=qg(()=>{t.g=null,t.i&&(t.i=!1,oT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Q6 extends Fr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:oT(this)}M(){super.M(),this.g&&(pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(t){Fr.call(this),this.h=t,this.g={}}Ct(sa,Fr);var A0=[];function aT(t,e,n,r){Array.isArray(n)||(n&&(A0[0]=n.toString()),n=A0);for(var i=0;i<n.length;i++){var s=ZS(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function cT(t){Fg(t.g,function(e,n){this.g.hasOwnProperty(n)&&jg(e)},t),t.g={}}sa.prototype.M=function(){sa.Z.M.call(this),cT(this)};sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gl(){this.g=!0}Gl.prototype.Aa=function(){this.g=!1};function J6(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&h[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Z6(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Hi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+tW(t,n)+(r?" "+r:"")})}function eW(t,e){t.info(function(){return"TIMEOUT: "+e})}Gl.prototype.info=function(){};function tW(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return zg(n)}catch{return e}}var Ti={},O0=null;function Yl(){return O0=O0||new wt}Ti.Ma="serverreachability";function uT(t){Nt.call(this,Ti.Ma,t)}Ct(uT,Nt);function oa(t){const e=Yl();At(e,new uT(e))}Ti.STAT_EVENT="statevent";function lT(t,e){Nt.call(this,Ti.STAT_EVENT,t),this.stat=e}Ct(lT,Nt);function jt(t){const e=Yl();At(e,new lT(e,t))}Ti.Na="timingevent";function hT(t,e){Nt.call(this,Ti.Na,t),this.size=e}Ct(hT,Nt);function Ba(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){t()},e)}var Xl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},fT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Gg(){}Gg.prototype.h=null;function C0(t){return t.h||(t.h=t.i())}function dT(){}var Ua={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Yg(){Nt.call(this,"d")}Ct(Yg,Nt);function Xg(){Nt.call(this,"c")}Ct(Xg,Nt);var Gd;function Ql(){}Ct(Ql,Gg);Ql.prototype.g=function(){return new XMLHttpRequest};Ql.prototype.i=function(){return{}};Gd=new Ql;function ja(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new sa(this),this.P=nW,t=Vd?125:void 0,this.W=new ql(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new pT}function pT(){this.i=null,this.g="",this.h=!1}var nW=45e3,Yd={},Gu={};ee=ja.prototype;ee.setTimeout=function(t){this.P=t};function Xd(t,e,n){t.K=1,t.v=Zl(Zn(e)),t.s=n,t.U=!0,gT(t,null)}function gT(t,e){t.F=Date.now(),Va(t),t.A=Zn(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),wT(n.h,"t",r),t.C=0,n=t.l.H,t.h=new pT,t.g=VT(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Q6(Tt(t.Ia,t,t.g),t.O)),aT(t.V,t.g,"readystatechange",t.gb),e=t.H?GS(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),oa(),J6(t.j,t.u,t.A,t.m,t.X,t.s)}ee.gb=function(t){t=t.target;const e=this.L;e&&Hn(t)==3?e.l():this.Ia(t)};ee.Ia=function(t){try{if(t==this.g)e:{const l=Hn(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>l)&&(l!=3||Vd||this.g&&(this.h.h||this.g.ga()||k0(this.g)))){this.I||l!=4||e==7||(e==8||0>=h?oa(3):oa(2)),Jl(this);var n=this.g.ba();this.N=n;t:if(mT(this)){var r=k0(this.g);t="";var i=r.length,s=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Xr(this),To(this);var o="";break t}this.h.i=new pe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,Z6(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hu(a)){var u=a;break t}}u=null}if(n=u)Hi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Qd(this,n);else{this.i=!1,this.o=3,jt(12),Xr(this),To(this);break e}}this.U?(vT(this,l,o),Vd&&this.i&&l==3&&(aT(this.V,this.W,"tick",this.fb),this.W.start())):(Hi(this.j,this.m,o,null),Qd(this,o)),l==4&&Xr(this),this.i&&!this.I&&(l==4?FT(this.l,this):(this.i=!1,Va(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,jt(12)):(this.o=0,jt(13)),Xr(this),To(this)}}}catch{}finally{}};function mT(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function vT(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=rW(t,n),i==Gu){e==4&&(t.o=4,jt(14),r=!1),Hi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Yd){t.o=4,jt(15),Hi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Hi(t.j,t.m,i,null),Qd(t,i);mT(t)&&i!=Gu&&i!=Yd&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,jt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),sm(e),e.L=!0,jt(11))):(Hi(t.j,t.m,n,"[Invalid Chunked Response]"),Xr(t),To(t))}ee.fb=function(){if(this.g){var t=Hn(this.g),e=this.g.ga();this.C<e.length&&(Jl(this),vT(this,t,e),this.i&&t!=4&&Va(this))}};function rW(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Gu:(n=Number(e.substring(n,r)),isNaN(n)?Yd:(r+=1,r+n>e.length?Gu:(e=e.substr(r,n),t.C=r+n,e)))}ee.cancel=function(){this.I=!0,Xr(this)};function Va(t){t.Y=Date.now()+t.P,yT(t,t.P)}function yT(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ba(Tt(t.eb,t),e)}function Jl(t){t.B&&(pe.clearTimeout(t.B),t.B=null)}ee.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(eW(this.j,this.A),this.K!=2&&(oa(),jt(17)),Xr(this),this.o=2,To(this)):yT(this,this.Y-t)};function To(t){t.l.G==0||t.I||FT(t.l,t)}function Xr(t){Jl(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Hg(t.W),cT(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Qd(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Jd(n.i,t))){if(n.I=t.N,!t.J&&Jd(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Ju(n),nh(n);else break e;im(n),jt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ba(Tt(n.ab,n),6e3));if(1>=TT(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Qr(n,11)}else if((t.J||n.g==t)&&Ju(n),!Hu(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];const l=u[3];l!=null&&(n.ma=l,n.h.info("VER="+n.ma));const h=u[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const v=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;!s.g&&(Bt(v,"spdy")||Bt(v,"quic")||Bt(v,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Zg(s,s.h),s.h=null))}if(r.D){const O=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;O&&(r.sa=O,Qe(r.F,r.D,O))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=t;if(r.oa=jT(r,r.H?r.la:null,r.W),o.J){AT(r.i,o);var a=o,c=r.K;c&&a.setTimeout(c),a.B&&(Jl(a),Va(a)),r.g=o}else $T(r);0<n.l.length&&rh(n)}else u[0]!="stop"&&u[0]!="close"||Qr(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Qr(n,7):rm(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}oa(4)}catch{}}function iW(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(jd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Qg(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(jd(t)||typeof t=="string")qS(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(jd(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=iW(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function js(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof js)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}ee=js.prototype;ee.R=function(){Jg(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};ee.T=function(){return Jg(this),this.g.concat()};function Jg(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];pi(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],pi(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}ee.get=function(t,e){return pi(this.h,t)?this.h[t]:e};ee.set=function(t,e){pi(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};ee.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function pi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var ET=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sW(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function gi(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof gi){this.g=e!==void 0?e:t.g,Yu(this,t.j),this.s=t.s,Xu(this,t.i),Qu(this,t.m),this.l=t.l,e=t.h;var n=new aa;n.i=e.i,e.g&&(n.g=new js(e.g),n.h=e.h),R0(this,n),this.o=t.o}else t&&(n=String(t).match(ET))?(this.g=!!e,Yu(this,n[1]||"",!0),this.s=Ao(n[2]||""),Xu(this,n[3]||"",!0),Qu(this,n[4]),this.l=Ao(n[5]||"",!0),R0(this,n[6]||"",!0),this.o=Ao(n[7]||"")):(this.g=!!e,this.h=new aa(null,this.g))}gi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(go(e,D0,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(go(e,D0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(go(n,n.charAt(0)=="/"?lW:uW,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",go(n,fW)),t.join("")};function Zn(t){return new gi(t)}function Yu(t,e,n){t.j=n?Ao(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Xu(t,e,n){t.i=n?Ao(e,!0):e}function Qu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function R0(t,e,n){e instanceof aa?(t.h=e,dW(t.h,t.g)):(n||(e=go(e,hW)),t.h=new aa(e,t.g))}function Qe(t,e,n){t.h.set(e,n)}function Zl(t){return Qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function oW(t){return t instanceof gi?Zn(t):new gi(t,void 0)}function aW(t,e,n,r){var i=new gi(null,void 0);return t&&Yu(i,t),e&&Xu(i,e),n&&Qu(i,n),r&&(i.l=r),i}function Ao(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function go(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,cW),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function cW(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var D0=/[#\/\?@]/g,uW=/[#\?:]/g,lW=/[#\?]/g,hW=/[#\?@]/g,fW=/#/g;function aa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Br(t){t.g||(t.g=new js,t.h=0,t.i&&sW(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ee=aa.prototype;ee.add=function(t,e){Br(this),this.i=null,t=Vs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function _T(t,e){Br(t),e=Vs(t,e),pi(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,pi(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Jg(t)))}function bT(t,e){return Br(t),e=Vs(t,e),pi(t.g.h,e)}ee.forEach=function(t,e){Br(this),this.g.forEach(function(n,r){qS(n,function(i){t.call(e,i,r,this)},this)},this)};ee.T=function(){Br(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};ee.R=function(t){Br(this);var e=[];if(typeof t=="string")bT(this,t)&&(e=_0(e,this.g.get(Vs(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=_0(e,t[n])}return e};ee.set=function(t,e){return Br(this),this.i=null,t=Vs(this,t),bT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ee.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function wT(t,e,n){_T(t,e),0<n.length&&(t.i=null,t.g.set(Vs(t,e),Lg(n)),t.h+=n.length)}ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;r[s]!==""&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};function Vs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function dW(t,e){e&&!t.j&&(Br(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(_T(this,r),wT(this,i,n))},t)),t.j=e}var pW=class{constructor(t,e){this.h=t,this.g=e}};function IT(t){this.l=t||gW,pe.PerformanceNavigationTiming?(t=pe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(pe.g&&pe.g.Ea&&pe.g.Ea()&&pe.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gW=10;function ST(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function TT(t){return t.h?1:t.g?t.g.size:0}function Jd(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Zg(t,e){t.g?t.g.add(e):t.h=e}function AT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}IT.prototype.cancel=function(){if(this.i=OT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function OT(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Lg(t.i)}function em(){}em.prototype.stringify=function(t){return pe.JSON.stringify(t,void 0)};em.prototype.parse=function(t){return pe.JSON.parse(t,void 0)};function mW(){this.g=new em}function vW(t,e,n){const r=n||"";try{Qg(t,function(i,s){let o=i;La(i)&&(o=zg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function yW(t,e){const n=new Gl;if(pe.Image){const r=new Image;r.onload=Rc(xc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Rc(xc,n,r,"TestLoadImage: error",!1,e),r.onabort=Rc(xc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Rc(xc,n,r,"TestLoadImage: timeout",!1,e),pe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function xc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ka(t){this.l=t.$b||null,this.j=t.ib||!1}Ct(Ka,Gg);Ka.prototype.g=function(){return new eh(this.l,this.j)};Ka.prototype.i=function(t){return function(){return t}}({});function eh(t,e){wt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=tm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ct(eh,wt);var tm=0;ee=eh.prototype;ee.open=function(t,e){if(this.readyState!=tm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ca(this)};ee.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||pe).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,za(this)),this.readyState=tm};ee.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof pe.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;CT(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function CT(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}ee.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?za(this):ca(this),this.readyState==3&&CT(this)}};ee.Ua=function(t){this.g&&(this.response=this.responseText=t,za(this))};ee.Ta=function(t){this.g&&(this.response=t,za(this))};ee.ha=function(){this.g&&za(this)};function za(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ca(t)}ee.setRequestHeader=function(t,e){this.v.append(t,e)};ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ca(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(eh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var EW=pe.JSON.parse;function lt(t){wt.call(this),this.headers=new js,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=RT,this.K=this.L=!1}Ct(lt,wt);var RT="",_W=/^https?$/i,bW=["POST","PUT"];ee=lt.prototype;ee.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gd.g(),this.C=this.u?C0(this.u):C0(Gd),this.g.onreadystatechange=Tt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){x0(this,s);return}t=n||"";const i=new js(this.headers);r&&Qg(r,function(s,o){i.set(o,s)}),r=k6(i.T()),n=pe.FormData&&t instanceof pe.FormData,!(0<=HS(bW,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{kT(this),0<this.B&&((this.K=wW(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tt(this.pa,this)):this.A=qg(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){x0(this,s)}};function wW(t){return ms&&L6()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function IW(t){return t.toLowerCase()=="content-type"}ee.pa=function(){typeof $g!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,At(this,"timeout"),this.abort(8))};function x0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,DT(t),th(t)}function DT(t){t.D||(t.D=!0,At(t,"complete"),At(t,"error"))}ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,At(this,"complete"),At(this,"abort"),th(this))};ee.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),th(this,!0)),lt.Z.M.call(this)};ee.Fa=function(){this.s||(this.F||this.v||this.l?xT(this):this.cb())};ee.cb=function(){xT(this)};function xT(t){if(t.h&&typeof $g!="undefined"&&(!t.C[1]||Hn(t)!=4||t.ba()!=2)){if(t.v&&Hn(t)==4)qg(t.Fa,0,t);else if(At(t,"readystatechange"),Hn(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(ET)[1]||null;if(!i&&pe.self&&pe.self.location){var s=pe.self.location.protocol;i=s.substr(0,s.length-1)}r=!_W.test(i?i.toLowerCase():"")}n=r}if(n)At(t,"complete"),At(t,"success");else{t.m=6;try{var o=2<Hn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",DT(t)}}finally{th(t)}}}}function th(t,e){if(t.g){kT(t);const n=t.g,r=t.C[0]?Wu:null;t.g=null,t.C=null,e||At(t,"ready");try{n.onreadystatechange=r}catch{}}}function kT(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(pe.clearTimeout(t.A),t.A=null)}function Hn(t){return t.g?t.g.readyState:0}ee.ba=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}};ee.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ee.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),EW(e)}};function k0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case RT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ee.Da=function(){return this.m};ee.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function SW(t){let e="";return Fg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function nm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=SW(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Qe(t,e,n))}function oo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function PT(t){this.za=0,this.l=[],this.h=new Gl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=oo("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=oo("baseRetryDelayMs",5e3,t),this.$a=oo("retryDelaySeedMs",1e4,t),this.Ya=oo("forwardChannelMaxRetries",2,t),this.ra=oo("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new IT(t&&t.concurrentRequestLimit),this.Ca=new mW,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}ee=PT.prototype;ee.ma=8;ee.G=1;function rm(t){if(NT(t),t.G==3){var e=t.V++,n=Zn(t.F);Qe(n,"SID",t.J),Qe(n,"RID",e),Qe(n,"TYPE","terminate"),Wa(t,n),e=new ja(t,t.h,e,void 0),e.K=2,e.v=Zl(Zn(n)),n=!1,pe.navigator&&pe.navigator.sendBeacon&&(n=pe.navigator.sendBeacon(e.v.toString(),"")),!n&&pe.Image&&(new Image().src=e.v,n=!0),n||(e.g=VT(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Va(e)}UT(t)}ee.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function nh(t){t.g&&(sm(t),t.g.cancel(),t.g=null)}function NT(t){nh(t),t.u&&(pe.clearTimeout(t.u),t.u=null),Ju(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&pe.clearTimeout(t.m),t.m=null)}function Mf(t,e){t.l.push(new pW(t.Za++,e)),t.G==3&&rh(t)}function rh(t){ST(t.i)||t.m||(t.m=!0,Wg(t.Ha,t),t.C=0)}function TW(t,e){return TT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Ba(Tt(t.Ha,t,e),BT(t,t.C)),t.C++,!0)}ee.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new ja(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=GS(s),YS(s,this.P)):s=this.P),this.o===null&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=MT(this,i,e),n=Zn(this.F),Qe(n,"RID",t),Qe(n,"CVER",22),this.D&&Qe(n,"X-HTTP-Session-Id",this.D),Wa(this,n),this.o&&s&&nm(n,this.o,s),Zg(this.i,i),this.Ra&&Qe(n,"TYPE","init"),this.ja?(Qe(n,"$req",e),Qe(n,"SID","null"),i.$=!0,Xd(i,n,null)):Xd(i,n,e),this.G=2}}else this.G==3&&(t?P0(this,t):this.l.length==0||ST(this.i)||P0(this))};function P0(t,e){var n;e?n=e.m:n=t.V++;const r=Zn(t.F);Qe(r,"SID",t.J),Qe(r,"RID",n),Qe(r,"AID",t.U),Wa(t,r),t.o&&t.s&&nm(r,t.o,t.s),n=new ja(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=MT(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Zg(t.i,n),Xd(n,r,e)}function Wa(t,e){t.j&&Qg({},function(n,r){Qe(e,r,n)})}function MT(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Tt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].h;const l=i[c].g;if(u-=s,0>u)s=Math.max(0,i[c].h-100),a=!1;else try{vW(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function $T(t){t.g||t.u||(t.Y=1,Wg(t.Ga,t),t.A=0)}function im(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Ba(Tt(t.Ga,t),BT(t,t.A)),t.A++,!0)}ee.Ga=function(){if(this.u=null,LT(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ba(Tt(this.bb,this),t)}};ee.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,jt(10),nh(this),LT(this))};function sm(t){t.B!=null&&(pe.clearTimeout(t.B),t.B=null)}function LT(t){t.g=new ja(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Zn(t.oa);Qe(e,"RID","rpc"),Qe(e,"SID",t.J),Qe(e,"CI",t.N?"0":"1"),Qe(e,"AID",t.U),Wa(t,e),Qe(e,"TYPE","xmlhttp"),t.o&&t.s&&nm(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Zl(Zn(e)),n.s=null,n.U=!0,gT(n,t)}ee.ab=function(){this.v!=null&&(this.v=null,nh(this),im(this),jt(19))};function Ju(t){t.v!=null&&(pe.clearTimeout(t.v),t.v=null)}function FT(t,e){var n=null;if(t.g==e){Ju(t),sm(t),t.g=null;var r=2}else if(Jd(t.i,e))n=e.D,AT(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Yl(),At(r,new hT(r,n)),rh(t)}else $T(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&TW(t,e)||r==2&&im(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Qr(t,5);break;case 4:Qr(t,10);break;case 3:Qr(t,6);break;default:Qr(t,2)}}}function BT(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Qr(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=Tt(t.jb,t);n||(n=new gi("//www.google.com/images/cleardot.gif"),pe.location&&pe.location.protocol=="http"||Yu(n,"https"),Zl(n)),yW(n.toString(),r)}else jt(2);t.G=0,t.j&&t.j.va(e),UT(t),NT(t)}ee.jb=function(t){t?(this.h.info("Successfully pinged google.com"),jt(2)):(this.h.info("Failed to ping google.com"),jt(1))};function UT(t){t.G=0,t.I=-1,t.j&&((OT(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Lg(t.l),t.l.length=0),t.j.ua())}function jT(t,e,n){let r=oW(n);if(r.i!="")e&&Xu(r,e+"."+r.i),Qu(r,r.m);else{const i=pe.location;r=aW(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Fg(t.aa,function(i,s){Qe(r,s,i)}),e=t.D,n=t.sa,e&&n&&Qe(r,e,n),Qe(r,"VER",t.ma),Wa(t,r),r}function VT(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new lt(new Ka({ib:!0})):new lt(t.qa),e.L=t.H,e}function KT(){}ee=KT.prototype;ee.xa=function(){};ee.wa=function(){};ee.va=function(){};ee.ua=function(){};ee.Oa=function(){};function Zu(){if(ms&&!(10<=Number(F6)))throw Error("Environmental error: no available transport.")}Zu.prototype.g=function(t,e){return new nn(t,e)};function nn(t,e){wt.call(this),this.g=new PT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Hu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hu(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ks(this)}Ct(nn,wt);nn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Wg(Tt(t.hb,t,e))),jt(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=jT(t,null,t.W),rh(t)};nn.prototype.close=function(){rm(this.g)};nn.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Mf(this.g,e)}else this.v?(e={},e.__data__=zg(t),Mf(this.g,e)):Mf(this.g,t)};nn.prototype.M=function(){this.g.j=null,delete this.j,rm(this.g),delete this.g,nn.Z.M.call(this)};function zT(t){Yg.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ct(zT,Yg);function WT(){Xg.call(this),this.status=1}Ct(WT,Xg);function Ks(t){this.g=t}Ct(Ks,KT);Ks.prototype.xa=function(){At(this.g,"a")};Ks.prototype.wa=function(t){At(this.g,new zT(t))};Ks.prototype.va=function(t){At(this.g,new WT)};Ks.prototype.ua=function(){At(this.g,"b")};Zu.prototype.createWebChannel=Zu.prototype.g;nn.prototype.send=nn.prototype.u;nn.prototype.open=nn.prototype.m;nn.prototype.close=nn.prototype.close;Xl.NO_ERROR=0;Xl.TIMEOUT=8;Xl.HTTP_ERROR=6;fT.COMPLETE="complete";dT.EventType=Ua;Ua.OPEN="a";Ua.CLOSE="b";Ua.ERROR="c";Ua.MESSAGE="d";wt.prototype.listen=wt.prototype.N;lt.prototype.listenOnce=lt.prototype.O;lt.prototype.getLastError=lt.prototype.La;lt.prototype.getLastErrorCode=lt.prototype.Da;lt.prototype.getStatus=lt.prototype.ba;lt.prototype.getResponseJson=lt.prototype.Qa;lt.prototype.getResponseText=lt.prototype.ga;lt.prototype.send=lt.prototype.ea;var AW=function(){return new Zu},OW=function(){return Yl()},$f=Xl,CW=fT,RW=Ti,N0={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},DW=Ka,kc=dT,xW=lt;const M0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zs="9.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new Up("@firebase/firestore");function $0(){return Rr.logLevel}function kW(t){Rr.setLogLevel(t)}function ce(t,...e){if(Rr.logLevel<=Me.DEBUG){const n=e.map(om);Rr.debug(`Firestore (${zs}): ${t}`,...n)}}function Dr(t,...e){if(Rr.logLevel<=Me.ERROR){const n=e.map(om);Rr.error(`Firestore (${zs}): ${t}`,...n)}}function Zd(t,...e){if(Rr.logLevel<=Me.WARN){const n=e.map(om);Rr.warn(`Firestore (${zs}): ${t}`,...n)}}function om(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${zs}) INTERNAL ASSERTION FAILED: `+t;throw Dr(e),new Error(e)}function We(t,e){t||ge()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends $r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class NW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class MW{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string"),new HT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new Rt(e)}}class $W{constructor(e,n,r){this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class LW{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new $W(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FW{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BW{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{s.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string"),this.p=n.token,new FW(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=UW(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function vs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Te(e)}static min(){return new Te(new pt(0,0))}static max(){return new Te(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ua.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ua?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ye extends ua{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const jW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends ua{construct(e,n,r){return new xt(e,n,r)}static isValidIdentifier(e){return jW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new te($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(n)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Ye.fromString(e))}static fromName(e){return new le(Ye.fromString(e).popFirst(5))}static empty(){return new le(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Ye(e.slice()))}}function VW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new xr(i,le.empty(),e)}function KW(t){return new xr(t.readTime,t.key,-1)}class xr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xr(Te.min(),le.empty(),-1)}static max(){return new xr(Te.max(),le.empty(),-1)}}function zW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==WW)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new K((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function qa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.it(r),this.rt=r=>n.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ai(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */am.ot=-1;class vt{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:It.RED,this.left=i!=null?i:It.EMPTY,this.right=s!=null?s:It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new It(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return It.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(t,e,n,r,i){return this}insert(t,e,n){return new It(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new F0(this.data.getIterator())}getIteratorFrom(e){return new F0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class F0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new un([])}unionWith(e){let n=new gt(xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Ot(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const qW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(t){if(We(!!t),typeof t=="string"){let e=0;const n=qW.exec(t);if(We(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ys(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function XT(t){const e=t.mapValue.fields.__previous_value__;return YT(e)?XT(e):e}function la(t){const e=kr(t.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e,n,r,i,s,o,a,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=c}}class Es{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Es("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Es&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(t){return t==null}function el(t){return t===0&&1/t==-1/0}function YW(t){return typeof t=="number"&&Number.isInteger(t)&&!el(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?YT(t)?4:XW(t)?9007199254740991:10:ge()}function Mn(t,e){if(t===e)return!0;const n=mi(t);if(n!==mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return la(t).isEqual(la(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=kr(r.timestampValue),o=kr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ys(r.bytesValue).isEqual(ys(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return at(r.geoPointValue.latitude)===at(i.geoPointValue.latitude)&&at(r.geoPointValue.longitude)===at(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return at(r.integerValue)===at(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=at(r.doubleValue),o=at(i.doubleValue);return s===o?el(s)===el(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return vs(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(L0(s)!==L0(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Mn(s[a],o[a])))return!1;return!0}(t,e);default:return ge()}}function ha(t,e){return(t.values||[]).find(n=>Mn(n,e))!==void 0}function _s(t,e){if(t===e)return 0;const n=mi(t),r=mi(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=at(i.integerValue||i.doubleValue),a=at(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return B0(t.timestampValue,e.timestampValue);case 4:return B0(la(t),la(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ys(i),a=ys(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const u=Fe(o[c],a[c]);if(u!==0)return u}return Fe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Fe(at(i.latitude),at(s.latitude));return o!==0?o:Fe(at(i.longitude),at(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const u=_s(o[c],a[c]);if(u)return u}return Fe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Nc.mapValue&&s===Nc.mapValue)return 0;if(i===Nc.mapValue)return 1;if(s===Nc.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const h=Fe(a[l],u[l]);if(h!==0)return h;const f=_s(o[a[l]],c[u[l]]);if(f!==0)return f}return Fe(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ge()}}function B0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=kr(t),r=kr(e),i=Fe(n.seconds,r.seconds);return i!==0?i:Fe(n.nanos,r.nanos)}function rs(t){return ep(t)}function ep(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=kr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ys(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,le.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=ep(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${ep(r.fields[a])}`;return s+"}"}(t.mapValue):ge();var e,n}function U0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tp(t){return!!t&&"integerValue"in t}function cm(t){return!!t&&"arrayValue"in t}function j0(t){return!!t&&"nullValue"in t}function V0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uu(t){return!!t&&"mapValue"in t}function Oo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ai(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Oo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oo(n)}setAll(e){let n=xt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Oo(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());uu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];uu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ai(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Gt(Oo(this.value))}}function QT(t){const e=[];return Ai(t.fields,(n,r)=>{const i=new xt([n]);if(uu(r)){const s=QT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new St(e,0,Te.min(),Te.min(),Gt.empty(),0)}static newFoundDocument(e,n,r){return new St(e,1,n,Te.min(),r,0)}static newNoDocument(e,n){return new St(e,2,n,Te.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,Te.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ut=null}}function K0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new QW(t,e,n,r,i,s,o)}function um(t){const e=Ee(t);if(e.ut===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+rs(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rs(r)).join(",")),e.ut=n}return e.ut}function JW(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${rs(r.value)}`;var r}).join(", ")}]`),ih(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>rs(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>rs(n)).join(",")),`Target(${e})`}function lm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!oH(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Mn(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!W0(t.startAt,e.startAt)&&W0(t.endAt,e.endAt)}function np(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Vt extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.ct(e,n,r):new ZW(e,n,r):n==="array-contains"?new nH(e,r):n==="in"?new rH(e,r):n==="not-in"?new iH(e,r):n==="array-contains-any"?new sH(e,r):new Vt(e,n,r)}static ct(e,n,r){return n==="in"?new eH(e,r):new tH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.at(_s(n,this.value)):n!==null&&mi(this.value)===mi(n)&&this.at(_s(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ZW extends Vt{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.at(n)}}class eH extends Vt{constructor(e,n){super(e,"in",n),this.keys=JT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tH extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=JT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class nH extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cm(n)&&ha(n.arrayValue,this.value)}}class rH extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ha(this.value.arrayValue,n)}}class iH extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ha(this.value.arrayValue,n)}}class sH extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ha(this.value.arrayValue,r))}}class tl{constructor(e,n){this.position=e,this.inclusive=n}}class Co{constructor(e,n="asc"){this.field=e,this.dir=n}}function oH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function z0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=_s(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function W0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.lt=null,this.ft=null,this.startAt,this.endAt}}function aH(t,e,n,r,i,s,o,a){return new Ga(t,e,n,r,i,s,o,a)}function hm(t){return new Ga(t)}function cH(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function eA(t){for(const e of t.filters)if(e.ht())return e.field;return null}function tA(t){return t.collectionGroup!==null}function fa(t){const e=Ee(t);if(e.lt===null){e.lt=[];const n=eA(e),r=ZT(e);if(n!==null&&r===null)n.isKeyField()||e.lt.push(new Co(n)),e.lt.push(new Co(xt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.lt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Co(xt.keyField(),s))}}}return e.lt}function vi(t){const e=Ee(t);if(!e.ft)if(e.limitType==="F")e.ft=K0(e.path,e.collectionGroup,fa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of fa(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Co(s.field,o))}const r=e.endAt?new tl(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new tl(e.startAt.position,e.startAt.inclusive):null;e.ft=K0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.ft}function uH(t,e,n){return new Ga(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sh(t,e){return lm(vi(t),vi(e))&&t.limitType===e.limitType}function nA(t){return`${um(vi(t))}|lt:${t.limitType}`}function rp(t){return`Query(target=${JW(vi(t))}; limitType=${t.limitType})`}function fm(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):le.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=z0(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,fa(n),r)||n.endAt&&!function(i,s,o){const a=z0(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,fa(n),r))}(t,e)}function lH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rA(t){return(e,n)=>{let r=!1;for(const i of fa(t)){const s=hH(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function hH(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return a!==null&&c!==null?_s(a,c):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t,e){if(t.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:el(e)?"-0":e}}function sA(t){return{integerValue:""+t}}function fH(t,e){return YW(e)?sA(e):iA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this._=void 0}}function dH(t,e,n){return t instanceof da?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof pa?aA(t,e):t instanceof ga?cA(t,e):function(r,i){const s=oA(r,i),o=H0(s)+H0(r._t);return tp(s)&&tp(r._t)?sA(o):iA(r.wt,o)}(t,e)}function pH(t,e,n){return t instanceof pa?aA(t,e):t instanceof ga?cA(t,e):n}function oA(t,e){return t instanceof nl?tp(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class da extends oh{}class pa extends oh{constructor(e){super(),this.elements=e}}function aA(t,e){const n=uA(e);for(const r of t.elements)n.some(i=>Mn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ga extends oh{constructor(e){super(),this.elements=e}}function cA(t,e){let n=uA(e);for(const r of t.elements)n=n.filter(i=>!Mn(i,r));return{arrayValue:{values:n}}}class nl extends oh{constructor(e,n){super(),this.wt=e,this._t=n}}function H0(t){return at(t.integerValue||t.doubleValue)}function uA(t){return cm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e,n){this.field=e,this.transform=n}}function mH(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof pa&&r instanceof pa||n instanceof ga&&r instanceof ga?vs(n.elements,r.elements,Mn):n instanceof nl&&r instanceof nl?Mn(n._t,r._t):n instanceof da&&r instanceof da}(t.transform,e.transform)}class vH{constructor(e,n){this.version=e,this.transformResults=n}}class Pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ah{}function lA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fA(t.key,Pn.none()):new Ya(t.key,t.data,Pn.none());{const n=t.data,r=Gt.empty();let i=new gt(xt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ur(t.key,r,new un(i.toArray()),Pn.none())}}function yH(t,e,n){t instanceof Ya?function(r,i,s){const o=r.value.clone(),a=G0(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ur?function(r,i,s){if(!lu(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=G0(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(hA(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ro(t,e,n,r){return t instanceof Ya?function(i,s,o,a){if(!lu(i.precondition,s))return o;const c=i.value.clone(),u=Y0(i.fieldTransforms,a,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ur?function(i,s,o,a){if(!lu(i.precondition,s))return o;const c=Y0(i.fieldTransforms,a,s),u=s.data;return u.setAll(hA(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):function(i,s,o){return lu(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function EH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=oA(r.transform,i||null);s!=null&&(n===null&&(n=Gt.empty()),n.set(r.field,s))}return n||null}function q0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&vs(n,r,(i,s)=>mH(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ya extends ah{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ur extends ah{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function G0(t,e,n){const r=new Map;We(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,pH(o,a,n[i]))}return r}function Y0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,dH(s,o,e))}return r}class fA extends ah{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _H extends ah{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,xe;function wH(t){switch(t){default:return ge();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function dA(t){if(t===void 0)return Dr("GRPC error has no .code"),$.UNKNOWN;switch(t){case ot.OK:return $.OK;case ot.CANCELLED:return $.CANCELLED;case ot.UNKNOWN:return $.UNKNOWN;case ot.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ot.INTERNAL:return $.INTERNAL;case ot.UNAVAILABLE:return $.UNAVAILABLE;case ot.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ot.NOT_FOUND:return $.NOT_FOUND;case ot.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ot.ABORTED:return $.ABORTED;case ot.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ot.DATA_LOSS:return $.DATA_LOSS;default:return ge()}}(xe=ot||(ot={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ai(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return GT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=new vt(le.comparator);function er(){return IH}const pA=new vt(le.comparator);function mo(...t){let e=pA;for(const n of t)e=e.insert(n.key,n);return e}function gA(t){let e=pA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Jr(){return Do()}function mA(){return Do()}function Do(){return new Ws(t=>t.toString(),(t,e)=>t.isEqual(e))}const SH=new vt(le.comparator),TH=new gt(le.comparator);function Ce(...t){let e=TH;for(const n of t)e=e.add(n);return e}const AH=new gt(Fe);function vA(){return AH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Xa.createSynthesizedTargetChangeForCurrentChange(e,n)),new ch(Te.min(),r,vA(),er(),Ce())}}class Xa{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Xa(Ot.EMPTY_BYTE_STRING,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n,r,i){this.gt=e,this.removedTargetIds=n,this.key=r,this.yt=i}}class yA{constructor(e,n){this.targetId=e,this.It=n}}class EA{constructor(e,n,r=Ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class X0{constructor(){this.Tt=0,this.Et=J0(),this.At=Ot.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return this.Tt!==0}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Ce(),n=Ce(),r=Ce();return this.Et.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new Xa(this.At,this.Rt,e,n,r)}Dt(){this.bt=!1,this.Et=J0()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class OH{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=er(),this.Bt=Q0(),this.Lt=new gt(Fe)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const r=this.Qt(n);switch(e.state){case 0:this.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),r.Vt(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((r,i)=>{this.jt(i)&&n(i)})}zt(e){const n=e.targetId,r=e.It.count,i=this.Ht(n);if(i){const s=i.target;if(np(s))if(r===0){const o=new le(s.path);this.Kt(n,o,St.newNoDocument(o,Te.min()))}else We(r===1);else this.Jt(n)!==r&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((s,o)=>{const a=this.Ht(o);if(a){if(s.current&&np(a.target)){const c=new le(a.target.path);this.$t.get(c)!==null||this.Xt(o,c)||this.Kt(o,c,St.newNoDocument(c,e))}s.vt&&(n.set(o,s.St()),s.Dt())}});let r=Ce();this.Bt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Ht(c);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.$t.forEach((s,o)=>o.setReadTime(e));const i=new ch(e,n,this.Lt,this.$t,r);return this.$t=er(),this.Bt=Q0(),this.Lt=new gt(Fe),i}qt(e,n){if(!this.jt(e))return;const r=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,r),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,n)?i.Ct(n,1):i.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),r&&(this.$t=this.$t.insert(n,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new X0,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new gt(Fe),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=this.Ht(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new X0),this.Mt.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Mt.getRemoteKeysForTarget(e).has(n)}}function Q0(){return new vt(le.comparator)}function J0(){return new vt(le.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),RH=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class DH{constructor(e,n){this.databaseId=e,this.dt=n}}function rl(t,e){return t.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _A(t,e){return t.dt?e.toBase64():e.toUint8Array()}function xH(t,e){return rl(t,e.toTimestamp())}function Gn(t){return We(!!t),Te.fromTimestamp(function(e){const n=kr(e);return new pt(n.seconds,n.nanos)}(t))}function dm(t,e){return function(n){return new Ye(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function bA(t){const e=Ye.fromString(t);return We(SA(e)),e}function ip(t,e){return dm(t.databaseId,e.path)}function Lf(t,e){const n=bA(e);if(n.get(1)!==t.databaseId.projectId)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(wA(n))}function sp(t,e){return dm(t.databaseId,e)}function kH(t){const e=bA(t);return e.length===4?Ye.emptyPath():wA(e)}function op(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wA(t){return We(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Z0(t,e,n){return{name:ip(t,e),fields:n.value.mapValue.fields}}function PH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.dt?(We(u===void 0||typeof u=="string"),Ot.fromBase64String(u||"")):(We(u===void 0||u instanceof Uint8Array),Ot.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?$.UNKNOWN:dA(c.code);return new te(u,c.message||"")}(o);n=new EA(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Lf(t,r.document.name),s=Gn(r.document.updateTime),o=new Gt({mapValue:{fields:r.document.fields}}),a=St.newFoundDocument(i,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new hu(c,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Lf(t,r.document),s=r.readTime?Gn(r.readTime):Te.min(),o=St.newNoDocument(i,s),a=r.removedTargetIds||[];n=new hu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Lf(t,r.document),s=r.removedTargetIds||[];n=new hu([],s,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new bH(i),o=r.targetId;n=new yA(o,s)}}return n}function NH(t,e){let n;if(e instanceof Ya)n={update:Z0(t,e.key,e.value)};else if(e instanceof fA)n={delete:ip(t,e.key)};else if(e instanceof Ur)n={update:Z0(t,e.key,e.data),updateMask:zH(e.fieldMask)};else{if(!(e instanceof _H))return ge();n={verify:ip(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof da)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof pa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ga)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof nl)return{fieldPath:s.field.canonicalString(),increment:o._t};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:xH(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ge()}(t,e.precondition)),n}function MH(t,e){return t&&t.length>0?(We(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Gn(r.updateTime):Gn(i);return s.isEqual(Te.min())&&(s=Gn(i)),new vH(s,r.transformResults||[])}(n,e))):[]}function $H(t,e){return{documents:[sp(t,e.path)]}}function LH(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=sp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=sp(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(c.length===0)return;const u=c.map(l=>function(h){if(h.op==="=="){if(V0(h.value))return{unaryFilter:{field:Bi(h.field),op:"IS_NAN"}};if(j0(h.value))return{unaryFilter:{field:Bi(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(V0(h.value))return{unaryFilter:{field:Bi(h.field),op:"IS_NOT_NAN"}};if(j0(h.value))return{unaryFilter:{field:Bi(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bi(h.field),op:jH(h.op),value:h.value}}}(l));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(l){return{field:Bi(l.field),direction:UH(l.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(c,u){return c.dt||ih(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function FH(t){let e=kH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){We(r===1);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=IA(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>function(h){return new Co(qi(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(l)));let a=null;n.limit&&(a=function(l){let h;return h=typeof l=="object"?l.value:l,ih(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(l){const h=!!l.before,f=l.values||[];return new tl(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(l){const h=!l.before,f=l.values||[];return new tl(f,h)}(n.endAt)),aH(e,i,o,s,a,"F",c,u)}function BH(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ge()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function IA(t){return t?t.unaryFilter!==void 0?[KH(t)]:t.fieldFilter!==void 0?[VH(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>IA(e)).reduce((e,n)=>e.concat(n)):ge():[]}function UH(t){return CH[t]}function jH(t){return RH[t]}function Bi(t){return{fieldPath:t.canonicalString()}}function qi(t){return xt.fromServerFormat(t.fieldPath)}function VH(t){return Vt.create(qi(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(t.fieldFilter.op),t.fieldFilter.value)}function KH(t){switch(t.unaryFilter.op){case"IS_NAN":const e=qi(t.unaryFilter.field);return Vt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=qi(t.unaryFilter.field);return Vt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qi(t.unaryFilter.field);return Vt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=qi(t.unaryFilter.field);return Vt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}function zH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&yH(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ro(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ro(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=lA(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&vs(this.mutations,e.mutations,(n,r)=>q0(n,r))&&vs(this.baseMutations,e.baseMutations,(n,r)=>q0(n,r))}}class pm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){We(e.mutations.length===r.length);let i=SH;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new pm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n,r,i,s=Te.min(),o=Te.min(),a=Ot.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e){this.ne=e}}function GH(t){const e=FH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uH(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(){this.ze=new XH}addToCollectionParentIndex(e,n){return this.ze.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(xr.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class XH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(Ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new bs(0)}static Rn(){return new bs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(){this.changes=new Ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&Ro(r.mutation,i,un.empty(),pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=Jr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=mo();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=er();const o=Do(),a=Do();return n.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Ur)?s=s.insert(u.key,u):l!==void 0&&(o.set(u.key,l.mutation.getFieldMask()),Ro(l.mutation,u,l.mutation.getFieldMask(),pt.now()))}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var h;return a.set(u,new JH(l,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Do();let i=new vt((o,a)=>o-a),s=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let l=r.get(c)||un.empty();l=a.applyToLocalView(u,l),r.set(c,l);const h=(i.get(a.batchId)||Ce()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,h=mA();l.forEach(f=>{if(!s.has(f)){const d=lA(n.get(f),r.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):K.resolve(Jr());let a=-1,c=s;return o.next(u=>K.forEach(u,(l,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(l)?K.resolve():this.getBaseDocument(e,l,h).next(f=>{c=c.insert(l,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Ce())).next(l=>({batchId:a,changes:gA(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let i=mo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=mo();return this.indexManager.getCollectionParents(e,i).next(o=>K.forEach(o,a=>{const c=function(u,l){return new Ga(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,h)=>{s=s.insert(l,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,c)=>{const u=c.getKey();i.get(u)===null&&(i=i.insert(u,St.newInvalidDocument(u)))});let o=mo();return i.forEach((a,c)=>{const u=s.get(a);u!==void 0&&Ro(u.mutation,c,un.empty(),pt.now()),fm(n,c)&&(o=o.insert(a,c))}),o})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):K.resolve(St.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return K.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var r;return this.Jn.set(n.id,{id:(r=n).id,version:r.version,createTime:Gn(r.createTime)}),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,function(r){return{name:r.name,query:GH(r.bundledQuery),readTime:Gn(r.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(){this.overlays=new vt(le.comparator),this.Xn=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jr();return K.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ie(e,n,s)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Xn.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=Jr(),s=n.length+1,o=new le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new vt((u,l)=>u-l);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Jr(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=Jr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return K.resolve(a)}ie(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new HH(n,r));let s=this.Xn.get(n);s===void 0&&(s=Ce(),this.Xn.set(n,s)),this.Xn.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this.Zn=new gt(Et.ts),this.es=new gt(Et.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const r=new Et(e,n);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.rs(new Et(e,n))}os(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new le(new Ye([])),r=new Et(n,e),i=new Et(n,e+1),s=[];return this.es.forEachInRange([r,i],o=>{this.rs(o),s.push(o.key)}),s}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new le(new Ye([])),r=new Et(n,e),i=new Et(n,e+1);let s=Ce();return this.es.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Et(e,0),r=this.Zn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return le.comparator(e.key,n.key)||Fe(e.ls,n.ls)}static ns(e,n){return Fe(e.ls,n.ls)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new gt(Et.ts)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new WH(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.ds=this.ds.add(new Et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ws(r),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.fs-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),i=new Et(n,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],o=>{const a=this._s(o.ls);s.push(a)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(Fe);return n.forEach(i=>{const s=new Et(i,0),o=new Et(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,o],a=>{r=r.add(a.ls)})}),K.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;le.isDocumentKey(s)||(s=s.child(""));const o=new Et(new le(s),0);let a=new gt(Fe);return this.ds.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.ls)),!0)},o),K.resolve(this.gs(a))}gs(e){const n=[];return e.forEach(r=>{const i=this._s(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){We(this.ys(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ds;return K.forEach(n.mutations,i=>{const s=new Et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,n){const r=new Et(n,0),i=this.ds.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ys(e,n){return this.ws(e)}ws(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e){this.ps=e,this.docs=new vt(le.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=er();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():St.newInvalidDocument(i))}),K.resolve(r)}getAllFromCollection(e,n,r){let i=er();const s=new le(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:c}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||zW(KW(c),r)<=0||(i=i.insert(c.key,c.mutableCopy()))}return K.resolve(i)}getAllFromCollectionGroup(e,n,r,i){ge()}Is(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new iq(this)}getSize(e){return K.resolve(this.size)}}class iq extends QH{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e){this.persistence=e,this.Ts=new Ws(n=>um(n),lm),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.Es=0,this.As=new gm,this.targetCount=0,this.Rs=bs.An()}forEachTarget(e,n){return this.Ts.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Es&&(this.Es=n),K.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new bs(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.vn(n),K.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Ts.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.Ts.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.As.ss(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.As.os(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.As.hs(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.As.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e,n){this.bs={},this.overlays={},this.Ps=new am(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new sq(this),this.indexManager=new YH,this.remoteDocumentCache=function(r){return new rq(r)}(r=>this.referenceDelegate.Ss(r)),this.wt=new qH(n),this.Ds=new eq(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.bs[e.toKey()];return r||(r=new nq(n,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new aq(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(s=>this.referenceDelegate.xs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ns(e,n){return K.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class aq extends HW{constructor(e){super(),this.currentSequenceNumber=e}}class mm{constructor(e){this.persistence=e,this.ks=new gm,this.Os=null}static Ms(e){return new mm(e)}get Fs(){if(this.Os)return this.Os;throw ge()}addReference(e,n,r){return this.ks.addReference(r,n),this.Fs.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.ks.removeReference(r,n),this.Fs.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),K.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Fs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Cs(){this.Os=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Fs,r=>{const i=le.fromPath(r);return this.$s(e,i).next(s=>{s||n.removeEntry(i,Te.min())})}).next(()=>(this.Os=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return K.or([()=>K.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Pi=r,this.vi=i}static Vi(e,n){let r=Ce(),i=Ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ci(e,n).next(s=>s||this.xi(e,n,i,r)).next(s=>s||this.Ni(e,n))}Ci(e,n){return K.resolve(null)}xi(e,n,r,i){return cH(n)||i.isEqual(Te.min())?this.Ni(e,n):this.Di.getDocuments(e,r).next(s=>{const o=this.ki(n,s);return this.Oi(n,o,r,i)?this.Ni(e,n):($0()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rp(n)),this.Mi(e,o,n,VW(i,-1)))})}ki(e,n){let r=new gt(rA(e));return n.forEach((i,s)=>{fm(e,s)&&(r=r.add(s))}),r}Oi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ni(e,n){return $0()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",rp(n)),this.Di.getDocumentsMatchingQuery(e,n,xr.min())}Mi(e,n,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e,n,r,i){this.persistence=e,this.Fi=n,this.wt=i,this.$i=new vt(Fe),this.Bi=new Ws(s=>um(s),lm),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZH(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function lq(t,e,n,r){return new uq(t,e,n,r)}async function TA(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=Ce();for(const u of i){o.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of s){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ki:u,removedBatchIds:o,addedBatchIds:a}))})})}function hq(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ui.newChangeBuffer({trackRemovals:!0});return function(o,a,c,u){const l=c.batch,h=l.keys();let f=K.resolve();return h.forEach(d=>{f=f.next(()=>u.getEntry(a,d)).next(v=>{const O=c.docVersions.get(d);We(O!==null),v.version.compareTo(O)<0&&(l.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Ce();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function AA(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function fq(t,e){const n=Ee(t),r=e.snapshotVersion;let i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;const a=[];e.targetChanges.forEach((l,h)=>{const f=i.get(h);if(!f)return;a.push(n.Vs.removeMatchingKeys(s,l.removedDocuments,h).next(()=>n.Vs.addMatchingKeys(s,l.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?d=d.withResumeToken(Ot.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):l.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(l.resumeToken,r)),i=i.insert(h,d),function(v,O,I){return v.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(f,d,l)&&a.push(n.Vs.updateTargetData(s,d))});let c=er(),u=Ce();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(dq(s,o,e.documentUpdates).next(l=>{c=l.Gi,u=l.Qi})),!r.isEqual(Te.min())){const l=n.Vs.getLastRemoteSnapshotVersion(s).next(h=>n.Vs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return K.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.$i=i,s))}function dq(t,e,n){let r=Ce(),i=Ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=er();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Te.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Gi:o,Qi:i}})}function pq(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gq(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Vs.getTargetData(r,e).next(s=>s?(i=s,K.resolve(i)):n.Vs.allocateTargetId(r).next(o=>(i=new oi(e,o,0,r.currentSequenceNumber),n.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.$i.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.$i=n.$i.insert(r.targetId,r),n.Bi.set(e,r.targetId)),r})}async function ap(t,e,n){const r=Ee(t),i=r.$i.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!qa(o))throw o;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}function e_(t,e,n){const r=Ee(t);let i=Te.min(),s=Ce();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,u){const l=Ee(a),h=l.Bi.get(u);return h!==void 0?K.resolve(l.$i.get(h)):l.Vs.getTargetData(c,u)}(r,o,vi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Fi.getDocumentsMatchingQuery(o,e,n?i:Te.min(),n?s:Ce())).next(a=>(mq(r,lH(e),a),{documents:a,ji:s})))}function mq(t,e,n){let r=Te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Li.set(e,r)}class t_{constructor(){this.activeTargetIds=vA()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vq{constructor(){this.Fr=new t_,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,r){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new t_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{Br(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.so=n+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,r,i,s){const o=this.oo(e,n);ce("RestConnection","Sending: ",o,r);const a={};return this.uo(a,i,s),this.co(e,o,a,r).then(c=>(ce("RestConnection","Received: ",c),c),c=>{throw Zd("RestConnection",`${e} failed with error: `,c,"url: ",o,"request:",r),c})}ao(e,n,r,i,s,o){return this.ro(e,n,r,i,s)}uo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+zs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}oo(e,n){const r=Eq[e];return`${this.so}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,r,i){return new Promise((s,o)=>{const a=new xW;a.listenOnce(CW.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case $f.NO_ERROR:const u=a.getResponseJson();ce("Connection","XHR received:",JSON.stringify(u)),s(u);break;case $f.TIMEOUT:ce("Connection",'RPC "'+e+'" timed out'),o(new te($.DEADLINE_EXCEEDED,"Request time out"));break;case $f.HTTP_ERROR:const l=a.getStatus();if(ce("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const f=function(d){const v=d.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(v)>=0?v:$.UNKNOWN}(h.status);o(new te(f,h.message))}else o(new te($.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new te($.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{ce("Connection",'RPC "'+e+'" completed.')}});const c=JSON.stringify(i);a.send(n,"POST",c,r,15)})}ho(e,n,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=AW(),o=OW(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new DW({})),this.uo(a.initMessageHeaders,n,r),iw()||ow()||fx()||aw()||dx()||sw()||(a.httpHeadersOverwriteParam="$httpHeaders");const c=i.join("");ce("Connection","Creating WebChannel: "+c,a);const u=s.createWebChannel(c,a);let l=!1,h=!1;const f=new _q({jr:v=>{h?ce("Connection","Not sending because WebChannel is closed:",v):(l||(ce("Connection","Opening WebChannel transport."),u.open(),l=!0),ce("Connection","WebChannel sending:",v),u.send(v))},Wr:()=>u.close()}),d=(v,O,I)=>{v.listen(O,T=>{try{I(T)}catch(R){setTimeout(()=>{throw R},0)}})};return d(u,kc.EventType.OPEN,()=>{h||ce("Connection","WebChannel transport opened.")}),d(u,kc.EventType.CLOSE,()=>{h||(h=!0,ce("Connection","WebChannel transport closed"),f.eo())}),d(u,kc.EventType.ERROR,v=>{h||(h=!0,Zd("Connection","WebChannel transport errored:",v),f.eo(new te($.UNAVAILABLE,"The operation could not be completed")))}),d(u,kc.EventType.MESSAGE,v=>{var O;if(!h){const I=v.data[0];We(!!I);const T=I,R=T.error||((O=T[0])===null||O===void 0?void 0:O.error);if(R){ce("Connection","WebChannel received error:",R);const V=R.status;let j=function(P){const y=ot[P];if(y!==void 0)return dA(y)}(V),k=R.message;j===void 0&&(j=$.INTERNAL,k="Unknown error status: "+V+" with message "+R.message),h=!0,f.eo(new te(j,k)),u.close()}else ce("Connection","WebChannel received:",I),f.no(I)}}),d(o,RW.STAT_EVENT,v=>{v.stat===N0.PROXY?ce("Connection","Detected buffering proxy"):v.stat===N0.NOPROXY&&ce("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.Zr()},0),f}}function Ff(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(t){return new DH(t,!0)}class OA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.js=e,this.timerId=n,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){this.mo!==null&&(this.mo.skipDelay(),this.mo=null)}cancel(){this.mo!==null&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n,r,i,s,o,a,c){this.js=e,this.Ao=r,this.Ro=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new OA(e,n)}Do(){return this.state===1||this.state===5||this.Co()}Co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&this.vo===null&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}async Oo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(e,n){this.Fo(),this.$o(),this.So.cancel(),this.Po++,e!==4?this.So.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Dr(n.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Bo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Jr(n)}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===n&&this.Uo(r,i)},r=>{e(()=>{const i=new te($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,n){const r=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){this.state=5,this.So.Io(async()=>{this.state=0,this.start()})}qo(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wq extends CA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.wt=s}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=PH(this.wt,e),r=function(i){if(!("targetChange"in i))return Te.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Te.min():s.readTime?Gn(s.readTime):Te.min()}(e);return this.listener.Go(n,r)}Qo(e){const n={};n.database=op(this.wt),n.addTarget=function(i,s){let o;const a=s.target;return o=np(a)?{documents:$H(i,a)}:{query:LH(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=_A(i,s.resumeToken):s.snapshotVersion.compareTo(Te.min())>0&&(o.readTime=rl(i,s.snapshotVersion.toTimestamp())),o}(this.wt,e);const r=BH(this.wt,e);r&&(n.labels=r),this.Mo(n)}jo(e){const n={};n.database=op(this.wt),n.removeTarget=e,this.Mo(n)}}class Iq extends CA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=MH(e.writeResults,e.commitTime),r=Gn(e.commitTime);return this.listener.Jo(r,n)}return We(!e.writeResults||e.writeResults.length===0),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=op(this.wt),this.Mo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>NH(this.wt,r))};this.Mo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ro(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te($.UNKNOWN,i.toString())})}ao(e,n,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.bo.ao(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te($.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class Tq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){this.eu===0&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){this.state==="Online"?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,e==="Online"&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Dr(n),this.su=!1):ce("OnlineStateTracker",n)}cu(){this.nu!==null&&(this.nu.cancel(),this.nu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(o=>{r.enqueueAndForget(async()=>{Oi(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=Ee(a);c.lu.add(4),await Qa(c),c._u.set("Unknown"),c.lu.delete(4),await lh(c)}(this))})}),this._u=new Tq(r,i)}}async function lh(t){if(Oi(t))for(const e of t.fu)await e(!0)}async function Qa(t){for(const e of t.fu)await e(!1)}function RA(t,e){const n=Ee(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),_m(n)?Em(n):Hs(n).Co()&&ym(n,e))}function DA(t,e){const n=Ee(t),r=Hs(n);n.hu.delete(e),r.Co()&&xA(n,e),n.hu.size===0&&(r.Co()?r.ko():Oi(n)&&n._u.set("Unknown"))}function ym(t,e){t.wu.Nt(e.targetId),Hs(t).Qo(e)}function xA(t,e){t.wu.Nt(e),Hs(t).jo(e)}function Em(t){t.wu=new OH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),te:e=>t.hu.get(e)||null}),Hs(t).start(),t._u.iu()}function _m(t){return Oi(t)&&!Hs(t).Do()&&t.hu.size>0}function Oi(t){return Ee(t).lu.size===0}function kA(t){t.wu=void 0}async function Oq(t){t.hu.forEach((e,n)=>{ym(t,e)})}async function Cq(t,e){kA(t),_m(t)?(t._u.uu(e),Em(t)):t._u.set("Unknown")}async function Rq(t,e,n){if(t._u.set("Online"),e instanceof EA&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.hu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.hu.delete(o),r.wu.removeTarget(o))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await il(t,r)}else if(e instanceof hu?t.wu.Ut(e):e instanceof yA?t.wu.zt(e):t.wu.Gt(e),!n.isEqual(Te.min()))try{const r=await AA(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.wu.Yt(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.hu.get(c);u&&i.hu.set(c,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const c=i.hu.get(a);if(!c)return;i.hu.set(a,c.withResumeToken(Ot.EMPTY_BYTE_STRING,c.snapshotVersion)),xA(i,a);const u=new oi(c.target,a,1,c.sequenceNumber);ym(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await il(t,r)}}async function il(t,e,n){if(!qa(e))throw e;t.lu.add(1),await Qa(t),t._u.set("Offline"),n||(n=()=>AA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.lu.delete(1),await lh(t)})}function PA(t,e){return e().catch(n=>il(t,n,e))}async function hh(t){const e=Ee(t),n=Pr(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;Dq(e);)try{const i=await pq(e.localStore,r);if(i===null){e.au.length===0&&n.ko();break}r=i.batchId,xq(e,i)}catch(i){await il(e,i)}NA(e)&&MA(e)}function Dq(t){return Oi(t)&&t.au.length<10}function xq(t,e){t.au.push(e);const n=Pr(t);n.Co()&&n.zo&&n.Ho(e.mutations)}function NA(t){return Oi(t)&&!Pr(t).Do()&&t.au.length>0}function MA(t){Pr(t).start()}async function kq(t){Pr(t).Xo()}async function Pq(t){const e=Pr(t);for(const n of t.au)e.Ho(n.mutations)}async function Nq(t,e,n){const r=t.au.shift(),i=pm.from(r,e,n);await PA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await hh(t)}async function Mq(t,e){e&&Pr(t).zo&&await async function(n,r){if(i=r.code,wH(i)&&i!==$.ABORTED){const s=n.au.shift();Pr(n).No(),await PA(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await hh(n)}var i}(t,e),NA(t)&&MA(t)}async function r_(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=Oi(n);n.lu.add(3),await Qa(n),r&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),await lh(n)}async function $q(t,e){const n=Ee(t);e?(n.lu.delete(2),await lh(n)):e||(n.lu.add(2),await Qa(n),n._u.set("Unknown"))}function Hs(t){return t.mu||(t.mu=function(e,n,r){const i=Ee(e);return i.tu(),new wq(n,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(t.datastore,t.asyncQueue,{zr:Oq.bind(null,t),Jr:Cq.bind(null,t),Go:Rq.bind(null,t)}),t.fu.push(async e=>{e?(t.mu.No(),_m(t)?Em(t):t._u.set("Unknown")):(await t.mu.stop(),kA(t))})),t.mu}function Pr(t){return t.gu||(t.gu=function(e,n,r){const i=Ee(e);return i.tu(),new Iq(n,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(t.datastore,t.asyncQueue,{zr:kq.bind(null,t),Jr:Mq.bind(null,t),Yo:Pq.bind(null,t),Jo:Nq.bind(null,t)}),t.fu.push(async e=>{e?(t.gu.No(),await hh(t)):(await t.gu.stop(),t.au.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.au.length} pending writes`),t.au=[]))})),t.gu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new bm(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wm(t,e){if(Dr("AsyncQueue",`${e}: ${t}`),qa(t))return new te($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=mo(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new is(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof is)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new is;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.yu=new vt(le.comparator)}track(e){const n=e.doc.key,r=this.yu.get(n);r?e.type!==0&&r.type===3?this.yu=this.yu.insert(n,e):e.type===3&&r.type!==1?this.yu=this.yu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.yu=this.yu.remove(n):e.type===1&&r.type===2?this.yu=this.yu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):ge():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ws{constructor(e,n,r,i,s,o,a,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new ws(e,n,is.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(){this.Iu=void 0,this.listeners=[]}}class Fq{constructor(){this.queries=new Ws(e=>nA(e),sh),this.onlineState="Unknown",this.Tu=new Set}}async function $A(t,e){const n=Ee(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Lq),i)try{s.Iu=await n.onListen(r)}catch(o){const a=wm(o,`Initialization of query '${rp(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Eu(n.onlineState),s.Iu&&e.Au(s.Iu)&&Im(n)}async function LA(t,e){const n=Ee(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Bq(t,e){const n=Ee(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Au(i)&&(r=!0);o.Iu=i}}r&&Im(n)}function Uq(t,e,n){const r=Ee(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Im(t){t.Tu.forEach(e=>{e.next()})}class FA{constructor(e,n,r){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ws(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Du||!r)&&(!e.docs.isEmpty()||n==="Offline")}vu(e){if(e.docChanges.length>0)return!0;const n=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Su(e){e=ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.key=e}}class UA{constructor(e){this.key=e}}class jq{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Ce(),this.mutatedKeys=Ce(),this.Lu=rA(e),this.Uu=new is(this.Lu)}get qu(){return this.Fu}Ku(e,n){const r=n?n.Gu:new i_,i=n?n.Uu:this.Uu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,h)=>{const f=i.get(l),d=fm(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),O=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let I=!1;f&&d?f.data.isEqual(d.data)?v!==O&&(r.track({type:3,doc:d}),I=!0):this.Qu(f,d)||(r.track({type:2,doc:d}),I=!0,(c&&this.Lu(d,c)>0||u&&this.Lu(d,u)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),I=!0):f&&!d&&(r.track({type:1,doc:f}),I=!0,(c||u)&&(a=!0)),I&&(d?(o=o.add(d),s=O?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:a,mutatedKeys:s}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Gu.pu();s.sort((u,l)=>function(h,f){const d=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return d(h)-d(f)}(u.type,l.type)||this.Lu(u.doc,l.doc)),this.ju(r);const o=n?this.Wu():[],a=this.Bu.size===0&&this.current?1:0,c=a!==this.$u;return this.$u=a,s.length!==0||c?{snapshot:new ws(this.query,e.Uu,i,s,e.mutatedKeys,a===0,c,!1),zu:o}:{zu:o}}Eu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new i_,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Ce(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const n=[];return e.forEach(r=>{this.Bu.has(r)||n.push(new UA(r))}),this.Bu.forEach(r=>{e.has(r)||n.push(new BA(r))}),n}Ju(e){this.Fu=e.ji,this.Bu=Ce();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return ws.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,this.$u===0)}}class Vq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Kq{constructor(e){this.key=e,this.Xu=!1}}class zq{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Ws(a=>nA(a),sh),this.ec=new Map,this.nc=new Set,this.sc=new vt(le.comparator),this.ic=new Map,this.rc=new gm,this.oc={},this.uc=new Map,this.cc=bs.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return this.ac===!0}}async function Wq(t,e){const n=t4(t);let r,i;const s=n.tc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const o=await gq(n.localStore,vi(e));n.isPrimaryClient&&RA(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Hq(n,e,r,a==="current")}return i}async function Hq(t,e,n,r){t.hc=(l,h,f)=>async function(d,v,O,I){let T=v.view.Ku(O);T.Oi&&(T=await e_(d.localStore,v.query,!1).then(({documents:j})=>v.view.Ku(j,T)));const R=I&&I.targetChanges.get(v.targetId),V=v.view.applyChanges(T,d.isPrimaryClient,R);return o_(d,v.targetId,V.zu),V.snapshot}(t,l,h,f);const i=await e_(t.localStore,e,!0),s=new jq(e,i.ji),o=s.Ku(i.documents),a=Xa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),c=s.applyChanges(o,t.isPrimaryClient,a);o_(t,n,c.zu);const u=new Vq(e,n,s);return t.tc.set(e,u),t.ec.has(n)?t.ec.get(n).push(e):t.ec.set(n,[e]),c.snapshot}async function qq(t,e){const n=Ee(t),r=n.tc.get(e),i=n.ec.get(r.targetId);if(i.length>1)return n.ec.set(r.targetId,i.filter(s=>!sh(s,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ap(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),DA(n.remoteStore,r.targetId),cp(n,r.targetId)}).catch(Ha)):(cp(n,r.targetId),await ap(n.localStore,r.targetId,!0))}async function Gq(t,e,n){const r=n4(t);try{const i=await function(s,o){const a=Ee(s),c=pt.now(),u=o.reduce((f,d)=>f.add(d.key),Ce());let l,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let d=er(),v=Ce();return a.Ui.getEntries(f,u).next(O=>{d=O,d.forEach((I,T)=>{T.isValidDocument()||(v=v.add(I))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,d)).next(O=>{l=O;const I=[];for(const T of o){const R=EH(T,l.get(T.key).overlayedDocument);R!=null&&I.push(new Ur(T.key,R,QT(R.value.mapValue),Pn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,c,I,o)}).next(O=>{h=O;const I=O.applyToLocalDocumentSet(l,v);return a.documentOverlayCache.saveOverlays(f,O.batchId,I)})}).then(()=>({batchId:h.batchId,changes:gA(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.oc[s.currentUser.toKey()];c||(c=new vt(Fe)),c=c.insert(o,a),s.oc[s.currentUser.toKey()]=c}(r,i.batchId,n),await Ja(r,i.changes),await hh(r.remoteStore)}catch(i){const s=wm(i,"Failed to persist write");n.reject(s)}}async function jA(t,e){const n=Ee(t);try{const r=await fq(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ic.get(s);o&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Xu=!0:i.modifiedDocuments.size>0?We(o.Xu):i.removedDocuments.size>0&&(We(o.Xu),o.Xu=!1))}),await Ja(n,r,e)}catch(r){await Ha(r)}}function s_(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.tc.forEach((s,o)=>{const a=o.view.Eu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=Ee(s);a.onlineState=o;let c=!1;a.queries.forEach((u,l)=>{for(const h of l.listeners)h.Eu(o)&&(c=!0)}),c&&Im(a)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Yq(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ic.get(e),s=i&&i.key;if(s){let o=new vt(le.comparator);o=o.insert(s,St.newNoDocument(s,Te.min()));const a=Ce().add(s),c=new ch(Te.min(),new Map,new gt(Fe),o,a);await jA(r,c),r.sc=r.sc.remove(s),r.ic.delete(e),Sm(r)}else await ap(r.localStore,e,!1).then(()=>cp(r,e,n)).catch(Ha)}async function Xq(t,e){const n=Ee(t),r=e.batch.batchId;try{const i=await hq(n.localStore,e);KA(n,r,null),VA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ja(n,i)}catch(i){await Ha(i)}}async function Qq(t,e,n){const r=Ee(t);try{const i=await function(s,o){const a=Ee(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,o).next(l=>(We(l!==null),u=l.keys(),a.mutationQueue.removeMutationBatch(c,l))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);KA(r,e,n),VA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ja(r,i)}catch(i){await Ha(i)}}function VA(t,e){(t.uc.get(e)||[]).forEach(n=>{n.resolve()}),t.uc.delete(e)}function KA(t,e,n){const r=Ee(t);let i=r.oc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function cp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ec.get(e))t.tc.delete(r),n&&t.Zu.lc(r,n);t.ec.delete(e),t.isPrimaryClient&&t.rc.us(e).forEach(r=>{t.rc.containsKey(r)||zA(t,r)})}function zA(t,e){t.nc.delete(e.path.canonicalString());const n=t.sc.get(e);n!==null&&(DA(t.remoteStore,n),t.sc=t.sc.remove(e),t.ic.delete(n),Sm(t))}function o_(t,e,n){for(const r of n)r instanceof BA?(t.rc.addReference(r.key,e),Jq(t,r)):r instanceof UA?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.rc.removeReference(r.key,e),t.rc.containsKey(r.key)||zA(t,r.key)):ge()}function Jq(t,e){const n=e.key,r=n.path.canonicalString();t.sc.get(n)||t.nc.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.nc.add(r),Sm(t))}function Sm(t){for(;t.nc.size>0&&t.sc.size<t.maxConcurrentLimboResolutions;){const e=t.nc.values().next().value;t.nc.delete(e);const n=new le(Ye.fromString(e)),r=t.cc.next();t.ic.set(r,new Kq(n)),t.sc=t.sc.insert(n,r),RA(t.remoteStore,new oi(vi(hm(n.path)),r,2,am.ot))}}async function Ja(t,e,n){const r=Ee(t),i=[],s=[],o=[];r.tc.isEmpty()||(r.tc.forEach((a,c)=>{o.push(r.hc(c,e,n).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u.fromCache?"not-current":"current"),i.push(u);const l=vm.Vi(c.targetId,u);s.push(l)}}))}),await Promise.all(o),r.Zu.Go(i),await async function(a,c){const u=Ee(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",l=>K.forEach(c,h=>K.forEach(h.Pi,f=>u.persistence.referenceDelegate.addReference(l,h.targetId,f)).next(()=>K.forEach(h.vi,f=>u.persistence.referenceDelegate.removeReference(l,h.targetId,f)))))}catch(l){if(!qa(l))throw l;ce("LocalStore","Failed to update sequence numbers: "+l)}for(const l of c){const h=l.targetId;if(!l.fromCache){const f=u.$i.get(h),d=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(d);u.$i=u.$i.insert(h,v)}}}(r.localStore,s))}async function Zq(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await TA(n.localStore,e);n.currentUser=e,function(i,s){i.uc.forEach(o=>{o.forEach(a=>{a.reject(new te($.CANCELLED,s))})}),i.uc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ja(n,r.Ki)}}function e4(t,e){const n=Ee(t),r=n.ic.get(e);if(r&&r.Xu)return Ce().add(r.key);{let i=Ce();const s=n.ec.get(e);if(!s)return i;for(const o of s){const a=n.tc.get(o);i=i.unionWith(a.view.qu)}return i}}function t4(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yq.bind(null,e),e.Zu.Go=Bq.bind(null,e.eventManager),e.Zu.lc=Uq.bind(null,e.eventManager),e}function n4(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qq.bind(null,e),e}class r4{constructor(){this.synchronizeTabs=!1}async initialize(e){this.wt=uh(e.databaseInfo.databaseId),this.sharedClientState=this.dc(e),this.persistence=this._c(e),await this.persistence.start(),this.localStore=this.wc(e),this.gcScheduler=this.mc(e,this.localStore),this.indexBackfillerScheduler=this.gc(e,this.localStore)}mc(e,n){return null}gc(e,n){return null}wc(e){return lq(this.persistence,new cq,e.initialUser,this.wt)}_c(e){return new oq(mm.Ms,this.wt)}dc(e){return new vq}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class i4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>s_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zq.bind(null,this.syncEngine),await $q(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Fq}createDatastore(e){const n=uh(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new bq(i));var i;return function(s,o,a,c){return new Sq(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>s_(this.syncEngine,a,0),o=n_.V()?new n_:new yq,new Aq(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,c,u){const l=new zq(r,i,s,o,a,c);return u&&(l.ac=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Ee(e);ce("RemoteStore","RemoteStore shutting down."),n.lu.add(5),await Qa(n),n.du.shutdown(),n._u.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=qT.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ce("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ce("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function o4(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await TA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function a4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await c4(t);ce("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>r_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>r_(e.remoteStore,s)),t.onlineComponents=e}async function c4(t){return t.offlineComponents||(ce("FirestoreClient","Using default OfflineComponentProvider"),await o4(t,new r4)),t.offlineComponents}async function HA(t){return t.onlineComponents||(ce("FirestoreClient","Using default OnlineComponentProvider"),await a4(t,new i4)),t.onlineComponents}function u4(t){return HA(t).then(e=>e.syncEngine)}async function up(t){const e=await HA(t),n=e.eventManager;return n.onListen=Wq.bind(null,e.syncEngine),n.onUnlisten=qq.bind(null,e.syncEngine),n}function l4(t,e,n={}){const r=new wr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,c){const u=new WA({next:h=>{s.enqueueAndForget(()=>LA(i,l)),h.fromCache&&a.source==="server"?c.reject(new te($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),l=new FA(o,u,{includeMetadataChanges:!0,Du:!0});return $A(i,l)}(await up(t),t.asyncQueue,e,n,r)),r.promise}const a_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(t,e,n){if(!n)throw new te($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function h4(t,e,n,r){if(e===!0&&r===!0)throw new te($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function c_(t){if(!le.isDocumentKey(t))throw new te($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function u_(t){if(le.isDocumentKey(t))throw new te($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function Yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fh(t);throw new te($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new te($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,h4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l_({}),this._settingsFrozen=!1,e instanceof Es?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new te($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Es(i.options.projectId)}(e))}get app(){if(!this._app)throw new te($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l_(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new PW;switch(n.type){case"gapi":const r=n.client;return We(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new LW(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new te($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=a_.get(e);n&&(ce("ComponentProvider","Removing Datastore"),a_.delete(e),n.terminate())}(this),Promise.resolve()}}function f4(t,e,n,r={}){var i;const s=(t=Yn(t,dh))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Zd("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Rt.MOCK_USER;else{o=rw(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new te($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Rt(c)}t._authCredentials=new NW(new HT(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}}class qs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class Ir extends qs{constructor(e,n,r){super(e,n,hm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new le(e))}withConverter(e){return new Ir(this.firestore,e,this._path)}}function Is(t,e,...n){if(t=ut(t),qA("collection","path",e),t instanceof dh){const r=Ye.fromString(e,...n);return u_(r),new Ir(t,null,r)}{if(!(t instanceof Yt||t instanceof Ir))throw new te($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return u_(r),new Ir(t.firestore,null,r)}}function Tm(t,e,...n){if(t=ut(t),arguments.length===1&&(e=qT.I()),qA("doc","path",e),t instanceof dh){const r=Ye.fromString(e,...n);return c_(r),new Yt(t,null,new le(r))}{if(!(t instanceof Yt||t instanceof Ir))throw new te($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return c_(r),new Yt(t.firestore,t instanceof Ir?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new OA(this,"async_queue_retry"),this.Kc=()=>{const n=Ff();n&&ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=Ff();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=Ff();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new wr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}async jc(){if(this.Mc.length!==0){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(e){if(!qa(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Mc.length>0&&this.So.Io(()=>this.jc())}}Qc(e){const n=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{this.Bc=r,this.Lc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Dr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Lc=!1,r))));return this.Oc=n,n}enqueueAfterDelay(e,n,r){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const i=bm.createAndSchedule(this,e,n,r,s=>this.Wc(s));return this.$c.push(i),i}Gc(){this.Bc&&ge()}verifyOperationInProgress(){}async zc(){let e;do e=this.Oc,await e;while(e!==this.Oc)}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function h_(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ss extends dh{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new d4,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||GA(this),this._firestoreClient.terminate()}}function p4(t,e){const n=Oa(t,"firestore");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(Yo(i,e))return r;throw new te($.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return n.initialize({options:e})}function Gs(t=Kp()){return Oa(t,"firestore").getImmediate()}function Am(t){return t._firestoreClient||GA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function GA(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new GW(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new s4(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts(Ot.fromBase64String(e))}catch(n){throw new te($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ts(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=/^__.*__$/;class m4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ur(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ya(e,this.data,n,this.fieldTransforms)}}class YA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ur(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function XA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class Cm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Cm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return sl(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(e.length===0)throw this.oa("Document fields must not be empty");if(XA(this.Zc)&&g4.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class v4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=r||uh(e)}aa(e,n,r,i=!1){return new Cm({Zc:e,methodName:n,ca:r,path:xt.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Rm(t){const e=t._freezeSettings(),n=uh(t._databaseId);return new v4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function y4(t,e,n,r,i,s={}){const o=t.aa(s.merge||s.mergeFields?2:0,e,n,i);xm("Data must be an object, but it was:",o,r);const a=QA(r,o);let c,u;if(s.merge)c=new un(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const h of s.mergeFields){const f=lp(e,h,n);if(!o.contains(f))throw new te($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);ZA(l,f)||l.push(f)}c=new un(l),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new m4(new Gt(a),c,u)}class mh extends gh{_toFieldTransform(e){if(e.Zc!==2)throw e.Zc===1?e.oa(`${this._methodName}() can only appear at the top level of your update data`):e.oa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mh}}class Dm extends gh{_toFieldTransform(e){return new gH(e.path,new da)}isEqual(e){return e instanceof Dm}}function E4(t,e,n,r){const i=t.aa(1,e,n);xm("Data must be an object, but it was:",i,r);const s=[],o=Gt.empty();Ai(r,(c,u)=>{const l=km(e,c,n);u=ut(u);const h=i.ia(l);if(u instanceof mh)s.push(l);else{const f=Za(u,h);f!=null&&(s.push(l),o.set(l,f))}});const a=new un(s);return new YA(o,a,i.fieldTransforms)}function _4(t,e,n,r,i,s){const o=t.aa(1,e,n),a=[lp(e,r,n)],c=[i];if(s.length%2!=0)throw new te($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(lp(e,s[f])),c.push(s[f+1]);const u=[],l=Gt.empty();for(let f=a.length-1;f>=0;--f)if(!ZA(u,a[f])){const d=a[f];let v=c[f];v=ut(v);const O=o.ia(d);if(v instanceof mh)u.push(d);else{const I=Za(v,O);I!=null&&(u.push(d),l.set(d,I))}}const h=new un(u);return new YA(l,h,o.fieldTransforms)}function b4(t,e,n,r=!1){return Za(n,t.aa(r?4:3,e))}function Za(t,e){if(JA(t=ut(t)))return xm("Unsupported field value:",e,t),QA(t,e);if(t instanceof gh)return function(n,r){if(!XA(r.Zc))throw r.oa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.na&&e.Zc!==4)throw e.oa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Za(o,r.ra(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=ut(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return fH(r.wt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=pt.fromDate(n);return{timestampValue:rl(r.wt,i)}}if(n instanceof pt){const i=new pt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:rl(r.wt,i)}}if(n instanceof Om)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ts)return{bytesValue:_A(r.wt,n._byteString)};if(n instanceof Yt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:dm(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.oa(`Unsupported field value: ${fh(n)}`)}(t,e)}function QA(t,e){const n={};return GT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ai(t,(r,i)=>{const s=Za(i,e.ea(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function JA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof Om||t instanceof Ts||t instanceof Yt||t instanceof gh)}function xm(t,e,n){if(!JA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=fh(n);throw r==="an object"?e.oa(t+" a custom object"):e.oa(t+" "+r)}}function lp(t,e,n){if((e=ut(e))instanceof ph)return e._internalPath;if(typeof e=="string")return km(t,e);throw sl("Field path arguments must be of type string or ",t,!1,void 0,n)}const w4=new RegExp("[~\\*/\\[\\]]");function km(t,e,n){if(e.search(w4)>=0)throw sl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ph(...e.split("."))._internalPath}catch{throw sl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sl(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new te($.INVALID_ARGUMENT,a+t+c)}function ZA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I4 extends e1{data(){return super.data()}}function Pm(t,e){return typeof e=="string"?km(t,e):e instanceof ph?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class t1 extends e1{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fu extends t1{data(e={}){return super.data(e)}}class n1{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fu(this._firestore,this._userDataWriter,r.key,r,new vo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new fu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new vo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new fu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new vo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:S4(o.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function S4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class T4{}function i1(t,...e){for(const n of e)t=n._apply(t);return t}class A4 extends T4{constructor(e,n,r){super(),this.fa=e,this.da=n,this._a=r,this.type="where"}_apply(e){const n=Rm(e.firestore),r=function(i,s,o,a,c,u,l){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new te($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){d_(l,u);const d=[];for(const v of l)d.push(f_(a,i,v));h={arrayValue:{values:d}}}else h=f_(a,i,l)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||d_(l,u),h=b4(o,s,l,u==="in"||u==="not-in");const f=Vt.create(c,u,h);return function(d,v){if(v.ht()){const I=eA(d);if(I!==null&&!I.isEqual(v.field))throw new te($.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${I.toString()}' and '${v.field.toString()}'`);const T=ZT(d);T!==null&&O4(d,v.field,T)}const O=function(I,T){for(const R of I.filters)if(T.indexOf(R.op)>=0)return R.op;return null}(d,function(I){switch(I){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(v.op));if(O!==null)throw O===v.op?new te($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${v.op.toString()}' filter.`):new te($.INVALID_ARGUMENT,`Invalid query. You cannot use '${v.op.toString()}' filters with '${O.toString()}' filters.`)}(i,f),f}(e._query,"where",n,e.firestore._databaseId,this.fa,this.da,this._a);return new qs(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new Ga(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function ol(t,e,n){const r=e,i=Pm("where",t);return new A4(i,r,n)}function f_(t,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new te($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tA(e)&&n.indexOf("/")!==-1)throw new te($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ye.fromString(n));if(!le.isDocumentKey(r))throw new te($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return U0(t,new le(r))}if(n instanceof Yt)return U0(t,n._key);throw new te($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fh(n)}.`)}function d_(t,e){if(!Array.isArray(t)||t.length===0)throw new te($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new te($.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function O4(t,e,n){if(!n.isEqual(e))throw new te($.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{convertValue(e,n="none"){switch(mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){const r={};return Ai(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Om(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=XT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(la(e));default:return null}}convertTimestamp(e){const n=kr(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);We(SA(r));const i=new Es(r.get(1),r.get(3)),s=new le(r.popFirst(5));return i.isEqual(n)||Dr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Nm extends C4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function s1(t){t=Yn(t,qs);const e=Yn(t.firestore,Ss),n=Am(e),r=new Nm(e);return r1(t._query),l4(n,t._query).then(i=>new n1(e,r,t,i))}function D4(t,e,n,...r){t=Yn(t,Yt);const i=Yn(t.firestore,Ss),s=Rm(i);let o;return o=typeof(e=ut(e))=="string"||e instanceof ph?_4(s,"updateDoc",t._key,e,n,r):E4(s,"updateDoc",t._key,e),c1(i,[o.toMutation(t._key,Pn.exists(!0))])}function o1(t,e){const n=Yn(t.firestore,Ss),r=Tm(t),i=R4(t.converter,e);return c1(n,[y4(Rm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pn.exists(!1))]).then(()=>r)}function a1(t,...e){var n,r,i;t=ut(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||h_(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(h_(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let c,u,l;if(t instanceof Yt)u=Yn(t.firestore,Ss),l=hm(t._key.path),c={next:h=>{e[o]&&e[o](x4(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Yn(t,qs);u=Yn(h.firestore,Ss),l=h._query;const f=new Nm(u);c={next:d=>{e[o]&&e[o](new n1(u,f,h,d))},error:e[o+1],complete:e[o+2]},r1(t._query)}return function(h,f,d,v){const O=new WA(v),I=new FA(f,O,d);return h.asyncQueue.enqueueAndForget(async()=>$A(await up(h),I)),()=>{O.Tc(),h.asyncQueue.enqueueAndForget(async()=>LA(await up(h),I))}}(Am(u),l,a,c)}function c1(t,e){return function(n,r){const i=new wr;return n.asyncQueue.enqueueAndForget(async()=>Gq(await u4(n),r,i)),i.promise}(Am(t),e)}function x4(t,e,n){const r=n.docs.get(e._key),i=new Nm(t);return new t1(t,i,e._key,r,new vo(n.hasPendingWrites,n.fromCache),e.converter)}function u1(){return new Dm("serverTimestamp")}(function(t,e=!0){(function(n){zs=n})(ks),ui(new Cr("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Ss(i,new MW(n.getProvider("auth-internal")),new BW(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Dn(M0,"3.4.12",t),Dn(M0,"3.4.12","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="firebasestorage.googleapis.com",h1="storageBucket",k4=2*60*1e3,P4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt extends $r{constructor(e,n){super(Bf(e),`Firebase Storage: ${n} (${Bf(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}_codeEquals(e){return Bf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function Bf(t){return"storage/"+t}function Mm(){const t="An unknown error occurred, please check the error payload for server response.";return new yt("unknown",t)}function N4(t){return new yt("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function M4(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt("unauthenticated",t)}function $4(){return new yt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function L4(t){return new yt("unauthorized","User does not have permission to access '"+t+"'.")}function F4(){return new yt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function B4(){return new yt("canceled","User canceled the upload/download.")}function U4(t){return new yt("invalid-url","Invalid URL '"+t+"'.")}function j4(t){return new yt("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function V4(){return new yt("no-default-bucket","No default bucket found. Did you set the '"+h1+"' property when initializing the app?")}function K4(){return new yt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function hp(t){return new yt("invalid-argument",t)}function f1(){return new yt("app-deleted","The Firebase app was deleted.")}function z4(t){return new yt("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xo(t,e){return new yt("invalid-format","String does not match format '"+t+"': "+e)}function ao(t){throw new yt("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=en.makeFromUrl(e,n)}catch{return new en(e,"")}if(r.path==="")return r;throw j4(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(j){j.path_=decodeURIComponent(j.path)}const l="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",d=new RegExp(`^https?://${h}/${l}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},O=n===l1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",T=new RegExp(`^https?://${O}/${i}/${I}`,"i"),V=[{regex:a,indices:c,postModify:s},{regex:d,indices:v,postModify:u},{regex:T,indices:{bucket:1,path:2},postModify:u}];for(let j=0;j<V.length;j++){const k=V[j],P=k.regex.exec(e);if(P){const y=P[k.indices.bucket];let C=P[k.indices.path];C||(C=""),r=new en(y,C),k.postModify(r);break}}if(r==null)throw U4(e);return r}}class W4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function l(...I){u||(u=!0,e.apply(null,I))}function h(I){i=setTimeout(()=>{i=null,t(d,c())},I)}function f(){s&&clearTimeout(s)}function d(I,...T){if(u){f();return}if(I){f(),l.call(null,I,...T);return}if(c()||o){f(),l.call(null,I,...T);return}r<64&&(r*=2);let V;a===1?(a=2,V=0):V=(r+Math.random())*1e3,h(V)}let v=!1;function O(I){v||(v=!0,f(),!u&&(i!==null?(I||(a=2),clearTimeout(i),h(0)):I||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,O(!0)},n),O}function q4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t){return t!==void 0}function Y4(t){return typeof t=="object"&&!Array.isArray(t)}function d1(t){return typeof t=="string"||t instanceof String}function p_(t){return $m()&&t instanceof Blob}function $m(){return typeof Blob!="undefined"}function g_(t,e,n,r){if(r<e)throw hp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw hp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Q4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ai;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ai||(ai={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n,r,i,s,o,a,c,u,l,h){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,d)=>{this.resolve_=f,this.reject_=d,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Mc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ai.NO_ERROR,c=s.getStatus();if(!a||this.isRetryStatusCode_(c)){const l=s.getErrorCode()===ai.ABORT;r(!1,new Mc(!1,null,l));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new Mc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());G4(c)?s(c):s()}catch(c){o(c)}else if(a!==null){const c=Mm();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){const c=this.appDelete_?f1():B4();o(c)}else{const c=F4();o(c)}};this.canceled_?n(!1,new Mc(!1,null,!0)):this.backoffId_=H4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&q4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||s}}class Mc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Z4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function eG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function tG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function nG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function rG(t,e,n,r,i,s){const o=Q4(t.urlParams),a=t.url+o,c=Object.assign({},t.headers);return tG(c,e),Z4(c,n),eG(c,s),nG(c,r),new J4(a,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iG(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function sG(...t){const e=iG();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if($m())return new Blob(t);throw new yt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function oG(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aG(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Uf{constructor(e,n){this.data=e,this.contentType=n||null}}function cG(t,e){switch(t){case Rn.RAW:return new Uf(p1(e));case Rn.BASE64:case Rn.BASE64URL:return new Uf(g1(t,e));case Rn.DATA_URL:return new Uf(lG(e),hG(e))}throw Mm()}function p1(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function uG(t){let e;try{e=decodeURIComponent(t)}catch{throw xo(Rn.DATA_URL,"Malformed data URL.")}return p1(e)}function g1(t,e){switch(t){case Rn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw xo(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Rn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw xo(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=aG(e)}catch{throw xo(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class m1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw xo(Rn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=fG(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function lG(t){const e=new m1(t);return e.base64?g1(Rn.BASE64,e.rest):uG(e.rest)}function hG(t){return new m1(t).contentType}function fG(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){let r=0,i="";p_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(p_(this.data_)){const r=this.data_,i=oG(r,e,n);return i===null?null:new gr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new gr(r,!0)}}static getBlob(...e){if($m()){const n=e.map(r=>r instanceof gr?r.data_:r);return new gr(sG.apply(null,n))}else{const n=e.map(o=>d1(o)?cG(Rn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new gr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dG(t){let e;try{e=JSON.parse(t)}catch{return null}return Y4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pG(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function gG(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function v1(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mG(t,e){return e}class Lt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||mG}}let $c=null;function vG(t){return!d1(t)||t.length<2?t:v1(t)}function yG(){if($c)return $c;const t=[];t.push(new Lt("bucket")),t.push(new Lt("generation")),t.push(new Lt("metageneration")),t.push(new Lt("name","fullPath",!0));function e(s,o){return vG(o)}const n=new Lt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Lt("size");return i.xform=r,t.push(i),t.push(new Lt("timeCreated")),t.push(new Lt("updated")),t.push(new Lt("md5Hash",null,!0)),t.push(new Lt("cacheControl",null,!0)),t.push(new Lt("contentDisposition",null,!0)),t.push(new Lt("contentEncoding",null,!0)),t.push(new Lt("contentLanguage",null,!0)),t.push(new Lt("contentType",null,!0)),t.push(new Lt("metadata","customMetadata",!0)),$c=t,$c}function EG(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new en(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function _G(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return EG(r,t),r}function bG(t,e,n){const r=dG(e);return r===null?null:_G(t,r,n)}function wG(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class IG{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SG(t){if(!t)throw Mm()}function TG(t,e){function n(r,i){const s=bG(t,i,e);return SG(s!==null),s}return n}function AG(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=$4():i=M4():n.getStatus()===402?i=N4(t.bucket):n.getStatus()===403?i=L4(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function OG(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function CG(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=OG(null,e)),r}function RG(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let V="";for(let j=0;j<2;j++)V=V+Math.random().toString().slice(2);return V}const c=a();o["Content-Type"]="multipart/related; boundary="+c;const u=CG(e,r,i),l=wG(u,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+l+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+c+"--",d=gr.getBlob(h,r,f);if(d===null)throw K4();const v={name:u.fullPath},O=X4(s,t.host,t._protocol),I="POST",T=t.maxUploadRetryTime,R=new IG(O,I,TG(t,n),T);return R.urlParams=v,R.headers=o,R.body=d.uploadData(),R.errorHandler=AG(e),R}class DG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ai.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ai.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ai.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ao("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ao("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ao("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ao("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ao("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class xG extends DG{initXhr(){this.xhr_.responseType="text"}}function kG(){return new xG}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){this._service=e,n instanceof en?this._location=n:this._location=en.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new yi(e,n)}get root(){const e=new en(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return v1(this._location.path)}get storage(){return this._service}get parent(){const e=pG(this._location.path);if(e===null)return null;const n=new en(this._location.bucket,e);return new yi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw z4(e)}}function PG(t,e,n){t._throwIfRoot("uploadBytes");const r=RG(t.storage,t._location,yG(),new gr(e,!0),n);return t.storage.makeRequestWithTokens(r,kG).then(i=>({metadata:i,ref:t}))}function NG(t,e){const n=gG(t._location.path,e),r=new en(t._location.bucket,n);return new yi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MG(t){return/^[A-Za-z]+:\/\//.test(t)}function $G(t,e){return new yi(t,e)}function y1(t,e){if(t instanceof Lm){const n=t;if(n._bucket==null)throw V4();const r=new yi(n,n._bucket);return e!=null?y1(r,e):r}else return e!==void 0?NG(t,e):t}function LG(t,e){if(e&&MG(e)){if(t instanceof Lm)return $G(t,e);throw hp("To use ref(service, url), the first argument must be a Storage instance.")}else return y1(t,e)}function m_(t,e){const n=e==null?void 0:e[h1];return n==null?null:en.makeFromBucketSpec(n,t)}function FG(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:rw(i,t.app.options.projectId))}class Lm{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=l1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=k4,this._maxUploadRetryTime=P4,this._requests=new Set,i!=null?this._bucket=en.makeFromBucketSpec(i,this._host):this._bucket=m_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=en.makeFromBucketSpec(this._url,e):this._bucket=m_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){g_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){g_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yi(this,e)}_makeRequest(e,n,r,i){if(this._deleted)return new W4(f1());{const s=rG(e,this._appId,r,i,n,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const v_="@firebase/storage",y_="0.9.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="storage";function M7(t,e,n){return t=ut(t),PG(t,e,n)}function $7(t,e){return t=ut(t),LG(t,e)}function BG(t=Kp(),e){return t=ut(t),Oa(t,E1).getImmediate({identifier:e})}function UG(t,e,n,r={}){FG(t,e,n,r)}function jG(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Lm(n,r,i,e,ks)}function VG(){ui(new Cr(E1,jG,"PUBLIC").setMultipleInstances(!0)),Dn(v_,y_,""),Dn(v_,y_,"esm2017")}VG();const al={supportsFirebase:!1},KG=t=>{Object.assign(al,t)},fp={apiKey:"AIzaSyCqk-k-XiYFYgPQo28ITj3qkxoqDGDrVk0",appId:"1:1011232276130:web:1ae2ea1437c349a4c2e1fb",authDomain:"api.octo.app",databaseURL:"https://octo-64838.firebaseio.com",messagingSenderId:"1011232276130",projectId:"octo-64838",storageBucket:"octo-64838.appspot.com"},zG=()=>{const t=Object.keys(fp).filter(e=>!fp[e]);return t.length>0?(console.warn(`Skipping Firebase initialization. Missing keys: [${t.join(", ")}]`),!1):!0},WG=()=>{if(!zG())return;const t=Ek(fp);p4(t,{experimentalAutoDetectLongPolling:!0}),kW("error"),location.hostname==="localhost"&&!{}.VITE_FIREBASE_EMULATOR_BYPASS&&(Zk(Jp(),{}.VITE_FIREBASE_EMULATOR_AUTH,{disableWarnings:!0}),f4(Gs(),{}.VITE_FIREBASE_EMULATOR_FIRESTORE_HOST,{}.VITE_FIREBASE_EMULATOR_FIRESTORE_PORT),UG(BG(),{}.VITE_FIREBASE_EMULATOR_STORAGE_HOST,{}.VITE_FIREBASE_EMULATOR_STORAGE_PORT)),KG({supportsFirebase:!0})};/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Ki=typeof window!="undefined";function HG(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const je=Object.assign;function jf(t,e){const n={};for(const r in e){const i=e[r];n[r]=_n(i)?i.map(t):t(i)}return n}const ko=()=>{},_n=Array.isArray,qG=/\/$/,GG=t=>t.replace(qG,"");function Vf(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),s=e.slice(c+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=JG(r!=null?r:e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function YG(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function E_(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function XG(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&As(e.matched[r],n.matched[i])&&_1(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function As(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function _1(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!QG(t[n],e[n]))return!1;return!0}function QG(t,e){return _n(t)?__(t,e):_n(e)?__(e,t):t===e}function __(t,e){return _n(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function JG(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i=n.length-1,s,o;for(s=0;s<r.length;s++)if(o=r[s],o!==".")if(o==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var ma;(function(t){t.pop="pop",t.push="push"})(ma||(ma={}));var Po;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Po||(Po={}));function ZG(t){if(!t)if(Ki){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),GG(t)}const e8=/^[^#]+#/;function t8(t,e){return t.replace(e8,"#")+e}function n8(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const vh=()=>({left:window.pageXOffset,top:window.pageYOffset});function r8(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=n8(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function b_(t,e){return(history.state?history.state.position-e:-1)+t}const dp=new Map;function i8(t,e){dp.set(t,e)}function s8(t){const e=dp.get(t);return dp.delete(t),e}let o8=()=>location.protocol+"//"+location.host;function b1(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),E_(c,"")}return E_(n,t)+r+i}function a8(t,e,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const d=b1(t,location),v=n.value,O=e.value;let I=0;if(f){if(n.value=d,e.value=f,o&&o===v){o=null;return}I=O?f.position-O.position:0}else r(d);i.forEach(T=>{T(n.value,v,{delta:I,type:ma.pop,direction:I?I>0?Po.forward:Po.back:Po.unknown})})};function c(){o=n.value}function u(f){i.push(f);const d=()=>{const v=i.indexOf(f);v>-1&&i.splice(v,1)};return s.push(d),d}function l(){const{history:f}=window;!f.state||f.replaceState(je({},f.state,{scroll:vh()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l),{pauseListeners:c,listen:u,destroy:h}}function w_(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?vh():null}}function c8(t){const{history:e,location:n}=window,r={value:b1(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(c,u,l){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+c:o8()+t+c;try{e[l?"replaceState":"pushState"](u,"",f),i.value=u}catch(d){console.error(d),n[l?"replace":"assign"](f)}}function o(c,u){const l=je({},e.state,w_(i.value.back,c,i.value.forward,!0),u,{position:i.value.position});s(c,l,!0),r.value=c}function a(c,u){const l=je({},i.value,e.state,{forward:c,scroll:vh()});s(l.current,l,!0);const h=je({},w_(r.value,c,null),{position:l.position+1},u);s(c,h,!1),r.value=c}return{location:r,state:i,push:a,replace:o}}function u8(t){t=ZG(t);const e=c8(t),n=a8(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=je({location:"",base:t,go:r,createHref:t8.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function l8(t){return typeof t=="string"||t&&typeof t=="object"}function w1(t){return typeof t=="string"||typeof t=="symbol"}const cr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},I1=Symbol("");var I_;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(I_||(I_={}));function Os(t,e){return je(new Error,{type:t,[I1]:!0},e)}function Fn(t,e){return t instanceof Error&&I1 in t&&(e==null||!!(t.type&e))}const S_="[^/]+?",h8={sensitive:!1,strict:!1,start:!0,end:!0},f8=/[.+*?^${}()[\]/\\]/g;function d8(t,e){const n=je({},h8,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const l=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const f=u[h];let d=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(f8,"\\$&"),d+=40;else if(f.type===1){const{value:v,repeatable:O,optional:I,regexp:T}=f;s.push({name:v,repeatable:O,optional:I});const R=T||S_;if(R!==S_){d+=10;try{new RegExp(`(${R})`)}catch(j){throw new Error(`Invalid custom RegExp for param "${v}" (${R}): `+j.message)}}let V=O?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;h||(V=I&&u.length<2?`(?:/${V})`:"/"+V),I&&(V+="?"),i+=V,d+=20,I&&(d+=-8),O&&(d+=-20),R===".*"&&(d+=-50)}l.push(d)}r.push(l)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const l=u.match(o),h={};if(!l)return null;for(let f=1;f<l.length;f++){const d=l[f]||"",v=s[f-1];h[v.name]=d&&v.repeatable?d.split("/"):d}return h}function c(u){let l="",h=!1;for(const f of t){(!h||!l.endsWith("/"))&&(l+="/"),h=!1;for(const d of f)if(d.type===0)l+=d.value;else if(d.type===1){const{value:v,repeatable:O,optional:I}=d,T=v in u?u[v]:"";if(_n(T)&&!O)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const R=_n(T)?T.join("/"):T;if(!R)if(I)f.length<2&&(l.endsWith("/")?l=l.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);l+=R}}return l||"/"}return{re:o,score:r,keys:s,parse:a,stringify:c}}function p8(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function g8(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=p8(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(T_(r))return 1;if(T_(i))return-1}return i.length-r.length}function T_(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const m8={type:0,value:""},v8=/[a-zA-Z0-9_]/;function y8(t){if(!t)return[[]];if(t==="/")return[[m8]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${u}": ${d}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,c,u="",l="";function h(){!u||(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:l,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(u&&h(),o()):c===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:c==="("?n=2:v8.test(c)?f():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+c:n=3:l+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,l="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}function E8(t,e,n){const r=d8(y8(t.path),n),i=je(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function _8(t,e){const n=[],r=new Map;e=C_({strict:!1,end:!0,sensitive:!1},e);function i(l){return r.get(l)}function s(l,h,f){const d=!f,v=b8(l);v.aliasOf=f&&f.record;const O=C_(e,l),I=[v];if("alias"in l){const V=typeof l.alias=="string"?[l.alias]:l.alias;for(const j of V)I.push(je({},v,{components:f?f.record.components:v.components,path:j,aliasOf:f?f.record:v}))}let T,R;for(const V of I){const{path:j}=V;if(h&&j[0]!=="/"){const k=h.record.path,P=k[k.length-1]==="/"?"":"/";V.path=h.record.path+(j&&P+j)}if(T=E8(V,h,O),f?f.alias.push(T):(R=R||T,R!==T&&R.alias.push(T),d&&l.name&&!O_(T)&&o(l.name)),v.children){const k=v.children;for(let P=0;P<k.length;P++)s(k[P],T,f&&f.children[P])}f=f||T,c(T)}return R?()=>{o(R)}:ko}function o(l){if(w1(l)){const h=r.get(l);h&&(r.delete(l),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(l);h>-1&&(n.splice(h,1),l.record.name&&r.delete(l.record.name),l.children.forEach(o),l.alias.forEach(o))}}function a(){return n}function c(l){let h=0;for(;h<n.length&&g8(l,n[h])>=0&&(l.record.path!==n[h].record.path||!S1(l,n[h]));)h++;n.splice(h,0,l),l.record.name&&!O_(l)&&r.set(l.record.name,l)}function u(l,h){let f,d={},v,O;if("name"in l&&l.name){if(f=r.get(l.name),!f)throw Os(1,{location:l});O=f.record.name,d=je(A_(h.params,f.keys.filter(R=>!R.optional).map(R=>R.name)),l.params&&A_(l.params,f.keys.map(R=>R.name))),v=f.stringify(d)}else if("path"in l)v=l.path,f=n.find(R=>R.re.test(v)),f&&(d=f.parse(v),O=f.record.name);else{if(f=h.name?r.get(h.name):n.find(R=>R.re.test(h.path)),!f)throw Os(1,{location:l,currentLocation:h});O=f.record.name,d=je({},h.params,l.params),v=f.stringify(d)}const I=[];let T=f;for(;T;)I.unshift(T.record),T=T.parent;return{name:O,path:v,params:d,matched:I,meta:I8(I)}}return t.forEach(l=>s(l)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function A_(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function b8(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:w8(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function w8(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function O_(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function I8(t){return t.reduce((e,n)=>je(e,n.meta),{})}function C_(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function S1(t,e){return e.children.some(n=>n===t||S1(t,n))}const T1=/#/g,S8=/&/g,T8=/\//g,A8=/=/g,O8=/\?/g,A1=/\+/g,C8=/%5B/g,R8=/%5D/g,O1=/%5E/g,D8=/%60/g,C1=/%7B/g,x8=/%7C/g,R1=/%7D/g,k8=/%20/g;function Fm(t){return encodeURI(""+t).replace(x8,"|").replace(C8,"[").replace(R8,"]")}function P8(t){return Fm(t).replace(C1,"{").replace(R1,"}").replace(O1,"^")}function pp(t){return Fm(t).replace(A1,"%2B").replace(k8,"+").replace(T1,"%23").replace(S8,"%26").replace(D8,"`").replace(C1,"{").replace(R1,"}").replace(O1,"^")}function N8(t){return pp(t).replace(A8,"%3D")}function M8(t){return Fm(t).replace(T1,"%23").replace(O8,"%3F")}function $8(t){return t==null?"":M8(t).replace(T8,"%2F")}function cl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function L8(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(A1," "),o=s.indexOf("="),a=cl(o<0?s:s.slice(0,o)),c=o<0?null:cl(s.slice(o+1));if(a in e){let u=e[a];_n(u)||(u=e[a]=[u]),u.push(c)}else e[a]=c}return e}function R_(t){let e="";for(let n in t){const r=t[n];if(n=N8(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(_n(r)?r.map(s=>s&&pp(s)):[r&&pp(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function F8(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=_n(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const B8=Symbol(""),D_=Symbol(""),yh=Symbol(""),Bm=Symbol(""),gp=Symbol("");function co(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function lr(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(Os(4,{from:n,to:e})):h instanceof Error?a(h):l8(h)?a(Os(2,{from:e,to:h})):(s&&r.enterCallbacks[i]===s&&typeof h=="function"&&s.push(h),o())},u=t.call(r&&r.instances[i],e,n,c);let l=Promise.resolve(u);t.length<3&&(l=l.then(c)),l.catch(h=>a(h))})}function Kf(t,e,n,r){const i=[];for(const s of t)for(const o in s.components){let a=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(U8(a)){const u=(a.__vccOpts||a)[e];u&&i.push(lr(u,n,r,s,o))}else{let c=a();i.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const l=HG(u)?u.default:u;s.components[o]=l;const f=(l.__vccOpts||l)[e];return f&&lr(f,n,r,s,o)()}))}}return i}function U8(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function x_(t){const e=cn(yh),n=cn(Bm),r=Zt(()=>e.resolve(Er(t.to))),i=Zt(()=>{const{matched:c}=r.value,{length:u}=c,l=c[u-1],h=n.matched;if(!l||!h.length)return-1;const f=h.findIndex(As.bind(null,l));if(f>-1)return f;const d=k_(c[u-2]);return u>1&&k_(l)===d&&h[h.length-1].path!==d?h.findIndex(As.bind(null,c[u-2])):f}),s=Zt(()=>i.value>-1&&z8(n.params,r.value.params)),o=Zt(()=>i.value>-1&&i.value===n.matched.length-1&&_1(n.params,r.value.params));function a(c={}){return K8(c)?e[Er(t.replace)?"replace":"push"](Er(t.to)).catch(ko):Promise.resolve()}return{route:r,href:Zt(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const j8=Ia({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:x_,setup(t,{slots:e}){const n=Nr(x_(t)),{options:r}=cn(yh),i=Zt(()=>({[P_(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[P_(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Bp("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),V8=j8;function K8(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function z8(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!_n(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function k_(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const P_=(t,e,n)=>t!=null?t:e!=null?e:n,W8=Ia({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=cn(gp),i=Zt(()=>t.route||r.value),s=cn(D_,0),o=Zt(()=>{let u=Er(s);const{matched:l}=i.value;let h;for(;(h=l[u])&&!h.components;)u++;return u}),a=Zt(()=>i.value.matched[o.value]);Zi(D_,Zt(()=>o.value+1)),Zi(B8,a),Zi(gp,i);const c=Xe();return qn(()=>[c.value,a.value,t.name],([u,l,h],[f,d,v])=>{l&&(l.instances[h]=u,d&&d!==l&&u&&u===f&&(l.leaveGuards.size||(l.leaveGuards=d.leaveGuards),l.updateGuards.size||(l.updateGuards=d.updateGuards))),u&&l&&(!d||!As(l,d)||!f)&&(l.enterCallbacks[h]||[]).forEach(O=>O(u))},{flush:"post"}),()=>{const u=i.value,l=t.name,h=a.value,f=h&&h.components[l];if(!f)return N_(n.default,{Component:f,route:u});const d=h.props[l],v=d?d===!0?u.params:typeof d=="function"?d(u):d:null,I=Bp(f,je({},v,e,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(h.instances[l]=null)},ref:c}));return N_(n.default,{Component:I,route:u})||I}}});function N_(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const H8=W8;function q8(t){const e=_8(t.routes,t),n=t.parseQuery||L8,r=t.stringifyQuery||R_,i=t.history,s=co(),o=co(),a=co(),c=_b(cr);let u=cr;Ki&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=jf.bind(null,D=>""+D),h=jf.bind(null,$8),f=jf.bind(null,cl);function d(D,Q){let F,Z;return w1(D)?(F=e.getRecordMatcher(D),Z=Q):Z=D,e.addRoute(Z,F)}function v(D){const Q=e.getRecordMatcher(D);Q&&e.removeRoute(Q)}function O(){return e.getRoutes().map(D=>D.record)}function I(D){return!!e.getRecordMatcher(D)}function T(D,Q){if(Q=je({},Q||c.value),typeof D=="string"){const m=Vf(n,D,Q.path),b=e.resolve({path:m.path},Q),x=i.createHref(m.fullPath);return je(m,b,{params:f(b.params),hash:cl(m.hash),redirectedFrom:void 0,href:x})}let F;if("path"in D)F=je({},D,{path:Vf(n,D.path,Q.path).path});else{const m=je({},D.params);for(const b in m)m[b]==null&&delete m[b];F=je({},D,{params:h(D.params)}),Q.params=h(Q.params)}const Z=e.resolve(F,Q),me=D.hash||"";Z.params=l(f(Z.params));const De=YG(r,je({},D,{hash:P8(me),path:Z.path})),ve=i.createHref(De);return je({fullPath:De,hash:me,query:r===R_?F8(D.query):D.query||{}},Z,{redirectedFrom:void 0,href:ve})}function R(D){return typeof D=="string"?Vf(n,D,c.value.path):je({},D)}function V(D,Q){if(u!==D)return Os(8,{from:Q,to:D})}function j(D){return y(D)}function k(D){return j(je(R(D),{replace:!0}))}function P(D){const Q=D.matched[D.matched.length-1];if(Q&&Q.redirect){const{redirect:F}=Q;let Z=typeof F=="function"?F(D):F;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=R(Z):{path:Z},Z.params={}),je({query:D.query,hash:D.hash,params:"path"in Z?{}:D.params},Z)}}function y(D,Q){const F=u=T(D),Z=c.value,me=D.state,De=D.force,ve=D.replace===!0,m=P(F);if(m)return y(je(R(m),{state:typeof m=="object"?je({},me,m.state):me,force:De,replace:ve}),Q||F);const b=F;b.redirectedFrom=Q;let x;return!De&&XG(r,Z,F)&&(x=Os(16,{to:b,from:Z}),sn(Z,Z,!0,!1)),(x?Promise.resolve(x):q(b,Z)).catch(N=>Fn(N)?Fn(N,2)?N:Mt(N):Ae(N,b,Z)).then(N=>{if(N){if(Fn(N,2))return y(je({replace:ve},R(N.to),{state:typeof N.to=="object"?je({},me,N.to.state):me,force:De}),Q||b)}else N=we(b,Z,!0,ve,me);return se(b,Z,N),N})}function C(D,Q){const F=V(D,Q);return F?Promise.reject(F):Promise.resolve()}function q(D,Q){let F;const[Z,me,De]=G8(D,Q);F=Kf(Z.reverse(),"beforeRouteLeave",D,Q);for(const m of Z)m.leaveGuards.forEach(b=>{F.push(lr(b,D,Q))});const ve=C.bind(null,D,Q);return F.push(ve),Ui(F).then(()=>{F=[];for(const m of s.list())F.push(lr(m,D,Q));return F.push(ve),Ui(F)}).then(()=>{F=Kf(me,"beforeRouteUpdate",D,Q);for(const m of me)m.updateGuards.forEach(b=>{F.push(lr(b,D,Q))});return F.push(ve),Ui(F)}).then(()=>{F=[];for(const m of D.matched)if(m.beforeEnter&&!Q.matched.includes(m))if(_n(m.beforeEnter))for(const b of m.beforeEnter)F.push(lr(b,D,Q));else F.push(lr(m.beforeEnter,D,Q));return F.push(ve),Ui(F)}).then(()=>(D.matched.forEach(m=>m.enterCallbacks={}),F=Kf(De,"beforeRouteEnter",D,Q),F.push(ve),Ui(F))).then(()=>{F=[];for(const m of o.list())F.push(lr(m,D,Q));return F.push(ve),Ui(F)}).catch(m=>Fn(m,8)?m:Promise.reject(m))}function se(D,Q,F){for(const Z of a.list())Z(D,Q,F)}function we(D,Q,F,Z,me){const De=V(D,Q);if(De)return De;const ve=Q===cr,m=Ki?history.state:{};F&&(Z||ve?i.replace(D.fullPath,je({scroll:ve&&m&&m.scroll},me)):i.push(D.fullPath,me)),c.value=D,sn(D,Q,F,ve),Mt()}let Oe;function tt(){Oe||(Oe=i.listen((D,Q,F)=>{if(!Ie.listening)return;const Z=T(D),me=P(Z);if(me){y(je(me,{replace:!0}),Z).catch(ko);return}u=Z;const De=c.value;Ki&&i8(b_(De.fullPath,F.delta),vh()),q(Z,De).catch(ve=>Fn(ve,12)?ve:Fn(ve,2)?(y(ve.to,Z).then(m=>{Fn(m,20)&&!F.delta&&F.type===ma.pop&&i.go(-1,!1)}).catch(ko),Promise.reject()):(F.delta&&i.go(-F.delta,!1),Ae(ve,Z,De))).then(ve=>{ve=ve||we(Z,De,!1),ve&&(F.delta&&!Fn(ve,8)?i.go(-F.delta,!1):F.type===ma.pop&&Fn(ve,20)&&i.go(-1,!1)),se(Z,De,ve)}).catch(ko)}))}let Ze=co(),ze=co(),Ve;function Ae(D,Q,F){Mt(D);const Z=ze.list();return Z.length?Z.forEach(me=>me(D,Q,F)):console.error(D),Promise.reject(D)}function Pe(){return Ve&&c.value!==cr?Promise.resolve():new Promise((D,Q)=>{Ze.add([D,Q])})}function Mt(D){return Ve||(Ve=!D,tt(),Ze.list().forEach(([Q,F])=>D?F(D):Q()),Ze.reset()),D}function sn(D,Q,F,Z){const{scrollBehavior:me}=t;if(!Ki||!me)return Promise.resolve();const De=!F&&s8(b_(D.fullPath,0))||(Z||!F)&&history.state&&history.state.scroll||null;return gl().then(()=>me(D,Q,De)).then(ve=>ve&&r8(ve)).catch(ve=>Ae(ve,D,Q))}const re=D=>i.go(D);let fe;const Re=new Set,Ie={currentRoute:c,listening:!0,addRoute:d,removeRoute:v,hasRoute:I,getRoutes:O,resolve:T,options:t,push:j,replace:k,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:ze.add,isReady:Pe,install(D){const Q=this;D.component("RouterLink",V8),D.component("RouterView",H8),D.config.globalProperties.$router=Q,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>Er(c)}),Ki&&!fe&&c.value===cr&&(fe=!0,j(i.location).catch(me=>{}));const F={};for(const me in cr)F[me]=Zt(()=>c.value[me]);D.provide(yh,Q),D.provide(Bm,Nr(F)),D.provide(gp,c);const Z=D.unmount;Re.add(D),D.unmount=function(){Re.delete(D),Re.size<1&&(u=cr,Oe&&Oe(),Oe=null,c.value=cr,fe=!1,Ve=!1),Z()}}};return Ie}function Ui(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function G8(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>As(u,a))?r.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(u=>As(u,c))||i.push(c))}return[n,r,i]}function L7(){return cn(yh)}function F7(){return cn(Bm)}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var D1="store";function B7(t){return t===void 0&&(t=null),cn(t!==null?t:D1)}function Ys(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function Y8(t){return t!==null&&typeof t=="object"}function X8(t){return t&&typeof t.then=="function"}function Q8(t,e){return function(){return t(e)}}function x1(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function k1(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Eh(t,n,[],t._modules.root,!0),Um(t,n,e)}function Um(t,e,n){var r=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,s={};Ys(i,function(o,a){s[a]=Q8(o,t),Object.defineProperty(t.getters,a,{get:function(){return s[a]()},enumerable:!0})}),t._state=Nr({data:e}),t.strict&&n9(t),r&&n&&t._withCommit(function(){r.data=null})}function Eh(t,e,n,r,i){var s=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!s&&!i){var a=jm(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit(function(){a[c]=r.state})}var u=r.context=J8(t,o,n);r.forEachMutation(function(l,h){var f=o+h;Z8(t,f,l,u)}),r.forEachAction(function(l,h){var f=l.root?h:o+h,d=l.handler||l;e9(t,f,d,u)}),r.forEachGetter(function(l,h){var f=o+h;t9(t,f,l,u)}),r.forEachChild(function(l,h){Eh(t,e,n.concat(h),l,i)})}function J8(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(s,o,a){var c=ul(s,o,a),u=c.payload,l=c.options,h=c.type;return(!l||!l.root)&&(h=e+h),t.dispatch(h,u)},commit:r?t.commit:function(s,o,a){var c=ul(s,o,a),u=c.payload,l=c.options,h=c.type;(!l||!l.root)&&(h=e+h),t.commit(h,u,l)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return P1(t,e)}},state:{get:function(){return jm(t.state,n)}}}),i}function P1(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function Z8(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(o){n.call(t,r.state,o)})}function e9(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(o){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},o);return X8(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(c){throw t._devtoolHook.emit("vuex:error",c),c}):a})}function t9(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function n9(t){qn(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function jm(t,e){return e.reduce(function(n,r){return n[r]},t)}function ul(t,e,n){return Y8(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var r9="vuex bindings",M_="vuex:mutations",zf="vuex:actions",ji="vuex",i9=0;function s9(t,e){PN({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[r9]},function(n){n.addTimelineLayer({id:M_,label:"Vuex Mutations",color:$_}),n.addTimelineLayer({id:zf,label:"Vuex Actions",color:$_}),n.addInspector({id:ji,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===ji)if(r.filter){var i=[];L1(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[$1(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===ji){var i=r.nodeId;P1(e,i),r.state=c9(l9(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===ji){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),e._withCommit(function(){r.set(e._state.data,s,r.state.value)})}}),e.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(ji),n.sendInspectorState(ji),n.addTimelineEvent({layerId:M_,event:{time:Date.now(),title:r.type,data:s}})}),e.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=i9++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:zf,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},o=Date.now()-r._time;s.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:zf,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var $_=8702998,o9=6710886,a9=16777215,N1={label:"namespaced",textColor:a9,backgroundColor:o9};function M1(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function $1(t,e){return{id:e||"root",label:M1(e),tags:t.namespaced?[N1]:[],children:Object.keys(t._children).map(function(n){return $1(t._children[n],e+n+"/")})}}function L1(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[N1]:[]}),Object.keys(e._children).forEach(function(i){L1(t,e._children[i],n,r+i+"/")})}function c9(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(r.length){var s=u9(e);i.getters=Object.keys(s).map(function(o){return{key:o.endsWith("/")?M1(o):o,editable:!1,value:mp(function(){return s[o]})}})}return i}function u9(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,s=r.pop();r.forEach(function(o){i[o]||(i[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),i=i[o]._custom.value}),i[s]=mp(function(){return t[n]})}else e[n]=mp(function(){return t[n]})}),e}function l9(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var o=r[i];if(!o)throw new Error('Missing module "'+i+'" for path "'+e+'".');return s===n.length-1?o:o._children},e==="root"?t:t.root._children)}function mp(t){try{return t()}catch(e){return e}}var In=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},F1={namespaced:{configurable:!0}};F1.namespaced.get=function(){return!!this._rawModule.namespaced};In.prototype.addChild=function(e,n){this._children[e]=n};In.prototype.removeChild=function(e){delete this._children[e]};In.prototype.getChild=function(e){return this._children[e]};In.prototype.hasChild=function(e){return e in this._children};In.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};In.prototype.forEachChild=function(e){Ys(this._children,e)};In.prototype.forEachGetter=function(e){this._rawModule.getters&&Ys(this._rawModule.getters,e)};In.prototype.forEachAction=function(e){this._rawModule.actions&&Ys(this._rawModule.actions,e)};In.prototype.forEachMutation=function(e){this._rawModule.mutations&&Ys(this._rawModule.mutations,e)};Object.defineProperties(In.prototype,F1);var Ci=function(e){this.register([],e,!1)};Ci.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};Ci.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};Ci.prototype.update=function(e){B1([],this.root,e)};Ci.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var s=new In(n,r);if(e.length===0)this.root=s;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],s)}n.modules&&Ys(n.modules,function(a,c){i.register(e.concat(c),a,r)})};Ci.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);!i||!i.runtime||n.removeChild(r)};Ci.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function B1(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;B1(t.concat(r),e.getChild(r),n.modules[r])}}function h9(t){return new Xt(t)}var Xt=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ci(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=s;var o=this,a=this,c=a.dispatch,u=a.commit;this.dispatch=function(f,d){return c.call(o,f,d)},this.commit=function(f,d,v){return u.call(o,f,d,v)},this.strict=i;var l=this._modules.root.state;Eh(this,l,[],this._modules.root),Um(this,l),r.forEach(function(h){return h(n)})},Vm={state:{configurable:!0}};Xt.prototype.install=function(e,n){e.provide(n||D1,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&s9(e,this)};Vm.state.get=function(){return this._state.data};Vm.state.set=function(t){};Xt.prototype.commit=function(e,n,r){var i=this,s=ul(e,n,r),o=s.type,a=s.payload,c={type:o,payload:a},u=this._mutations[o];!u||(this._withCommit(function(){u.forEach(function(h){h(a)})}),this._subscribers.slice().forEach(function(l){return l(c,i.state)}))};Xt.prototype.dispatch=function(e,n){var r=this,i=ul(e,n),s=i.type,o=i.payload,a={type:s,payload:o},c=this._actions[s];if(!!c){try{this._actionSubscribers.slice().filter(function(l){return l.before}).forEach(function(l){return l.before(a,r.state)})}catch{}var u=c.length>1?Promise.all(c.map(function(l){return l(o)})):c[0](o);return new Promise(function(l,h){u.then(function(f){try{r._actionSubscribers.filter(function(d){return d.after}).forEach(function(d){return d.after(a,r.state)})}catch{}l(f)},function(f){try{r._actionSubscribers.filter(function(d){return d.error}).forEach(function(d){return d.error(a,r.state,f)})}catch{}h(f)})})}};Xt.prototype.subscribe=function(e,n){return x1(e,this._subscribers,n)};Xt.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return x1(r,this._actionSubscribers,n)};Xt.prototype.watch=function(e,n,r){var i=this;return qn(function(){return e(i.state,i.getters)},n,Object.assign({},r))};Xt.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};Xt.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Eh(this,this.state,e,this._modules.get(e),r.preserveState),Um(this,this.state)};Xt.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=jm(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),k1(this)};Xt.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Xt.prototype.hotUpdate=function(e){this._modules.update(e),k1(this,!0)};Xt.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(Xt.prototype,Vm);const Lc="ACTIVATE_CONTEXT",mr="ADD_DOCUMENT",f9="BLUR_EDITOR",Fc="DEACTIVATE_CONTEXT",Gi="DISCARD_DOCUMENT",d9="DUPLICATE_DOCUMENT",No="DOCUMENTS_LOADED",Mo="EDIT_DOCUMENT",p9="FOCUS_EDITOR",Bc="LOAD_DOCUMENT",U1="LOAD_DOCUMENTS",ss="MERGE_DOCUMENT",g9="MERGE_DOCUMENTS",$o="RESTORE_DOCUMENT",Lo="RESTRICT_DOCUMENT",Wf="SET_CONTEXT_TAGS",os="SET_DOCUMENT",Hf="SET_EDITOR",du="SET_MOD_KEY",Fo="SET_OFFLINE",Bo="SET_ONLINE",qf="SET_RIGHT_SIDEBAR_VISIBILITY",as="SET_SHOW_WELCOME",Uo="SHARE_DOCUMENT",m9="SIGN_OUT",j1="SYNC",jo="TOUCH_DOCUMENT",pu="SET_SUBSCRIPTION",Zr="SET_USER";var v9={state:()=>({isEvaluated:!1,subscription:{pro:!1},user:null}),mutations:{[pu](t,e){t.subscription=e},[Zr](t,e){t.user=e,t.isEvaluated=!0}},actions:{async[Zr](t,e){t.commit(Zr,e)},async[m9](t,e){return Jp().signOut(),t.dispatch(Zr,{user:null})}}};const V1="ADD_CONTEXT",L_="LOAD_CONTEXT",K1="LOAD_CONTEXTS",z1="REMOVE_CONTEXT";var y9={state:()=>({all:[]}),getters:{sortedContexts(t,e){return t.all.sort((n,r)=>n.name===r.name?0:n.name<r.name?-1:1)}},mutations:{[V1](t,e){t.all.push(e)},[L_](t,e){t.all.push(e)},[z1](t,e){t.all=t.all.filter(n=>n.id!==e.id)}},actions:{[K1]({commit:t},e){e.forEach(n=>{t(L_,n)})}}};let E9=t=>crypto.getRandomValues(new Uint8Array(t)),_9=(t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(s=e)=>{let o="";for(;;){let a=n(i),c=i;for(;c--;)if(o+=t[a[c]&r]||"",o.length===s)return o}}},U7=(t,e=21)=>_9(t,e,E9),b9=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const W1=t=>new TextDecoder().decode(t),w9=t=>new TextEncoder().encode(t),I9=()=>window.crypto.getRandomValues(new Uint8Array(12)),Vo=t=>window.btoa(String.fromCharCode.apply(null,new Uint8Array(t))),Yi=t=>{const e=window.atob(t),n=new ArrayBuffer(e.length),r=new Uint8Array(n);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return n},ec={name:"RSA-OAEP"},S9=async(t,e)=>{const n=await window.crypto.subtle.decrypt(ec,e,t);return W1(n)},T9=async t=>{const e={};return t.privateKey&&(e.privateKey=await H1(t.privateKey)),t.publicKey&&(e.publicKey=await q1(t.publicKey)),e},H1=async t=>`-----BEGIN PRIVATE KEY-----
${Vo(await window.crypto.subtle.exportKey("pkcs8",t))}
-----END PRIVATE KEY-----`,q1=async t=>`-----BEGIN PUBLIC KEY-----
${Vo(await window.crypto.subtle.exportKey("spki",t))}
-----END PUBLIC KEY-----`,A9=async()=>window.crypto.subtle.generateKey({hash:"SHA-512",modulusLength:4096,name:ec.name,publicExponent:new Uint8Array([1,0,1])},!0,["encrypt","decrypt"]),O9=async t=>{const e={};return t.privateKey&&(e.privateKey=await G1(t.privateKey)),t.publicKey&&(e.publicKey=await Y1(t.publicKey)),e},G1=async t=>{const e="-----BEGIN PRIVATE KEY-----",n="-----END PRIVATE KEY-----",r=t.substring(e.length,t.length-n.length),i=Yi(r);return window.crypto.subtle.importKey("pkcs8",i,{hash:"SHA-512",name:ec.name},!0,["decrypt","unwrapKey"])},Y1=async t=>{const e="-----BEGIN PUBLIC KEY-----",n="-----END PUBLIC KEY-----",r=t.substring(e.length,t.length-n.length),i=Yi(r);return window.crypto.subtle.importKey("spki",i,{hash:"SHA-512",name:ec.name},!0,["encrypt","wrapKey"])};var va={algorithm:ec,decrypt:S9,exportKeys:T9,exportPrivateKey:H1,exportPublicKey:q1,generateKeys:A9,importKeys:O9,importPrivateKey:G1,importPublicKey:Y1};const tc={name:"AES-GCM"},C9=async(t,e,n)=>{const r=await window.crypto.subtle.decrypt({name:tc.name,iv:n},e,t);return W1(r)},R9=async(t,e)=>{const n=w9(t),r=I9();return{cipher:await window.crypto.subtle.encrypt({name:tc.name,iv:r},e,n),iv:r}},D9=async()=>window.crypto.subtle.generateKey({name:tc.name,length:256},!0,["encrypt","decrypt"]),x9=async t=>window.crypto.subtle.importKey("raw",t,tc.name,!0,["decrypt","encrypt"]);var ya={algorithm:tc,decrypt:C9,encrypt:R9,generateKey:D9,importKey:x9};const k9=async(t,e)=>window.crypto.subtle.unwrapKey("raw",t,e,va.algorithm,ya.algorithm,!0,["encrypt","decrypt"]),P9=async(t,e)=>window.crypto.subtle.wrapKey("raw",t,e,va.algorithm),N9=async t=>{const e=Yi(t.cipher),n=Yi(t.cipherKey),r=Yi(t.iv),{privateKey:i}=await va.importKeys({privateKey:t.privateKey});try{var s=await k9(n,i)}catch{var s=await va.decrypt(n,i).then(c=>ya.importKey(Yi(c)))}return ya.decrypt(e,s,r)},M9=async t=>{const e=await ya.generateKey(),{cipher:n,iv:r}=await ya.encrypt(t.data,e),{publicKey:i}=await va.importKeys({publicKey:t.publicKey}),s=await P9(e,i);return{cipher:Vo(n),cipherKey:Vo(s),iv:Vo(r)}},$9=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D/,L9=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/,F9=/_\u200c\u200d\ua67e\u05be\u05f3\u05f4\uff5e\u301c\u309b\u309c\u30a0\u30fb\u3003\u0f0b\u0f0c\u00b7/,Km=/[#]/,B9=new RegExp(`[${$9.source}${L9.source}${F9.source}/-]`),zm=/(?<boundary>^|\s)/,U9=new RegExp(`(?<sign>${Km.source})(?!${/\ufe0f|\u20e3/.source})(?<tag>${B9.source}+)`,"i"),X1=new RegExp(`(?:${zm.source})(?:${U9.source})`,"i"),j9=new RegExp(`${zm.source}(?<sign>${Km.source})(?!${/\ufe0f|\u20e3/.source})`,"i"),j7=[35,65283],V9=new RegExp(`(${zm.source}${Km.source})$`,"i"),Wm=t=>{var i,s,o;const e=((i=t.groups)==null?void 0:i.boundary)||"",n=((s=t.groups)==null?void 0:s.sign)||"",r=((o=t.groups)==null?void 0:o.tag)||"";return{index:Number(t.index),length:e.length+n.length+r.length,boundary:e,sign:n,tag:r}},V7=t=>{const e=t.match(X1);return e?Wm(e):null},K7=t=>{const e=t.match(V9);return e?Wm(e):null},z7=t=>[...t.matchAll(new RegExp(j9.source,"gi"))].map(n=>Wm(n)),K9=["`````","````","```"],z9=["``","`"],W9=new RegExp(K9.map(t=>`${t}.*?${t}`).join("|")),H9=new RegExp(z9.map(t=>`${t}[^
]*?${t}`).join("|")),Q1=new RegExp(`${W9.source}|${H9.source}`),q9=new RegExp(`${Q1.source}|\\[\\[(.*?)\\]\\]`,"gsi"),G9=new RegExp(`${Q1.source}|(${X1.source})`,"gsi"),Y9=/```([^\n\s]*)(?:\s([\w-]+\.[\w]+))?\n(.*?)```/gs,X9=/````.*?````|```.*?```|``.*?``|`.*?`|\w+:\/?\/?\S*|# ([^\n]+)/gs,Q9=/````.*?````|```.*?```|``.*?``|`.*?`|- \[ \] ([^\n]+)/gs,nc=(t,e)=>{let n=null;const r=[];for(;n=t.exec(e);)r.push(n);return r},W7=t=>{const e=nc(Y9,t),n=[];return e.forEach(r=>{r&&n.push({filename:r[2],language:r[1],code:r[3]})}),n},H7=t=>{const e=nc(q9,t),n=new Set;return e.forEach(r=>{r&&r[1]&&n.add(r[1])}),Array.from(n).sort()},F_=t=>{const e=nc(G9,t),n=new Set;return e.forEach(r=>{r&&r[1]&&n.add(r[1].toLowerCase().trim().slice(1))}),Array.from(n).sort()},B_=t=>{const e=nc(X9,t),n=[];return e.forEach(r=>{r&&r[1]&&n.push(r[1])}),n},U_=t=>{const e=nc(Q9,t),n=[];return e.forEach(r=>{r&&r[1]&&n.push(r[1])}),n};class Ea{constructor(e={}){this.id=e.id||b9(),this.text=e.text||"",this.textKey=e.textKey||null,this.daily=e.daily||!1,this.iv=e.iv||null,this.encrypted=e.encrypted||!1,this.createdAt=e.createdAt||new Date,this.updatedAt=e.updatedAt||new Date,this.touchedAt=e.touchedAt||new Date,this.discardedAt=e.discardedAt||null,this.headers=this.encrypted?[]:B_(this.text),this.tags=this.encrypted?[]:F_(this.text),this.tasks=this.encrypted?[]:U_(this.text),this.firebaseId=e.firebaseId||null,this.ownerId=e.ownerId||null,this.syncedAt=e.syncedAt||null,this.public=e.public||!1}discard(){this.updatedAt=new Date,this.touchedAt=new Date,this.discardedAt=new Date}duplicate(){return new Ea({text:this.text})}merge(e){Object.assign(this,e,{id:this.id})}restore(){this.updatedAt=new Date,this.touchedAt=new Date,this.discardedAt=null}restrict(){this.public=!1,this.updatedAt=new Date,this.touchedAt=new Date}share(){this.public=!0,this.updatedAt=new Date,this.touchedAt=new Date}touch(){this.touchedAt=new Date}update({text:e}){this.text=e,this.headers.splice(0,this.headers.length,...B_(e)),this.tags.splice(0,this.tags.length,...F_(e)),this.tasks.splice(0,this.tasks.length,...U_(e)),this.updatedAt=new Date,this.touchedAt=new Date}}const J1=async(t,{preferEncryption:e=null,publicKey:n=null})=>{const r=Object.assign({},{...t,headers:[],tags:[],tasks:[]});if(e&&n&&!t.encrypted&&!t.public){const{cipher:i,cipherKey:s,iv:o}=await M9({data:r.text,publicKey:n});return Object.assign({},r,{encrypted:!0,iv:o,text:i,textKey:s})}return Object.assign({},r)},Z1=async(t,{privateKey:e})=>{try{if(e&&t.encrypted){const n=await N9({cipher:t.text,cipherKey:t.textKey,iv:t.iv,privateKey:e});return new Ea(Object.assign({},t,{encrypted:!1,text:n}))}}catch{}return new Ea(t)},Bn=(t,e)=>t.all.filter(n=>!n.encrypted).find(n=>n.id===e);var J9={state:()=>({all:[],currentId:null,loaded:!1}),getters:{allKept(t,e){return e.sorted.filter(n=>n.discardedAt===null)},daily(t,e){return e.sortedByCreated.find(n=>n.daily)},currentDoc(t,e){return e.decrypted.find(n=>n.id===t.currentId)},decrypted(t){return t.all.filter(e=>!e.encrypted)},discarded(t,e){return e.sorted.filter(n=>n.discardedAt!==null)},filtered(t,e,n){return n.context.active?e.sorted.filter(r=>n.context.tags.some(i=>r.tags.includes(i))):e.sorted},kept(t,e){return e.filtered.filter(n=>n.discardedAt===null)},sorted(t,e){return e.decrypted.sort((n,r)=>r.updatedAt-n.updatedAt)},sortedByCreated(t,e){return e.decrypted.sort((n,r)=>r.createdAt-n.createdAt)},tasks(t,e,n,r){return e.kept.filter(i=>i.tasks.length>0)},untagged(t,e){return e.allKept.filter(n=>n.tags.length==0)},withTag(t,e){return n=>e.kept.filter(r=>!!r.tags.find(i=>i===n))}},mutations:{[mr](t,e){t.all.push(e)},[Gi](t,{id:e}){Bn(t,e).discard()},[No](t){t.loaded=!0},[Mo](t,{id:e,text:n}){Bn(t,e).update({text:n})},[Bc](t,e){t.all.push(e)},[ss](t,e){Bn(t,e.id).merge(e)},[$o](t,{id:e}){Bn(t,e).restore()},[Lo](t,{id:e}){Bn(t,e).restrict()},[os](t,{id:e}){t.currentId=e},[Uo](t,{id:e}){Bn(t,e).share()},[jo](t,{id:e}){Bn(t,e).touch()}},actions:{async[mr](t,e){t.commit(mr,e)},async[Gi](t,e){t.commit(Gi,e)},async[No](t){t.commit(No)},async[d9](t,{id:e}){const n=Bn(t.state,e).duplicate();return t.commit(mr,n),n.id},async[Mo](t,e){t.commit(Mo,e)},async[Bc](t,e){t.commit(Bc,e)},async[U1](t,e){return Promise.all(e.map(n=>t.dispatch(Bc,n)))},async[ss](t,e){t.commit(ss,e)},async[g9](t,e){const n=e.map(i=>Bn(t.state,i.id)),r=new Ea({text:n.map(i=>i.text).join(`

`)});return t.commit(mr,r),n.map(i=>t.dispatch(Gi,i))},async[$o](t,e){t.commit($o,e)},async[Lo](t,e){t.commit(Lo,e)},async[os](t,e){t.commit(os,e)},async[Uo](t,e){t.commit(Uo,e)},async[jo](t,e){t.commit(jo,e)}}},eO={exports:{}};(function(t){(function(e,n,r){if(!e)return;for(var i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},a={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},c,u=1;u<20;++u)i[111+u]="f"+u;for(u=0;u<=9;++u)i[u+96]=u.toString();function l(y,C,q){if(y.addEventListener){y.addEventListener(C,q,!1);return}y.attachEvent("on"+C,q)}function h(y){if(y.type=="keypress"){var C=String.fromCharCode(y.which);return y.shiftKey||(C=C.toLowerCase()),C}return i[y.which]?i[y.which]:s[y.which]?s[y.which]:String.fromCharCode(y.which).toLowerCase()}function f(y,C){return y.sort().join(",")===C.sort().join(",")}function d(y){var C=[];return y.shiftKey&&C.push("shift"),y.altKey&&C.push("alt"),y.ctrlKey&&C.push("ctrl"),y.metaKey&&C.push("meta"),C}function v(y){if(y.preventDefault){y.preventDefault();return}y.returnValue=!1}function O(y){if(y.stopPropagation){y.stopPropagation();return}y.cancelBubble=!0}function I(y){return y=="shift"||y=="ctrl"||y=="alt"||y=="meta"}function T(){if(!c){c={};for(var y in i)y>95&&y<112||i.hasOwnProperty(y)&&(c[i[y]]=y)}return c}function R(y,C,q){return q||(q=T()[y]?"keydown":"keypress"),q=="keypress"&&C.length&&(q="keydown"),q}function V(y){return y==="+"?["+"]:(y=y.replace(/\+{2}/g,"+plus"),y.split("+"))}function j(y,C){var q,se,we,Oe=[];for(q=V(y),we=0;we<q.length;++we)se=q[we],a[se]&&(se=a[se]),C&&C!="keypress"&&o[se]&&(se=o[se],Oe.push("shift")),I(se)&&Oe.push(se);return C=R(se,Oe,C),{key:se,modifiers:Oe,action:C}}function k(y,C){return y===null||y===n?!1:y===C?!0:k(y.parentNode,C)}function P(y){var C=this;if(y=y||n,!(C instanceof P))return new P(y);C.target=y,C._callbacks={},C._directMap={};var q={},se,we=!1,Oe=!1,tt=!1;function Ze(re){re=re||{};var fe=!1,Re;for(Re in q){if(re[Re]){fe=!0;continue}q[Re]=0}fe||(tt=!1)}function ze(re,fe,Re,Ie,D,Q){var F,Z,me=[],De=Re.type;if(!C._callbacks[re])return[];for(De=="keyup"&&I(re)&&(fe=[re]),F=0;F<C._callbacks[re].length;++F)if(Z=C._callbacks[re][F],!(!Ie&&Z.seq&&q[Z.seq]!=Z.level)&&De==Z.action&&(De=="keypress"&&!Re.metaKey&&!Re.ctrlKey||f(fe,Z.modifiers))){var ve=!Ie&&Z.combo==D,m=Ie&&Z.seq==Ie&&Z.level==Q;(ve||m)&&C._callbacks[re].splice(F,1),me.push(Z)}return me}function Ve(re,fe,Re,Ie){C.stopCallback(fe,fe.target||fe.srcElement,Re,Ie)||re(fe,Re)===!1&&(v(fe),O(fe))}C._handleKey=function(re,fe,Re){var Ie=ze(re,fe,Re),D,Q={},F=0,Z=!1;for(D=0;D<Ie.length;++D)Ie[D].seq&&(F=Math.max(F,Ie[D].level));for(D=0;D<Ie.length;++D){if(Ie[D].seq){if(Ie[D].level!=F)continue;Z=!0,Q[Ie[D].seq]=1,Ve(Ie[D].callback,Re,Ie[D].combo,Ie[D].seq);continue}Z||Ve(Ie[D].callback,Re,Ie[D].combo)}var me=Re.type=="keypress"&&Oe;Re.type==tt&&!I(re)&&!me&&Ze(Q),Oe=Z&&Re.type=="keydown"};function Ae(re){typeof re.which!="number"&&(re.which=re.keyCode);var fe=h(re);if(!!fe){if(re.type=="keyup"&&we===fe){we=!1;return}C.handleKey(fe,d(re),re)}}function Pe(){clearTimeout(se),se=setTimeout(Ze,1e3)}function Mt(re,fe,Re,Ie){q[re]=0;function D(De){return function(){tt=De,++q[re],Pe()}}function Q(De){Ve(Re,De,re),Ie!=="keyup"&&(we=h(De)),setTimeout(Ze,10)}for(var F=0;F<fe.length;++F){var Z=F+1===fe.length,me=Z?Q:D(Ie||j(fe[F+1]).action);sn(fe[F],me,Ie,re,F)}}function sn(re,fe,Re,Ie,D){C._directMap[re+":"+Re]=fe,re=re.replace(/\s+/g," ");var Q=re.split(" "),F;if(Q.length>1){Mt(re,Q,fe,Re);return}F=j(re,Re),C._callbacks[F.key]=C._callbacks[F.key]||[],ze(F.key,F.modifiers,{type:F.action},Ie,re,D),C._callbacks[F.key][Ie?"unshift":"push"]({callback:fe,modifiers:F.modifiers,action:F.action,seq:Ie,level:D,combo:re})}C._bindMultiple=function(re,fe,Re){for(var Ie=0;Ie<re.length;++Ie)sn(re[Ie],fe,Re)},l(y,"keypress",Ae),l(y,"keydown",Ae),l(y,"keyup",Ae)}P.prototype.bind=function(y,C,q){var se=this;return y=y instanceof Array?y:[y],se._bindMultiple.call(se,y,C,q),se},P.prototype.unbind=function(y,C){var q=this;return q.bind.call(q,y,function(){},C)},P.prototype.trigger=function(y,C){var q=this;return q._directMap[y+":"+C]&&q._directMap[y+":"+C]({},y),q},P.prototype.reset=function(){var y=this;return y._callbacks={},y._directMap={},y},P.prototype.stopCallback=function(y,C){var q=this;if((" "+C.className+" ").indexOf(" mousetrap ")>-1||k(C,q.target))return!1;if("composedPath"in y&&typeof y.composedPath=="function"){var se=y.composedPath()[0];se!==y.target&&(C=se)}return C.tagName=="INPUT"||C.tagName=="SELECT"||C.tagName=="TEXTAREA"||C.isContentEditable},P.prototype.handleKey=function(){var y=this;return y._handleKey.apply(y,arguments)},P.addKeycodes=function(y){for(var C in y)y.hasOwnProperty(C)&&(i[C]=y[C]);c=null},P.init=function(){var y=P(n);for(var C in y)C.charAt(0)!=="_"&&(P[C]=function(q){return function(){return y[q].apply(y,arguments)}}(C))},P.init(),e.Mousetrap=P,t.exports&&(t.exports=P),typeof r=="function"&&r.amd&&r(function(){return P})})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)})(eO);var Hm=eO.exports;(function(t){var e={},n=t.prototype.stopCallback;t.prototype.stopCallback=function(r,i,s,o){return this.paused?!0:e[s]||e[o]?!1:n.call(this,r,i,s)},t.prototype.bindGlobal=function(r,i,s){if(this.bind(r,i,s),r instanceof Array)for(i=0;i<r.length;i++)e[r[i]]=!0;else e[r]=!0},t.init()})(Mousetrap);const Z9=({keybinding:t,callback:e})=>{Hm.bind(t,(n,r)=>{n.preventDefault(),e()})},Uc=(t,e)=>{Hm.bindGlobal(t,(n,r)=>{n.preventDefault(),e()})},e5=({keybinding:t})=>{Hm.unbind(t)},jc="DISABLE_LISTENER",Un="DISABLE_LISTENERS",Vc="ENABLE_LISTENER",Kc="ENABLE_LISTENERS",j_="KEYBINDINGS_LOADED",tO="LOAD_KEYBINDINGS",V_="TOGGLE_LISTENERS",dn=t=>{K5({path:t})},t5=(t,e)=>()=>{t(),e.dispatch(Un)},An=(t,e,n)=>({keybinding:t,callback:t5(e,n)}),n5=t=>[An("a",()=>dn("/account"),t),An("c",()=>dn("/contexts"),t),An("d",()=>dn("/docs/f/discarded"),t),An("e",()=>dn("/force-graph"),t),An("n",()=>dn("/docs/new"),t),An("p",()=>dn("/notepad"),t),An("r",()=>dn("/docs"),t),An("s",()=>dn("/settings"),t),An("t",()=>dn("/docs/f/tasks"),t),An("u",()=>dn("/docs/f/untagged"),t)];var r5={state:()=>({activeElement:null,listeners:[],listening:!1,loaded:!1}),getters:{},mutations:{[jc](t,e){t.listeners=t.listeners.filter(n=>n!==e)},[Un](t){t.listening=!1},[Vc](t,e){t.listeners.push(e)},[Kc](t){t.listening=!0},[j_](t){t.loaded=!0}},actions:{async[tO](t){Uc("esc",()=>t.dispatch(Un)),Uc("mod+k",()=>t.dispatch(V_)),Uc("mod+s",()=>t.dispatch(Un)),Uc("mod+shift+f",()=>{t.dispatch(Un),dn("/docs")}),window.addEventListener("click",()=>t.dispatch(Un)),t.commit(j_)},async[jc](t,e){e5(e),t.commit(jc,e)},async[Un](t){await Promise.all(t.state.listeners.map(e=>{t.dispatch(jc,e)})),t.state.activeElement&&(t.state.activeElement.focus(),t.state.activeElement=null),t.commit(Un)},async[Vc](t,e){Z9(e),t.commit(Vc,e)},async[Kc](t){t.state.activeElement=document.activeElement,t.state.activeElement.blur(),await Promise.all(n5(t).map(e=>{t.dispatch(Vc,e)})),t.commit(Kc)},async[V_](t,e){return t.state.listening?t.dispatch(Un):t.dispatch(Kc)}}},i5=function(e){return s5(e)&&!o5(e)};function s5(t){return!!t&&typeof t=="object"}function o5(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||u5(t)}var a5=typeof Symbol=="function"&&Symbol.for,c5=a5?Symbol.for("react.element"):60103;function u5(t){return t.$$typeof===c5}function l5(t){return Array.isArray(t)?[]:{}}function _a(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Cs(l5(t),t,e):t}function h5(t,e,n){return t.concat(e).map(function(r){return _a(r,n)})}function f5(t,e){if(!e.customMerge)return Cs;var n=e.customMerge(t);return typeof n=="function"?n:Cs}function d5(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]}function K_(t){return Object.keys(t).concat(d5(t))}function nO(t,e){try{return e in t}catch{return!1}}function p5(t,e){return nO(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function g5(t,e,n){var r={};return n.isMergeableObject(t)&&K_(t).forEach(function(i){r[i]=_a(t[i],n)}),K_(e).forEach(function(i){p5(t,i)||(nO(t,i)&&n.isMergeableObject(e[i])?r[i]=f5(i,n)(t[i],e[i],n):r[i]=_a(e[i],n))}),r}function Cs(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||h5,n.isMergeableObject=n.isMergeableObject||i5,n.cloneUnlessOtherwiseSpecified=_a;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):g5(t,e,n):_a(e,n)}Cs.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Cs(r,i,n)},{})};var m5=Cs,v5=m5;const gu="LOAD_SETTINGS",mu="SET_CRYPTO_ENABLED",vu="SET_CRYPTO_KEYS",yu="SET_EDITOR_IMAGES_ENABLED",Eu="SET_EDITOR_IMAGES_SHOW_CAPTIONS",_u="SET_EDITOR_KEY_MAP",rO="SET_EDITOR_LIGATURES",iO="SET_EDITOR_LISTS_ENABLED",sO="SET_EDITOR_READABILITY_ENABLED",y5="SET_EDITOR_READABILITY_MAX_WIDTH",oO="SET_EDITOR_READABILITY_WORDS_PER_MINUTE",aO="SET_EDITOR_SPELLCHECK",bu="SET_EDITOR_TAB_SIZE",cO="SET_EDITOR_TOOLBAR",uO="SET_EXPERIMENTAL",wu="SET_THEME",Sr="SETTINGS_LOADED";var E5={state:()=>({crypto:{enabled:!1,privateKey:null,publicKey:null},editor:{images:{enabled:!0,showCaptions:!0},keyMap:"default",ligatures:!0,lists:{enabled:!0},readability:{enabled:!0,maxWidthInChars:100,wordsPerMinute:225},spellcheck:!0,tabSize:2,toolbar:!0},experimental:!1,loaded:!1,theme:"auto"}),getters:{},mutations:{[gu](t,e){Object.assign(t,v5(t,e))},[mu](t,e){t.crypto.enabled=e},[vu](t,e){e.privateKey&&(t.crypto.privateKey=e.privateKey),e.publicKey&&(t.crypto.publicKey=e.publicKey)},[yu](t,e){t.editor.images.enabled=e},[Eu](t,e){t.editor.images.showCaptions=e},[_u](t,e){t.editor.keyMap=e},[rO](t,e){t.editor.ligatures=e},[iO](t,e){t.editor.lists.enabled=e},[sO](t,e){t.editor.readability.enabled=e},[y5](t,e){t.editor.readability.maxWidthInChars=e},[oO](t,e){t.editor.readability.wordsPerMinute=e},[aO](t,e){t.editor.spellcheck=e},[bu](t,e){t.editor.tabSize=e},[cO](t,e){t.editor.toolbar=e},[uO](t,e){t.experimental=e},[wu](t,e){t.theme=e},[Sr](t){t.loaded=!0}},actions:{async[gu](t,e){t.commit(gu,e)},async[mu](t,e){t.commit(mu,e)},async[vu](t,e){t.commit(vu,e)},async[yu](t,e){t.commit(yu,e)},async[Eu](t,e){t.commit(Eu,e)},async[_u](t,e){t.commit(_u,e)},async[bu](t,e){t.commit(bu,e)},async[wu](t,e){t.commit(wu,e)},async[Sr](t){t.commit(Sr)}}};const q7=async({userId:t})=>{const e=await o1(Is(Tm(Is(Gs(),"customers"),t),"checkout_sessions"),{cancel_url:window.location.href,price:"price_1JXGjVFSSDySG1smmI1f8krR",success_url:window.location.href});return await new Promise((n,r)=>{a1(e,i=>{var s;(s=i.data())!=null&&s.url&&n(i)},i=>{r(i)})})},_5=async({doc:t,ownerId:e})=>{const n=await o1(Is(Gs(),"documents"),{...t,ownerId:e,syncedAt:u1()});return new Promise((r,i)=>{a1(n,s=>{r(s)},s=>{i(s)})})},b5=async({ownerId:t,syncedAfter:e})=>(await s1(i1(Is(Gs(),"documents"),ol("ownerId","==",t),ol("syncedAt",">",e)))).docs,G7=async({docId:t})=>(await s1(i1(Is(Gs(),"documents"),ol("public","==",!0),ol("id","==",t)))).docs[0],w5=async({doc:t,docId:e})=>D4(Tm(Is(Gs(),"documents"),e),{...t,syncedAt:u1()}),qm={Array:"[object Array]",Boolean:"[object Boolean]",Date:"[object Date]",Number:"[object Number]",Object:"[object Object]",String:"[object String]"},Gm=(t,e)=>Object.prototype.toString.call(t)===e,I5=t=>Gm(t,qm.Array),S5=t=>Gm(t,qm.Date),T5=t=>Gm(t,qm.Object),Xs=t=>I5(t)?A5(t):S5(t)?O5(t):T5(t)?C5(t):t,A5=t=>t.map(e=>Xs(e)),O5=t=>new Date(t),C5=t=>Object.keys(t).reduce((e,n)=>({...e,[n]:Xs(t[n])}),{}),z_="PULL_DOCUMENT",Gf="PULL_DOCUMENTS",W_="PUSH_DOCUMENT",H_="PUSH_DOCUMENTS",R5=(t,e)=>t.documents.all.find(n=>n.id===e);var D5={state:()=>({}),getters:{lastSyncedAt(t,e,n){return new Date(Math.max(0,...n.documents.all.map(r=>r.syncedAt)))}},actions:{async[z_](t,e){const n=R5(t.rootState,e.id);if(n){if(n.updatedAt<e.updatedAt)return t.dispatch(ss,e);if(!(n.updatedAt>e.updatedAt)){if(!n.syncedAt||n.syncedAt<e.syncedAt)return t.dispatch(ss,e)}}else return t.dispatch(mr,e)},async[Gf](t){const e=await b5({ownerId:t.rootState.auth.user.uid,syncedAfter:t.getters.lastSyncedAt});return Promise.all(e.map(async n=>{const r=n.data(),i={...r,id:r.id||r.clientId,firebaseId:n.id,textKey:r.textKey||r.dataKey,createdAt:r.createdAt?r.createdAt.toDate():null,discardedAt:r.discardedAt?r.discardedAt.toDate():null,updatedAt:r.updatedAt?r.updatedAt.toDate():null,touchedAt:r.touchedAt?r.touchedAt.toDate():null,syncedAt:r.syncedAt.toDate()},s=await Z1(i,{privateKey:t.rootState.settings.crypto.privateKey});return t.dispatch(z_,s)}))},async[W_](t,e){const n=Xs(await J1(e,{preferEncryption:t.rootState.settings.crypto.enabled,publicKey:t.rootState.settings.crypto.publicKey}));if(n.syncedAt){if(n.updatedAt>n.syncedAt||n.touchedAt>n.syncedAt)return w5({doc:n,docId:n.firebaseId})}else return _5({doc:n,ownerId:t.rootState.auth.user.uid})},async[H_](t){await Promise.all(t.rootState.documents.all.map(e=>t.dispatch(W_,e)))},async[j1](t){await t.dispatch(Gf),await t.dispatch(H_),await t.dispatch(Gf)}}},lO={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(u,l){if(!i[u]){if(!r[u]){var h=typeof fc=="function"&&fc;if(!l&&h)return h(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var d=i[u]={exports:{}};r[u][0].call(d.exports,function(v){var O=r[u][1][v];return o(O||v)},d,d.exports,n,r,i,s)}return i[u].exports}for(var a=typeof fc=="function"&&fc,c=0;c<s.length;c++)o(s[c]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var c=0,u=new o(v),l=s.document.createTextNode("");u.observe(l,{characterData:!0}),a=function(){l.data=c=++c%2}}else if(!s.setImmediate&&typeof s.MessageChannel!="undefined"){var h=new s.MessageChannel;h.port1.onmessage=v,a=function(){h.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var I=s.document.createElement("script");I.onreadystatechange=function(){v(),I.onreadystatechange=null,I.parentNode.removeChild(I),I=null},s.document.documentElement.appendChild(I)}:a=function(){setTimeout(v,0)};var f,d=[];function v(){f=!0;for(var I,T,R=d.length;R;){for(T=d,d=[],I=-1;++I<R;)T[I]();R=d.length}f=!1}r.exports=O;function O(I){d.push(I)===1&&!f&&a()}}).call(this,typeof _t!="undefined"?_t:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},c=["REJECTED"],u=["FULFILLED"],l=["PENDING"];r.exports=h;function h(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,k!==o&&O(this,k)}h.prototype.catch=function(k){return this.then(null,k)},h.prototype.then=function(k,P){if(typeof k!="function"&&this.state===u||typeof P!="function"&&this.state===c)return this;var y=new this.constructor(o);if(this.state!==l){var C=this.state===u?k:P;d(y,C,this.outcome)}else this.queue.push(new f(y,k,P));return y};function f(k,P,y){this.promise=k,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(k){a.resolve(this.promise,k)},f.prototype.otherCallFulfilled=function(k){d(this.promise,this.onFulfilled,k)},f.prototype.callRejected=function(k){a.reject(this.promise,k)},f.prototype.otherCallRejected=function(k){d(this.promise,this.onRejected,k)};function d(k,P,y){s(function(){var C;try{C=P(y)}catch(q){return a.reject(k,q)}C===k?a.reject(k,new TypeError("Cannot resolve promise with itself")):a.resolve(k,C)})}a.resolve=function(k,P){var y=I(v,P);if(y.status==="error")return a.reject(k,y.value);var C=y.value;if(C)O(k,C);else{k.state=u,k.outcome=P;for(var q=-1,se=k.queue.length;++q<se;)k.queue[q].callFulfilled(P)}return k},a.reject=function(k,P){k.state=c,k.outcome=P;for(var y=-1,C=k.queue.length;++y<C;)k.queue[y].callRejected(P);return k};function v(k){var P=k&&k.then;if(k&&(typeof k=="object"||typeof k=="function")&&typeof P=="function")return function(){P.apply(k,arguments)}}function O(k,P){var y=!1;function C(Oe){y||(y=!0,a.reject(k,Oe))}function q(Oe){y||(y=!0,a.resolve(k,Oe))}function se(){P(q,C)}var we=I(se);we.status==="error"&&C(we.value)}function I(k,P){var y={};try{y.value=k(P),y.status="success"}catch(C){y.status="error",y.value=C}return y}h.resolve=T;function T(k){return k instanceof this?k:a.resolve(new this(o),k)}h.reject=R;function R(k){var P=new this(o);return a.reject(P,k)}h.all=V;function V(k){var P=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=k.length,C=!1;if(!y)return this.resolve([]);for(var q=new Array(y),se=0,we=-1,Oe=new this(o);++we<y;)tt(k[we],we);return Oe;function tt(Ze,ze){P.resolve(Ze).then(Ve,function(Ae){C||(C=!0,a.reject(Oe,Ae))});function Ve(Ae){q[ze]=Ae,++se===y&&!C&&(C=!0,a.resolve(Oe,q))}}}h.race=j;function j(k){var P=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=k.length,C=!1;if(!y)return this.resolve([]);for(var q=-1,se=new this(o);++q<y;)we(k[q]);return se;function we(Oe){P.resolve(Oe).then(function(tt){C||(C=!0,a.resolve(se,tt))},function(tt){C||(C=!0,a.reject(se,tt))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof _t!="undefined"?_t:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p};function o(p,E){if(!(p instanceof E))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var c=a();function u(){try{if(!c||!c.open)return!1;var p=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),E=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!p||E)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function l(p,E){p=p||[],E=E||{};try{return new Blob(p,E)}catch(w){if(w.name!=="TypeError")throw w;for(var g=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,S=new g,A=0;A<p.length;A+=1)S.append(p[A]);return S.getBlob(E.type)}}typeof Promise=="undefined"&&n(3);var h=Promise;function f(p,E){E&&p.then(function(g){E(null,g)},function(g){E(g)})}function d(p,E,g){typeof E=="function"&&p.then(E),typeof g=="function"&&p.catch(g)}function v(p){return typeof p!="string"&&(console.warn(p+" used as a key, but it is not a string."),p=String(p)),p}function O(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var I="local-forage-detect-blob-support",T=void 0,R={},V=Object.prototype.toString,j="readonly",k="readwrite";function P(p){for(var E=p.length,g=new ArrayBuffer(E),S=new Uint8Array(g),A=0;A<E;A++)S[A]=p.charCodeAt(A);return g}function y(p){return new h(function(E){var g=p.transaction(I,k),S=l([""]);g.objectStore(I).put(S,"key"),g.onabort=function(A){A.preventDefault(),A.stopPropagation(),E(!1)},g.oncomplete=function(){var A=navigator.userAgent.match(/Chrome\/(\d+)/),w=navigator.userAgent.match(/Edge\//);E(w||!A||parseInt(A[1],10)>=43)}}).catch(function(){return!1})}function C(p){return typeof T=="boolean"?h.resolve(T):y(p).then(function(E){return T=E,T})}function q(p){var E=R[p.name],g={};g.promise=new h(function(S,A){g.resolve=S,g.reject=A}),E.deferredOperations.push(g),E.dbReady?E.dbReady=E.dbReady.then(function(){return g.promise}):E.dbReady=g.promise}function se(p){var E=R[p.name],g=E.deferredOperations.pop();if(g)return g.resolve(),g.promise}function we(p,E){var g=R[p.name],S=g.deferredOperations.pop();if(S)return S.reject(E),S.promise}function Oe(p,E){return new h(function(g,S){if(R[p.name]=R[p.name]||fe(),p.db)if(E)q(p),p.db.close();else return g(p.db);var A=[p.name];E&&A.push(p.version);var w=c.open.apply(c,A);E&&(w.onupgradeneeded=function(M){var U=w.result;try{U.createObjectStore(p.storeName),M.oldVersion<=1&&U.createObjectStore(I)}catch(z){if(z.name==="ConstraintError")console.warn('The database "'+p.name+'" has been upgraded from version '+M.oldVersion+" to version "+M.newVersion+', but the storage "'+p.storeName+'" already exists.');else throw z}}),w.onerror=function(M){M.preventDefault(),S(w.error)},w.onsuccess=function(){var M=w.result;M.onversionchange=function(U){U.target.close()},g(M),se(p)}})}function tt(p){return Oe(p,!1)}function Ze(p){return Oe(p,!0)}function ze(p,E){if(!p.db)return!0;var g=!p.db.objectStoreNames.contains(p.storeName),S=p.version<p.db.version,A=p.version>p.db.version;if(S&&(p.version!==E&&console.warn('The database "'+p.name+`" can't be downgraded from version `+p.db.version+" to version "+p.version+"."),p.version=p.db.version),A||g){if(g){var w=p.db.version+1;w>p.version&&(p.version=w)}return!0}return!1}function Ve(p){return new h(function(E,g){var S=new FileReader;S.onerror=g,S.onloadend=function(A){var w=btoa(A.target.result||"");E({__local_forage_encoded_blob:!0,data:w,type:p.type})},S.readAsBinaryString(p)})}function Ae(p){var E=P(atob(p.data));return l([E],{type:p.type})}function Pe(p){return p&&p.__local_forage_encoded_blob}function Mt(p){var E=this,g=E._initReady().then(function(){var S=R[E._dbInfo.name];if(S&&S.dbReady)return S.dbReady});return d(g,p,p),g}function sn(p){q(p);for(var E=R[p.name],g=E.forages,S=0;S<g.length;S++){var A=g[S];A._dbInfo.db&&(A._dbInfo.db.close(),A._dbInfo.db=null)}return p.db=null,tt(p).then(function(w){return p.db=w,ze(p)?Ze(p):w}).then(function(w){p.db=E.db=w;for(var M=0;M<g.length;M++)g[M]._dbInfo.db=w}).catch(function(w){throw we(p,w),w})}function re(p,E,g,S){S===void 0&&(S=1);try{var A=p.db.transaction(p.storeName,E);g(null,A)}catch(w){if(S>0&&(!p.db||w.name==="InvalidStateError"||w.name==="NotFoundError"))return h.resolve().then(function(){if(!p.db||w.name==="NotFoundError"&&!p.db.objectStoreNames.contains(p.storeName)&&p.version<=p.db.version)return p.db&&(p.version=p.db.version+1),Ze(p)}).then(function(){return sn(p).then(function(){re(p,E,g,S-1)})}).catch(g);g(w)}}function fe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Re(p){var E=this,g={db:null};if(p)for(var S in p)g[S]=p[S];var A=R[g.name];A||(A=fe(),R[g.name]=A),A.forages.push(E),E._initReady||(E._initReady=E.ready,E.ready=Mt);var w=[];function M(){return h.resolve()}for(var U=0;U<A.forages.length;U++){var z=A.forages[U];z!==E&&w.push(z._initReady().catch(M))}var W=A.forages.slice(0);return h.all(w).then(function(){return g.db=A.db,tt(g)}).then(function(Y){return g.db=Y,ze(g,E._defaultConfig.version)?Ze(g):Y}).then(function(Y){g.db=A.db=Y,E._dbInfo=g;for(var ie=0;ie<W.length;ie++){var Se=W[ie];Se!==E&&(Se._dbInfo.db=g.db,Se._dbInfo.version=g.version)}})}function Ie(p,E){var g=this;p=v(p);var S=new h(function(A,w){g.ready().then(function(){re(g._dbInfo,j,function(M,U){if(M)return w(M);try{var z=U.objectStore(g._dbInfo.storeName),W=z.get(p);W.onsuccess=function(){var Y=W.result;Y===void 0&&(Y=null),Pe(Y)&&(Y=Ae(Y)),A(Y)},W.onerror=function(){w(W.error)}}catch(Y){w(Y)}})}).catch(w)});return f(S,E),S}function D(p,E){var g=this,S=new h(function(A,w){g.ready().then(function(){re(g._dbInfo,j,function(M,U){if(M)return w(M);try{var z=U.objectStore(g._dbInfo.storeName),W=z.openCursor(),Y=1;W.onsuccess=function(){var ie=W.result;if(ie){var Se=ie.value;Pe(Se)&&(Se=Ae(Se));var Le=p(Se,ie.key,Y++);Le!==void 0?A(Le):ie.continue()}else A()},W.onerror=function(){w(W.error)}}catch(ie){w(ie)}})}).catch(w)});return f(S,E),S}function Q(p,E,g){var S=this;p=v(p);var A=new h(function(w,M){var U;S.ready().then(function(){return U=S._dbInfo,V.call(E)==="[object Blob]"?C(U.db).then(function(z){return z?E:Ve(E)}):E}).then(function(z){re(S._dbInfo,k,function(W,Y){if(W)return M(W);try{var ie=Y.objectStore(S._dbInfo.storeName);z===null&&(z=void 0);var Se=ie.put(z,p);Y.oncomplete=function(){z===void 0&&(z=null),w(z)},Y.onabort=Y.onerror=function(){var Le=Se.error?Se.error:Se.transaction.error;M(Le)}}catch(Le){M(Le)}})}).catch(M)});return f(A,g),A}function F(p,E){var g=this;p=v(p);var S=new h(function(A,w){g.ready().then(function(){re(g._dbInfo,k,function(M,U){if(M)return w(M);try{var z=U.objectStore(g._dbInfo.storeName),W=z.delete(p);U.oncomplete=function(){A()},U.onerror=function(){w(W.error)},U.onabort=function(){var Y=W.error?W.error:W.transaction.error;w(Y)}}catch(Y){w(Y)}})}).catch(w)});return f(S,E),S}function Z(p){var E=this,g=new h(function(S,A){E.ready().then(function(){re(E._dbInfo,k,function(w,M){if(w)return A(w);try{var U=M.objectStore(E._dbInfo.storeName),z=U.clear();M.oncomplete=function(){S()},M.onabort=M.onerror=function(){var W=z.error?z.error:z.transaction.error;A(W)}}catch(W){A(W)}})}).catch(A)});return f(g,p),g}function me(p){var E=this,g=new h(function(S,A){E.ready().then(function(){re(E._dbInfo,j,function(w,M){if(w)return A(w);try{var U=M.objectStore(E._dbInfo.storeName),z=U.count();z.onsuccess=function(){S(z.result)},z.onerror=function(){A(z.error)}}catch(W){A(W)}})}).catch(A)});return f(g,p),g}function De(p,E){var g=this,S=new h(function(A,w){if(p<0){A(null);return}g.ready().then(function(){re(g._dbInfo,j,function(M,U){if(M)return w(M);try{var z=U.objectStore(g._dbInfo.storeName),W=!1,Y=z.openKeyCursor();Y.onsuccess=function(){var ie=Y.result;if(!ie){A(null);return}p===0||W?A(ie.key):(W=!0,ie.advance(p))},Y.onerror=function(){w(Y.error)}}catch(ie){w(ie)}})}).catch(w)});return f(S,E),S}function ve(p){var E=this,g=new h(function(S,A){E.ready().then(function(){re(E._dbInfo,j,function(w,M){if(w)return A(w);try{var U=M.objectStore(E._dbInfo.storeName),z=U.openKeyCursor(),W=[];z.onsuccess=function(){var Y=z.result;if(!Y){S(W);return}W.push(Y.key),Y.continue()},z.onerror=function(){A(z.error)}}catch(Y){A(Y)}})}).catch(A)});return f(g,p),g}function m(p,E){E=O.apply(this,arguments);var g=this.config();p=typeof p!="function"&&p||{},p.name||(p.name=p.name||g.name,p.storeName=p.storeName||g.storeName);var S=this,A;if(!p.name)A=h.reject("Invalid arguments");else{var w=p.name===g.name&&S._dbInfo.db,M=w?h.resolve(S._dbInfo.db):tt(p).then(function(U){var z=R[p.name],W=z.forages;z.db=U;for(var Y=0;Y<W.length;Y++)W[Y]._dbInfo.db=U;return U});p.storeName?A=M.then(function(U){if(!!U.objectStoreNames.contains(p.storeName)){var z=U.version+1;q(p);var W=R[p.name],Y=W.forages;U.close();for(var ie=0;ie<Y.length;ie++){var Se=Y[ie];Se._dbInfo.db=null,Se._dbInfo.version=z}var Le=new h(function(Ue,st){var nt=c.open(p.name,z);nt.onerror=function(an){var Zs=nt.result;Zs.close(),st(an)},nt.onupgradeneeded=function(){var an=nt.result;an.deleteObjectStore(p.storeName)},nt.onsuccess=function(){var an=nt.result;an.close(),Ue(an)}});return Le.then(function(Ue){W.db=Ue;for(var st=0;st<Y.length;st++){var nt=Y[st];nt._dbInfo.db=Ue,se(nt._dbInfo)}}).catch(function(Ue){throw(we(p,Ue)||h.resolve()).catch(function(){}),Ue})}}):A=M.then(function(U){q(p);var z=R[p.name],W=z.forages;U.close();for(var Y=0;Y<W.length;Y++){var ie=W[Y];ie._dbInfo.db=null}var Se=new h(function(Le,Ue){var st=c.deleteDatabase(p.name);st.onerror=function(){var nt=st.result;nt&&nt.close(),Ue(st.error)},st.onblocked=function(){console.warn('dropInstance blocked for database "'+p.name+'" until all open connections are closed')},st.onsuccess=function(){var nt=st.result;nt&&nt.close(),Le(nt)}});return Se.then(function(Le){z.db=Le;for(var Ue=0;Ue<W.length;Ue++){var st=W[Ue];se(st._dbInfo)}}).catch(function(Le){throw(we(p,Le)||h.resolve()).catch(function(){}),Le})})}return f(A,E),A}var b={_driver:"asyncStorage",_initStorage:Re,_support:u(),iterate:D,getItem:Ie,setItem:Q,removeItem:F,clear:Z,length:me,key:De,keys:ve,dropInstance:m};function x(){return typeof openDatabase=="function"}var N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L="~~local_forage_type~",G=/^~~local_forage_type~([^~]+)~/,J="__lfsc__:",H=J.length,X="arbf",B="blob",oe="si08",ne="ui08",ae="uic8",de="si16",_e="si32",Be="ur16",Ne="ui32",et="fl32",Wt="fl64",Ln=H+X.length,Qs=Object.prototype.toString;function nr(p){var E=p.length*.75,g=p.length,S,A=0,w,M,U,z;p[p.length-1]==="="&&(E--,p[p.length-2]==="="&&E--);var W=new ArrayBuffer(E),Y=new Uint8Array(W);for(S=0;S<g;S+=4)w=N.indexOf(p[S]),M=N.indexOf(p[S+1]),U=N.indexOf(p[S+2]),z=N.indexOf(p[S+3]),Y[A++]=w<<2|M>>4,Y[A++]=(M&15)<<4|U>>2,Y[A++]=(U&3)<<6|z&63;return W}function Di(p){var E=new Uint8Array(p),g="",S;for(S=0;S<E.length;S+=3)g+=N[E[S]>>2],g+=N[(E[S]&3)<<4|E[S+1]>>4],g+=N[(E[S+1]&15)<<2|E[S+2]>>6],g+=N[E[S+2]&63];return E.length%3===2?g=g.substring(0,g.length-1)+"=":E.length%3===1&&(g=g.substring(0,g.length-2)+"=="),g}function $t(p,E){var g="";if(p&&(g=Qs.call(p)),p&&(g==="[object ArrayBuffer]"||p.buffer&&Qs.call(p.buffer)==="[object ArrayBuffer]")){var S,A=J;p instanceof ArrayBuffer?(S=p,A+=X):(S=p.buffer,g==="[object Int8Array]"?A+=oe:g==="[object Uint8Array]"?A+=ne:g==="[object Uint8ClampedArray]"?A+=ae:g==="[object Int16Array]"?A+=de:g==="[object Uint16Array]"?A+=Be:g==="[object Int32Array]"?A+=_e:g==="[object Uint32Array]"?A+=Ne:g==="[object Float32Array]"?A+=et:g==="[object Float64Array]"?A+=Wt:E(new Error("Failed to get type for BinaryArray"))),E(A+Di(S))}else if(g==="[object Blob]"){var w=new FileReader;w.onload=function(){var M=L+p.type+"~"+Di(this.result);E(J+B+M)},w.readAsArrayBuffer(p)}else try{E(JSON.stringify(p))}catch(M){console.error("Couldn't convert value into a JSON string: ",p),E(null,M)}}function on(p){if(p.substring(0,H)!==J)return JSON.parse(p);var E=p.substring(Ln),g=p.substring(H,Ln),S;if(g===B&&G.test(E)){var A=E.match(G);S=A[1],E=E.substring(A[0].length)}var w=nr(E);switch(g){case X:return w;case B:return l([w],{type:S});case oe:return new Int8Array(w);case ne:return new Uint8Array(w);case ae:return new Uint8ClampedArray(w);case de:return new Int16Array(w);case Be:return new Uint16Array(w);case _e:return new Int32Array(w);case Ne:return new Uint32Array(w);case et:return new Float32Array(w);case Wt:return new Float64Array(w);default:throw new Error("Unkown type: "+g)}}var xi={serialize:$t,deserialize:on,stringToBuffer:nr,bufferToString:Di};function Qm(p,E,g,S){p.executeSql("CREATE TABLE IF NOT EXISTS "+E.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],g,S)}function gO(p){var E=this,g={db:null};if(p)for(var S in p)g[S]=typeof p[S]!="string"?p[S].toString():p[S];var A=new h(function(w,M){try{g.db=openDatabase(g.name,String(g.version),g.description,g.size)}catch(U){return M(U)}g.db.transaction(function(U){Qm(U,g,function(){E._dbInfo=g,w()},function(z,W){M(W)})},M)});return g.serializer=xi,A}function rr(p,E,g,S,A,w){p.executeSql(g,S,A,function(M,U){U.code===U.SYNTAX_ERR?M.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[E.storeName],function(z,W){W.rows.length?w(z,U):Qm(z,E,function(){z.executeSql(g,S,A,w)},w)},w):w(M,U)},w)}function mO(p,E){var g=this;p=v(p);var S=new h(function(A,w){g.ready().then(function(){var M=g._dbInfo;M.db.transaction(function(U){rr(U,M,"SELECT * FROM "+M.storeName+" WHERE key = ? LIMIT 1",[p],function(z,W){var Y=W.rows.length?W.rows.item(0).value:null;Y&&(Y=M.serializer.deserialize(Y)),A(Y)},function(z,W){w(W)})})}).catch(w)});return f(S,E),S}function vO(p,E){var g=this,S=new h(function(A,w){g.ready().then(function(){var M=g._dbInfo;M.db.transaction(function(U){rr(U,M,"SELECT * FROM "+M.storeName,[],function(z,W){for(var Y=W.rows,ie=Y.length,Se=0;Se<ie;Se++){var Le=Y.item(Se),Ue=Le.value;if(Ue&&(Ue=M.serializer.deserialize(Ue)),Ue=p(Ue,Le.key,Se+1),Ue!==void 0){A(Ue);return}}A()},function(z,W){w(W)})})}).catch(w)});return f(S,E),S}function Jm(p,E,g,S){var A=this;p=v(p);var w=new h(function(M,U){A.ready().then(function(){E===void 0&&(E=null);var z=E,W=A._dbInfo;W.serializer.serialize(E,function(Y,ie){ie?U(ie):W.db.transaction(function(Se){rr(Se,W,"INSERT OR REPLACE INTO "+W.storeName+" (key, value) VALUES (?, ?)",[p,Y],function(){M(z)},function(Le,Ue){U(Ue)})},function(Se){if(Se.code===Se.QUOTA_ERR){if(S>0){M(Jm.apply(A,[p,z,g,S-1]));return}U(Se)}})})}).catch(U)});return f(w,g),w}function yO(p,E,g){return Jm.apply(this,[p,E,g,1])}function EO(p,E){var g=this;p=v(p);var S=new h(function(A,w){g.ready().then(function(){var M=g._dbInfo;M.db.transaction(function(U){rr(U,M,"DELETE FROM "+M.storeName+" WHERE key = ?",[p],function(){A()},function(z,W){w(W)})})}).catch(w)});return f(S,E),S}function _O(p){var E=this,g=new h(function(S,A){E.ready().then(function(){var w=E._dbInfo;w.db.transaction(function(M){rr(M,w,"DELETE FROM "+w.storeName,[],function(){S()},function(U,z){A(z)})})}).catch(A)});return f(g,p),g}function bO(p){var E=this,g=new h(function(S,A){E.ready().then(function(){var w=E._dbInfo;w.db.transaction(function(M){rr(M,w,"SELECT COUNT(key) as c FROM "+w.storeName,[],function(U,z){var W=z.rows.item(0).c;S(W)},function(U,z){A(z)})})}).catch(A)});return f(g,p),g}function wO(p,E){var g=this,S=new h(function(A,w){g.ready().then(function(){var M=g._dbInfo;M.db.transaction(function(U){rr(U,M,"SELECT key FROM "+M.storeName+" WHERE id = ? LIMIT 1",[p+1],function(z,W){var Y=W.rows.length?W.rows.item(0).key:null;A(Y)},function(z,W){w(W)})})}).catch(w)});return f(S,E),S}function IO(p){var E=this,g=new h(function(S,A){E.ready().then(function(){var w=E._dbInfo;w.db.transaction(function(M){rr(M,w,"SELECT key FROM "+w.storeName,[],function(U,z){for(var W=[],Y=0;Y<z.rows.length;Y++)W.push(z.rows.item(Y).key);S(W)},function(U,z){A(z)})})}).catch(A)});return f(g,p),g}function SO(p){return new h(function(E,g){p.transaction(function(S){S.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(A,w){for(var M=[],U=0;U<w.rows.length;U++)M.push(w.rows.item(U).name);E({db:p,storeNames:M})},function(A,w){g(w)})},function(S){g(S)})})}function TO(p,E){E=O.apply(this,arguments);var g=this.config();p=typeof p!="function"&&p||{},p.name||(p.name=p.name||g.name,p.storeName=p.storeName||g.storeName);var S=this,A;return p.name?A=new h(function(w){var M;p.name===g.name?M=S._dbInfo.db:M=openDatabase(p.name,"","",0),p.storeName?w({db:M,storeNames:[p.storeName]}):w(SO(M))}).then(function(w){return new h(function(M,U){w.db.transaction(function(z){function W(Le){return new h(function(Ue,st){z.executeSql("DROP TABLE IF EXISTS "+Le,[],function(){Ue()},function(nt,an){st(an)})})}for(var Y=[],ie=0,Se=w.storeNames.length;ie<Se;ie++)Y.push(W(w.storeNames[ie]));h.all(Y).then(function(){M()}).catch(function(Le){U(Le)})},function(z){U(z)})})}):A=h.reject("Invalid arguments"),f(A,E),A}var AO={_driver:"webSQLStorage",_initStorage:gO,_support:x(),iterate:vO,getItem:mO,setItem:yO,removeItem:EO,clear:_O,length:bO,key:wO,keys:IO,dropInstance:TO};function OO(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Zm(p,E){var g=p.name+"/";return p.storeName!==E.storeName&&(g+=p.storeName+"/"),g}function CO(){var p="_localforage_support_test";try{return localStorage.setItem(p,!0),localStorage.removeItem(p),!1}catch{return!0}}function RO(){return!CO()||localStorage.length>0}function DO(p){var E=this,g={};if(p)for(var S in p)g[S]=p[S];return g.keyPrefix=Zm(p,E._defaultConfig),RO()?(E._dbInfo=g,g.serializer=xi,h.resolve()):h.reject()}function xO(p){var E=this,g=E.ready().then(function(){for(var S=E._dbInfo.keyPrefix,A=localStorage.length-1;A>=0;A--){var w=localStorage.key(A);w.indexOf(S)===0&&localStorage.removeItem(w)}});return f(g,p),g}function kO(p,E){var g=this;p=v(p);var S=g.ready().then(function(){var A=g._dbInfo,w=localStorage.getItem(A.keyPrefix+p);return w&&(w=A.serializer.deserialize(w)),w});return f(S,E),S}function PO(p,E){var g=this,S=g.ready().then(function(){for(var A=g._dbInfo,w=A.keyPrefix,M=w.length,U=localStorage.length,z=1,W=0;W<U;W++){var Y=localStorage.key(W);if(Y.indexOf(w)===0){var ie=localStorage.getItem(Y);if(ie&&(ie=A.serializer.deserialize(ie)),ie=p(ie,Y.substring(M),z++),ie!==void 0)return ie}}});return f(S,E),S}function NO(p,E){var g=this,S=g.ready().then(function(){var A=g._dbInfo,w;try{w=localStorage.key(p)}catch{w=null}return w&&(w=w.substring(A.keyPrefix.length)),w});return f(S,E),S}function MO(p){var E=this,g=E.ready().then(function(){for(var S=E._dbInfo,A=localStorage.length,w=[],M=0;M<A;M++){var U=localStorage.key(M);U.indexOf(S.keyPrefix)===0&&w.push(U.substring(S.keyPrefix.length))}return w});return f(g,p),g}function $O(p){var E=this,g=E.keys().then(function(S){return S.length});return f(g,p),g}function LO(p,E){var g=this;p=v(p);var S=g.ready().then(function(){var A=g._dbInfo;localStorage.removeItem(A.keyPrefix+p)});return f(S,E),S}function FO(p,E,g){var S=this;p=v(p);var A=S.ready().then(function(){E===void 0&&(E=null);var w=E;return new h(function(M,U){var z=S._dbInfo;z.serializer.serialize(E,function(W,Y){if(Y)U(Y);else try{localStorage.setItem(z.keyPrefix+p,W),M(w)}catch(ie){(ie.name==="QuotaExceededError"||ie.name==="NS_ERROR_DOM_QUOTA_REACHED")&&U(ie),U(ie)}})})});return f(A,g),A}function BO(p,E){if(E=O.apply(this,arguments),p=typeof p!="function"&&p||{},!p.name){var g=this.config();p.name=p.name||g.name,p.storeName=p.storeName||g.storeName}var S=this,A;return p.name?A=new h(function(w){p.storeName?w(Zm(p,S._defaultConfig)):w(p.name+"/")}).then(function(w){for(var M=localStorage.length-1;M>=0;M--){var U=localStorage.key(M);U.indexOf(w)===0&&localStorage.removeItem(U)}}):A=h.reject("Invalid arguments"),f(A,E),A}var UO={_driver:"localStorageWrapper",_initStorage:DO,_support:OO(),iterate:PO,getItem:kO,setItem:FO,removeItem:LO,clear:xO,length:$O,key:NO,keys:MO,dropInstance:BO},jO=function(E,g){return E===g||typeof E=="number"&&typeof g=="number"&&isNaN(E)&&isNaN(g)},VO=function(E,g){for(var S=E.length,A=0;A<S;){if(jO(E[A],g))return!0;A++}return!1},ev=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"},Js={},tv={},ki={INDEXEDDB:b,WEBSQL:AO,LOCALSTORAGE:UO},KO=[ki.INDEXEDDB._driver,ki.WEBSQL._driver,ki.LOCALSTORAGE._driver],rc=["dropInstance"],bh=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(rc),zO={description:"",driver:KO.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function WO(p,E){p[E]=function(){var g=arguments;return p.ready().then(function(){return p[E].apply(p,g)})}}function wh(){for(var p=1;p<arguments.length;p++){var E=arguments[p];if(E)for(var g in E)E.hasOwnProperty(g)&&(ev(E[g])?arguments[0][g]=E[g].slice():arguments[0][g]=E[g])}return arguments[0]}var HO=function(){function p(E){o(this,p);for(var g in ki)if(ki.hasOwnProperty(g)){var S=ki[g],A=S._driver;this[g]=A,Js[A]||this.defineDriver(S)}this._defaultConfig=wh({},zO),this._config=wh({},this._defaultConfig,E),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return p.prototype.config=function(g){if((typeof g=="undefined"?"undefined":s(g))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var S in g){if(S==="storeName"&&(g[S]=g[S].replace(/\W/g,"_")),S==="version"&&typeof g[S]!="number")return new Error("Database version must be a number.");this._config[S]=g[S]}return"driver"in g&&g.driver?this.setDriver(this._config.driver):!0}else return typeof g=="string"?this._config[g]:this._config},p.prototype.defineDriver=function(g,S,A){var w=new h(function(M,U){try{var z=g._driver,W=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!g._driver){U(W);return}for(var Y=bh.concat("_initStorage"),ie=0,Se=Y.length;ie<Se;ie++){var Le=Y[ie],Ue=!VO(rc,Le);if((Ue||g[Le])&&typeof g[Le]!="function"){U(W);return}}var st=function(){for(var Zs=function(YO){return function(){var XO=new Error("Method "+YO+" is not implemented by the current driver"),nv=h.reject(XO);return f(nv,arguments[arguments.length-1]),nv}},Ih=0,GO=rc.length;Ih<GO;Ih++){var Sh=rc[Ih];g[Sh]||(g[Sh]=Zs(Sh))}};st();var nt=function(Zs){Js[z]&&console.info("Redefining LocalForage driver: "+z),Js[z]=g,tv[z]=Zs,M()};"_support"in g?g._support&&typeof g._support=="function"?g._support().then(nt,U):nt(!!g._support):nt(!0)}catch(an){U(an)}});return d(w,S,A),w},p.prototype.driver=function(){return this._driver||null},p.prototype.getDriver=function(g,S,A){var w=Js[g]?h.resolve(Js[g]):h.reject(new Error("Driver not found."));return d(w,S,A),w},p.prototype.getSerializer=function(g){var S=h.resolve(xi);return d(S,g),S},p.prototype.ready=function(g){var S=this,A=S._driverSet.then(function(){return S._ready===null&&(S._ready=S._initDriver()),S._ready});return d(A,g,g),A},p.prototype.setDriver=function(g,S,A){var w=this;ev(g)||(g=[g]);var M=this._getSupportedDrivers(g);function U(){w._config.driver=w.driver()}function z(ie){return w._extend(ie),U(),w._ready=w._initStorage(w._config),w._ready}function W(ie){return function(){var Se=0;function Le(){for(;Se<ie.length;){var Ue=ie[Se];return Se++,w._dbInfo=null,w._ready=null,w.getDriver(Ue).then(z).catch(Le)}U();var st=new Error("No available storage method found.");return w._driverSet=h.reject(st),w._driverSet}return Le()}}var Y=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=Y.then(function(){var ie=M[0];return w._dbInfo=null,w._ready=null,w.getDriver(ie).then(function(Se){w._driver=Se._driver,U(),w._wrapLibraryMethodsWithReady(),w._initDriver=W(M)})}).catch(function(){U();var ie=new Error("No available storage method found.");return w._driverSet=h.reject(ie),w._driverSet}),d(this._driverSet,S,A),this._driverSet},p.prototype.supports=function(g){return!!tv[g]},p.prototype._extend=function(g){wh(this,g)},p.prototype._getSupportedDrivers=function(g){for(var S=[],A=0,w=g.length;A<w;A++){var M=g[A];this.supports(M)&&S.push(M)}return S},p.prototype._wrapLibraryMethodsWithReady=function(){for(var g=0,S=bh.length;g<S;g++)WO(this,bh[g])},p.prototype.createInstance=function(g){return new p(g)},p}(),qO=new HO;r.exports=qO},{3:3}]},{},[4])(4)})})(lO);var _h=lO.exports;class Ym{constructor(e){this.timeout=e,this.timers=[]}debounce(e=null,n){const r=this._findTimer(e);r&&this._clearTimer(r),this._setTimer(e,n)}_clearTimer(e){clearTimeout(e.instance),this.timers=this.timers.filter(n=>n.identifier!==e.identifier)}_findTimer(e){return this.timers.find(n=>n.identifier===e)}_setTimer(e,n){this.timers.push({identifier:e,instance:setTimeout(n,this.timeout)})}}const zc=_h.createInstance({name:"contexts"}),x5=new Ym(800),k5=(t,e)=>t.contexts.all.find(n=>n.id===e);var P5=t=>{t.subscribe(({type:e,payload:n},r)=>{switch(e){case V1:const i=k5(r,n.id);i&&x5.debounce(i.id,async()=>{zc.setItem(i.id,Xs(i))});break;case z1:zc.removeItem(n.id);break;case Sr:zc.keys().then(s=>Promise.all(s.map(o=>zc.getItem(o)))).then(s=>t.dispatch(K1,s));break}})};const Yf=_h.createInstance({name:"firebase/documents"}),N5=new Ym(800),M5=(t,e)=>t.documents.all.find(n=>n.id===e);var $5=t=>{t.subscribe(({type:e,payload:n},r)=>{switch(e){case mr:case Gi:case Mo:case ss:case $o:case Lo:case Uo:case jo:const i=M5(r,n.id);i&&N5.debounce(i.id,async()=>{const s=await J1(i,{preferEncryption:r.settings.crypto.enabled,publicKey:r.settings.crypto.publicKey});Yf.setItem(i.id,s)});break;case Sr:Yf.keys().then(s=>Promise.all(s.map(o=>Yf.getItem(o)))).then(s=>Promise.all(s.map(o=>{const a=Object.assign({},o,{id:o.id||o.clientId,textKey:o.textKey||o.dataKey});return Z1(a,{privateKey:r.settings.crypto.privateKey})}))).then(s=>t.dispatch(U1,s)).then(()=>t.dispatch(No));break}})},L5=t=>{t.subscribe(({type:e,_payload:n},r)=>{switch(e){case Sr:t.dispatch(tO);break}})};const q_="main",G_=_h.createInstance({name:"settings"});var F5=t=>{G_.getItem(q_).then(e=>{e?t.dispatch(gu,e).then(()=>{t.dispatch(Sr)}):t.dispatch(Sr)}),t.subscribe(({type:e,_payload:n},r)=>{switch(e){case mu:case vu:case yu:case Eu:case _u:case rO:case iO:case sO:case oO:case aO:case bu:case cO:case uO:case wu:G_.setItem(q_,Xs(r.settings));break}})};const B5=new Ym(1500);var U5=t=>{t.subscribe(async({type:e,payload:n},r)=>{switch(e){case mr:case Gi:case No:case Mo:case $o:case Lo:case Bo:case Zr:case Uo:case jo:t.state.online&&t.state.auth.user&&B5.debounce("sync",()=>{t.dispatch(j1)});break}})};const Wc="SET_STRIPE_MODAL_VISIBILITY",ft=h9({state(){return{context:{active:!1,editing:!1,tags:[]},editor:null,modKey:"\u2303 ctrl",online:!0,showLeftSidebar:!0,showRightSidebar:!0,showStripeModal:!1,showWelcome:!1}},getters:{allTags(t,e){return Array.from(e.allKept.reduce((n,r)=>{for(let i of r.tags)n.add(i);return n},new Set)).sort()},contextTags(t){return t.context.tags.sort()},tags(t,e){return Array.from(e.kept.reduce((n,r)=>{for(let i of r.tags)n.add(i);return n},new Set)).sort()}},mutations:{[Lc](t,e){t.context.active=!0},[Fc](t,e){t.context.active=!1,t.context.tags=[]},[Wf](t,e){t.context.tags=e.context.tags},[Hf](t,e){t.editor=e.editor},[du](t,e){t.modKey=e},[Fo](t){t.online=!1},[Bo](t){t.online=!0},[qf](t,e){t.showRightSidebar=e},[Wc](t,e){t.showStripeModal=e},[as](t,e){t.showWelcome=e}},actions:{async[Lc](t){t.commit(Lc)},async[f9](t){t.state.editor&&t.state.editor.getInputField().blur()},async[Fc](t){t.commit(Fc)},async[p9](t){t.state.editor&&t.state.editor.focus()},async[Wf](t,e){if(t.commit(Wf,e),e.context.tags.length>0){if(!t.state.context.active)return t.dispatch(Lc)}else if(t.state.context.active)return t.dispatch(Fc)},async[Hf](t,e){t.commit(Hf,e)},async[du](t,e){t.commit(du,e)},async[Fo](t){t.commit(Fo)},async[Bo](t){t.commit(Bo)},async[qf](t,e){t.commit(qf,e)},async[as](t,e){t.commit(as,e)},async[Wc](t,e){t.commit(Wc,e),e&&setTimeout(()=>{t.state.showStripeModal&&t.commit(Wc,!1)},15e3)}},modules:{auth:v9,contexts:y9,documents:J9,keybindings:r5,settings:E5,sync:D5},plugins:[P5,$5,L5,F5,U5]}),j5="Build your knowledge base",V5=t=>{document.title=`${t||j5} | Octo`},Xm=q8({history:u8(),routes:[{path:"/home",name:"home",meta:{track:!0},component:()=>Ge(()=>import("./home.c8e35b13.js"),["assets/home.c8e35b13.js","assets/home.59b0b01d.css","assets/AuthTiers.3665c2fe.js","assets/Modal.1410e76a.js","assets/TheLogo.d77959ed.js"]),beforeEnter(t,e,n){ft.state.showWelcome&&(localStorage.setItem("octo/welcome/v1","done"),ft.dispatch(as,!1)),n()}},{path:"/",component:()=>Ge(()=>import("./editor.fe378616.js"),["assets/editor.fe378616.js","assets/editor.d478d1b8.css","assets/TheLogo.d77959ed.js","assets/menu.b6d3a143.js","assets/TagLink.1013b2dd.js","assets/Tag.240c13ff.js","assets/files.cd87a0be.js","assets/meta.e6a29776.js","assets/moment.9709ab41.js"]),children:[{path:"/",meta:{track:!0},beforeEnter(t,e,n){al.supportsFirebase&&ft.state.showWelcome?n({path:"/home"}):n({path:"/docs/new"})}},{path:"/_routes",component:()=>Ge(()=>import("./_routes.f155409c.js"),[])},{path:"/account",meta:{title:"My Account",track:!0},component:()=>Ge(()=>import("./account.72afa282.js"),["assets/account.72afa282.js","assets/AuthTiers.3665c2fe.js","assets/Modal.1410e76a.js"])},{path:"/docs",meta:{title:"My Docs",track:!0},component:()=>Ge(()=>import("./docs.5923aab5.js"),["assets/docs.5923aab5.js","assets/DocumentList.19c478ae.js","assets/moment.9709ab41.js","assets/Tag.240c13ff.js","assets/TheLogo.d77959ed.js"])},{path:"/docs/new",meta:{track:!0},component:()=>Ge(()=>import("./_doc_.8a04af95.js"),["assets/_doc_.8a04af95.js","assets/Editor.3fa99236.js","assets/Editor.c880e10c.css","assets/account.39fe3759.js","assets/transform.812ac62b.js"]),props:!0,beforeEnter(t,e,n){ft.dispatch(os,{id:null}),al.supportsFirebase&&ft.state.showWelcome?(localStorage.setItem("octo/welcome/v1","done"),ft.dispatch(as,!1),n({path:"/home"})):n()}},{path:"/docs/f/:filter",meta:{title:"My Docs"},component:()=>Ge(()=>import("./docs.5923aab5.js"),["assets/docs.5923aab5.js","assets/DocumentList.19c478ae.js","assets/moment.9709ab41.js","assets/Tag.240c13ff.js","assets/TheLogo.d77959ed.js"]),props:!0},{path:"/docs/t/:tag(.*)",meta:{title:"My Docs"},component:()=>Ge(()=>import("./docs.5923aab5.js"),["assets/docs.5923aab5.js","assets/DocumentList.19c478ae.js","assets/moment.9709ab41.js","assets/Tag.240c13ff.js","assets/TheLogo.d77959ed.js"]),props:!0},{path:"/docs/:docId",name:"docs-doc",component:()=>Ge(()=>import("./_doc_.8a04af95.js"),["assets/_doc_.8a04af95.js","assets/Editor.3fa99236.js","assets/Editor.c880e10c.css","assets/account.39fe3759.js","assets/transform.812ac62b.js"]),props({params:t}){return typeof(t==null?void 0:t.props)=="string"?{...t,...JSON.parse(t.props)}:t},beforeEnter(t,e,n){ft.dispatch(os,{id:t.params.docId}),n()}},{path:"/docs/:docId/meta",component:()=>Ge(()=>import("./meta.e6a29776.js"),["assets/meta.e6a29776.js","assets/moment.9709ab41.js","assets/TagLink.1013b2dd.js","assets/Tag.240c13ff.js","assets/TheLogo.d77959ed.js"]),props:!0,beforeEnter(t,e,n){ft.dispatch(os,{id:t.params.docId}),n()}},{path:"/notepad",meta:{title:"Notepad",track:!0},component:()=>Ge(()=>import("./notepad.fe1cf28b.js"),["assets/notepad.fe1cf28b.js","assets/moment.9709ab41.js","assets/_doc_.8a04af95.js","assets/Editor.3fa99236.js","assets/Editor.c880e10c.css","assets/account.39fe3759.js","assets/transform.812ac62b.js"]),props:!0},{path:"/public/:docId",name:"public-doc",component:()=>Ge(()=>import("./_doc_.8a04af95.js"),["assets/_doc_.8a04af95.js","assets/Editor.3fa99236.js","assets/Editor.c880e10c.css","assets/account.39fe3759.js","assets/transform.812ac62b.js"]),props:{readonly:!0}},{path:"/force-graph",meta:{title:"Force Graph",track:!0},component:()=>Ge(()=>import("./force-graph.ccca38ec.js"),["assets/force-graph.ccca38ec.js","assets/force-graph.c010edab.css","assets/transform.812ac62b.js","assets/DocumentList.19c478ae.js","assets/moment.9709ab41.js","assets/Tag.240c13ff.js","assets/TheLogo.d77959ed.js"]),props:!0},{path:"/docs/export",meta:{title:"Export Docs",track:!0},component:()=>Ge(()=>import("./export.f6480bd0.js"),[])},{path:"/docs/import",meta:{title:"Import Docs",track:!0},component:()=>Ge(()=>import("./import.be1bd228.js"),[])},{path:"/example",meta:{title:"Example",track:!0},component:()=>Ge(()=>import("./example.2b5bb23b.js"),["assets/example.2b5bb23b.js","assets/Editor.3fa99236.js","assets/Editor.c880e10c.css","assets/account.39fe3759.js","assets/transform.812ac62b.js"]),props:{url:"/example.md"}},{path:"/file-editor/:file",meta:{title:"File Editor"},component:()=>Ge(()=>import("./_file_.e89806b7.js"),["assets/_file_.e89806b7.js","assets/Editor.3fa99236.js","assets/Editor.c880e10c.css","assets/account.39fe3759.js","assets/transform.812ac62b.js","assets/files.cd87a0be.js"]),props:!0},{path:"/quick-action",meta:{title:"Quick Action",track:!0},component:()=>Ge(()=>import("./quick-action.ecd675cf.js"),[])},{path:"/menu",meta:{track:!0},component:()=>Ge(()=>import("./menu.b6d3a143.js"),["assets/menu.b6d3a143.js","assets/TagLink.1013b2dd.js","assets/Tag.240c13ff.js","assets/TheLogo.d77959ed.js","assets/files.cd87a0be.js"])},{path:"/contexts",meta:{title:"Context Switching",track:!0},component:()=>Ge(()=>import("./contexts.6a54c9ff.js"),["assets/contexts.6a54c9ff.js","assets/contexts.2e8a0d0a.css","assets/Tag.240c13ff.js","assets/TheLogo.d77959ed.js"])},{path:"/tags",meta:{title:"Tags",track:!0},component:()=>Ge(()=>import("./tags.d99fdf77.js"),["assets/tags.d99fdf77.js","assets/tags.bf07f398.css","assets/TagLink.1013b2dd.js","assets/Tag.240c13ff.js","assets/TheLogo.d77959ed.js"]),props:!0},{path:"/settings",meta:{title:"App Settings",track:!0},component:()=>Ge(()=>import("./settings.a66bdaf0.js"),["assets/settings.a66bdaf0.js","assets/account.39fe3759.js","assets/export.f6480bd0.js","assets/import.be1bd228.js"])},{path:"/privacy-policy",meta:{title:"Privacy Policy",track:!0},component:()=>Ge(()=>import("./privacy-policy.7901f931.js"),[])},{path:"/terms-and-conditions",meta:{title:"Terms & Conditions",track:!0},component:()=>Ge(()=>import("./terms-and-conditions.19421f7c.js"),[])},{path:"/documents",redirect:{path:"/docs"}},{path:"/documents/new",redirect:{path:"/docs/new"}},{path:"/documents/export",redirect:{path:"/docs/export"}},{path:"/documents/import",redirect:{path:"/docs/import"}},{path:"/documents/recent",redirect:{path:"/docs"}},{path:"/documents/actionable",redirect:{path:"/docs/f/tasks"}},{path:"/documents/discarded",redirect:{path:"/docs/f/discarded"}},{path:"/documents/tasks",redirect:{path:"/docs/f/tasks"}},{path:"/documents/untagged",redirect:{path:"/docs/f/untagged"}},{path:"/documents/daily",redirect:{path:"/notepad"}},{path:"/documents/:id",redirect:t=>({path:`/docs/${t.params.id}`})},{path:"/documents/:id/meta",redirect:t=>({path:`/docs/${t.params.id}/meta`})},{path:"/shared/:id",redirect:t=>({path:`/public/${t.params.id}`})},{path:"/context",redirect:{path:"/contexts"}},{path:"/tags/:tag",redirect:t=>({path:`/docs/t/${t.params.tag}`})},{path:"/graph",redirect:{path:"/force-graph"}}]}]});Xm.beforeEach(t=>{var e;return t.meta.title&&V5(t.meta.title),t.meta.track&&((e=window.fathom)==null||e.trackPageview()),!0});const K5=t=>{var e;(e=t.params)!=null&&e.props&&(t.params.props=JSON.stringify(t.params.props)),Xm.push(t)};function Y_(t){return typeof t!="object"||t===null?0:Array.isArray(t)?2:H5(t)?1:t instanceof Set?3:t instanceof Map?4:5}function z5(t){const e=new Set;for(const n of t)for(const r of[...Object.keys(n),...Object.getOwnPropertySymbols(n)])e.add(r);return e}function W5(t,e){return typeof t=="object"&&Object.prototype.propertyIsEnumerable.call(t,e)}function hO(t){return{*[Symbol.iterator](){for(const e of t)for(const n of e)yield n}}}const X_=new Set(["[object Object]","[object Module]"]);function H5(t){if(!X_.has(Object.prototype.toString.call(t)))return!1;const{constructor:e}=t;if(e===void 0)return!0;const n=e.prototype;return!(n===null||typeof n!="object"||!X_.has(Object.prototype.toString.call(n))||!n.hasOwnProperty("isPrototypeOf"))}const Xf={mergeMaps:i7,mergeSets:r7,mergeArrays:n7,mergeRecords:t7,mergeOthers:dO},Ri={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};function q5(t,e){return e}function G5(...t){return Y5({})(...t)}function Y5(t,e){const n=X5(t,r);function r(...i){return fO(i,n,e)}return r}function X5(t,e){var n,r;return{defaultMergeFunctions:Xf,mergeFunctions:{...Xf,...Object.fromEntries(Object.entries(t).filter(([i,s])=>Object.prototype.hasOwnProperty.call(Xf,i)).map(([i,s])=>s===!1?[i,dO]:[i,s]))},metaDataUpdater:(n=t.metaDataUpdater)!==null&&n!==void 0?n:q5,deepmerge:e,useImplicitDefaultMerging:(r=t.enableImplicitDefaultMerging)!==null&&r!==void 0?r:!1,actions:Ri}}function fO(t,e,n){if(t.length===0)return;if(t.length===1)return Qf(t,e,n);const r=Y_(t[0]);if(r!==0&&r!==5){for(let i=1;i<t.length;i++)if(Y_(t[i])!==r)return Qf(t,e,n)}switch(r){case 1:return Q5(t,e,n);case 2:return J5(t,e,n);case 3:return Z5(t,e,n);case 4:return e7(t,e,n);default:return Qf(t,e,n)}}function Q5(t,e,n){const r=e.mergeFunctions.mergeRecords(t,e,n);return r===Ri.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeRecords!==e.defaultMergeFunctions.mergeRecords?e.defaultMergeFunctions.mergeRecords(t,e,n):r}function J5(t,e,n){const r=e.mergeFunctions.mergeArrays(t,e,n);return r===Ri.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeArrays!==e.defaultMergeFunctions.mergeArrays?e.defaultMergeFunctions.mergeArrays(t):r}function Z5(t,e,n){const r=e.mergeFunctions.mergeSets(t,e,n);return r===Ri.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeSets!==e.defaultMergeFunctions.mergeSets?e.defaultMergeFunctions.mergeSets(t):r}function e7(t,e,n){const r=e.mergeFunctions.mergeMaps(t,e,n);return r===Ri.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeMaps!==e.defaultMergeFunctions.mergeMaps?e.defaultMergeFunctions.mergeMaps(t):r}function Qf(t,e,n){const r=e.mergeFunctions.mergeOthers(t,e,n);return r===Ri.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeOthers!==e.defaultMergeFunctions.mergeOthers?e.defaultMergeFunctions.mergeOthers(t):r}function t7(t,e,n){const r={};for(const i of z5(t)){const s=[];for(const c of t)W5(c,i)&&s.push(c[i]);if(s.length===0)continue;const o=e.metaDataUpdater(n,{key:i,parents:t}),a=fO(s,e,o);a!==Ri.skip&&(i==="__proto__"?Object.defineProperty(r,i,{value:a,configurable:!0,enumerable:!0,writable:!0}):r[i]=a)}return r}function n7(t){return t.flat()}function r7(t){return new Set(hO(t))}function i7(t){return new Map(hO(t))}function dO(t){return t[t.length-1]}const s7=async({options:{caching:t},store:e})=>{if(!t)return;t===!0&&(t={});const{actions:n=!1,mutations:r=!0,namespace:i=e.$id,hydrate:s=async c=>{const u=await c.getItem(i);u&&(e.$state=G5(e.$state,u))},persist:o=async c=>{await c.setItem(i,Xs(e.$state))}}=t,a=_h.createInstance({name:i});await s(a),r?e.$subscribe((c,u)=>{o(a)},{detached:!0}):n&&e.$onAction(c=>{o(a)},!0)};try{self["workbox:window:6.5.2"]&&_()}catch{}function Q_(t,e){return new Promise(function(n){var r=new MessageChannel;r.port1.onmessage=function(i){n(i.data)},t.postMessage(e,[r.port2])})}function o7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a7(t,e){var n;if(typeof Symbol=="undefined"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=function(i,s){if(i){if(typeof i=="string")return J_(i,s);var o=Object.prototype.toString.call(i).slice(8,-1);return o==="Object"&&i.constructor&&(o=i.constructor.name),o==="Map"||o==="Set"?Array.from(i):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?J_(i,s):void 0}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=t[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.2"]&&_()}catch{}var Jf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function Zf(t,e){var n=location.href;return new URL(t,n).href===new URL(e,n).href}var uo=function(t,e){this.type=t,Object.assign(this,e)};function Hc(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function c7(){}var u7={type:"SKIP_WAITING"};function Z_(t,e){if(!e)return t&&t.then?t.then(c7):Promise.resolve()}var l7=function(t){var e,n;function r(a,c){var u,l;return c===void 0&&(c={}),(u=t.call(this)||this).nn={},u.tn=0,u.rn=new Jf,u.en=new Jf,u.on=new Jf,u.un=0,u.an=new Set,u.cn=function(){var h=u.fn,f=h.installing;u.tn>0||!Zf(f.scriptURL,u.sn.toString())||performance.now()>u.un+6e4?(u.vn=f,h.removeEventListener("updatefound",u.cn)):(u.hn=f,u.an.add(f),u.rn.resolve(f)),++u.tn,f.addEventListener("statechange",u.ln)},u.ln=function(h){var f=u.fn,d=h.target,v=d.state,O=d===u.vn,I={sw:d,isExternal:O,originalEvent:h};!O&&u.mn&&(I.isUpdate=!0),u.dispatchEvent(new uo(v,I)),v==="installed"?u.wn=self.setTimeout(function(){v==="installed"&&f.waiting===d&&u.dispatchEvent(new uo("waiting",I))},200):v==="activating"&&(clearTimeout(u.wn),O||u.en.resolve(d))},u.dn=function(h){var f=u.hn,d=f!==navigator.serviceWorker.controller;u.dispatchEvent(new uo("controlling",{isExternal:d,originalEvent:h,sw:f,isUpdate:u.mn})),d||u.on.resolve(f)},u.gn=(l=function(h){var f=h.data,d=h.ports,v=h.source;return Hc(u.getSW(),function(){u.an.has(v)&&u.dispatchEvent(new uo("message",{data:f,originalEvent:h,ports:d,sw:v}))})},function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];try{return Promise.resolve(l.apply(this,h))}catch(d){return Promise.reject(d)}}),u.sn=a,u.nn=c,navigator.serviceWorker.addEventListener("message",u.gn),u}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i,s,o=r.prototype;return o.register=function(a){var c=(a===void 0?{}:a).immediate,u=c!==void 0&&c;try{var l=this;return function(h,f){var d=h();return d&&d.then?d.then(f):f(d)}(function(){if(!u&&document.readyState!=="complete")return Z_(new Promise(function(h){return window.addEventListener("load",h)}))},function(){return l.mn=Boolean(navigator.serviceWorker.controller),l.yn=l.pn(),Hc(l.bn(),function(h){l.fn=h,l.yn&&(l.hn=l.yn,l.en.resolve(l.yn),l.on.resolve(l.yn),l.yn.addEventListener("statechange",l.ln,{once:!0}));var f=l.fn.waiting;return f&&Zf(f.scriptURL,l.sn.toString())&&(l.hn=f,Promise.resolve().then(function(){l.dispatchEvent(new uo("waiting",{sw:f,wasWaitingBeforeRegister:!0}))}).then(function(){})),l.hn&&(l.rn.resolve(l.hn),l.an.add(l.hn)),l.fn.addEventListener("updatefound",l.cn),navigator.serviceWorker.addEventListener("controllerchange",l.dn),l.fn})})}catch(h){return Promise.reject(h)}},o.update=function(){try{return this.fn?Z_(this.fn.update()):void 0}catch(a){return Promise.reject(a)}},o.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},o.messageSW=function(a){try{return Hc(this.getSW(),function(c){return Q_(c,a)})}catch(c){return Promise.reject(c)}},o.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Q_(this.fn.waiting,u7)},o.pn=function(){var a=navigator.serviceWorker.controller;return a&&Zf(a.scriptURL,this.sn.toString())?a:void 0},o.bn=function(){try{var a=this;return function(c,u){try{var l=c()}catch(h){return u(h)}return l&&l.then?l.then(void 0,u):l}(function(){return Hc(navigator.serviceWorker.register(a.sn,a.nn),function(c){return a.un=performance.now(),c})},function(c){throw c})}catch(c){return Promise.reject(c)}},i=r,(s=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&o7(i.prototype,s),r}(function(){function t(){this.Pn=new Map}var e=t.prototype;return e.addEventListener=function(n,r){this.Sn(n).add(r)},e.removeEventListener=function(n,r){this.Sn(n).delete(r)},e.dispatchEvent=function(n){n.target=this;for(var r,i=a7(this.Sn(n.type));!(r=i()).done;)(0,r.value)(n)},e.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},t}());function h7(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisterError:s}=t;let o;const a=async(c=!0)=>{};return"serviceWorker"in navigator&&(o=new l7("/sw.js",{scope:"/",type:"classic"}),o.addEventListener("activated",c=>{c.isUpdate?window.location.reload():r==null||r()}),o.register({immediate:e}).then(c=>{i==null||i(c)}).catch(c=>{s==null||s(c)})),a}h7({immediate:!0,onOfflineReady(){},onNeedRefresh(){window.dispatchEvent(new Event("swupdated"))},onRegistered(t){},onRegisterError(t){}});class f7{constructor(){this.components=new Set}registerComponent({component:e,container:n,position:r}){this.components.add({component:e,container:n,position:r})}}class d7{constructor(){this.packages=new Set,this.components=new Set}emit(e,n){this.packages.forEach(r=>r.emit(e,n))}getComponents(e,n){return[...this.components].filter(r=>r.container===e&&r.position===n).map(({component:r})=>r)}register(e){const n=new f7;e.register(n),n.components.forEach(r=>this.components.add(r)),this.packages.add(e)}}var p7=new d7;WG();localStorage.getItem("octo/welcome/v1")===null&&ft.dispatch(as,!0);window.addEventListener("offline",()=>{ft.dispatch(Fo)});window.addEventListener("online",()=>{ft.dispatch(Bo)});navigator.onLine||ft.dispatch(Fo);/Mac|iPod|iPhone|iPad/.test(navigator.platform||navigator.userAgentData.platform)&&ft.dispatch(du,"\u2318 cmd");const jr=AD({render:()=>Bp(I6),setup(){const t=Wv("email",""),e=Wv("user",{id:void 0,providers:[],roles:[]},void 0,{mergeDefaults:!0});Zi("email",t),Zi("user",e),al.supportsFirebase&&Jp().onIdTokenChanged(async n=>{if(n){e.value={...e.value,id:n.uid,providers:[...n.providerData]},ft.commit(Zr,n);const r=await n.getIdTokenResult(!0);r.claims.ambassador&&!e.value.roles.includes("ambassador")&&(e.value={...e.value,roles:[...e.value.roles,"ambassador"]},ft.commit(pu,{pro:!0})),r.claims.stripeRole==="subscriber"&&!e.value.roles.includes("subscriber")&&(e.value={...e.value,roles:[...e.value.roles,"subscriber"]},ft.commit(pu,{pro:!0}))}else e.value={id:void 0,providers:[],roles:[]},ft.commit(Zr,null),ft.commit(pu,{pro:!1})})}}),pO=NN();pO.use(s7);jr.config.globalProperties.$packageManager=p7;jr.use(pO);jr.use(Xm);jr.use(ft);jr.component("Extendable",pM);jr.component("SimpleBar",v6);jr.use(hM,{breakpoints:{xs:0,sm:577,md:769,lg:993,xl:1201}});jr.mount("#app");export{Uo as $,A7 as A,cn as B,L7 as C,B7 as D,O7 as E,R7 as F,D7 as G,k7 as H,dr as I,fr as J,q7 as K,Xe as L,K5 as M,b9 as N,Fc as O,Jt as P,yv as Q,S7 as R,Wf as S,pr as T,W7 as U,H7 as V,Gi as W,d9 as X,$o as Y,Lo as Z,Zp as _,qt as a,qf as a0,P7 as a1,w7 as a2,x7 as a3,g9 as a4,T7 as a5,jR as a6,Ea as a7,Mo as a8,mr as a9,rO as aA,iO as aB,sO as aC,y5 as aD,oO as aE,Eu as aF,aO as aG,bu as aH,cO as aI,_u as aJ,vu as aK,mu as aL,jo as aM,A9 as aN,T9 as aO,uO as aP,it as aQ,wu as aR,yD as aS,xb as aT,G7 as aa,Z1 as ab,V5 as ac,os as ad,Ge as ae,N7 as af,$7 as ag,BG as ah,M7 as ai,z7 as aj,j7 as ak,K7 as al,V7 as am,_t as an,fc as ao,U7 as ap,yp as aq,No as ar,KE as as,vD as at,E7 as au,Ym as av,b7 as aw,z1 as ax,V1 as ay,yu as az,ct as b,_o as c,ls as d,BR as e,UR as f,al as g,y7 as h,Ia as i,_7 as j,Nb as k,Zt as l,I7 as m,ll as n,mn as o,v7 as p,F7 as q,gv as r,Nr as s,m7 as t,Er as u,Mv as v,ZC as w,qn as x,C7 as y,Jp as z};
