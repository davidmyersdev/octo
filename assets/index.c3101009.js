const ND=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}};ND();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},$D=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],a=e[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},HE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,a=o?e[s+1]:0,u=s+2<e.length,c=u?e[s+2]:0,l=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;u||(p=64,o||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(zE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):$D(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw Error();const f=i<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},LD=function(e){const t=zE(e);return HE.encodeByteArray(t,!0)},Fl=function(e){return LD(e).replace(/\./g,"")},FD=function(e){try{return HE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Fl(JSON.stringify(n)),Fl(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GE(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function KE(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function qE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UD(){return Lt().indexOf("Electron/")>=0}function XE(){const e=Lt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function jD(){return Lt().indexOf("MSAppHost/")>=0}function VD(){return typeof indexedDB=="object"}function WD(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="FirebaseError";class Os extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=zD,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?HD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Os(s,a,r)}}function HD(e,t){return e.replace(YD,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const YD=/\{\$([^}]+)}/g;function GD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Qa(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(s0(i)&&s0(o)){if(!Qa(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function s0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function KD(e,t){const n=new qD(e,t);return n.subscribe.bind(n)}class qD{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XD(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=ed),s.error===void 0&&(s.error=ed),s.complete===void 0&&(s.complete=ed);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XD(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function ed(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(e){return e&&e._delegate?e._delegate:e}class ws{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new BD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ZD(t))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=Us){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Us){return this.instances.has(t)}getOptions(t=Us){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&t(o,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JD(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Us){return this.component?this.component.multipleInstances?t:Us:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JD(e){return e===Us?void 0:e}function ZD(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new QD(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ye||(Ye={}));const tx={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},nx=Ye.INFO,rx={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},sx=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=rx[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rg{constructor(t){this.name=t,this._logLevel=nx,this._logHandler=sx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ye))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...t),this._logHandler(this,Ye.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...t),this._logHandler(this,Ye.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...t),this._logHandler(this,Ye.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...t),this._logHandler(this,Ye.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...t),this._logHandler(this,Ye.ERROR,...t)}}const ix=(e,t)=>t.some(n=>e instanceof n);let i0,o0;function ox(){return i0||(i0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ax(){return o0||(o0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QE=new WeakMap,xp=new WeakMap,JE=new WeakMap,td=new WeakMap,sg=new WeakMap;function ux(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(fs(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&QE.set(n,e)}).catch(()=>{}),sg.set(t,e),t}function cx(e){if(xp.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});xp.set(e,t)}let Rp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return xp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||JE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function lx(e){Rp=e(Rp)}function hx(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(nd(this),t,...n);return JE.set(r,t.sort?t.sort():[t]),fs(r)}:ax().includes(e)?function(...t){return e.apply(nd(this),t),fs(QE.get(this))}:function(...t){return fs(e.apply(nd(this),t))}}function fx(e){return typeof e=="function"?hx(e):(e instanceof IDBTransaction&&cx(e),ix(e,ox())?new Proxy(e,Rp):e)}function fs(e){if(e instanceof IDBRequest)return ux(e);if(td.has(e))return td.get(e);const t=fx(e);return t!==e&&(td.set(e,t),sg.set(t,e)),t}const nd=e=>sg.get(e);function dx(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),a=fs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(fs(o.result),u.oldVersion,u.newVersion,fs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const px=["get","getKey","getAll","getAllKeys","count"],mx=["put","add","delete","clear"],rd=new Map;function a0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(rd.get(t))return rd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=mx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||px.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return rd.set(t,i),i}lx(e=>({...e,get:(t,n,r)=>a0(t,n)||e.get(t,n,r),has:(t,n)=>!!a0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vx(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Mp="@firebase/app",u0="0.7.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=new rg("@firebase/app"),yx="@firebase/app-compat",_x="@firebase/analytics-compat",wx="@firebase/analytics",bx="@firebase/app-check-compat",Ex="@firebase/app-check",Sx="@firebase/auth",Tx="@firebase/auth-compat",Ix="@firebase/database",Ax="@firebase/database-compat",Cx="@firebase/functions",Ox="@firebase/functions-compat",kx="@firebase/installations",Dx="@firebase/installations-compat",xx="@firebase/messaging",Rx="@firebase/messaging-compat",Mx="@firebase/performance",Px="@firebase/performance-compat",Nx="@firebase/remote-config",$x="@firebase/remote-config-compat",Lx="@firebase/storage",Fx="@firebase/storage-compat",Bx="@firebase/firestore",Ux="@firebase/firestore-compat",jx="firebase",Vx="9.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="[DEFAULT]",Wx={[Mp]:"fire-core",[yx]:"fire-core-compat",[wx]:"fire-analytics",[_x]:"fire-analytics-compat",[Ex]:"fire-app-check",[bx]:"fire-app-check-compat",[Sx]:"fire-auth",[Tx]:"fire-auth-compat",[Ix]:"fire-rtdb",[Ax]:"fire-rtdb-compat",[Cx]:"fire-fn",[Ox]:"fire-fn-compat",[kx]:"fire-iid",[Dx]:"fire-iid-compat",[xx]:"fire-fcm",[Rx]:"fire-fcm-compat",[Mx]:"fire-perf",[Px]:"fire-perf-compat",[Nx]:"fire-rc",[$x]:"fire-rc-compat",[Lx]:"fire-gcs",[Fx]:"fire-gcs-compat",[Bx]:"fire-fst",[Ux]:"fire-fst-compat","fire-js":"fire-js",[jx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new Map,Pp=new Map;function zx(e,t){try{e.container.addComponent(t)}catch(n){ig.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ii(e){const t=e.name;if(Pp.has(t))return ig.debug(`There were multiple attempts to register component ${t}.`),!1;Pp.set(t,e);for(const n of Bl.values())zx(n,e);return!0}function Pu(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},oi=new Ru("app","Firebase",Hx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=Vx;function Gx(e,t={}){typeof t!="object"&&(t={name:t});const n=Object.assign({name:ZE,automaticDataCollectionEnabled:!1},t),r=n.name;if(typeof r!="string"||!r)throw oi.create("bad-app-name",{appName:String(r)});const s=Bl.get(r);if(s){if(Qa(e,s.options)&&Qa(n,s.config))return s;throw oi.create("duplicate-app",{appName:r})}const i=new ex(r);for(const a of Pp.values())i.addComponent(a);const o=new Yx(e,n,i);return Bl.set(r,o),o}function og(e=ZE){const t=Bl.get(e);if(!t)throw oi.create("no-app",{appName:e});return t}function hr(e,t,n){var r;let s=(r=Wx[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${t}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ig.warn(a.join(" "));return}ii(new ws(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="firebase-heartbeat-database",qx=1,Ja="firebase-heartbeat-store";let sd=null;function e1(){return sd||(sd=dx(Kx,qx,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ja)}}}).catch(e=>{throw oi.create("storage-open",{originalErrorMessage:e.message})})),sd}async function Xx(e){var t;try{return(await e1()).transaction(Ja).objectStore(Ja).get(t1(e))}catch(n){throw oi.create("storage-get",{originalErrorMessage:(t=n)===null||t===void 0?void 0:t.message})}}async function c0(e,t){var n;try{const s=(await e1()).transaction(Ja,"readwrite");return await s.objectStore(Ja).put(t,t1(e)),s.done}catch(r){throw oi.create("storage-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message})}}function t1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=1024,Jx=30*24*60*60*1e3;class Zx{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=l0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=Jx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=l0(),{heartbeatsToSend:n,unsentEntries:r}=eR(this._heartbeatsCache.heartbeats),s=Fl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function l0(){return new Date().toISOString().substring(0,10)}function eR(e,t=Qx){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),h0(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),h0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VD()?WD().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Xx(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return c0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return c0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function h0(e){return Fl(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(e){ii(new ws("platform-logger",t=>new gx(t),"PRIVATE")),ii(new ws("heartbeat",t=>new Zx(t),"PRIVATE")),hr(Mp,u0,e),hr(Mp,u0,"esm2017"),hr("fire-js","")}nR("");function ag(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function n1(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rR=n1,r1=new Ru("auth","Firebase",n1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new rg("@firebase/auth");function ol(e,...t){f0.logLevel<=Ye.ERROR&&f0.error(`Auth (${xo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(e,...t){throw ug(e,...t)}function fr(e,...t){return ug(e,...t)}function s1(e,t,n){const r=Object.assign(Object.assign({},rR()),{[t]:n});return new Ru("auth","Firebase",r).create(t,{appName:e.name})}function sR(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&mr(e,"argument-error"),s1(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ug(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return r1.create(e,...t)}function ve(e,t,...n){if(!e)throw ug(t,...n)}function xr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ol(t),new Error(t)}function Ur(e,t){e||xr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=new Map;function Rr(e){Ur(e instanceof Function,"Expected a class definition");let t=d0.get(e);return t?(Ur(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,d0.set(e,t),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(e,t){const n=Pu(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Qa(i,t!=null?t:{}))return s;mr(s,"already-initialized")}return n.initialize({options:t})}function oR(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(){var e;return typeof self!="undefined"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function aR(){return p0()==="http:"||p0()==="https:"}function p0(){var e;return typeof self!="undefined"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aR()||KE()||"connection"in navigator)?navigator.onLine:!0}function cR(){if(typeof navigator=="undefined")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ur(n>t,"Short delay should be less than long delay!"),this.isMobile=GE()||qE()}get(){return uR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(e,t){Ur(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=new Nu(3e4,6e4);function fR(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Oh(e,t,n,r,s={}){return o1(e,s,async()=>{let i={},o={};r&&(t==="GET"?o=r:i={body:JSON.stringify(r)});const a=Mu(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),i1.fetch()(a1(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},i))})}async function o1(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},lR),t);try{const s=new pR(e),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw vc(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw vc(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw vc(e,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw s1(e,l,c);mr(e,l)}}catch(s){if(s instanceof Os)throw s;mr(e,"network-request-failed")}}async function dR(e,t,n,r,s={}){const i=await Oh(e,t,n,r,s);return"mfaPendingCredential"in i&&mr(e,"multi-factor-auth-required",{_serverResponse:i}),i}function a1(e,t,n,r){const s=`${t}${n}?${r}`;return e.config.emulator?cg(e.config,s):`${e.config.apiScheme}://${s}`}class pR{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fr(this.auth,"network-request-failed")),hR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vc(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=fr(e,t,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(e,t){return Oh(e,"POST","/v1/accounts:delete",t)}async function gR(e,t){return Oh(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(e){if(!!e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vR(e,t=!1){const n=zt(e),r=await n.getIdToken(t),s=lg(r);ve(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ea(id(s.auth_time)),issuedAtTime:Ea(id(s.iat)),expirationTime:Ea(id(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function id(e){return Number(e)*1e3}function lg(e){var t;const[n,r,s]=e.split(".");if(n===void 0||r===void 0||s===void 0)return ol("JWT malformed, contained fewer than 3 sections"),null;try{const i=FD(r);return i?JSON.parse(i):(ol("Failed to decode base64 JWT payload"),null)}catch(i){return ol("Caught error parsing JWT payload as JSON",(t=i)===null||t===void 0?void 0:t.toString()),null}}function yR(e){const t=lg(e);return ve(t,"internal-error"),ve(typeof t.exp!="undefined","internal-error"),ve(typeof t.iat!="undefined","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Os&&_R(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function _R({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var t;try{await this.user.getIdToken(!0)}catch(n){((t=n)===null||t===void 0?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ea(this.lastLoginAt),this.creationTime=Ea(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(e){var t;const n=e.auth,r=await e.getIdToken(),s=await Za(e,gR(n,{idToken:r}));ve(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const o=!((t=i.providerUserInfo)===null||t===void 0)&&t.length?SR(i.providerUserInfo):[],a=ER(e.providerData,o),u=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(a!=null&&a.length),l=u?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new u1(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(e,h)}async function bR(e){const t=zt(e);await Ul(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ER(e,t){return[...e.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function SR(e){return e.map(t=>{var{providerId:n}=t,r=ag(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(e,t){const n=await o1(e,{},async()=>{const r=Mu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=e.config,o=a1(e,s,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",i1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ve(t.idToken,"internal-error"),ve(typeof t.idToken!="undefined","internal-error"),ve(typeof t.refreshToken!="undefined","internal-error");const n="expiresIn"in t&&typeof t.expiresIn!="undefined"?Number(t.expiresIn):yR(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return ve(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await TR(t,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new eu;return r&&(ve(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),s&&(ve(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),i&&(ve(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new eu,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(e,t){ve(typeof e=="string"||typeof e=="undefined","internal-error",{appName:t})}class Ks{constructor(t){var{uid:n,auth:r,stsTokenManager:s}=t,i=ag(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new u1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await Za(this,this.stsTokenManager.getToken(this.auth,t));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return vR(this,t)}reload(){return bR(this)}_assign(t){this!==t&&(ve(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new Ks(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Ul(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Za(this,mR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,s,i,o,a,u,c,l;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,O=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,A=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:H,emailVerified:V,isAnonymous:R,providerData:M,stsTokenManager:w}=n;ve(H&&w,t,"internal-error");const C=eu.fromJSON(this.name,w);ve(typeof H=="string",t,"internal-error"),Qr(h,t.name),Qr(f,t.name),ve(typeof V=="boolean",t,"internal-error"),ve(typeof R=="boolean",t,"internal-error"),Qr(p,t.name),Qr(v,t.name),Qr(O,t.name),Qr(E,t.name),Qr(A,t.name),Qr(x,t.name);const X=new Ks({uid:H,auth:t,email:f,emailVerified:V,displayName:h,isAnonymous:R,photoURL:v,phoneNumber:p,tenantId:O,stsTokenManager:C,createdAt:A,lastLoginAt:x});return M&&Array.isArray(M)&&(X.providerData=M.map(de=>Object.assign({},de))),E&&(X._redirectEventId=E),X}static async _fromIdTokenResponse(t,n,r=!1){const s=new eu;s.updateFromServerResponse(n);const i=new Ks({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await Ul(i),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}c1.type="NONE";const m0=c1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(e,t,n){return`firebase:${e}:${t}:${n}`}class Ji{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=al(this.userKey,s.apiKey,i),this.fullPersistenceKey=al("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ks._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Ji(Rr(m0),t,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Rr(m0);const o=al(r,t.config.apiKey,t.name);let a=null;for(const c of n)try{const l=await c._get(o);if(l){const h=Ks._fromJSON(t,l);c!==i&&(a=h),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Ji(i,t,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ji(i,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(f1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(l1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(p1(t))return"Blackberry";if(m1(t))return"Webos";if(hg(t))return"Safari";if((t.includes("chrome/")||h1(t))&&!t.includes("edge/"))return"Chrome";if(d1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function l1(e=Lt()){return/firefox\//i.test(e)}function hg(e=Lt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function h1(e=Lt()){return/crios\//i.test(e)}function f1(e=Lt()){return/iemobile/i.test(e)}function d1(e=Lt()){return/android/i.test(e)}function p1(e=Lt()){return/blackberry/i.test(e)}function m1(e=Lt()){return/webos/i.test(e)}function kh(e=Lt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function IR(e=Lt()){var t;return kh(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function AR(){return XE()&&document.documentMode===10}function g1(e=Lt()){return kh(e)||d1(e)||m1(e)||p1(e)||/windows phone/i.test(e)||f1(e)}function CR(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(e,t=[]){let n;switch(e){case"Browser":n=g0(Lt());break;case"Worker":n=`${g0(Lt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=i=>new Promise((o,a)=>{try{const u=t(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){var n;if(this.auth.currentUser===t)return;const r=[];try{for(const s of this.queue)await s(t),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=s)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t,n,r){this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v0(this),this.idTokenSubscription=new v0(this),this.beforeStateQueue=new OR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=r1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ji.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u==null?void 0:u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){var n;try{await Ul(t)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=cR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?zt(t):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ve(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ru("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Rr(t)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Ji.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ve(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?t.addObserver(n,r,s):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=v1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function $u(e){return zt(e)}class v0{constructor(t){this.auth=t,this.observer=null,this.addObserver=KD(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function DR(e,t,n){const r=$u(e);ve(r._canInitEmulator,r,"emulator-config-failed"),ve(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=y1(t),{host:o,port:a}=xR(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||RR()}function y1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xR(e){const t=y1(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:y0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:y0(o)}}}function y0(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function RR(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(t){return xr("not implemented")}_linkToIdToken(t,n){return xr("not implemented")}_getReauthenticationResolver(t){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zi(e,t){return dR(e,"POST","/v1/accounts:signInWithIdp",fR(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="http://localhost";class ai extends _1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ai(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s}=n,i=ag(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ai(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Zi(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Zi(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Zi(t,n)}buildRequest(){const t={requestUri:MR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Mu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends fg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Lu{constructor(){super("facebook.com")}static credential(t){return ai._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return os.credentialFromTaggedObject(t)}static credentialFromError(t){return os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return os.credential(t.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ai._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return or.credential(n,r)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Lu{constructor(){super("github.com")}static credential(t){return ai._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ar.credential(t.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Lu{constructor(){super("twitter.com")}static credential(t,n){return ai._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,s=!1){const i=await Ks._fromIdTokenResponse(t,r,s),o=_0(r);return new ho({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const s=_0(r);return new ho({user:t,providerId:s,_tokenResponse:r,operationType:n})}}function _0(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Os{constructor(t,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,jl.prototype),this.customData={appName:t.name,tenantId:(i=t.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,s){return new jl(t,n,r,s)}}function w1(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?jl._fromErrorAndOperation(e,i,t,r):i})}async function PR(e,t,n=!1){const r=await Za(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ho._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(e,t,n=!1){var r;const{auth:s}=e,i="reauthenticate";try{const o=await Za(e,w1(s,i,t,e),n);ve(o.idToken,s,"internal-error");const a=lg(o.idToken);ve(a,s,"internal-error");const{sub:u}=a;return ve(e.uid===u,s,"user-mismatch"),ho._forOperation(e,i,o)}catch(o){throw((r=o)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&mr(s,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(e,t,n=!1){const r="signIn",s=await w1(e,r,t),i=await ho._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}const Vl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vl,"1"),this.storage.removeItem(Vl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(){const e=Lt();return hg(e)||kh(e)}const FR=1e3,BR=10;class E1 extends b1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=LR()&&CR(),this.fallbackToPolling=g1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&t(n,s,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);AR()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,BR):s()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},FR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}E1.type="LOCAL";const UR=E1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends b1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}S1.type="SESSION";const T1=S1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(e){return Promise.all(e.map(async t=>{try{const n=await t;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const r=new Dh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),u=await jR(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const s=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const c=dg("",20);s.port1.start();const l=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(l),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(l),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function WR(e){dr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){return typeof dr().WorkerGlobalScope!="undefined"&&typeof dr().importScripts=="function"}async function zR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HR(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function YR(){return I1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="firebaseLocalStorageDb",GR=1,Wl="firebaseLocalStorage",C1="fbase_key";class Fu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xh(e,t){return e.transaction([Wl],t?"readwrite":"readonly").objectStore(Wl)}function KR(){const e=indexedDB.deleteDatabase(A1);return new Fu(e).toPromise()}function $p(){const e=indexedDB.open(A1,GR);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Wl,{keyPath:C1})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Wl)?t(r):(r.close(),await KR(),t(await $p()))})})}async function w0(e,t,n){const r=xh(e,!0).put({[C1]:t,value:n});return new Fu(r).toPromise()}async function qR(e,t){const n=xh(e,!1).get(t),r=await new Fu(n).toPromise();return r===void 0?null:r.value}function b0(e,t){const n=xh(e,!0).delete(t);return new Fu(n).toPromise()}const XR=800,QR=3;class O1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $p(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>QR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return I1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(YR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await zR(),!this.activeServiceWorker)return;this.sender=new VR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((t=r[0])===null||t===void 0?void 0:t.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||HR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $p();return await w0(t,Vl,"1"),await b0(t,Vl),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>w0(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>qR(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>b0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=xh(s,!1).getAll();return new Fu(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O1.type="LOCAL";const JR=O1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function eM(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=s=>{const i=fr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",ZR().appendChild(r)})}function tM(e){return`__${e}${Math.floor(Math.random()*1e6)}`}new Nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(e,t){return t?Rr(t):(ve(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg extends _1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Zi(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Zi(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Zi(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function nM(e){return $R(e.auth,new pg(e),e.bypassAuthState)}function rM(e){const{auth:t,user:n}=e;return ve(n,t,"internal-error"),NR(n,new pg(e),e.bypassAuthState)}async function sM(e){const{auth:t,user:n}=e;return ve(n,t,"internal-error"),PR(n,new pg(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t,n,r,s,i=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return nM;case"linkViaPopup":case"linkViaRedirect":return sM;case"reauthViaPopup":case"reauthViaRedirect":return rM;default:mr(this.auth,"internal-error")}}resolve(t){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=new Nu(2e3,1e4);class Wi extends D1{constructor(t,n,r,s,i){super(t,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Wi.currentPopupAction&&Wi.currentPopupAction.cancel(),Wi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ve(t,this.auth,"internal-error"),t}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const t=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wi.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(t,iM.get())};t()}}Wi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="pendingRedirect",ul=new Map;class aM extends D1{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=ul.get(this.auth._key());if(!t){try{const r=await uM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}ul.set(this.auth._key(),t)}return this.bypassAuthState||ul.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uM(e,t){const n=R1(t),r=x1(e);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function cM(e,t){return x1(e)._set(R1(t),"true")}function lM(e,t){ul.set(e._key(),t)}function x1(e){return Rr(e._redirectPersistence)}function R1(e){return al(oM,e.config.apiKey,e.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(e,t,n){return hM(e,t,n)}async function hM(e,t,n){const r=$u(e);sR(e,t,fg);const s=k1(r,n);return await cM(s,r),s._openRedirect(r,t,"signInViaRedirect")}async function fM(e,t){return await $u(e)._initializationPromise,M1(e,t,!1)}async function M1(e,t,n=!1){const r=$u(e),s=k1(r,t),o=await new aM(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=10*60*1e3;class pM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mM(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!P1(t)){const s=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fr(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=dM&&this.cachedEventUids.clear(),this.cachedEventUids.has(E0(t))}saveEventToCache(t){this.cachedEventUids.add(E0(t)),this.lastProcessedEventTime=Date.now()}}function E0(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function P1({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function mM(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(e,t={}){return Oh(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yM=/^https?/;async function _M(e){if(e.config.emulator)return;const{authorizedDomains:t}=await gM(e);for(const n of t)try{if(wM(n))return}catch{}mr(e,"unauthorized-domain")}function wM(e){const t=Np(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!yM.test(n))return!1;if(vM.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=new Nu(3e4,6e4);function S0(){const e=dr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function EM(e){return new Promise((t,n)=>{var r,s,i;function o(){S0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{S0(),n(fr(e,"network-request-failed"))},timeout:bM.get()})}if(!((s=(r=dr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((i=dr().gapi)===null||i===void 0)&&i.load)o();else{const a=tM("iframefcb");return dr()[a]=()=>{gapi.load?o():n(fr(e,"network-request-failed"))},eM(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw cl=null,t})}let cl=null;function SM(e){return cl=cl||EM(e),cl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new Nu(5e3,15e3),IM="__/auth/iframe",AM="emulator/auth/iframe",CM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kM(e){const t=e.config;ve(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?cg(t,AM):`https://${e.config.authDomain}/${IM}`,r={apiKey:t.apiKey,appName:e.name,v:xo},s=OM.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Mu(r).slice(1)}`}async function DM(e){const t=await SM(e),n=dr().gapi;return ve(n,e,"internal-error"),t.open({where:document.body,url:kM(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CM,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=fr(e,"network-request-failed"),a=dr().setTimeout(()=>{i(o)},TM.get());function u(){dr().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RM=500,MM=600,PM="_blank",NM="http://localhost";class T0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $M(e,t,n,r=RM,s=MM){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},xM),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Lt().toLowerCase();n&&(a=h1(c)?PM:n),l1(c)&&(t=t||NM,u.scrollbars="yes");const l=Object.entries(u).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if(IR(c)&&a!=="_self")return LM(t||"",a),new T0(null);const h=window.open(t||"",a,l);ve(h,e,"popup-blocked");try{h.focus()}catch{}return new T0(h)}function LM(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM="__/auth/handler",BM="emulator/auth/handler";function I0(e,t,n,r,s,i){ve(e.config.authDomain,e,"auth-domain-config-required"),ve(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:xo,eventId:s};if(t instanceof fg){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",GD(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,c]of Object.entries(i||{}))o[u]=c}if(t instanceof Lu){const u=t.getScopes().filter(c=>c!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];return`${UM(e)}?${Mu(a).slice(1)}`}function UM({config:e}){return e.emulator?cg(e,BM):`https://${e.authDomain}/${FM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="webStorageSupport";class jM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T1,this._completeRedirectFn=M1,this._overrideRedirectResult=lM}async _openPopup(t,n,r,s){var i;Ur((i=this.eventManagers[t._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=I0(t,n,r,Np(),s);return $M(t,o,dg())}async _openRedirect(t,n,r,s){return await this._originValidation(t),WR(I0(t,n,r,Np(),s)),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ur(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await DM(t),r=new pM(t);return n.register("authEvent",s=>(ve(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ad,{type:ad},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[ad];o!==void 0&&n(!!o),mr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_M(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return g1()||hg()||kh()}}const VM=jM;var A0="@firebase/auth",C0="0.20.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{var s;t(((s=r)===null||s===void 0?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);!n||(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function HM(e){ii(new ws("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),{apiKey:i,authDomain:o}=r.options;return((a,u)=>{ve(i&&!i.includes(":"),"invalid-api-key",{appName:a.name}),ve(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:i,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v1(e)},l=new kR(a,u,c);return oR(l,n),l})(r,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),ii(new ws("auth-internal",t=>{const n=$u(t.getProvider("auth").getImmediate());return(r=>new WM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(A0,C0,zM(e)),hr(A0,C0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(e=og()){const t=Pu(e,"auth");return t.isInitialized()?t.getImmediate():iR(e,{popupRedirectResolver:VM,persistence:[JR,UR,T1]})}HM("Browser");function mg(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const YM="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",GM=mg(YM);function N1(e){return!!e||e===""}function gg(e){if(me(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=xt(r)?XM(r):gg(r);if(s)for(const i in s)t[i]=s[i]}return t}else{if(xt(e))return e;if(Et(e))return e}}const KM=/;(?![^(]*\))/g,qM=/:(.+)/;function XM(e){const t={};return e.split(KM).forEach(n=>{if(n){const r=n.split(qM);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Rh(e){let t="";if(xt(e))t=e;else if(me(e))for(let n=0;n<e.length;n++){const r=Rh(e[n]);r&&(t+=r+" ")}else if(Et(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function QM(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=fo(e[r],t[r]);return n}function fo(e,t){if(e===t)return!0;let n=k0(e),r=k0(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=tu(e),r=tu(t),n||r)return e===t;if(n=me(e),r=me(t),n||r)return n&&r?QM(e,t):!1;if(n=Et(e),r=Et(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),u=t.hasOwnProperty(o);if(a&&!u||!a&&u||!fo(e[o],t[o]))return!1}}return String(e)===String(t)}function $1(e,t){return e.findIndex(n=>fo(n,t))}const O0=e=>xt(e)?e:e==null?"":me(e)||Et(e)&&(e.toString===B1||!Ie(e.toString))?JSON.stringify(e,L1,2):String(e),L1=(e,t)=>t&&t.__v_isRef?L1(e,t.value):to(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:Ph(t)?{[`Set(${t.size})`]:[...t.values()]}:Et(t)&&!me(t)&&!U1(t)?String(t):t,it={},eo=[],zn=()=>{},JM=()=>!1,ZM=/^on[^a-z]/,Mh=e=>ZM.test(e),vg=e=>e.startsWith("onUpdate:"),hn=Object.assign,yg=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},eP=Object.prototype.hasOwnProperty,je=(e,t)=>eP.call(e,t),me=Array.isArray,to=e=>Bu(e)==="[object Map]",Ph=e=>Bu(e)==="[object Set]",k0=e=>Bu(e)==="[object Date]",Ie=e=>typeof e=="function",xt=e=>typeof e=="string",tu=e=>typeof e=="symbol",Et=e=>e!==null&&typeof e=="object",F1=e=>Et(e)&&Ie(e.then)&&Ie(e.catch),B1=Object.prototype.toString,Bu=e=>B1.call(e),tP=e=>Bu(e).slice(8,-1),U1=e=>Bu(e)==="[object Object]",_g=e=>xt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ll=mg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Nh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},nP=/-(\w)/g,gr=Nh(e=>e.replace(nP,(t,n)=>n?n.toUpperCase():"")),rP=/\B([A-Z])/g,mi=Nh(e=>e.replace(rP,"-$1").toLowerCase()),$h=Nh(e=>e.charAt(0).toUpperCase()+e.slice(1)),ud=Nh(e=>e?`on${$h(e)}`:""),nu=(e,t)=>!Object.is(e,t),hl=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},zl=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Lp=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let D0;const sP=()=>D0||(D0=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let rr;class j1{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&rr&&(this.parent=rr,this.index=(rr.scopes||(rr.scopes=[])).push(this)-1)}run(t){if(this.active){const n=rr;try{return rr=this,t()}finally{rr=n}}}on(){rr=this}off(){rr=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function V1(e){return new j1(e)}function iP(e,t=rr){t&&t.active&&t.effects.push(e)}const wg=e=>{const t=new Set(e);return t.w=0,t.n=0,t},W1=e=>(e.w&bs)>0,z1=e=>(e.n&bs)>0,oP=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=bs},aP=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];W1(s)&&!z1(s)?s.delete(e):t[n++]=s,s.w&=~bs,s.n&=~bs}t.length=n}},Fp=new WeakMap;let ga=0,bs=1;const Bp=30;let jn;const qs=Symbol(""),Up=Symbol("");class bg{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,iP(this,r)}run(){if(!this.active)return this.fn();let t=jn,n=ds;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=jn,jn=this,ds=!0,bs=1<<++ga,ga<=Bp?oP(this):x0(this),this.fn()}finally{ga<=Bp&&aP(this),bs=1<<--ga,jn=this.parent,ds=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){jn===this?this.deferStop=!0:this.active&&(x0(this),this.onStop&&this.onStop(),this.active=!1)}}function x0(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let ds=!0;const H1=[];function Ro(){H1.push(ds),ds=!1}function Mo(){const e=H1.pop();ds=e===void 0?!0:e}function In(e,t,n){if(ds&&jn){let r=Fp.get(e);r||Fp.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=wg()),Y1(s)}}function Y1(e,t){let n=!1;ga<=Bp?z1(e)||(e.n|=bs,n=!W1(e)):n=!e.has(jn),n&&(e.add(jn),jn.deps.push(e))}function jr(e,t,n,r,s,i){const o=Fp.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&me(e))o.forEach((u,c)=>{(c==="length"||c>=r)&&a.push(u)});else switch(n!==void 0&&a.push(o.get(n)),t){case"add":me(e)?_g(n)&&a.push(o.get("length")):(a.push(o.get(qs)),to(e)&&a.push(o.get(Up)));break;case"delete":me(e)||(a.push(o.get(qs)),to(e)&&a.push(o.get(Up)));break;case"set":to(e)&&a.push(o.get(qs));break}if(a.length===1)a[0]&&jp(a[0]);else{const u=[];for(const c of a)c&&u.push(...c);jp(wg(u))}}function jp(e,t){const n=me(e)?e:[...e];for(const r of n)r.computed&&R0(r);for(const r of n)r.computed||R0(r)}function R0(e,t){(e!==jn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const uP=mg("__proto__,__v_isRef,__isVue"),G1=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(tu)),cP=Eg(),lP=Eg(!1,!0),hP=Eg(!0),M0=fP();function fP(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Ge(this);for(let i=0,o=this.length;i<o;i++)In(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(Ge)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Ro();const r=Ge(this)[t].apply(this,n);return Mo(),r}}),e}function Eg(e=!1,t=!1){return function(r,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?OP:J1:t?Q1:X1).get(r))return r;const o=me(r);if(!e&&o&&je(M0,s))return Reflect.get(M0,s,i);const a=Reflect.get(r,s,i);return(tu(s)?G1.has(s):uP(s))||(e||In(r,"get",s),t)?a:yt(a)?o&&_g(s)?a:a.value:Et(a)?e?Ds(a):ks(a):a}}const dP=K1(),pP=K1(!0);function K1(e=!1){return function(n,r,s,i){let o=n[r];if(ru(o)&&yt(o)&&!yt(s))return!1;if(!e&&!ru(s)&&(Vp(s)||(s=Ge(s),o=Ge(o)),!me(n)&&yt(o)&&!yt(s)))return o.value=s,!0;const a=me(n)&&_g(r)?Number(r)<n.length:je(n,r),u=Reflect.set(n,r,s,i);return n===Ge(i)&&(a?nu(s,o)&&jr(n,"set",r,s):jr(n,"add",r,s)),u}}function mP(e,t){const n=je(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&jr(e,"delete",t,void 0),r}function gP(e,t){const n=Reflect.has(e,t);return(!tu(t)||!G1.has(t))&&In(e,"has",t),n}function vP(e){return In(e,"iterate",me(e)?"length":qs),Reflect.ownKeys(e)}const q1={get:cP,set:dP,deleteProperty:mP,has:gP,ownKeys:vP},yP={get:hP,set(e,t){return!0},deleteProperty(e,t){return!0}},_P=hn({},q1,{get:lP,set:pP}),Sg=e=>e,Lh=e=>Reflect.getPrototypeOf(e);function yc(e,t,n=!1,r=!1){e=e.__v_raw;const s=Ge(e),i=Ge(t);n||(t!==i&&In(s,"get",t),In(s,"get",i));const{has:o}=Lh(s),a=r?Sg:n?Ag:su;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function _c(e,t=!1){const n=this.__v_raw,r=Ge(n),s=Ge(e);return t||(e!==s&&In(r,"has",e),In(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function wc(e,t=!1){return e=e.__v_raw,!t&&In(Ge(e),"iterate",qs),Reflect.get(e,"size",e)}function P0(e){e=Ge(e);const t=Ge(this);return Lh(t).has.call(t,e)||(t.add(e),jr(t,"add",e,e)),this}function N0(e,t){t=Ge(t);const n=Ge(this),{has:r,get:s}=Lh(n);let i=r.call(n,e);i||(e=Ge(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?nu(t,o)&&jr(n,"set",e,t):jr(n,"add",e,t),this}function $0(e){const t=Ge(this),{has:n,get:r}=Lh(t);let s=n.call(t,e);s||(e=Ge(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&jr(t,"delete",e,void 0),i}function L0(){const e=Ge(this),t=e.size!==0,n=e.clear();return t&&jr(e,"clear",void 0,void 0),n}function bc(e,t){return function(r,s){const i=this,o=i.__v_raw,a=Ge(o),u=t?Sg:e?Ag:su;return!e&&In(a,"iterate",qs),o.forEach((c,l)=>r.call(s,u(c),u(l),i))}}function Ec(e,t,n){return function(...r){const s=this.__v_raw,i=Ge(s),o=to(i),a=e==="entries"||e===Symbol.iterator&&o,u=e==="keys"&&o,c=s[e](...r),l=n?Sg:t?Ag:su;return!t&&In(i,"iterate",u?Up:qs),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[l(h[0]),l(h[1])]:l(h),done:f}},[Symbol.iterator](){return this}}}}function Jr(e){return function(...t){return e==="delete"?!1:this}}function wP(){const e={get(i){return yc(this,i)},get size(){return wc(this)},has:_c,add:P0,set:N0,delete:$0,clear:L0,forEach:bc(!1,!1)},t={get(i){return yc(this,i,!1,!0)},get size(){return wc(this)},has:_c,add:P0,set:N0,delete:$0,clear:L0,forEach:bc(!1,!0)},n={get(i){return yc(this,i,!0)},get size(){return wc(this,!0)},has(i){return _c.call(this,i,!0)},add:Jr("add"),set:Jr("set"),delete:Jr("delete"),clear:Jr("clear"),forEach:bc(!0,!1)},r={get(i){return yc(this,i,!0,!0)},get size(){return wc(this,!0)},has(i){return _c.call(this,i,!0)},add:Jr("add"),set:Jr("set"),delete:Jr("delete"),clear:Jr("clear"),forEach:bc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Ec(i,!1,!1),n[i]=Ec(i,!0,!1),t[i]=Ec(i,!1,!0),r[i]=Ec(i,!0,!0)}),[e,n,t,r]}const[bP,EP,SP,TP]=wP();function Tg(e,t){const n=t?e?TP:SP:e?EP:bP;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(je(n,s)&&s in r?n:r,s,i)}const IP={get:Tg(!1,!1)},AP={get:Tg(!1,!0)},CP={get:Tg(!0,!1)},X1=new WeakMap,Q1=new WeakMap,J1=new WeakMap,OP=new WeakMap;function kP(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function DP(e){return e.__v_skip||!Object.isExtensible(e)?0:kP(tP(e))}function ks(e){return ru(e)?e:Ig(e,!1,q1,IP,X1)}function xP(e){return Ig(e,!1,_P,AP,Q1)}function Ds(e){return Ig(e,!0,yP,CP,J1)}function Ig(e,t,n,r,s){if(!Et(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=DP(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function ps(e){return ru(e)?ps(e.__v_raw):!!(e&&e.__v_isReactive)}function ru(e){return!!(e&&e.__v_isReadonly)}function Vp(e){return!!(e&&e.__v_isShallow)}function Z1(e){return ps(e)||ru(e)}function Ge(e){const t=e&&e.__v_raw;return t?Ge(t):e}function po(e){return zl(e,"__v_skip",!0),e}const su=e=>Et(e)?ks(e):e,Ag=e=>Et(e)?Ds(e):e;function eS(e){ds&&jn&&(e=Ge(e),Y1(e.dep||(e.dep=wg())))}function tS(e,t){e=Ge(e),e.dep&&jp(e.dep)}function yt(e){return!!(e&&e.__v_isRef===!0)}function Yn(e){return nS(e,!1)}function RP(e){return nS(e,!0)}function nS(e,t){return yt(e)?e:new MP(e,t)}class MP{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ge(t),this._value=n?t:su(t)}get value(){return eS(this),this._value}set value(t){t=this.__v_isShallow?t:Ge(t),nu(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:su(t),tS(this))}}function Xs(e){return yt(e)?e.value:e}const PP={get:(e,t,n)=>Xs(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return yt(s)&&!yt(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function rS(e){return ps(e)?e:new Proxy(e,PP)}function NP(e){const t=me(e)?new Array(e.length):{};for(const n in e)t[n]=LP(e,n);return t}class $P{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function LP(e,t,n){const r=e[t];return yt(r)?r:new $P(e,t,n)}class FP{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new bg(t,()=>{this._dirty||(this._dirty=!0,tS(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=Ge(this);return eS(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function BP(e,t,n=!1){let r,s;const i=Ie(e);return i?(r=e,s=zn):(r=e.get,s=e.set),new FP(r,s,i||!s,n)}function ms(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){Fh(i,t,n)}return s}function Hn(e,t,n,r){if(Ie(e)){const i=ms(e,t,n,r);return i&&F1(i)&&i.catch(o=>{Fh(o,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(Hn(e[i],t,n,r));return s}function Fh(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=n;for(;i;){const c=i.ec;if(c){for(let l=0;l<c.length;l++)if(c[l](e,o,a)===!1)return}i=i.parent}const u=t.appContext.config.errorHandler;if(u){ms(u,null,10,[e,o,a]);return}}UP(e,n,s,r)}function UP(e,t,n,r=!0){console.error(e)}let Hl=!1,Wp=!1;const En=[];let kr=0;const Sa=[];let va=null,Fi=0;const Ta=[];let rs=null,Bi=0;const sS=Promise.resolve();let Cg=null,zp=null;function Og(e){const t=Cg||sS;return e?t.then(this?e.bind(this):e):t}function jP(e){let t=kr+1,n=En.length;for(;t<n;){const r=t+n>>>1;iu(En[r])<e?t=r+1:n=r}return t}function iS(e){(!En.length||!En.includes(e,Hl&&e.allowRecurse?kr+1:kr))&&e!==zp&&(e.id==null?En.push(e):En.splice(jP(e.id),0,e),oS())}function oS(){!Hl&&!Wp&&(Wp=!0,Cg=sS.then(cS))}function VP(e){const t=En.indexOf(e);t>kr&&En.splice(t,1)}function aS(e,t,n,r){me(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?r+1:r))&&n.push(e),oS()}function WP(e){aS(e,va,Sa,Fi)}function zP(e){aS(e,rs,Ta,Bi)}function Bh(e,t=null){if(Sa.length){for(zp=t,va=[...new Set(Sa)],Sa.length=0,Fi=0;Fi<va.length;Fi++)va[Fi]();va=null,Fi=0,zp=null,Bh(e,t)}}function uS(e){if(Bh(),Ta.length){const t=[...new Set(Ta)];if(Ta.length=0,rs){rs.push(...t);return}for(rs=t,rs.sort((n,r)=>iu(n)-iu(r)),Bi=0;Bi<rs.length;Bi++)rs[Bi]();rs=null,Bi=0}}const iu=e=>e.id==null?1/0:e.id;function cS(e){Wp=!1,Hl=!0,Bh(e),En.sort((n,r)=>iu(n)-iu(r));const t=zn;try{for(kr=0;kr<En.length;kr++){const n=En[kr];n&&n.active!==!1&&ms(n,null,14)}}finally{kr=0,En.length=0,uS(),Hl=!1,Cg=null,(En.length||Sa.length||Ta.length)&&cS(e)}}function HP(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||it;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const l=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=r[l]||it;f&&(s=n.map(p=>p.trim())),h&&(s=n.map(Lp))}let a,u=r[a=ud(t)]||r[a=ud(gr(t))];!u&&i&&(u=r[a=ud(mi(t))]),u&&Hn(u,e,6,s);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Hn(c,e,6,s)}}function lS(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!Ie(e)){const u=c=>{const l=lS(c,t,!0);l&&(a=!0,hn(o,l))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!a?(r.set(e,null),null):(me(i)?i.forEach(u=>o[u]=null):hn(o,i),r.set(e,o),o)}function Uh(e,t){return!e||!Mh(t)?!1:(t=t.slice(2).replace(/Once$/,""),je(e,t[0].toLowerCase()+t.slice(1))||je(e,mi(t))||je(e,t))}let Xt=null,jh=null;function Yl(e){const t=Xt;return Xt=e,jh=e&&e.type.__scopeId||null,t}function YP(e){jh=e}function GP(){jh=null}function Dr(e,t=Xt,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&K0(-1);const i=Yl(t),o=e(...s);return Yl(i),r._d&&K0(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function cd(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:u,emit:c,render:l,renderCache:h,data:f,setupState:p,ctx:v,inheritAttrs:O}=e;let E,A;const x=Yl(e);try{if(n.shapeFlag&4){const V=s||r;E=ir(l.call(V,V,h,i,p,f,v)),A=u}else{const V=t;E=ir(V.length>1?V(i,{attrs:u,slots:a,emit:c}):V(i,null)),A=t.props?u:KP(u)}}catch(V){Ca.length=0,Fh(V,e,1),E=Ze(Es)}let H=E;if(A&&O!==!1){const V=Object.keys(A),{shapeFlag:R}=H;V.length&&R&7&&(o&&V.some(vg)&&(A=qP(A,o)),H=mo(H,A))}return n.dirs&&(H=mo(H),H.dirs=H.dirs?H.dirs.concat(n.dirs):n.dirs),n.transition&&(H.transition=n.transition),E=H,Yl(x),E}const KP=e=>{let t;for(const n in e)(n==="class"||n==="style"||Mh(n))&&((t||(t={}))[n]=e[n]);return t},qP=(e,t)=>{const n={};for(const r in e)(!vg(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function XP(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:u}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?F0(r,o,c):!!o;if(u&8){const l=t.dynamicProps;for(let h=0;h<l.length;h++){const f=l[h];if(o[f]!==r[f]&&!Uh(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?F0(r,o,c):!0:!!o;return!1}function F0(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Uh(n,i))return!0}return!1}function QP({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const JP=e=>e.__isSuspense;function ZP(e,t){t&&t.pendingBranch?me(e)?t.effects.push(...e):t.effects.push(e):zP(e)}function fl(e,t){if(Nt){let n=Nt.provides;const r=Nt.parent&&Nt.parent.provides;r===n&&(n=Nt.provides=Object.create(r)),n[e]=t}}function Rn(e,t,n=!1){const r=Nt||Xt;if(r){const s=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Ie(t)?t.call(r.proxy):t}}function Pne(e,t){return kg(e,null,t)}const B0={};function Qs(e,t,n){return kg(e,t,n)}function kg(e,t,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=it){const a=Nt;let u,c=!1,l=!1;if(yt(e)?(u=()=>e.value,c=Vp(e)):ps(e)?(u=()=>e,r=!0):me(e)?(l=!0,c=e.some(A=>ps(A)||Vp(A)),u=()=>e.map(A=>{if(yt(A))return A.value;if(ps(A))return Ws(A);if(Ie(A))return ms(A,a,2)})):Ie(e)?t?u=()=>ms(e,a,2):u=()=>{if(!(a&&a.isUnmounted))return h&&h(),Hn(e,a,3,[f])}:u=zn,t&&r){const A=u;u=()=>Ws(A())}let h,f=A=>{h=E.onStop=()=>{ms(A,a,4)}};if(au)return f=zn,t?n&&Hn(t,a,3,[u(),l?[]:void 0,f]):u(),zn;let p=l?[]:B0;const v=()=>{if(!!E.active)if(t){const A=E.run();(r||c||(l?A.some((x,H)=>nu(x,p[H])):nu(A,p)))&&(h&&h(),Hn(t,a,3,[A,p===B0?void 0:p,f]),p=A)}else E.run()};v.allowRecurse=!!t;let O;s==="sync"?O=v:s==="post"?O=()=>mn(v,a&&a.suspense):O=()=>WP(v);const E=new bg(u,O);return t?n?v():p=E.run():s==="post"?mn(E.run.bind(E),a&&a.suspense):E.run(),()=>{E.stop(),a&&a.scope&&yg(a.scope.effects,E)}}function e2(e,t,n){const r=this.proxy,s=xt(e)?e.includes(".")?hS(r,e):()=>r[e]:e.bind(r,r);let i;Ie(t)?i=t:(i=t.handler,n=t);const o=Nt;go(this);const a=kg(s,i.bind(r),n);return o?go(o):Js(),a}function hS(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Ws(e,t){if(!Et(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),yt(e))Ws(e.value,t);else if(me(e))for(let n=0;n<e.length;n++)Ws(e[n],t);else if(Ph(e)||to(e))e.forEach(n=>{Ws(n,t)});else if(U1(e))for(const n in e)Ws(e[n],t);return e}function Uu(e){return Ie(e)?{setup:e,name:e.name}:e}const Ia=e=>!!e.type.__asyncLoader,fS=e=>e.type.__isKeepAlive;function t2(e,t){dS(e,"a",t)}function n2(e,t){dS(e,"da",t)}function dS(e,t,n=Nt){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Vh(t,r,n),n){let s=n.parent;for(;s&&s.parent;)fS(s.parent.vnode)&&r2(r,t,n,s),s=s.parent}}function r2(e,t,n,r){const s=Vh(t,e,r,!0);Dg(()=>{yg(r[t],s)},n)}function Vh(e,t,n=Nt,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Ro(),go(n);const a=Hn(t,n,e,o);return Js(),Mo(),a});return r?s.unshift(i):s.push(i),i}}const Gr=e=>(t,n=Nt)=>(!au||e==="sp")&&Vh(e,t,n),s2=Gr("bm"),pS=Gr("m"),i2=Gr("bu"),o2=Gr("u"),a2=Gr("bum"),Dg=Gr("um"),u2=Gr("sp"),c2=Gr("rtg"),l2=Gr("rtc");function h2(e,t=Nt){Vh("ec",e,t)}function Nne(e,t){const n=Xt;if(n===null)return e;const r=zh(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,u,c=it]=t[i];Ie(o)&&(o={mounted:o,updated:o}),o.deep&&Ws(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:u,modifiers:c})}return e}function $s(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let u=a.dir[r];u&&(Ro(),Hn(u,n,8,[e.el,a,e,t]),Mo())}}const xg="components";function xn(e,t){return gS(xg,e,!0,t)||e}const mS=Symbol();function U0(e){return xt(e)?gS(xg,e,!1)||e:e||mS}function gS(e,t,n=!0,r=!1){const s=Xt||Nt;if(s){const i=s.type;if(e===xg){const a=B2(i);if(a&&(a===t||a===gr(t)||a===$h(gr(t))))return i}const o=j0(s[e]||i[e],t)||j0(s.appContext[e],t);return!o&&r?i:o}}function j0(e,t){return e&&(e[t]||e[gr(t)]||e[$h(gr(t))])}function Gl(e,t,n,r){let s;const i=n&&n[r];if(me(e)||xt(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(Et(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,u=o.length;a<u;a++){const c=o[a];s[a]=t(e[c],c,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function Aa(e,t,n={},r,s){if(Xt.isCE||Xt.parent&&Ia(Xt.parent)&&Xt.parent.isCE)return Ze("slot",t==="default"?null:{name:t},r&&r());let i=e[t];i&&i._c&&(i._d=!1),Fe();const o=i&&vS(i(n)),a=Mr(on,{key:n.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function vS(e){return e.some(t=>Xl(t)?!(t.type===Es||t.type===on&&!vS(t.children)):!0)?e:null}const Hp=e=>e?kS(e)?zh(e)||e.proxy:Hp(e.parent):null,Kl=hn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Hp(e.parent),$root:e=>Hp(e.root),$emit:e=>e.emit,$options:e=>_S(e),$forceUpdate:e=>e.f||(e.f=()=>iS(e.update)),$nextTick:e=>e.n||(e.n=Og.bind(e.proxy)),$watch:e=>e2.bind(e)}),f2={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:u}=e;let c;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(r!==it&&je(r,t))return o[t]=1,r[t];if(s!==it&&je(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&je(c,t))return o[t]=3,i[t];if(n!==it&&je(n,t))return o[t]=4,n[t];Yp&&(o[t]=0)}}const l=Kl[t];let h,f;if(l)return t==="$attrs"&&In(e,"get",t),l(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==it&&je(n,t))return o[t]=4,n[t];if(f=u.config.globalProperties,je(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return s!==it&&je(s,t)?(s[t]=n,!0):r!==it&&je(r,t)?(r[t]=n,!0):je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==it&&je(e,o)||t!==it&&je(t,o)||(a=i[0])&&je(a,o)||je(r,o)||je(Kl,o)||je(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:je(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Yp=!0;function d2(e){const t=_S(e),n=e.proxy,r=e.ctx;Yp=!1,t.beforeCreate&&V0(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:u,inject:c,created:l,beforeMount:h,mounted:f,beforeUpdate:p,updated:v,activated:O,deactivated:E,beforeDestroy:A,beforeUnmount:x,destroyed:H,unmounted:V,render:R,renderTracked:M,renderTriggered:w,errorCaptured:C,serverPrefetch:X,expose:de,inheritAttrs:Ce,components:Re,directives:gt,filters:vt}=t;if(c&&p2(c,r,null,e.appContext.config.unwrapInjectedRef),o)for(const Me in o){const We=o[Me];Ie(We)&&(r[Me]=We.bind(n))}if(s){const Me=s.call(n,n);Et(Me)&&(e.data=ks(Me))}if(Yp=!0,i)for(const Me in i){const We=i[Me],Bt=Ie(We)?We.bind(n,n):Ie(We.get)?We.get.bind(n,n):zn,Fn=!Ie(We)&&Ie(We.set)?We.set.bind(n):zn,ae=Sn({get:Bt,set:Fn});Object.defineProperty(r,Me,{enumerable:!0,configurable:!0,get:()=>ae.value,set:we=>ae.value=we})}if(a)for(const Me in a)yS(a[Me],r,n,Me);if(u){const Me=Ie(u)?u.call(n):u;Reflect.ownKeys(Me).forEach(We=>{fl(We,Me[We])})}l&&V0(l,e,"c");function rt(Me,We){me(We)?We.forEach(Bt=>Me(Bt.bind(n))):We&&Me(We.bind(n))}if(rt(s2,h),rt(pS,f),rt(i2,p),rt(o2,v),rt(t2,O),rt(n2,E),rt(h2,C),rt(l2,M),rt(c2,w),rt(a2,x),rt(Dg,V),rt(u2,X),me(de))if(de.length){const Me=e.exposed||(e.exposed={});de.forEach(We=>{Object.defineProperty(Me,We,{get:()=>n[We],set:Bt=>n[We]=Bt})})}else e.exposed||(e.exposed={});R&&e.render===zn&&(e.render=R),Ce!=null&&(e.inheritAttrs=Ce),Re&&(e.components=Re),gt&&(e.directives=gt)}function p2(e,t,n=zn,r=!1){me(e)&&(e=Gp(e));for(const s in e){const i=e[s];let o;Et(i)?"default"in i?o=Rn(i.from||s,i.default,!0):o=Rn(i.from||s):o=Rn(i),yt(o)&&r?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[s]=o}}function V0(e,t,n){Hn(me(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function yS(e,t,n,r){const s=r.includes(".")?hS(n,r):()=>n[r];if(xt(e)){const i=t[e];Ie(i)&&Qs(s,i)}else if(Ie(e))Qs(s,e.bind(n));else if(Et(e))if(me(e))e.forEach(i=>yS(i,t,n,r));else{const i=Ie(e.handler)?e.handler.bind(n):t[e.handler];Ie(i)&&Qs(s,i,e)}}function _S(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let u;return a?u=a:!s.length&&!n&&!r?u=t:(u={},s.length&&s.forEach(c=>ql(u,c,o,!0)),ql(u,t,o)),i.set(t,u),u}function ql(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&ql(e,i,n,!0),s&&s.forEach(o=>ql(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=m2[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const m2={data:W0,props:js,emits:js,methods:js,computed:js,beforeCreate:sn,created:sn,beforeMount:sn,mounted:sn,beforeUpdate:sn,updated:sn,beforeDestroy:sn,beforeUnmount:sn,destroyed:sn,unmounted:sn,activated:sn,deactivated:sn,errorCaptured:sn,serverPrefetch:sn,components:js,directives:js,watch:v2,provide:W0,inject:g2};function W0(e,t){return t?e?function(){return hn(Ie(e)?e.call(this,this):e,Ie(t)?t.call(this,this):t)}:t:e}function g2(e,t){return js(Gp(e),Gp(t))}function Gp(e){if(me(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function sn(e,t){return e?[...new Set([].concat(e,t))]:t}function js(e,t){return e?hn(hn(Object.create(null),e),t):t}function v2(e,t){if(!e)return t;if(!t)return e;const n=hn(Object.create(null),e);for(const r in t)n[r]=sn(e[r],t[r]);return n}function y2(e,t,n,r=!1){const s={},i={};zl(i,Wh,1),e.propsDefaults=Object.create(null),wS(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:xP(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function _2(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=Ge(s),[u]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const l=e.vnode.dynamicProps;for(let h=0;h<l.length;h++){let f=l[h];if(Uh(e.emitsOptions,f))continue;const p=t[f];if(u)if(je(i,f))p!==i[f]&&(i[f]=p,c=!0);else{const v=gr(f);s[v]=Kp(u,a,v,p,e,!1)}else p!==i[f]&&(i[f]=p,c=!0)}}}else{wS(e,t,s,i)&&(c=!0);let l;for(const h in a)(!t||!je(t,h)&&((l=mi(h))===h||!je(t,l)))&&(u?n&&(n[h]!==void 0||n[l]!==void 0)&&(s[h]=Kp(u,a,h,void 0,e,!0)):delete s[h]);if(i!==a)for(const h in i)(!t||!je(t,h)&&!0)&&(delete i[h],c=!0)}c&&jr(e,"set","$attrs")}function wS(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let u in t){if(ll(u))continue;const c=t[u];let l;s&&je(s,l=gr(u))?!i||!i.includes(l)?n[l]=c:(a||(a={}))[l]=c:Uh(e.emitsOptions,u)||(!(u in r)||c!==r[u])&&(r[u]=c,o=!0)}if(i){const u=Ge(n),c=a||it;for(let l=0;l<i.length;l++){const h=i[l];n[h]=Kp(s,u,h,c[h],e,!je(c,h))}}return o}function Kp(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=je(o,"default");if(a&&r===void 0){const u=o.default;if(o.type!==Function&&Ie(u)){const{propsDefaults:c}=s;n in c?r=c[n]:(go(s),r=c[n]=u.call(null,t),Js())}else r=u}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===mi(n))&&(r=!0))}return r}function bS(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let u=!1;if(!Ie(e)){const l=h=>{u=!0;const[f,p]=bS(h,t,!0);hn(o,f),p&&a.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!i&&!u)return r.set(e,eo),eo;if(me(i))for(let l=0;l<i.length;l++){const h=gr(i[l]);z0(h)&&(o[h]=it)}else if(i)for(const l in i){const h=gr(l);if(z0(h)){const f=i[l],p=o[h]=me(f)||Ie(f)?{type:f}:f;if(p){const v=G0(Boolean,p.type),O=G0(String,p.type);p[0]=v>-1,p[1]=O<0||v<O,(v>-1||je(p,"default"))&&a.push(h)}}}const c=[o,a];return r.set(e,c),c}function z0(e){return e[0]!=="$"}function H0(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Y0(e,t){return H0(e)===H0(t)}function G0(e,t){return me(t)?t.findIndex(n=>Y0(n,e)):Ie(t)&&Y0(t,e)?0:-1}const ES=e=>e[0]==="_"||e==="$stable",Rg=e=>me(e)?e.map(ir):[ir(e)],w2=(e,t,n)=>{if(t._n)return t;const r=Dr((...s)=>Rg(t(...s)),n);return r._c=!1,r},SS=(e,t,n)=>{const r=e._ctx;for(const s in e){if(ES(s))continue;const i=e[s];if(Ie(i))t[s]=w2(s,i,r);else if(i!=null){const o=Rg(i);t[s]=()=>o}}},TS=(e,t)=>{const n=Rg(t);e.slots.default=()=>n},b2=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ge(t),zl(t,"_",n)):SS(t,e.slots={})}else e.slots={},t&&TS(e,t);zl(e.slots,Wh,1)},E2=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=it;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(hn(s,t),!n&&a===1&&delete s._):(i=!t.$stable,SS(t,s)),o=t}else t&&(TS(e,t),o={default:1});if(i)for(const a in s)!ES(a)&&!(a in o)&&delete s[a]};function IS(){return{app:null,config:{isNativeTag:JM,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let S2=0;function T2(e,t){return function(r,s=null){Ie(r)||(r=Object.assign({},r)),s!=null&&!Et(s)&&(s=null);const i=IS(),o=new Set;let a=!1;const u=i.app={_uid:S2++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:V2,get config(){return i.config},set config(c){},use(c,...l){return o.has(c)||(c&&Ie(c.install)?(o.add(c),c.install(u,...l)):Ie(c)&&(o.add(c),c(u,...l))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,l){return l?(i.components[c]=l,u):i.components[c]},directive(c,l){return l?(i.directives[c]=l,u):i.directives[c]},mount(c,l,h){if(!a){const f=Ze(r,s);return f.appContext=i,l&&t?t(f,c):e(f,c,h),a=!0,u._container=c,c.__vue_app__=u,zh(f.component)||f.component.proxy}},unmount(){a&&(e(null,u._container),delete u._container.__vue_app__)},provide(c,l){return i.provides[c]=l,u}};return u}}function qp(e,t,n,r,s=!1){if(me(e)){e.forEach((f,p)=>qp(f,t&&(me(t)?t[p]:t),n,r,s));return}if(Ia(r)&&!s)return;const i=r.shapeFlag&4?zh(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:u}=e,c=t&&t.r,l=a.refs===it?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==u&&(xt(c)?(l[c]=null,je(h,c)&&(h[c]=null)):yt(c)&&(c.value=null)),Ie(u))ms(u,a,12,[o,l]);else{const f=xt(u),p=yt(u);if(f||p){const v=()=>{if(e.f){const O=f?l[u]:u.value;s?me(O)&&yg(O,i):me(O)?O.includes(i)||O.push(i):f?(l[u]=[i],je(h,u)&&(h[u]=l[u])):(u.value=[i],e.k&&(l[e.k]=u.value))}else f?(l[u]=o,je(h,u)&&(h[u]=o)):yt(u)&&(u.value=o,e.k&&(l[e.k]=o))};o?(v.id=-1,mn(v,n)):v()}}}const mn=ZP;function I2(e){return A2(e)}function A2(e,t){const n=sP();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:u,setText:c,setElementText:l,parentNode:h,nextSibling:f,setScopeId:p=zn,cloneNode:v,insertStaticContent:O}=e,E=(g,S,k,B=null,F=null,q=null,ee=!1,K=null,J=!!S.dynamicChildren)=>{if(g===S)return;g&&!sa(g,S)&&(B=Z(g),Ae(g,F,q,!0),g=null),S.patchFlag===-2&&(J=!1,S.dynamicChildren=null);const{type:j,ref:ce,shapeFlag:oe}=S;switch(j){case Mg:A(g,S,k,B);break;case Es:x(g,S,k,B);break;case dl:g==null&&H(S,k,B,ee);break;case on:gt(g,S,k,B,F,q,ee,K,J);break;default:oe&1?M(g,S,k,B,F,q,ee,K,J):oe&6?vt(g,S,k,B,F,q,ee,K,J):(oe&64||oe&128)&&j.process(g,S,k,B,F,q,ee,K,J,Ne)}ce!=null&&F&&qp(ce,g&&g.ref,q,S||g,!S)},A=(g,S,k,B)=>{if(g==null)r(S.el=a(S.children),k,B);else{const F=S.el=g.el;S.children!==g.children&&c(F,S.children)}},x=(g,S,k,B)=>{g==null?r(S.el=u(S.children||""),k,B):S.el=g.el},H=(g,S,k,B)=>{[g.el,g.anchor]=O(g.children,S,k,B,g.el,g.anchor)},V=({el:g,anchor:S},k,B)=>{let F;for(;g&&g!==S;)F=f(g),r(g,k,B),g=F;r(S,k,B)},R=({el:g,anchor:S})=>{let k;for(;g&&g!==S;)k=f(g),s(g),g=k;s(S)},M=(g,S,k,B,F,q,ee,K,J)=>{ee=ee||S.type==="svg",g==null?w(S,k,B,F,q,ee,K,J):de(g,S,F,q,ee,K,J)},w=(g,S,k,B,F,q,ee,K)=>{let J,j;const{type:ce,props:oe,shapeFlag:le,transition:ge,patchFlag:Le,dirs:Ke}=g;if(g.el&&v!==void 0&&Le===-1)J=g.el=v(g.el);else{if(J=g.el=o(g.type,q,oe&&oe.is,oe),le&8?l(J,g.children):le&16&&X(g.children,J,null,B,F,q&&ce!=="foreignObject",ee,K),Ke&&$s(g,null,B,"created"),oe){for(const et in oe)et!=="value"&&!ll(et)&&i(J,et,null,oe[et],q,g.children,B,F,$);"value"in oe&&i(J,"value",null,oe.value),(j=oe.onVnodeBeforeMount)&&er(j,B,g)}C(J,g,g.scopeId,ee,B)}Ke&&$s(g,null,B,"beforeMount");const qe=(!F||F&&!F.pendingBranch)&&ge&&!ge.persisted;qe&&ge.beforeEnter(J),r(J,S,k),((j=oe&&oe.onVnodeMounted)||qe||Ke)&&mn(()=>{j&&er(j,B,g),qe&&ge.enter(J),Ke&&$s(g,null,B,"mounted")},F)},C=(g,S,k,B,F)=>{if(k&&p(g,k),B)for(let q=0;q<B.length;q++)p(g,B[q]);if(F){let q=F.subTree;if(S===q){const ee=F.vnode;C(g,ee,ee.scopeId,ee.slotScopeIds,F.parent)}}},X=(g,S,k,B,F,q,ee,K,J=0)=>{for(let j=J;j<g.length;j++){const ce=g[j]=K?ss(g[j]):ir(g[j]);E(null,ce,S,k,B,F,q,ee,K)}},de=(g,S,k,B,F,q,ee)=>{const K=S.el=g.el;let{patchFlag:J,dynamicChildren:j,dirs:ce}=S;J|=g.patchFlag&16;const oe=g.props||it,le=S.props||it;let ge;k&&Ls(k,!1),(ge=le.onVnodeBeforeUpdate)&&er(ge,k,S,g),ce&&$s(S,g,k,"beforeUpdate"),k&&Ls(k,!0);const Le=F&&S.type!=="foreignObject";if(j?Ce(g.dynamicChildren,j,K,k,B,Le,q):ee||Bt(g,S,K,null,k,B,Le,q,!1),J>0){if(J&16)Re(K,S,oe,le,k,B,F);else if(J&2&&oe.class!==le.class&&i(K,"class",null,le.class,F),J&4&&i(K,"style",oe.style,le.style,F),J&8){const Ke=S.dynamicProps;for(let qe=0;qe<Ke.length;qe++){const et=Ke[qe],dn=oe[et],Er=le[et];(Er!==dn||et==="value")&&i(K,et,dn,Er,F,g.children,k,B,$)}}J&1&&g.children!==S.children&&l(K,S.children)}else!ee&&j==null&&Re(K,S,oe,le,k,B,F);((ge=le.onVnodeUpdated)||ce)&&mn(()=>{ge&&er(ge,k,S,g),ce&&$s(S,g,k,"updated")},B)},Ce=(g,S,k,B,F,q,ee)=>{for(let K=0;K<S.length;K++){const J=g[K],j=S[K],ce=J.el&&(J.type===on||!sa(J,j)||J.shapeFlag&70)?h(J.el):k;E(J,j,ce,null,B,F,q,ee,!0)}},Re=(g,S,k,B,F,q,ee)=>{if(k!==B){for(const K in B){if(ll(K))continue;const J=B[K],j=k[K];J!==j&&K!=="value"&&i(g,K,j,J,ee,S.children,F,q,$)}if(k!==it)for(const K in k)!ll(K)&&!(K in B)&&i(g,K,k[K],null,ee,S.children,F,q,$);"value"in B&&i(g,"value",k.value,B.value)}},gt=(g,S,k,B,F,q,ee,K,J)=>{const j=S.el=g?g.el:a(""),ce=S.anchor=g?g.anchor:a("");let{patchFlag:oe,dynamicChildren:le,slotScopeIds:ge}=S;ge&&(K=K?K.concat(ge):ge),g==null?(r(j,k,B),r(ce,k,B),X(S.children,k,ce,F,q,ee,K,J)):oe>0&&oe&64&&le&&g.dynamicChildren?(Ce(g.dynamicChildren,le,k,F,q,ee,K),(S.key!=null||F&&S===F.subTree)&&AS(g,S,!0)):Bt(g,S,k,ce,F,q,ee,K,J)},vt=(g,S,k,B,F,q,ee,K,J)=>{S.slotScopeIds=K,g==null?S.shapeFlag&512?F.ctx.activate(S,k,B,ee,J):nt(S,k,B,F,q,ee,J):rt(g,S,J)},nt=(g,S,k,B,F,q,ee)=>{const K=g.component=N2(g,B,F);if(fS(g)&&(K.ctx.renderer=Ne),$2(K),K.asyncDep){if(F&&F.registerDep(K,Me),!g.el){const J=K.subTree=Ze(Es);x(null,J,S,k)}return}Me(K,g,S,k,F,q,ee)},rt=(g,S,k)=>{const B=S.component=g.component;if(XP(g,S,k))if(B.asyncDep&&!B.asyncResolved){We(B,S,k);return}else B.next=S,VP(B.update),B.update();else S.el=g.el,B.vnode=S},Me=(g,S,k,B,F,q,ee)=>{const K=()=>{if(g.isMounted){let{next:ce,bu:oe,u:le,parent:ge,vnode:Le}=g,Ke=ce,qe;Ls(g,!1),ce?(ce.el=Le.el,We(g,ce,ee)):ce=Le,oe&&hl(oe),(qe=ce.props&&ce.props.onVnodeBeforeUpdate)&&er(qe,ge,ce,Le),Ls(g,!0);const et=cd(g),dn=g.subTree;g.subTree=et,E(dn,et,h(dn.el),Z(dn),g,F,q),ce.el=et.el,Ke===null&&QP(g,et.el),le&&mn(le,F),(qe=ce.props&&ce.props.onVnodeUpdated)&&mn(()=>er(qe,ge,ce,Le),F)}else{let ce;const{el:oe,props:le}=S,{bm:ge,m:Le,parent:Ke}=g,qe=Ia(S);if(Ls(g,!1),ge&&hl(ge),!qe&&(ce=le&&le.onVnodeBeforeMount)&&er(ce,Ke,S),Ls(g,!0),oe&&_e){const et=()=>{g.subTree=cd(g),_e(oe,g.subTree,g,F,null)};qe?S.type.__asyncLoader().then(()=>!g.isUnmounted&&et()):et()}else{const et=g.subTree=cd(g);E(null,et,k,B,g,F,q),S.el=et.el}if(Le&&mn(Le,F),!qe&&(ce=le&&le.onVnodeMounted)){const et=S;mn(()=>er(ce,Ke,et),F)}(S.shapeFlag&256||Ke&&Ia(Ke.vnode)&&Ke.vnode.shapeFlag&256)&&g.a&&mn(g.a,F),g.isMounted=!0,S=k=B=null}},J=g.effect=new bg(K,()=>iS(j),g.scope),j=g.update=()=>J.run();j.id=g.uid,Ls(g,!0),j()},We=(g,S,k)=>{S.component=g;const B=g.vnode.props;g.vnode=S,g.next=null,_2(g,S.props,B,k),E2(g,S.children,k),Ro(),Bh(void 0,g.update),Mo()},Bt=(g,S,k,B,F,q,ee,K,J=!1)=>{const j=g&&g.children,ce=g?g.shapeFlag:0,oe=S.children,{patchFlag:le,shapeFlag:ge}=S;if(le>0){if(le&128){ae(j,oe,k,B,F,q,ee,K,J);return}else if(le&256){Fn(j,oe,k,B,F,q,ee,K,J);return}}ge&8?(ce&16&&$(j,F,q),oe!==j&&l(k,oe)):ce&16?ge&16?ae(j,oe,k,B,F,q,ee,K,J):$(j,F,q,!0):(ce&8&&l(k,""),ge&16&&X(oe,k,B,F,q,ee,K,J))},Fn=(g,S,k,B,F,q,ee,K,J)=>{g=g||eo,S=S||eo;const j=g.length,ce=S.length,oe=Math.min(j,ce);let le;for(le=0;le<oe;le++){const ge=S[le]=J?ss(S[le]):ir(S[le]);E(g[le],ge,k,null,F,q,ee,K,J)}j>ce?$(g,F,q,!0,!1,oe):X(S,k,B,F,q,ee,K,J,oe)},ae=(g,S,k,B,F,q,ee,K,J)=>{let j=0;const ce=S.length;let oe=g.length-1,le=ce-1;for(;j<=oe&&j<=le;){const ge=g[j],Le=S[j]=J?ss(S[j]):ir(S[j]);if(sa(ge,Le))E(ge,Le,k,null,F,q,ee,K,J);else break;j++}for(;j<=oe&&j<=le;){const ge=g[oe],Le=S[le]=J?ss(S[le]):ir(S[le]);if(sa(ge,Le))E(ge,Le,k,null,F,q,ee,K,J);else break;oe--,le--}if(j>oe){if(j<=le){const ge=le+1,Le=ge<ce?S[ge].el:B;for(;j<=le;)E(null,S[j]=J?ss(S[j]):ir(S[j]),k,Le,F,q,ee,K,J),j++}}else if(j>le)for(;j<=oe;)Ae(g[j],F,q,!0),j++;else{const ge=j,Le=j,Ke=new Map;for(j=Le;j<=le;j++){const nn=S[j]=J?ss(S[j]):ir(S[j]);nn.key!=null&&Ke.set(nn.key,j)}let qe,et=0;const dn=le-Le+1;let Er=!1,ea=0;const Sr=new Array(dn);for(j=0;j<dn;j++)Sr[j]=0;for(j=ge;j<=oe;j++){const nn=g[j];if(et>=dn){Ae(nn,F,q,!0);continue}let pn;if(nn.key!=null)pn=Ke.get(nn.key);else for(qe=Le;qe<=le;qe++)if(Sr[qe-Le]===0&&sa(nn,S[qe])){pn=qe;break}pn===void 0?Ae(nn,F,q,!0):(Sr[pn-Le]=j+1,pn>=ea?ea=pn:Er=!0,E(nn,S[pn],k,null,F,q,ee,K,J),et++)}const mc=Er?C2(Sr):eo;for(qe=mc.length-1,j=dn-1;j>=0;j--){const nn=Le+j,pn=S[nn],ta=nn+1<ce?S[nn+1].el:B;Sr[j]===0?E(null,pn,k,ta,F,q,ee,K,J):Er&&(qe<0||j!==mc[qe]?we(pn,k,ta,2):qe--)}}},we=(g,S,k,B,F=null)=>{const{el:q,type:ee,transition:K,children:J,shapeFlag:j}=g;if(j&6){we(g.component.subTree,S,k,B);return}if(j&128){g.suspense.move(S,k,B);return}if(j&64){ee.move(g,S,k,Ne);return}if(ee===on){r(q,S,k);for(let oe=0;oe<J.length;oe++)we(J[oe],S,k,B);r(g.anchor,S,k);return}if(ee===dl){V(g,S,k);return}if(B!==2&&j&1&&K)if(B===0)K.beforeEnter(q),r(q,S,k),mn(()=>K.enter(q),F);else{const{leave:oe,delayLeave:le,afterLeave:ge}=K,Le=()=>r(q,S,k),Ke=()=>{oe(q,()=>{Le(),ge&&ge()})};le?le(q,Le,Ke):Ke()}else r(q,S,k)},Ae=(g,S,k,B=!1,F=!1)=>{const{type:q,props:ee,ref:K,children:J,dynamicChildren:j,shapeFlag:ce,patchFlag:oe,dirs:le}=g;if(K!=null&&qp(K,null,k,g,!0),ce&256){S.ctx.deactivate(g);return}const ge=ce&1&&le,Le=!Ia(g);let Ke;if(Le&&(Ke=ee&&ee.onVnodeBeforeUnmount)&&er(Ke,S,g),ce&6)ne(g.component,k,B);else{if(ce&128){g.suspense.unmount(k,B);return}ge&&$s(g,null,S,"beforeUnmount"),ce&64?g.type.remove(g,S,k,F,Ne,B):j&&(q!==on||oe>0&&oe&64)?$(j,S,k,!1,!0):(q===on&&oe&384||!F&&ce&16)&&$(J,S,k),B&&Pe(g)}(Le&&(Ke=ee&&ee.onVnodeUnmounted)||ge)&&mn(()=>{Ke&&er(Ke,S,g),ge&&$s(g,null,S,"unmounted")},k)},Pe=g=>{const{type:S,el:k,anchor:B,transition:F}=g;if(S===on){D(k,B);return}if(S===dl){R(g);return}const q=()=>{s(k),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(g.shapeFlag&1&&F&&!F.persisted){const{leave:ee,delayLeave:K}=F,J=()=>ee(k,q);K?K(g.el,q,J):J()}else q()},D=(g,S)=>{let k;for(;g!==S;)k=f(g),s(g),g=k;s(S)},ne=(g,S,k)=>{const{bum:B,scope:F,update:q,subTree:ee,um:K}=g;B&&hl(B),F.stop(),q&&(q.active=!1,Ae(ee,g,S,k)),K&&mn(K,S),mn(()=>{g.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},$=(g,S,k,B=!1,F=!1,q=0)=>{for(let ee=q;ee<g.length;ee++)Ae(g[ee],S,k,B,F)},Z=g=>g.shapeFlag&6?Z(g.component.subTree):g.shapeFlag&128?g.suspense.next():f(g.anchor||g.el),$e=(g,S,k)=>{g==null?S._vnode&&Ae(S._vnode,null,null,!0):E(S._vnode||null,g,S,null,null,null,k),uS(),S._vnode=g},Ne={p:E,um:Ae,m:we,r:Pe,mt:nt,mc:X,pc:Bt,pbc:Ce,n:Z,o:e};let Se,_e;return t&&([Se,_e]=t(Ne)),{render:$e,hydrate:Se,createApp:T2($e,Se)}}function Ls({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function AS(e,t,n=!1){const r=e.children,s=t.children;if(me(r)&&me(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=ss(s[i]),a.el=o.el),n||AS(o,a))}}function C2(e){const t=e.slice(),n=[0];let r,s,i,o,a;const u=e.length;for(r=0;r<u;r++){const c=e[r];if(c!==0){if(s=n[n.length-1],e[s]<c){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const O2=e=>e.__isTeleport,on=Symbol(void 0),Mg=Symbol(void 0),Es=Symbol(void 0),dl=Symbol(void 0),Ca=[];let Vn=null;function Fe(e=!1){Ca.push(Vn=e?null:[])}function k2(){Ca.pop(),Vn=Ca[Ca.length-1]||null}let ou=1;function K0(e){ou+=e}function CS(e){return e.dynamicChildren=ou>0?Vn||eo:null,k2(),ou>0&&Vn&&Vn.push(e),e}function ot(e,t,n,r,s,i){return CS(N(e,t,n,r,s,i,!0))}function Mr(e,t,n,r,s){return CS(Ze(e,t,n,r,s,!0))}function Xl(e){return e?e.__v_isVNode===!0:!1}function sa(e,t){return e.type===t.type&&e.key===t.key}const Wh="__vInternal",OS=({key:e})=>e!=null?e:null,pl=({ref:e,ref_key:t,ref_for:n})=>e!=null?xt(e)||yt(e)||Ie(e)?{i:Xt,r:e,k:t,f:!!n}:e:null;function N(e,t=null,n=null,r=0,s=null,i=e===on?0:1,o=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&OS(t),ref:t&&pl(t),scopeId:jh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null};return a?(Pg(u,n),i&128&&e.normalize(u)):n&&(u.shapeFlag|=xt(n)?8:16),ou>0&&!o&&Vn&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Vn.push(u),u}const Ze=D2;function D2(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===mS)&&(e=Es),Xl(e)){const a=mo(e,t,!0);return n&&Pg(a,n),ou>0&&!i&&Vn&&(a.shapeFlag&6?Vn[Vn.indexOf(e)]=a:Vn.push(a)),a.patchFlag|=-2,a}if(U2(e)&&(e=e.__vccOpts),t){t=x2(t);let{class:a,style:u}=t;a&&!xt(a)&&(t.class=Rh(a)),Et(u)&&(Z1(u)&&!me(u)&&(u=hn({},u)),t.style=gg(u))}const o=xt(e)?1:JP(e)?128:O2(e)?64:Et(e)?4:Ie(e)?2:0;return N(e,t,n,r,s,o,i,!0)}function x2(e){return e?Z1(e)||Wh in e?hn({},e):e:null}function mo(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=e,a=t?R2(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&OS(a),ref:t&&t.ref?n&&s?me(s)?s.concat(pl(t)):[s,pl(t)]:pl(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==on?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&mo(e.ssContent),ssFallback:e.ssFallback&&mo(e.ssFallback),el:e.el,anchor:e.anchor}}function Vr(e=" ",t=0){return Ze(Mg,null,e,t)}function Po(e,t){const n=Ze(dl,null,e);return n.staticCount=t,n}function vn(e="",t=!1){return t?(Fe(),Mr(Es,null,e)):Ze(Es,null,e)}function ir(e){return e==null||typeof e=="boolean"?Ze(Es):me(e)?Ze(on,null,e.slice()):typeof e=="object"?ss(e):Ze(Mg,null,String(e))}function ss(e){return e.el===null||e.memo?e:mo(e)}function Pg(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(me(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Pg(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Wh in t)?t._ctx=Xt:s===3&&Xt&&(Xt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ie(t)?(t={default:t,_ctx:Xt},n=32):(t=String(t),r&64?(n=16,t=[Vr(t)]):n=8);e.children=t,e.shapeFlag|=n}function R2(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Rh([t.class,r.class]));else if(s==="style")t.style=gg([t.style,r.style]);else if(Mh(s)){const i=t[s],o=r[s];o&&i!==o&&!(me(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function er(e,t,n,r=null){Hn(e,t,7,[n,r])}const M2=IS();let P2=0;function N2(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||M2,i={uid:P2++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new j1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bS(r,s),emitsOptions:lS(r,s),emit:null,emitted:null,propsDefaults:it,inheritAttrs:r.inheritAttrs,ctx:it,data:it,props:it,attrs:it,slots:it,refs:it,setupState:it,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=HP.bind(null,i),e.ce&&e.ce(i),i}let Nt=null;const Ng=()=>Nt||Xt,go=e=>{Nt=e,e.scope.on()},Js=()=>{Nt&&Nt.scope.off(),Nt=null};function kS(e){return e.vnode.shapeFlag&4}let au=!1;function $2(e,t=!1){au=t;const{props:n,children:r}=e.vnode,s=kS(e);y2(e,n,s,t),b2(e,r);const i=s?L2(e,t):void 0;return au=!1,i}function L2(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=po(new Proxy(e.ctx,f2));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?xS(e):null;go(e),Ro();const i=ms(r,e,0,[e.props,s]);if(Mo(),Js(),F1(i)){if(i.then(Js,Js),t)return i.then(o=>{q0(e,o,t)}).catch(o=>{Fh(o,e,0)});e.asyncDep=i}else q0(e,i,t)}else DS(e,t)}function q0(e,t,n){Ie(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Et(t)&&(e.setupState=rS(t)),DS(e,n)}let X0;function DS(e,t,n){const r=e.type;if(!e.render){if(!t&&X0&&!r.render){const s=r.template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:u}=r,c=hn(hn({isCustomElement:i,delimiters:a},o),u);r.render=X0(s,c)}}e.render=r.render||zn}go(e),Ro(),d2(e),Mo(),Js()}function F2(e){return new Proxy(e.attrs,{get(t,n){return In(e,"get","$attrs"),t[n]}})}function xS(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=F2(e))},slots:e.slots,emit:e.emit,expose:t}}function zh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(rS(po(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Kl)return Kl[n](e)}}))}function B2(e){return Ie(e)&&e.displayName||e.name}function U2(e){return Ie(e)&&"__vccOpts"in e}const Sn=(e,t)=>BP(e,t,au);function $ne(){return j2().slots}function j2(){const e=Ng();return e.setupContext||(e.setupContext=xS(e))}function RS(e,t,n){const r=arguments.length;return r===2?Et(t)&&!me(t)?Xl(t)?Ze(e,null,[t]):Ze(e,t):Ze(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Xl(n)&&(n=[n]),Ze(e,t,n))}const V2="3.2.36",W2="http://www.w3.org/2000/svg",Vs=typeof document!="undefined"?document:null,Q0=Vs&&Vs.createElement("template"),z2={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?Vs.createElementNS(W2,e):Vs.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Vs.createTextNode(e),createComment:e=>Vs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Vs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Q0.innerHTML=r?`<svg>${e}</svg>`:e;const a=Q0.content;if(r){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function H2(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Y2(e,t,n){const r=e.style,s=xt(n);if(n&&!s){for(const i in n)Xp(r,i,n[i]);if(t&&!xt(t))for(const i in t)n[i]==null&&Xp(r,i,"")}else{const i=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const J0=/\s*!important$/;function Xp(e,t,n){if(me(n))n.forEach(r=>Xp(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=G2(e,t);J0.test(n)?e.setProperty(mi(r),n.replace(J0,""),"important"):e[r]=n}}const Z0=["Webkit","Moz","ms"],ld={};function G2(e,t){const n=ld[t];if(n)return n;let r=gr(t);if(r!=="filter"&&r in e)return ld[t]=r;r=$h(r);for(let s=0;s<Z0.length;s++){const i=Z0[s]+r;if(i in e)return ld[t]=i}return t}const e_="http://www.w3.org/1999/xlink";function K2(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(e_,t.slice(6,t.length)):e.setAttributeNS(e_,t,n);else{const i=GM(t);n==null||i&&!N1(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function q2(e,t,n,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const u=n==null?"":n;(e.value!==u||e.tagName==="OPTION")&&(e.value=u),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=N1(n):n==null&&u==="string"?(n="",a=!0):u==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}const[MS,X2]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let Qp=0;const Q2=Promise.resolve(),J2=()=>{Qp=0},Z2=()=>Qp||(Q2.then(J2),Qp=MS());function as(e,t,n,r){e.addEventListener(t,n,r)}function eN(e,t,n,r){e.removeEventListener(t,n,r)}function tN(e,t,n,r,s=null){const i=e._vei||(e._vei={}),o=i[t];if(r&&o)o.value=r;else{const[a,u]=nN(t);if(r){const c=i[t]=rN(r,s);as(e,a,c,u)}else o&&(eN(e,a,o,u),i[t]=void 0)}}const t_=/(?:Once|Passive|Capture)$/;function nN(e){let t;if(t_.test(e)){t={};let n;for(;n=e.match(t_);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[mi(e.slice(2)),t]}function rN(e,t){const n=r=>{const s=r.timeStamp||MS();(X2||s>=n.attached-1)&&Hn(sN(r,n.value),t,5,[r])};return n.value=e,n.attached=Z2(),n}function sN(e,t){if(me(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const n_=/^on[a-z]/,iN=(e,t,n,r,s=!1,i,o,a,u)=>{t==="class"?H2(e,r,s):t==="style"?Y2(e,n,r):Mh(t)?vg(t)||tN(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):oN(e,t,r,s))?q2(e,t,r,i,o,a,u):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),K2(e,t,r,s))};function oN(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&n_.test(t)&&Ie(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||n_.test(t)&&xt(n)?!1:t in e}const vo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return me(t)?n=>hl(t,n):t};function aN(e){e.target.composing=!0}function r_(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Lne={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e._assign=vo(s);const i=r||s.props&&s.props.type==="number";as(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=Lp(a)),e._assign(a)}),n&&as(e,"change",()=>{e.value=e.value.trim()}),t||(as(e,"compositionstart",aN),as(e,"compositionend",r_),as(e,"change",r_))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},i){if(e._assign=vo(i),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(s||e.type==="number")&&Lp(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},Fne={deep:!0,created(e,t,n){e._assign=vo(n),as(e,"change",()=>{const r=e._modelValue,s=PS(e),i=e.checked,o=e._assign;if(me(r)){const a=$1(r,s),u=a!==-1;if(i&&!u)o(r.concat(s));else if(!i&&u){const c=[...r];c.splice(a,1),o(c)}}else if(Ph(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(NS(e,i))})},mounted:s_,beforeUpdate(e,t,n){e._assign=vo(n),s_(e,t,n)}};function s_(e,{value:t,oldValue:n},r){e._modelValue=t,me(t)?e.checked=$1(t,r.props.value)>-1:Ph(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=fo(t,NS(e,!0)))}const Bne={created(e,{value:t},n){e.checked=fo(t,n.props.value),e._assign=vo(n),as(e,"change",()=>{e._assign(PS(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=vo(r),t!==n&&(e.checked=fo(t,r.props.value))}};function PS(e){return"_value"in e?e._value:e.value}function NS(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const uN=["ctrl","shift","alt","meta"],cN={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>uN.some(n=>e[`${n}Key`]&&!t.includes(n))},Une=(e,t)=>(n,...r)=>{for(let s=0;s<t.length;s++){const i=cN[t[s]];if(i&&i(n,t))return}return e(n,...r)},lN={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},jne=(e,t)=>n=>{if(!("key"in n))return;const r=mi(n.key);if(t.some(s=>s===r||lN[s]===r))return e(n)},hN=hn({patchProp:iN},z2);let i_;function fN(){return i_||(i_=I2(hN))}const dN=(...e)=>{const t=fN().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=pN(r);if(!s)return;const i=t._component;!Ie(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function pN(e){return xt(e)?document.querySelector(e):e}var mN=!1;function gN(){return $S().__VUE_DEVTOOLS_GLOBAL_HOOK__}function $S(){return typeof navigator!="undefined"&&typeof window!="undefined"?window:typeof global!="undefined"?global:{}}const vN=typeof Proxy=="function",yN="devtools-plugin:setup",_N="plugin:settings:set";let Oi,Jp;function wN(){var e;return Oi!==void 0||(typeof window!="undefined"&&window.performance?(Oi=!0,Jp=window.performance):typeof global!="undefined"&&((e=global.perf_hooks)===null||e===void 0?void 0:e.performance)?(Oi=!0,Jp=global.perf_hooks.performance):Oi=!1),Oi}function bN(){return wN()?Jp.now():Date.now()}class EN{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const o in t.settings){const a=t.settings[o];r[o]=a.defaultValue}const s=`__vue-devtools-plugin-settings__${t.id}`;let i=Object.assign({},r);try{const o=localStorage.getItem(s),a=JSON.parse(o);Object.assign(i,a)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(s,JSON.stringify(o))}catch{}i=o},now(){return bN()}},n&&n.on(_N,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...u)=>{this.onQueue.push({method:a,args:u})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...u)=>(this.targetQueue.push({method:a,args:u,resolve:()=>{}}),this.fallbacks[a](...u)):(...u)=>new Promise(c=>{this.targetQueue.push({method:a,args:u,resolve:c})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function SN(e,t){const n=e,r=$S(),s=gN(),i=vN&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))s.emit(yN,e,t);else{const o=i?new EN(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let LS;const Hh=e=>LS=e,FS=Symbol();function Zp(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Oa;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Oa||(Oa={}));function TN(){const e=V1(!0),t=e.run(()=>Yn({}));let n=[],r=[];const s=po({install(i){Hh(s),s._a=i,i.provide(FS,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!mN?r.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const BS=()=>{};function o_(e,t,n,r=BS){e.push(t);const s=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&Ng()&&Dg(s),s}function ki(e,...t){e.slice().forEach(n=>{n(...t)})}function em(e,t){for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];Zp(s)&&Zp(r)&&e.hasOwnProperty(n)&&!yt(r)&&!ps(r)?e[n]=em(s,r):e[n]=r}return e}const IN=Symbol();function AN(e){return!Zp(e)||!e.hasOwnProperty(IN)}const{assign:Cr}=Object;function CN(e){return!!(yt(e)&&e.effect)}function ON(e,t,n,r){const{state:s,actions:i,getters:o}=t,a=n.state.value[e];let u;function c(){a||(n.state.value[e]=s?s():{});const l=NP(n.state.value[e]);return Cr(l,i,Object.keys(o||{}).reduce((h,f)=>(h[f]=po(Sn(()=>{Hh(n);const p=n._s.get(e);return o[f].call(p,p)})),h),{}))}return u=US(e,c,t,n,r,!0),u.$reset=function(){const h=s?s():{};this.$patch(f=>{Cr(f,h)})},u}function US(e,t,n={},r,s,i){let o;const a=Cr({actions:{}},n),u={deep:!0};let c,l,h=po([]),f=po([]),p;const v=r.state.value[e];!i&&!v&&(r.state.value[e]={}),Yn({});let O;function E(w){let C;c=l=!1,typeof w=="function"?(w(r.state.value[e]),C={type:Oa.patchFunction,storeId:e,events:p}):(em(r.state.value[e],w),C={type:Oa.patchObject,payload:w,storeId:e,events:p});const X=O=Symbol();Og().then(()=>{O===X&&(c=!0)}),l=!0,ki(h,C,r.state.value[e])}const A=BS;function x(){o.stop(),h=[],f=[],r._s.delete(e)}function H(w,C){return function(){Hh(r);const X=Array.from(arguments),de=[],Ce=[];function Re(nt){de.push(nt)}function gt(nt){Ce.push(nt)}ki(f,{args:X,name:w,store:R,after:Re,onError:gt});let vt;try{vt=C.apply(this&&this.$id===e?this:R,X)}catch(nt){throw ki(Ce,nt),nt}return vt instanceof Promise?vt.then(nt=>(ki(de,nt),nt)).catch(nt=>(ki(Ce,nt),Promise.reject(nt))):(ki(de,vt),vt)}}const V={_p:r,$id:e,$onAction:o_.bind(null,f),$patch:E,$reset:A,$subscribe(w,C={}){const X=o_(h,w,C.detached,()=>de()),de=o.run(()=>Qs(()=>r.state.value[e],Ce=>{(C.flush==="sync"?l:c)&&w({storeId:e,type:Oa.direct,events:p},Ce)},Cr({},u,C)));return X},$dispose:x},R=ks(Cr({},V));r._s.set(e,R);const M=r._e.run(()=>(o=V1(),o.run(()=>t())));for(const w in M){const C=M[w];if(yt(C)&&!CN(C)||ps(C))i||(v&&AN(C)&&(yt(C)?C.value=v[w]:em(C,v[w])),r.state.value[e][w]=C);else if(typeof C=="function"){const X=H(w,C);M[w]=X,a.actions[w]=C}}return Cr(R,M),Cr(Ge(R),M),Object.defineProperty(R,"$state",{get:()=>r.state.value[e],set:w=>{E(C=>{Cr(C,w)})}}),r._p.forEach(w=>{Cr(R,o.run(()=>w({store:R,app:r._a,pinia:r,options:a})))}),v&&i&&n.hydrate&&n.hydrate(R.$state,v),c=!0,l=!0,R}function Vne(e,t,n){let r,s;const i=typeof t=="function";typeof e=="string"?(r=e,s=i?n:t):(s=e,r=e.id);function o(a,u){const c=Ng();return a=a||c&&Rn(FS),a&&Hh(a),a=LS,a._s.has(r)||(i?US(r,t,s,a):ON(r,s,a)),a._s.get(r)}return o.$id=r,o}const jS=Yn([]),VS=Yn(null),WS=Yn(null),zS=Yn(null),HS=Yn(null),Qt=ks({current:""}),tm=[],kN=Yn(!1),nm=Ds(jS),DN=Ds(VS),xN=Ds(WS),RN=Ds(zS),MN=Ds(HS),PN=Ds(Qt),NN=e=>{jS.value=e},$N=e=>{VS.value=e},LN=e=>{WS.value=e},FN=e=>{zS.value=e},BN=e=>{HS.value=e},YS=(e=DN.value)=>{Qt.current=e;const t=nm.value.findIndex(r=>r.name===e),n=nm.value.map(r=>r.name);for(let r=0;r<n.length;r++){if(r>0&&r<n.length-1){const s=n[r]+"Minus",i=n[r]+"Plus";Qt[s]=t<=r,Qt[i]=t>=r}Qt[n[r]]=n[r]===e}},UN=()=>{const e=Object.keys(Qt);for(let t of e)delete Qt[t];YS(),GS(),KS(),qS()},GS=(e=xN.value)=>{Qt.orientation=e,Qt.isLandscape=e==="landscape",Qt.isPortrait=e==="portrait"},KS=(e=RN.value||"light")=>{Qt.theme=e,Qt.isDark=e==="dark",Qt.isLight=e==="light"},qS=(e=MN.value||"no-preference")=>{Qt.motionPreference=e,Qt.isMotion=e==="no-preference",Qt.isInert=e==="reduce"};function jN(){for(;tm.length>0;){const e=tm.shift();if(e&&typeof e=="object"){const{mql:t,cb:n}=e;t.addEventListener&&typeof t.addEventListener=="function"?t.removeEventListener("change",n):t.removeListener(n)}}}function VN(){return nm.value.reduce((t,n,r,s)=>{const i=`(min-width: ${n.min}px)`,o=r<s.length-1?`(max-width: ${s[r+1].min-1}px)`:null,a=i+(o?" and "+o:"");return Object.assign(t,{[n.name]:a})},{})}function Sc(e,t){if(typeof window=="undefined"||!window.matchMedia)return!1;if(typeof window!="undefined"&&!window.matchMedia)return console.error("Vue3 Mq: No MatchMedia support detected in this browser. Responsive breakpoints not available."),!1;{kN.value=!0;const n=window.matchMedia(e),r=({matches:i})=>{i&&t()};tm.push({mql:n,cb:r}),n.addEventListener&&typeof n.addEventListener=="function"?n.addEventListener("change",r):n.addListener(r),r(n)}}const WN={xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400},zN={xs:0,sm:576,md:768,lg:992,xl:1200},HN={xs:0,sm:768,md:992,lg:1200},YN={xs:0,sm:600,md:960,lg:1264,xl:1904},GN={xs:0,sm:640,md:768,lg:1024,xl:1280,xxl:1536},KN={phone:0,tablet:768,laptop:1370,desktop:1906},qN={mobile:0,small:600,medium:782,large:960,xlarge:1080,wide:1280,huge:1440};var hd=Object.freeze(Object.defineProperty({__proto__:null,bootstrap5:WN,bootstrap4:zN,bootstrap3:HN,vuetify:YN,tailwind:GN,devices:KN,wordpress:qN},Symbol.toStringTag,{value:"Module"}));const XN=e=>{if(typeof e=="string"&&hd[e])return hd[e];{const t=Object.keys(hd);return console.error(`Vue3 Mq: "${e}" is not a valid preset. Available options are: ${t.join(", ")}`),!1}},QN=e=>["landscape","portrait"].includes(e)===!1?(console.error(`Vue3 Mq: "${e}" is not a valid default orientation. Reverting to unset value.`),null):e,JN=(e=null)=>["dark","light"].includes(e)===!1&&e!==null?(console.error(`Vue3 Mq: "${e}" is not a valid default theme. Reverting to unset value.`),null):e,ZN=(e=null)=>["no-preference","reduce"].includes(e)===!1&&e!==null?(console.error(`Vue3 Mq: "${e}" is not a valid default motion preference. Reverting to unset value.`),null):e,a_=e=>{if(!e||typeof e!="object")return!1;const t=[];for(let s in e){const i=parseFloat(e[s]);if(!s||typeof s!="string"){console.warn(`Vue3 Mq: Invalid or missing breakpoint key (${JSON.stringify(s)}). Skipping.`);continue}else if(/^[^a-z]/i.test(s)||/[^a-zA-Z0-9_]/.test(s)){console.warn(`Vue3 Mq: "${s}" is an invalid breakpoint key. Breakpoint keys must start with a letter and contain only alphanumeric characters and underscores. Skipping.`);continue}else if(!i&&i!==0||isNaN(i)||i<0){console.warn(`Vue3 Mq: "${s}: ${e[s]}" is not a valid breakpoint. Breakpoints should be a number of zero or above. Skipping.`);continue}t.push({name:s,min:i})}return t.some(s=>s.min===0)||console.warn("Vue3 Mq: You have not declared a breakpoint with a minimum value of 0. There may be screen sizes to which Vue3Mq does not respond."),new Set(t.map(s=>s.min)).size<t.length&&console.warn("Vue3 Mq: Your breakpoint configuration contains duplicate values. Behaviour may be unpredictable."),t.length===0?!1:t.sort((s,i)=>s.min-i.min)};function u_({breakpoints:e,preset:t}){const n=XN(t),r=a_(e);if(n===!1&&!r)throw new TypeError("Vue3 Mq: You must provide a valid preset, or valid breakpoint settings.");NN(r||a_(n)),jN(),UN();const s=VN();for(const i in s){const o=s[i];Sc(o,()=>{YS(i)})}["portrait","landscape"].forEach(i=>{const o=()=>{GS(i)};Sc(`(orientation: ${i})`,o)}),["light","dark"].forEach(i=>{const o=()=>{KS(i)};Sc(`(prefers-color-scheme: ${i})`,o)}),["reduce","no-preference"].forEach(i=>{const o=()=>{qS(i)};Sc(`(prefers-reduced-motion: ${i})`,o)})}const e$=(e,{preset:t="bootstrap5",breakpoints:n,defaultBreakpoint:r,defaultOrientation:s="landscape",defaultMotion:i="no-preference",defaultTheme:o}={})=>{try{const a=QN(s),u=JN(o),c=ZN(i);$N(r),LN(a),FN(u),BN(c),e.provide("mq",PN),e.provide("updateBreakpoints",u_),u_({breakpoints:n,preset:t})}catch(a){console.error(a)}};var t$={install:e$};const n$="modulepreload",c_={},r$="/",mt=function(t,n){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=`${r$}${r}`,r in c_)return;c_[r]=!0;const s=r.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const o=document.createElement("link");if(o.rel=s?"stylesheet":n$,s||(o.as="script",o.crossOrigin=""),o.href=r,document.head.appendChild(o),s)return new Promise((a,u)=>{o.addEventListener("load",a),o.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var XS;function te(){return XS.apply(null,arguments)}function s$(e){XS=e}function Gn(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Zs(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function ze(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $g(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(ze(e,t))return!1;return!0}function gn(e){return e===void 0}function Wr(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function ju(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function QS(e,t){var n=[],r,s=e.length;for(r=0;r<s;++r)n.push(t(e[r],r));return n}function ls(e,t){for(var n in t)ze(t,n)&&(e[n]=t[n]);return ze(t,"toString")&&(e.toString=t.toString),ze(t,"valueOf")&&(e.valueOf=t.valueOf),e}function _r(e,t,n,r){return bT(e,t,n,r,!0).utc()}function i$(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Te(e){return e._pf==null&&(e._pf=i$()),e._pf}var rm;Array.prototype.some?rm=Array.prototype.some:rm=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function Lg(e){if(e._isValid==null){var t=Te(e),n=rm.call(t.parsedDateParts,function(s){return s!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function Yh(e){var t=_r(NaN);return e!=null?ls(Te(t),e):Te(t).userInvalidated=!0,t}var l_=te.momentProperties=[],fd=!1;function Fg(e,t){var n,r,s,i=l_.length;if(gn(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),gn(t._i)||(e._i=t._i),gn(t._f)||(e._f=t._f),gn(t._l)||(e._l=t._l),gn(t._strict)||(e._strict=t._strict),gn(t._tzm)||(e._tzm=t._tzm),gn(t._isUTC)||(e._isUTC=t._isUTC),gn(t._offset)||(e._offset=t._offset),gn(t._pf)||(e._pf=Te(t)),gn(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)r=l_[n],s=t[r],gn(s)||(e[r]=s);return e}function Vu(e){Fg(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),fd===!1&&(fd=!0,te.updateOffset(this),fd=!1)}function Kn(e){return e instanceof Vu||e!=null&&e._isAMomentObject!=null}function JS(e){te.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function Pn(e,t){var n=!0;return ls(function(){if(te.deprecationHandler!=null&&te.deprecationHandler(null,e),n){var r=[],s,i,o,a=arguments.length;for(i=0;i<a;i++){if(s="",typeof arguments[i]=="object"){s+=`
[`+i+"] ";for(o in arguments[0])ze(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[i];r.push(s)}JS(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var h_={};function ZS(e,t){te.deprecationHandler!=null&&te.deprecationHandler(e,t),h_[e]||(JS(t),h_[e]=!0)}te.suppressDeprecationWarnings=!1;te.deprecationHandler=null;function wr(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function o$(e){var t,n;for(n in e)ze(e,n)&&(t=e[n],wr(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function sm(e,t){var n=ls({},e),r;for(r in t)ze(t,r)&&(Zs(e[r])&&Zs(t[r])?(n[r]={},ls(n[r],e[r]),ls(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)ze(e,r)&&!ze(t,r)&&Zs(e[r])&&(n[r]=ls({},n[r]));return n}function Bg(e){e!=null&&this.set(e)}var im;Object.keys?im=Object.keys:im=function(e){var t,n=[];for(t in e)ze(e,t)&&n.push(t);return n};var a$={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function u$(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return wr(r)?r.call(t,n):r}function vr(e,t,n){var r=""+Math.abs(e),s=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var Ug=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Tc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,dd={},no={};function fe(e,t,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),e&&(no[e]=s),t&&(no[t[0]]=function(){return vr(s.apply(this,arguments),t[1],t[2])}),n&&(no[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function c$(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function l$(e){var t=e.match(Ug),n,r;for(n=0,r=t.length;n<r;n++)no[t[n]]?t[n]=no[t[n]]:t[n]=c$(t[n]);return function(s){var i="",o;for(o=0;o<r;o++)i+=wr(t[o])?t[o].call(s,e):t[o];return i}}function ml(e,t){return e.isValid()?(t=eT(t,e.localeData()),dd[t]=dd[t]||l$(t),dd[t](e)):e.localeData().invalidDate()}function eT(e,t){var n=5;function r(s){return t.longDateFormat(s)||s}for(Tc.lastIndex=0;n>=0&&Tc.test(e);)e=e.replace(Tc,r),Tc.lastIndex=0,n-=1;return e}var h$={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function f$(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Ug).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var d$="Invalid date";function p$(){return this._invalidDate}var m$="%d",g$=/\d{1,2}/;function v$(e){return this._ordinal.replace("%d",e)}var y$={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function _$(e,t,n,r){var s=this._relativeTime[n];return wr(s)?s(e,t,n,r):s.replace(/%d/i,e)}function w$(e,t){var n=this._relativeTime[e>0?"future":"past"];return wr(n)?n(t):n.replace(/%s/i,t)}var ka={};function en(e,t){var n=e.toLowerCase();ka[n]=ka[n+"s"]=ka[t]=e}function Nn(e){return typeof e=="string"?ka[e]||ka[e.toLowerCase()]:void 0}function jg(e){var t={},n,r;for(r in e)ze(e,r)&&(n=Nn(r),n&&(t[n]=e[r]));return t}var tT={};function tn(e,t){tT[e]=t}function b$(e){var t=[],n;for(n in e)ze(e,n)&&t.push({unit:n,priority:tT[n]});return t.sort(function(r,s){return r.priority-s.priority}),t}function Gh(e){return e%4===0&&e%100!==0||e%400===0}function Dn(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function xe(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Dn(t)),n}function No(e,t){return function(n){return n!=null?(nT(this,e,n),te.updateOffset(this,t),this):Ql(this,e)}}function Ql(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function nT(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&Gh(e.year())&&e.month()===1&&e.date()===29?(n=xe(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Zh(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function E$(e){return e=Nn(e),wr(this[e])?this[e]():this}function S$(e,t){if(typeof e=="object"){e=jg(e);var n=b$(e),r,s=n.length;for(r=0;r<s;r++)this[n[r].unit](e[n[r].unit])}else if(e=Nn(e),wr(this[e]))return this[e](t);return this}var rT=/\d/,Cn=/\d\d/,sT=/\d{3}/,Vg=/\d{4}/,Kh=/[+-]?\d{6}/,ht=/\d\d?/,iT=/\d\d\d\d?/,oT=/\d\d\d\d\d\d?/,qh=/\d{1,3}/,Wg=/\d{1,4}/,Xh=/[+-]?\d{1,6}/,$o=/\d+/,Qh=/[+-]?\d+/,T$=/Z|[+-]\d\d:?\d\d/gi,Jh=/Z|[+-]\d\d(?::?\d\d)?/gi,I$=/[+-]?\d+(\.\d{1,3})?/,Wu=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Jl;Jl={};function re(e,t,n){Jl[e]=wr(t)?t:function(r,s){return r&&n?n:t}}function A$(e,t){return ze(Jl,e)?Jl[e](t._strict,t._locale):new RegExp(C$(e))}function C$(e){return bn(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,s,i){return n||r||s||i}))}function bn(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var om={};function tt(e,t){var n,r=t,s;for(typeof e=="string"&&(e=[e]),Wr(t)&&(r=function(i,o){o[t]=xe(i)}),s=e.length,n=0;n<s;n++)om[e[n]]=r}function zu(e,t){tt(e,function(n,r,s,i){s._w=s._w||{},t(n,s._w,s,i)})}function O$(e,t,n){t!=null&&ze(om,e)&&om[e](t,n._a,n,e)}var Jt=0,Pr=1,cr=2,Ot=3,Wn=4,Nr=5,zs=6,k$=7,D$=8;function x$(e,t){return(e%t+t)%t}var wt;Array.prototype.indexOf?wt=Array.prototype.indexOf:wt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Zh(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=x$(t,12);return e+=(t-n)/12,n===1?Gh(e)?29:28:31-n%7%2}fe("M",["MM",2],"Mo",function(){return this.month()+1});fe("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});fe("MMMM",0,0,function(e){return this.localeData().months(this,e)});en("month","M");tn("month",8);re("M",ht);re("MM",ht,Cn);re("MMM",function(e,t){return t.monthsShortRegex(e)});re("MMMM",function(e,t){return t.monthsRegex(e)});tt(["M","MM"],function(e,t){t[Pr]=xe(e)-1});tt(["MMM","MMMM"],function(e,t,n,r){var s=n._locale.monthsParse(e,r,n._strict);s!=null?t[Pr]=s:Te(n).invalidMonth=e});var R$="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),aT="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),uT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,M$=Wu,P$=Wu;function N$(e,t){return e?Gn(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||uT).test(t)?"format":"standalone"][e.month()]:Gn(this._months)?this._months:this._months.standalone}function $$(e,t){return e?Gn(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[uT.test(t)?"format":"standalone"][e.month()]:Gn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function L$(e,t,n){var r,s,i,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=_r([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(s=wt.call(this._shortMonthsParse,o),s!==-1?s:null):(s=wt.call(this._longMonthsParse,o),s!==-1?s:null):t==="MMM"?(s=wt.call(this._shortMonthsParse,o),s!==-1?s:(s=wt.call(this._longMonthsParse,o),s!==-1?s:null)):(s=wt.call(this._longMonthsParse,o),s!==-1?s:(s=wt.call(this._shortMonthsParse,o),s!==-1?s:null))}function F$(e,t,n){var r,s,i;if(this._monthsParseExact)return L$.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=_r([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function cT(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=xe(t);else if(t=e.localeData().monthsParse(t),!Wr(t))return e}return n=Math.min(e.date(),Zh(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lT(e){return e!=null?(cT(this,e),te.updateOffset(this,!0),this):Ql(this,"Month")}function B$(){return Zh(this.year(),this.month())}function U$(e){return this._monthsParseExact?(ze(this,"_monthsRegex")||hT.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ze(this,"_monthsShortRegex")||(this._monthsShortRegex=M$),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function j$(e){return this._monthsParseExact?(ze(this,"_monthsRegex")||hT.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ze(this,"_monthsRegex")||(this._monthsRegex=P$),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function hT(){function e(o,a){return a.length-o.length}var t=[],n=[],r=[],s,i;for(s=0;s<12;s++)i=_r([2e3,s]),t.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(t.sort(e),n.sort(e),r.sort(e),s=0;s<12;s++)t[s]=bn(t[s]),n[s]=bn(n[s]);for(s=0;s<24;s++)r[s]=bn(r[s]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}fe("Y",0,0,function(){var e=this.year();return e<=9999?vr(e,4):"+"+e});fe(0,["YY",2],0,function(){return this.year()%100});fe(0,["YYYY",4],0,"year");fe(0,["YYYYY",5],0,"year");fe(0,["YYYYYY",6,!0],0,"year");en("year","y");tn("year",1);re("Y",Qh);re("YY",ht,Cn);re("YYYY",Wg,Vg);re("YYYYY",Xh,Kh);re("YYYYYY",Xh,Kh);tt(["YYYYY","YYYYYY"],Jt);tt("YYYY",function(e,t){t[Jt]=e.length===2?te.parseTwoDigitYear(e):xe(e)});tt("YY",function(e,t){t[Jt]=te.parseTwoDigitYear(e)});tt("Y",function(e,t){t[Jt]=parseInt(e,10)});function Da(e){return Gh(e)?366:365}te.parseTwoDigitYear=function(e){return xe(e)+(xe(e)>68?1900:2e3)};var fT=No("FullYear",!0);function V$(){return Gh(this.year())}function W$(e,t,n,r,s,i,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,s,i,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,s,i,o),a}function uu(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Zl(e,t,n){var r=7+t-n,s=(7+uu(e,0,r).getUTCDay()-t)%7;return-s+r-1}function dT(e,t,n,r,s){var i=(7+n-r)%7,o=Zl(e,r,s),a=1+7*(t-1)+i+o,u,c;return a<=0?(u=e-1,c=Da(u)+a):a>Da(e)?(u=e+1,c=a-Da(e)):(u=e,c=a),{year:u,dayOfYear:c}}function cu(e,t,n){var r=Zl(e.year(),t,n),s=Math.floor((e.dayOfYear()-r-1)/7)+1,i,o;return s<1?(o=e.year()-1,i=s+Lr(o,t,n)):s>Lr(e.year(),t,n)?(i=s-Lr(e.year(),t,n),o=e.year()+1):(o=e.year(),i=s),{week:i,year:o}}function Lr(e,t,n){var r=Zl(e,t,n),s=Zl(e+1,t,n);return(Da(e)-r+s)/7}fe("w",["ww",2],"wo","week");fe("W",["WW",2],"Wo","isoWeek");en("week","w");en("isoWeek","W");tn("week",5);tn("isoWeek",5);re("w",ht);re("ww",ht,Cn);re("W",ht);re("WW",ht,Cn);zu(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=xe(e)});function z$(e){return cu(e,this._week.dow,this._week.doy).week}var H$={dow:0,doy:6};function Y$(){return this._week.dow}function G$(){return this._week.doy}function K$(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function q$(e){var t=cu(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}fe("d",0,"do","day");fe("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});fe("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});fe("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});fe("e",0,0,"weekday");fe("E",0,0,"isoWeekday");en("day","d");en("weekday","e");en("isoWeekday","E");tn("day",11);tn("weekday",11);tn("isoWeekday",11);re("d",ht);re("e",ht);re("E",ht);re("dd",function(e,t){return t.weekdaysMinRegex(e)});re("ddd",function(e,t){return t.weekdaysShortRegex(e)});re("dddd",function(e,t){return t.weekdaysRegex(e)});zu(["dd","ddd","dddd"],function(e,t,n,r){var s=n._locale.weekdaysParse(e,r,n._strict);s!=null?t.d=s:Te(n).invalidWeekday=e});zu(["d","e","E"],function(e,t,n,r){t[r]=xe(e)});function X$(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Q$(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function zg(e,t){return e.slice(t,7).concat(e.slice(0,t))}var J$="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),pT="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Z$="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),eL=Wu,tL=Wu,nL=Wu;function rL(e,t){var n=Gn(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?zg(n,this._week.dow):e?n[e.day()]:n}function sL(e){return e===!0?zg(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function iL(e){return e===!0?zg(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function oL(e,t,n){var r,s,i,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=_r([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(s=wt.call(this._weekdaysParse,o),s!==-1?s:null):t==="ddd"?(s=wt.call(this._shortWeekdaysParse,o),s!==-1?s:null):(s=wt.call(this._minWeekdaysParse,o),s!==-1?s:null):t==="dddd"?(s=wt.call(this._weekdaysParse,o),s!==-1||(s=wt.call(this._shortWeekdaysParse,o),s!==-1)?s:(s=wt.call(this._minWeekdaysParse,o),s!==-1?s:null)):t==="ddd"?(s=wt.call(this._shortWeekdaysParse,o),s!==-1||(s=wt.call(this._weekdaysParse,o),s!==-1)?s:(s=wt.call(this._minWeekdaysParse,o),s!==-1?s:null)):(s=wt.call(this._minWeekdaysParse,o),s!==-1||(s=wt.call(this._weekdaysParse,o),s!==-1)?s:(s=wt.call(this._shortWeekdaysParse,o),s!==-1?s:null))}function aL(e,t,n){var r,s,i;if(this._weekdaysParseExact)return oL.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=_r([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function uL(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=X$(e,this.localeData()),this.add(e-t,"d")):t}function cL(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function lL(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Q$(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function hL(e){return this._weekdaysParseExact?(ze(this,"_weekdaysRegex")||Hg.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ze(this,"_weekdaysRegex")||(this._weekdaysRegex=eL),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function fL(e){return this._weekdaysParseExact?(ze(this,"_weekdaysRegex")||Hg.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ze(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=tL),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function dL(e){return this._weekdaysParseExact?(ze(this,"_weekdaysRegex")||Hg.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ze(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=nL),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Hg(){function e(l,h){return h.length-l.length}var t=[],n=[],r=[],s=[],i,o,a,u,c;for(i=0;i<7;i++)o=_r([2e3,1]).day(i),a=bn(this.weekdaysMin(o,"")),u=bn(this.weekdaysShort(o,"")),c=bn(this.weekdays(o,"")),t.push(a),n.push(u),r.push(c),s.push(a),s.push(u),s.push(c);t.sort(e),n.sort(e),r.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Yg(){return this.hours()%12||12}function pL(){return this.hours()||24}fe("H",["HH",2],0,"hour");fe("h",["hh",2],0,Yg);fe("k",["kk",2],0,pL);fe("hmm",0,0,function(){return""+Yg.apply(this)+vr(this.minutes(),2)});fe("hmmss",0,0,function(){return""+Yg.apply(this)+vr(this.minutes(),2)+vr(this.seconds(),2)});fe("Hmm",0,0,function(){return""+this.hours()+vr(this.minutes(),2)});fe("Hmmss",0,0,function(){return""+this.hours()+vr(this.minutes(),2)+vr(this.seconds(),2)});function mT(e,t){fe(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}mT("a",!0);mT("A",!1);en("hour","h");tn("hour",13);function gT(e,t){return t._meridiemParse}re("a",gT);re("A",gT);re("H",ht);re("h",ht);re("k",ht);re("HH",ht,Cn);re("hh",ht,Cn);re("kk",ht,Cn);re("hmm",iT);re("hmmss",oT);re("Hmm",iT);re("Hmmss",oT);tt(["H","HH"],Ot);tt(["k","kk"],function(e,t,n){var r=xe(e);t[Ot]=r===24?0:r});tt(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});tt(["h","hh"],function(e,t,n){t[Ot]=xe(e),Te(n).bigHour=!0});tt("hmm",function(e,t,n){var r=e.length-2;t[Ot]=xe(e.substr(0,r)),t[Wn]=xe(e.substr(r)),Te(n).bigHour=!0});tt("hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[Ot]=xe(e.substr(0,r)),t[Wn]=xe(e.substr(r,2)),t[Nr]=xe(e.substr(s)),Te(n).bigHour=!0});tt("Hmm",function(e,t,n){var r=e.length-2;t[Ot]=xe(e.substr(0,r)),t[Wn]=xe(e.substr(r))});tt("Hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[Ot]=xe(e.substr(0,r)),t[Wn]=xe(e.substr(r,2)),t[Nr]=xe(e.substr(s))});function mL(e){return(e+"").toLowerCase().charAt(0)==="p"}var gL=/[ap]\.?m?\.?/i,vL=No("Hours",!0);function yL(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var vT={calendar:a$,longDateFormat:h$,invalidDate:d$,ordinal:m$,dayOfMonthOrdinalParse:g$,relativeTime:y$,months:R$,monthsShort:aT,week:H$,weekdays:J$,weekdaysMin:Z$,weekdaysShort:pT,meridiemParse:gL},ft={},ia={},lu;function _L(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function f_(e){return e&&e.toLowerCase().replace("_","-")}function wL(e){for(var t=0,n,r,s,i;t<e.length;){for(i=f_(e[t]).split("-"),n=i.length,r=f_(e[t+1]),r=r?r.split("-"):null;n>0;){if(s=ef(i.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&_L(i,r)>=n-1)break;n--}t++}return lu}function bL(e){return e.match("^[^/\\\\]*$")!=null}function ef(e){var t=null,n;if(ft[e]===void 0&&typeof module!="undefined"&&module&&module.exports&&bL(e))try{t=lu._abbr,n=require,n("./locale/"+e),gs(t)}catch{ft[e]=null}return ft[e]}function gs(e,t){var n;return e&&(gn(t)?n=Kr(e):n=Gg(e,t),n?lu=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),lu._abbr}function Gg(e,t){if(t!==null){var n,r=vT;if(t.abbr=e,ft[e]!=null)ZS("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ft[e]._config;else if(t.parentLocale!=null)if(ft[t.parentLocale]!=null)r=ft[t.parentLocale]._config;else if(n=ef(t.parentLocale),n!=null)r=n._config;else return ia[t.parentLocale]||(ia[t.parentLocale]=[]),ia[t.parentLocale].push({name:e,config:t}),null;return ft[e]=new Bg(sm(r,t)),ia[e]&&ia[e].forEach(function(s){Gg(s.name,s.config)}),gs(e),ft[e]}else return delete ft[e],null}function EL(e,t){if(t!=null){var n,r,s=vT;ft[e]!=null&&ft[e].parentLocale!=null?ft[e].set(sm(ft[e]._config,t)):(r=ef(e),r!=null&&(s=r._config),t=sm(s,t),r==null&&(t.abbr=e),n=new Bg(t),n.parentLocale=ft[e],ft[e]=n),gs(e)}else ft[e]!=null&&(ft[e].parentLocale!=null?(ft[e]=ft[e].parentLocale,e===gs()&&gs(e)):ft[e]!=null&&delete ft[e]);return ft[e]}function Kr(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return lu;if(!Gn(e)){if(t=ef(e),t)return t;e=[e]}return wL(e)}function SL(){return im(ft)}function Kg(e){var t,n=e._a;return n&&Te(e).overflow===-2&&(t=n[Pr]<0||n[Pr]>11?Pr:n[cr]<1||n[cr]>Zh(n[Jt],n[Pr])?cr:n[Ot]<0||n[Ot]>24||n[Ot]===24&&(n[Wn]!==0||n[Nr]!==0||n[zs]!==0)?Ot:n[Wn]<0||n[Wn]>59?Wn:n[Nr]<0||n[Nr]>59?Nr:n[zs]<0||n[zs]>999?zs:-1,Te(e)._overflowDayOfYear&&(t<Jt||t>cr)&&(t=cr),Te(e)._overflowWeeks&&t===-1&&(t=k$),Te(e)._overflowWeekday&&t===-1&&(t=D$),Te(e).overflow=t),e}var TL=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,IL=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,AL=/Z|[+-]\d\d(?::?\d\d)?/,Ic=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pd=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],CL=/^\/?Date\((-?\d+)/i,OL=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,kL={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function yT(e){var t,n,r=e._i,s=TL.exec(r)||IL.exec(r),i,o,a,u,c=Ic.length,l=pd.length;if(s){for(Te(e).iso=!0,t=0,n=c;t<n;t++)if(Ic[t][1].exec(s[1])){o=Ic[t][0],i=Ic[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(s[3]){for(t=0,n=l;t<n;t++)if(pd[t][1].exec(s[3])){a=(s[2]||" ")+pd[t][0];break}if(a==null){e._isValid=!1;return}}if(!i&&a!=null){e._isValid=!1;return}if(s[4])if(AL.exec(s[4]))u="Z";else{e._isValid=!1;return}e._f=o+(a||"")+(u||""),Xg(e)}else e._isValid=!1}function DL(e,t,n,r,s,i){var o=[xL(e),aT.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return i&&o.push(parseInt(i,10)),o}function xL(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function RL(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ML(e,t,n){if(e){var r=pT.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(r!==s)return Te(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function PL(e,t,n){if(e)return kL[e];if(t)return 0;var r=parseInt(n,10),s=r%100,i=(r-s)/100;return i*60+s}function _T(e){var t=OL.exec(RL(e._i)),n;if(t){if(n=DL(t[4],t[3],t[2],t[5],t[6],t[7]),!ML(t[1],n,e))return;e._a=n,e._tzm=PL(t[8],t[9],t[10]),e._d=uu.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Te(e).rfc2822=!0}else e._isValid=!1}function NL(e){var t=CL.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(yT(e),e._isValid===!1)delete e._isValid;else return;if(_T(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:te.createFromInputFallback(e)}te.createFromInputFallback=Pn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Ui(e,t,n){return e!=null?e:t!=null?t:n}function $L(e){var t=new Date(te.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function qg(e){var t,n,r=[],s,i,o;if(!e._d){for(s=$L(e),e._w&&e._a[cr]==null&&e._a[Pr]==null&&LL(e),e._dayOfYear!=null&&(o=Ui(e._a[Jt],s[Jt]),(e._dayOfYear>Da(o)||e._dayOfYear===0)&&(Te(e)._overflowDayOfYear=!0),n=uu(o,0,e._dayOfYear),e._a[Pr]=n.getUTCMonth(),e._a[cr]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=s[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Ot]===24&&e._a[Wn]===0&&e._a[Nr]===0&&e._a[zs]===0&&(e._nextDay=!0,e._a[Ot]=0),e._d=(e._useUTC?uu:W$).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ot]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==i&&(Te(e).weekdayMismatch=!0)}}function LL(e){var t,n,r,s,i,o,a,u,c;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,o=4,n=Ui(t.GG,e._a[Jt],cu(lt(),1,4).year),r=Ui(t.W,1),s=Ui(t.E,1),(s<1||s>7)&&(u=!0)):(i=e._locale._week.dow,o=e._locale._week.doy,c=cu(lt(),i,o),n=Ui(t.gg,e._a[Jt],c.year),r=Ui(t.w,c.week),t.d!=null?(s=t.d,(s<0||s>6)&&(u=!0)):t.e!=null?(s=t.e+i,(t.e<0||t.e>6)&&(u=!0)):s=i),r<1||r>Lr(n,i,o)?Te(e)._overflowWeeks=!0:u!=null?Te(e)._overflowWeekday=!0:(a=dT(n,r,s,i,o),e._a[Jt]=a.year,e._dayOfYear=a.dayOfYear)}te.ISO_8601=function(){};te.RFC_2822=function(){};function Xg(e){if(e._f===te.ISO_8601){yT(e);return}if(e._f===te.RFC_2822){_T(e);return}e._a=[],Te(e).empty=!0;var t=""+e._i,n,r,s,i,o,a=t.length,u=0,c,l;for(s=eT(e._f,e._locale).match(Ug)||[],l=s.length,n=0;n<l;n++)i=s[n],r=(t.match(A$(i,e))||[])[0],r&&(o=t.substr(0,t.indexOf(r)),o.length>0&&Te(e).unusedInput.push(o),t=t.slice(t.indexOf(r)+r.length),u+=r.length),no[i]?(r?Te(e).empty=!1:Te(e).unusedTokens.push(i),O$(i,r,e)):e._strict&&!r&&Te(e).unusedTokens.push(i);Te(e).charsLeftOver=a-u,t.length>0&&Te(e).unusedInput.push(t),e._a[Ot]<=12&&Te(e).bigHour===!0&&e._a[Ot]>0&&(Te(e).bigHour=void 0),Te(e).parsedDateParts=e._a.slice(0),Te(e).meridiem=e._meridiem,e._a[Ot]=FL(e._locale,e._a[Ot],e._meridiem),c=Te(e).era,c!==null&&(e._a[Jt]=e._locale.erasConvertYear(c,e._a[Jt])),qg(e),Kg(e)}function FL(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function BL(e){var t,n,r,s,i,o,a=!1,u=e._f.length;if(u===0){Te(e).invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<u;s++)i=0,o=!1,t=Fg({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[s],Xg(t),Lg(t)&&(o=!0),i+=Te(t).charsLeftOver,i+=Te(t).unusedTokens.length*10,Te(t).score=i,a?i<r&&(r=i,n=t):(r==null||i<r||o)&&(r=i,n=t,o&&(a=!0));ls(e,n||t)}function UL(e){if(!e._d){var t=jg(e._i),n=t.day===void 0?t.date:t.day;e._a=QS([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),qg(e)}}function jL(e){var t=new Vu(Kg(wT(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function wT(e){var t=e._i,n=e._f;return e._locale=e._locale||Kr(e._l),t===null||n===void 0&&t===""?Yh({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Kn(t)?new Vu(Kg(t)):(ju(t)?e._d=t:Gn(n)?BL(e):n?Xg(e):VL(e),Lg(e)||(e._d=null),e))}function VL(e){var t=e._i;gn(t)?e._d=new Date(te.now()):ju(t)?e._d=new Date(t.valueOf()):typeof t=="string"?NL(e):Gn(t)?(e._a=QS(t.slice(0),function(n){return parseInt(n,10)}),qg(e)):Zs(t)?UL(e):Wr(t)?e._d=new Date(t):te.createFromInputFallback(e)}function bT(e,t,n,r,s){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Zs(e)&&$g(e)||Gn(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=s,i._l=n,i._i=e,i._f=t,i._strict=r,jL(i)}function lt(e,t,n,r){return bT(e,t,n,r,!1)}var WL=Pn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=lt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Yh()}),zL=Pn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=lt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Yh()});function ET(e,t){var n,r;if(t.length===1&&Gn(t[0])&&(t=t[0]),!t.length)return lt();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function HL(){var e=[].slice.call(arguments,0);return ET("isBefore",e)}function YL(){var e=[].slice.call(arguments,0);return ET("isAfter",e)}var GL=function(){return Date.now?Date.now():+new Date},oa=["year","quarter","month","week","day","hour","minute","second","millisecond"];function KL(e){var t,n=!1,r,s=oa.length;for(t in e)if(ze(e,t)&&!(wt.call(oa,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<s;++r)if(e[oa[r]]){if(n)return!1;parseFloat(e[oa[r]])!==xe(e[oa[r]])&&(n=!0)}return!0}function qL(){return this._isValid}function XL(){return qn(NaN)}function tf(e){var t=jg(e),n=t.year||0,r=t.quarter||0,s=t.month||0,i=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=KL(t),this._milliseconds=+l+c*1e3+u*6e4+a*1e3*60*60,this._days=+o+i*7,this._months=+s+r*3+n*12,this._data={},this._locale=Kr(),this._bubble()}function gl(e){return e instanceof tf}function am(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function QL(e,t,n){var r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),i=0,o;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&xe(e[o])!==xe(t[o]))&&i++;return i+s}function ST(e,t){fe(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+vr(~~(n/60),2)+t+vr(~~n%60,2)})}ST("Z",":");ST("ZZ","");re("Z",Jh);re("ZZ",Jh);tt(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Qg(Jh,e)});var JL=/([\+\-]|\d\d)/gi;function Qg(e,t){var n=(t||"").match(e),r,s,i;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match(JL)||["-",0,0],i=+(s[1]*60)+xe(s[2]),i===0?0:s[0]==="+"?i:-i)}function Jg(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Kn(e)||ju(e)?e.valueOf():lt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),te.updateOffset(n,!1),n):lt(e).local()}function um(e){return-Math.round(e._d.getTimezoneOffset())}te.updateOffset=function(){};function ZL(e,t,n){var r=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Qg(Jh,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(s=um(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==e&&(!t||this._changeInProgress?AT(this,qn(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,te.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:um(this)}function eF(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function tF(e){return this.utcOffset(0,e)}function nF(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(um(this),"m")),this}function rF(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Qg(T$,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function sF(e){return this.isValid()?(e=e?lt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function iF(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function oF(){if(!gn(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Fg(e,this),e=wT(e),e._a?(t=e._isUTC?_r(e._a):lt(e._a),this._isDSTShifted=this.isValid()&&QL(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function aF(){return this.isValid()?!this._isUTC:!1}function uF(){return this.isValid()?this._isUTC:!1}function TT(){return this.isValid()?this._isUTC&&this._offset===0:!1}var cF=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,lF=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qn(e,t){var n=e,r=null,s,i,o;return gl(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Wr(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=cF.exec(e))?(s=r[1]==="-"?-1:1,n={y:0,d:xe(r[cr])*s,h:xe(r[Ot])*s,m:xe(r[Wn])*s,s:xe(r[Nr])*s,ms:xe(am(r[zs]*1e3))*s}):(r=lF.exec(e))?(s=r[1]==="-"?-1:1,n={y:Fs(r[2],s),M:Fs(r[3],s),w:Fs(r[4],s),d:Fs(r[5],s),h:Fs(r[6],s),m:Fs(r[7],s),s:Fs(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=hF(lt(n.from),lt(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),i=new tf(n),gl(e)&&ze(e,"_locale")&&(i._locale=e._locale),gl(e)&&ze(e,"_isValid")&&(i._isValid=e._isValid),i}qn.fn=tf.prototype;qn.invalid=XL;function Fs(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function d_(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function hF(e,t){var n;return e.isValid()&&t.isValid()?(t=Jg(t,e),e.isBefore(t)?n=d_(e,t):(n=d_(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function IT(e,t){return function(n,r){var s,i;return r!==null&&!isNaN(+r)&&(ZS(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),s=qn(n,r),AT(this,s,e),this}}function AT(e,t,n,r){var s=t._milliseconds,i=am(t._days),o=am(t._months);!e.isValid()||(r=r==null?!0:r,o&&cT(e,Ql(e,"Month")+o*n),i&&nT(e,"Date",Ql(e,"Date")+i*n),s&&e._d.setTime(e._d.valueOf()+s*n),r&&te.updateOffset(e,i||o))}var fF=IT(1,"add"),dF=IT(-1,"subtract");function CT(e){return typeof e=="string"||e instanceof String}function pF(e){return Kn(e)||ju(e)||CT(e)||Wr(e)||gF(e)||mF(e)||e===null||e===void 0}function mF(e){var t=Zs(e)&&!$g(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,i,o=r.length;for(s=0;s<o;s+=1)i=r[s],n=n||ze(e,i);return t&&n}function gF(e){var t=Gn(e),n=!1;return t&&(n=e.filter(function(r){return!Wr(r)&&CT(e)}).length===0),t&&n}function vF(e){var t=Zs(e)&&!$g(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,i;for(s=0;s<r.length;s+=1)i=r[s],n=n||ze(e,i);return t&&n}function yF(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function _F(e,t){arguments.length===1&&(arguments[0]?pF(arguments[0])?(e=arguments[0],t=void 0):vF(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||lt(),r=Jg(n,this).startOf("day"),s=te.calendarFormat(this,r)||"sameElse",i=t&&(wr(t[s])?t[s].call(this,n):t[s]);return this.format(i||this.localeData().calendar(s,this,lt(n)))}function wF(){return new Vu(this)}function bF(e,t){var n=Kn(e)?e:lt(e);return this.isValid()&&n.isValid()?(t=Nn(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function EF(e,t){var n=Kn(e)?e:lt(e);return this.isValid()&&n.isValid()?(t=Nn(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function SF(e,t,n,r){var s=Kn(e)?e:lt(e),i=Kn(t)?t:lt(t);return this.isValid()&&s.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function TF(e,t){var n=Kn(e)?e:lt(e),r;return this.isValid()&&n.isValid()?(t=Nn(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function IF(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function AF(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function CF(e,t,n){var r,s,i;if(!this.isValid())return NaN;if(r=Jg(e,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,t=Nn(t),t){case"year":i=vl(this,r)/12;break;case"month":i=vl(this,r);break;case"quarter":i=vl(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-s)/864e5;break;case"week":i=(this-r-s)/6048e5;break;default:i=this-r}return n?i:Dn(i)}function vl(e,t){if(e.date()<t.date())return-vl(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),s,i;return t-r<0?(s=e.clone().add(n-1,"months"),i=(t-r)/(r-s)):(s=e.clone().add(n+1,"months"),i=(t-r)/(s-r)),-(n+i)||0}te.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";te.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function OF(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function kF(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?ml(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):wr(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ml(n,"Z")):ml(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function DF(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,s,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+s+i)}function xF(e){e||(e=this.isUtc()?te.defaultFormatUtc:te.defaultFormat);var t=ml(this,e);return this.localeData().postformat(t)}function RF(e,t){return this.isValid()&&(Kn(e)&&e.isValid()||lt(e).isValid())?qn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function MF(e){return this.from(lt(),e)}function PF(e,t){return this.isValid()&&(Kn(e)&&e.isValid()||lt(e).isValid())?qn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function NF(e){return this.to(lt(),e)}function OT(e){var t;return e===void 0?this._locale._abbr:(t=Kr(e),t!=null&&(this._locale=t),this)}var kT=Pn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function DT(){return this._locale}var eh=1e3,ro=60*eh,th=60*ro,xT=(365*400+97)*24*th;function so(e,t){return(e%t+t)%t}function RT(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-xT:new Date(e,t,n).valueOf()}function MT(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-xT:Date.UTC(e,t,n)}function $F(e){var t,n;if(e=Nn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?MT:RT,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=so(t+(this._isUTC?0:this.utcOffset()*ro),th);break;case"minute":t=this._d.valueOf(),t-=so(t,ro);break;case"second":t=this._d.valueOf(),t-=so(t,eh);break}return this._d.setTime(t),te.updateOffset(this,!0),this}function LF(e){var t,n;if(e=Nn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?MT:RT,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=th-so(t+(this._isUTC?0:this.utcOffset()*ro),th)-1;break;case"minute":t=this._d.valueOf(),t+=ro-so(t,ro)-1;break;case"second":t=this._d.valueOf(),t+=eh-so(t,eh)-1;break}return this._d.setTime(t),te.updateOffset(this,!0),this}function FF(){return this._d.valueOf()-(this._offset||0)*6e4}function BF(){return Math.floor(this.valueOf()/1e3)}function UF(){return new Date(this.valueOf())}function jF(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function VF(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function WF(){return this.isValid()?this.toISOString():null}function zF(){return Lg(this)}function HF(){return ls({},Te(this))}function YF(){return Te(this).overflow}function GF(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}fe("N",0,0,"eraAbbr");fe("NN",0,0,"eraAbbr");fe("NNN",0,0,"eraAbbr");fe("NNNN",0,0,"eraName");fe("NNNNN",0,0,"eraNarrow");fe("y",["y",1],"yo","eraYear");fe("y",["yy",2],0,"eraYear");fe("y",["yyy",3],0,"eraYear");fe("y",["yyyy",4],0,"eraYear");re("N",Zg);re("NN",Zg);re("NNN",Zg);re("NNNN",s3);re("NNNNN",i3);tt(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var s=n._locale.erasParse(e,r,n._strict);s?Te(n).era=s:Te(n).invalidEra=e});re("y",$o);re("yy",$o);re("yyy",$o);re("yyyy",$o);re("yo",o3);tt(["y","yy","yyy","yyyy"],Jt);tt(["yo"],function(e,t,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Jt]=n._locale.eraYearOrdinalParse(e,s):t[Jt]=parseInt(e,10)});function KF(e,t){var n,r,s,i=this._eras||Kr("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":s=te(i[n].since).startOf("day"),i[n].since=s.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":s=te(i[n].until).startOf("day").valueOf(),i[n].until=s.valueOf();break}}return i}function qF(e,t,n){var r,s,i=this.eras(),o,a,u;for(e=e.toUpperCase(),r=0,s=i.length;r<s;++r)if(o=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),u=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return i[r];break;case"NNNN":if(o===e)return i[r];break;case"NNNNN":if(u===e)return i[r];break}else if([o,a,u].indexOf(e)>=0)return i[r]}function XF(e,t){var n=e.since<=e.until?1:-1;return t===void 0?te(e.since).year():te(e.since).year()+(t-e.offset)*n}function QF(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function JF(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function ZF(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function e3(){var e,t,n,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return(this.year()-te(s[e].since).year())*n+s[e].offset;return this.year()}function t3(e){return ze(this,"_erasNameRegex")||ev.call(this),e?this._erasNameRegex:this._erasRegex}function n3(e){return ze(this,"_erasAbbrRegex")||ev.call(this),e?this._erasAbbrRegex:this._erasRegex}function r3(e){return ze(this,"_erasNarrowRegex")||ev.call(this),e?this._erasNarrowRegex:this._erasRegex}function Zg(e,t){return t.erasAbbrRegex(e)}function s3(e,t){return t.erasNameRegex(e)}function i3(e,t){return t.erasNarrowRegex(e)}function o3(e,t){return t._eraYearOrdinalRegex||$o}function ev(){var e=[],t=[],n=[],r=[],s,i,o=this.eras();for(s=0,i=o.length;s<i;++s)t.push(bn(o[s].name)),e.push(bn(o[s].abbr)),n.push(bn(o[s].narrow)),r.push(bn(o[s].name)),r.push(bn(o[s].abbr)),r.push(bn(o[s].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}fe(0,["gg",2],0,function(){return this.weekYear()%100});fe(0,["GG",2],0,function(){return this.isoWeekYear()%100});function nf(e,t){fe(0,[e,e.length],0,t)}nf("gggg","weekYear");nf("ggggg","weekYear");nf("GGGG","isoWeekYear");nf("GGGGG","isoWeekYear");en("weekYear","gg");en("isoWeekYear","GG");tn("weekYear",1);tn("isoWeekYear",1);re("G",Qh);re("g",Qh);re("GG",ht,Cn);re("gg",ht,Cn);re("GGGG",Wg,Vg);re("gggg",Wg,Vg);re("GGGGG",Xh,Kh);re("ggggg",Xh,Kh);zu(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=xe(e)});zu(["gg","GG"],function(e,t,n,r){t[r]=te.parseTwoDigitYear(e)});function a3(e){return PT.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function u3(e){return PT.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function c3(){return Lr(this.year(),1,4)}function l3(){return Lr(this.isoWeekYear(),1,4)}function h3(){var e=this.localeData()._week;return Lr(this.year(),e.dow,e.doy)}function f3(){var e=this.localeData()._week;return Lr(this.weekYear(),e.dow,e.doy)}function PT(e,t,n,r,s){var i;return e==null?cu(this,r,s).year:(i=Lr(e,r,s),t>i&&(t=i),d3.call(this,e,t,n,r,s))}function d3(e,t,n,r,s){var i=dT(e,t,n,r,s),o=uu(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}fe("Q",0,"Qo","quarter");en("quarter","Q");tn("quarter",7);re("Q",rT);tt("Q",function(e,t){t[Pr]=(xe(e)-1)*3});function p3(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}fe("D",["DD",2],"Do","date");en("date","D");tn("date",9);re("D",ht);re("DD",ht,Cn);re("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});tt(["D","DD"],cr);tt("Do",function(e,t){t[cr]=xe(e.match(ht)[0])});var NT=No("Date",!0);fe("DDD",["DDDD",3],"DDDo","dayOfYear");en("dayOfYear","DDD");tn("dayOfYear",4);re("DDD",qh);re("DDDD",sT);tt(["DDD","DDDD"],function(e,t,n){n._dayOfYear=xe(e)});function m3(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}fe("m",["mm",2],0,"minute");en("minute","m");tn("minute",14);re("m",ht);re("mm",ht,Cn);tt(["m","mm"],Wn);var g3=No("Minutes",!1);fe("s",["ss",2],0,"second");en("second","s");tn("second",15);re("s",ht);re("ss",ht,Cn);tt(["s","ss"],Nr);var v3=No("Seconds",!1);fe("S",0,0,function(){return~~(this.millisecond()/100)});fe(0,["SS",2],0,function(){return~~(this.millisecond()/10)});fe(0,["SSS",3],0,"millisecond");fe(0,["SSSS",4],0,function(){return this.millisecond()*10});fe(0,["SSSSS",5],0,function(){return this.millisecond()*100});fe(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});fe(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});fe(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});fe(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});en("millisecond","ms");tn("millisecond",16);re("S",qh,rT);re("SS",qh,Cn);re("SSS",qh,sT);var hs,$T;for(hs="SSSS";hs.length<=9;hs+="S")re(hs,$o);function y3(e,t){t[zs]=xe(("0."+e)*1e3)}for(hs="S";hs.length<=9;hs+="S")tt(hs,y3);$T=No("Milliseconds",!1);fe("z",0,0,"zoneAbbr");fe("zz",0,0,"zoneName");function _3(){return this._isUTC?"UTC":""}function w3(){return this._isUTC?"Coordinated Universal Time":""}var z=Vu.prototype;z.add=fF;z.calendar=_F;z.clone=wF;z.diff=CF;z.endOf=LF;z.format=xF;z.from=RF;z.fromNow=MF;z.to=PF;z.toNow=NF;z.get=E$;z.invalidAt=YF;z.isAfter=bF;z.isBefore=EF;z.isBetween=SF;z.isSame=TF;z.isSameOrAfter=IF;z.isSameOrBefore=AF;z.isValid=zF;z.lang=kT;z.locale=OT;z.localeData=DT;z.max=zL;z.min=WL;z.parsingFlags=HF;z.set=S$;z.startOf=$F;z.subtract=dF;z.toArray=jF;z.toObject=VF;z.toDate=UF;z.toISOString=kF;z.inspect=DF;typeof Symbol!="undefined"&&Symbol.for!=null&&(z[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});z.toJSON=WF;z.toString=OF;z.unix=BF;z.valueOf=FF;z.creationData=GF;z.eraName=QF;z.eraNarrow=JF;z.eraAbbr=ZF;z.eraYear=e3;z.year=fT;z.isLeapYear=V$;z.weekYear=a3;z.isoWeekYear=u3;z.quarter=z.quarters=p3;z.month=lT;z.daysInMonth=B$;z.week=z.weeks=K$;z.isoWeek=z.isoWeeks=q$;z.weeksInYear=h3;z.weeksInWeekYear=f3;z.isoWeeksInYear=c3;z.isoWeeksInISOWeekYear=l3;z.date=NT;z.day=z.days=uL;z.weekday=cL;z.isoWeekday=lL;z.dayOfYear=m3;z.hour=z.hours=vL;z.minute=z.minutes=g3;z.second=z.seconds=v3;z.millisecond=z.milliseconds=$T;z.utcOffset=ZL;z.utc=tF;z.local=nF;z.parseZone=rF;z.hasAlignedHourOffset=sF;z.isDST=iF;z.isLocal=aF;z.isUtcOffset=uF;z.isUtc=TT;z.isUTC=TT;z.zoneAbbr=_3;z.zoneName=w3;z.dates=Pn("dates accessor is deprecated. Use date instead.",NT);z.months=Pn("months accessor is deprecated. Use month instead",lT);z.years=Pn("years accessor is deprecated. Use year instead",fT);z.zone=Pn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",eF);z.isDSTShifted=Pn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",oF);function b3(e){return lt(e*1e3)}function E3(){return lt.apply(null,arguments).parseZone()}function LT(e){return e}var He=Bg.prototype;He.calendar=u$;He.longDateFormat=f$;He.invalidDate=p$;He.ordinal=v$;He.preparse=LT;He.postformat=LT;He.relativeTime=_$;He.pastFuture=w$;He.set=o$;He.eras=KF;He.erasParse=qF;He.erasConvertYear=XF;He.erasAbbrRegex=n3;He.erasNameRegex=t3;He.erasNarrowRegex=r3;He.months=N$;He.monthsShort=$$;He.monthsParse=F$;He.monthsRegex=j$;He.monthsShortRegex=U$;He.week=z$;He.firstDayOfYear=G$;He.firstDayOfWeek=Y$;He.weekdays=rL;He.weekdaysMin=iL;He.weekdaysShort=sL;He.weekdaysParse=aL;He.weekdaysRegex=hL;He.weekdaysShortRegex=fL;He.weekdaysMinRegex=dL;He.isPM=mL;He.meridiem=yL;function nh(e,t,n,r){var s=Kr(),i=_r().set(r,t);return s[n](i,e)}function FT(e,t,n){if(Wr(e)&&(t=e,e=void 0),e=e||"",t!=null)return nh(e,t,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=nh(e,r,n,"month");return s}function tv(e,t,n,r){typeof e=="boolean"?(Wr(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Wr(t)&&(n=t,t=void 0),t=t||"");var s=Kr(),i=e?s._week.dow:0,o,a=[];if(n!=null)return nh(t,(n+i)%7,r,"day");for(o=0;o<7;o++)a[o]=nh(t,(o+i)%7,r,"day");return a}function S3(e,t){return FT(e,t,"months")}function T3(e,t){return FT(e,t,"monthsShort")}function I3(e,t,n){return tv(e,t,n,"weekdays")}function A3(e,t,n){return tv(e,t,n,"weekdaysShort")}function C3(e,t,n){return tv(e,t,n,"weekdaysMin")}gs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=xe(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});te.lang=Pn("moment.lang is deprecated. Use moment.locale instead.",gs);te.langData=Pn("moment.langData is deprecated. Use moment.localeData instead.",Kr);var Tr=Math.abs;function O3(){var e=this._data;return this._milliseconds=Tr(this._milliseconds),this._days=Tr(this._days),this._months=Tr(this._months),e.milliseconds=Tr(e.milliseconds),e.seconds=Tr(e.seconds),e.minutes=Tr(e.minutes),e.hours=Tr(e.hours),e.months=Tr(e.months),e.years=Tr(e.years),this}function BT(e,t,n,r){var s=qn(t,n);return e._milliseconds+=r*s._milliseconds,e._days+=r*s._days,e._months+=r*s._months,e._bubble()}function k3(e,t){return BT(this,e,t,1)}function D3(e,t){return BT(this,e,t,-1)}function p_(e){return e<0?Math.floor(e):Math.ceil(e)}function x3(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,s,i,o,a,u;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=p_(cm(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,s=Dn(e/1e3),r.seconds=s%60,i=Dn(s/60),r.minutes=i%60,o=Dn(i/60),r.hours=o%24,t+=Dn(o/24),u=Dn(UT(t)),n+=u,t-=p_(cm(u)),a=Dn(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function UT(e){return e*4800/146097}function cm(e){return e*146097/4800}function R3(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Nn(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+UT(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(cm(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function M3(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+xe(this._months/12)*31536e6:NaN}function qr(e){return function(){return this.as(e)}}var P3=qr("ms"),N3=qr("s"),$3=qr("m"),L3=qr("h"),F3=qr("d"),B3=qr("w"),U3=qr("M"),j3=qr("Q"),V3=qr("y");function W3(){return qn(this)}function z3(e){return e=Nn(e),this.isValid()?this[e+"s"]():NaN}function gi(e){return function(){return this.isValid()?this._data[e]:NaN}}var H3=gi("milliseconds"),Y3=gi("seconds"),G3=gi("minutes"),K3=gi("hours"),q3=gi("days"),X3=gi("months"),Q3=gi("years");function J3(){return Dn(this.days()/7)}var Or=Math.round,zi={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Z3(e,t,n,r,s){return s.relativeTime(t||1,!!n,e,r)}function eB(e,t,n,r){var s=qn(e).abs(),i=Or(s.as("s")),o=Or(s.as("m")),a=Or(s.as("h")),u=Or(s.as("d")),c=Or(s.as("M")),l=Or(s.as("w")),h=Or(s.as("y")),f=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||u<=1&&["d"]||u<n.d&&["dd",u];return n.w!=null&&(f=f||l<=1&&["w"]||l<n.w&&["ww",l]),f=f||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h],f[2]=t,f[3]=+e>0,f[4]=r,Z3.apply(null,f)}function tB(e){return e===void 0?Or:typeof e=="function"?(Or=e,!0):!1}function nB(e,t){return zi[e]===void 0?!1:t===void 0?zi[e]:(zi[e]=t,e==="s"&&(zi.ss=t-1),!0)}function rB(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=zi,s,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},zi,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),s=this.localeData(),i=eB(this,!n,r,s),n&&(i=s.pastFuture(+this,i)),s.postformat(i)}var md=Math.abs;function Di(e){return(e>0)-(e<0)||+e}function rf(){if(!this.isValid())return this.localeData().invalidDate();var e=md(this._milliseconds)/1e3,t=md(this._days),n=md(this._months),r,s,i,o,a=this.asSeconds(),u,c,l,h;return a?(r=Dn(e/60),s=Dn(r/60),e%=60,r%=60,i=Dn(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",u=a<0?"-":"",c=Di(this._months)!==Di(a)?"-":"",l=Di(this._days)!==Di(a)?"-":"",h=Di(this._milliseconds)!==Di(a)?"-":"",u+"P"+(i?c+i+"Y":"")+(n?c+n+"M":"")+(t?l+t+"D":"")+(s||r||e?"T":"")+(s?h+s+"H":"")+(r?h+r+"M":"")+(e?h+o+"S":"")):"P0D"}var Ve=tf.prototype;Ve.isValid=qL;Ve.abs=O3;Ve.add=k3;Ve.subtract=D3;Ve.as=R3;Ve.asMilliseconds=P3;Ve.asSeconds=N3;Ve.asMinutes=$3;Ve.asHours=L3;Ve.asDays=F3;Ve.asWeeks=B3;Ve.asMonths=U3;Ve.asQuarters=j3;Ve.asYears=V3;Ve.valueOf=M3;Ve._bubble=x3;Ve.clone=W3;Ve.get=z3;Ve.milliseconds=H3;Ve.seconds=Y3;Ve.minutes=G3;Ve.hours=K3;Ve.days=q3;Ve.weeks=J3;Ve.months=X3;Ve.years=Q3;Ve.humanize=rB;Ve.toISOString=rf;Ve.toString=rf;Ve.toJSON=rf;Ve.locale=OT;Ve.localeData=DT;Ve.toIsoString=Pn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",rf);Ve.lang=kT;fe("X",0,0,"unix");fe("x",0,0,"valueOf");re("x",Qh);re("X",I$);tt("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});tt("x",function(e,t,n){n._d=new Date(xe(e))});//! moment.js
te.version="2.29.4";s$(lt);te.fn=z;te.min=HL;te.max=YL;te.now=GL;te.utc=_r;te.unix=b3;te.months=S3;te.isDate=ju;te.locale=gs;te.invalid=Yh;te.duration=qn;te.isMoment=Kn;te.weekdays=I3;te.parseZone=E3;te.localeData=Kr;te.isDuration=gl;te.monthsShort=T3;te.weekdaysMin=C3;te.defineLocale=Gg;te.updateLocale=EL;te.locales=SL;te.weekdaysShort=A3;te.normalizeUnits=Nn;te.relativeTimeRounding=tB;te.relativeTimeThreshold=nB;te.calendarFormat=yF;te.prototype=z;te.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var jT="store";function VT(e){return e===void 0&&(e=null),Rn(e!==null?e:jT)}function Lo(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function sB(e){return e!==null&&typeof e=="object"}function iB(e){return e&&typeof e.then=="function"}function oB(e,t){return function(){return e(t)}}function WT(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function zT(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;sf(e,n,[],e._modules.root,!0),nv(e,n,t)}function nv(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var s=e._wrappedGetters,i={};Lo(s,function(o,a){i[a]=oB(o,e),Object.defineProperty(e.getters,a,{get:function(){return i[a]()},enumerable:!0})}),e._state=ks({data:t}),e.strict&&hB(e),r&&n&&e._withCommit(function(){r.data=null})}function sf(e,t,n,r,s){var i=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=r),!i&&!s){var a=rv(t,n.slice(0,-1)),u=n[n.length-1];e._withCommit(function(){a[u]=r.state})}var c=r.context=aB(e,o,n);r.forEachMutation(function(l,h){var f=o+h;uB(e,f,l,c)}),r.forEachAction(function(l,h){var f=l.root?h:o+h,p=l.handler||l;cB(e,f,p,c)}),r.forEachGetter(function(l,h){var f=o+h;lB(e,f,l,c)}),r.forEachChild(function(l,h){sf(e,t,n.concat(h),l,s)})}function aB(e,t,n){var r=t==="",s={dispatch:r?e.dispatch:function(i,o,a){var u=rh(i,o,a),c=u.payload,l=u.options,h=u.type;return(!l||!l.root)&&(h=t+h),e.dispatch(h,c)},commit:r?e.commit:function(i,o,a){var u=rh(i,o,a),c=u.payload,l=u.options,h=u.type;(!l||!l.root)&&(h=t+h),e.commit(h,c,l)}};return Object.defineProperties(s,{getters:{get:r?function(){return e.getters}:function(){return HT(e,t)}},state:{get:function(){return rv(e.state,n)}}}),s}function HT(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(s){if(s.slice(0,r)===t){var i=s.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[s]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function uB(e,t,n,r){var s=e._mutations[t]||(e._mutations[t]=[]);s.push(function(o){n.call(e,r.state,o)})}function cB(e,t,n,r){var s=e._actions[t]||(e._actions[t]=[]);s.push(function(o){var a=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},o);return iB(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(u){throw e._devtoolHook.emit("vuex:error",u),u}):a})}function lB(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function hB(e){Qs(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function rv(e,t){return t.reduce(function(n,r){return n[r]},e)}function rh(e,t,n){return sB(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var fB="vuex bindings",m_="vuex:mutations",gd="vuex:actions",xi="vuex",dB=0;function pB(e,t){SN({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[fB]},function(n){n.addTimelineLayer({id:m_,label:"Vuex Mutations",color:g_}),n.addTimelineLayer({id:gd,label:"Vuex Actions",color:g_}),n.addInspector({id:xi,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===xi)if(r.filter){var s=[];qT(s,t._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[KT(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===xi){var s=r.nodeId;HT(t,s),r.state=vB(_B(t._modules,s),s==="root"?t.getters:t._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===xi){var s=r.nodeId,i=r.path;s!=="root"&&(i=s.split("/").filter(Boolean).concat(i)),t._withCommit(function(){r.set(t._state.data,i,r.state.value)})}}),t.subscribe(function(r,s){var i={};r.payload&&(i.payload=r.payload),i.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(xi),n.sendInspectorState(xi),n.addTimelineEvent({layerId:m_,event:{time:Date.now(),title:r.type,data:i}})}),t.subscribeAction({before:function(r,s){var i={};r.payload&&(i.payload=r.payload),r._id=dB++,r._time=Date.now(),i.state=s,n.addTimelineEvent({layerId:gd,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,s){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=s,n.addTimelineEvent({layerId:gd,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var g_=8702998,mB=6710886,gB=16777215,YT={label:"namespaced",textColor:gB,backgroundColor:mB};function GT(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function KT(e,t){return{id:t||"root",label:GT(t),tags:e.namespaced?[YT]:[],children:Object.keys(e._children).map(function(n){return KT(e._children[n],t+n+"/")})}}function qT(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[YT]:[]}),Object.keys(t._children).forEach(function(s){qT(e,t._children[s],n,r+s+"/")})}function vB(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),s={state:Object.keys(e.state).map(function(o){return{key:o,editable:!0,value:e.state[o]}})};if(r.length){var i=yB(t);s.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?GT(o):o,editable:!1,value:lm(function(){return i[o]})}})}return s}function yB(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var s=t,i=r.pop();r.forEach(function(o){s[o]||(s[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),s=s[o]._custom.value}),s[i]=lm(function(){return e[n]})}else t[n]=lm(function(){return e[n]})}),t}function _B(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,s,i){var o=r[s];if(!o)throw new Error('Missing module "'+s+'" for path "'+t+'".');return i===n.length-1?o:o._children},t==="root"?e:e.root._children)}function lm(e){try{return e()}catch(t){return t}}var Xn=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},XT={namespaced:{configurable:!0}};XT.namespaced.get=function(){return!!this._rawModule.namespaced};Xn.prototype.addChild=function(t,n){this._children[t]=n};Xn.prototype.removeChild=function(t){delete this._children[t]};Xn.prototype.getChild=function(t){return this._children[t]};Xn.prototype.hasChild=function(t){return t in this._children};Xn.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Xn.prototype.forEachChild=function(t){Lo(this._children,t)};Xn.prototype.forEachGetter=function(t){this._rawModule.getters&&Lo(this._rawModule.getters,t)};Xn.prototype.forEachAction=function(t){this._rawModule.actions&&Lo(this._rawModule.actions,t)};Xn.prototype.forEachMutation=function(t){this._rawModule.mutations&&Lo(this._rawModule.mutations,t)};Object.defineProperties(Xn.prototype,XT);var vi=function(t){this.register([],t,!1)};vi.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};vi.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};vi.prototype.update=function(t){QT([],this.root,t)};vi.prototype.register=function(t,n,r){var s=this;r===void 0&&(r=!0);var i=new Xn(n,r);if(t.length===0)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}n.modules&&Lo(n.modules,function(a,u){s.register(t.concat(u),a,r)})};vi.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],s=n.getChild(r);!s||!s.runtime||n.removeChild(r)};vi.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function QT(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;QT(e.concat(r),t.getChild(r),n.modules[r])}}function wB(e){return new wn(e)}var wn=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var s=t.strict;s===void 0&&(s=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new vi(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=i;var o=this,a=this,u=a.dispatch,c=a.commit;this.dispatch=function(f,p){return u.call(o,f,p)},this.commit=function(f,p,v){return c.call(o,f,p,v)},this.strict=s;var l=this._modules.root.state;sf(this,l,[],this._modules.root),nv(this,l),r.forEach(function(h){return h(n)})},sv={state:{configurable:!0}};wn.prototype.install=function(t,n){t.provide(n||jT,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&pB(t,this)};sv.state.get=function(){return this._state.data};sv.state.set=function(e){};wn.prototype.commit=function(t,n,r){var s=this,i=rh(t,n,r),o=i.type,a=i.payload,u={type:o,payload:a},c=this._mutations[o];!c||(this._withCommit(function(){c.forEach(function(h){h(a)})}),this._subscribers.slice().forEach(function(l){return l(u,s.state)}))};wn.prototype.dispatch=function(t,n){var r=this,s=rh(t,n),i=s.type,o=s.payload,a={type:i,payload:o},u=this._actions[i];if(!!u){try{this._actionSubscribers.slice().filter(function(l){return l.before}).forEach(function(l){return l.before(a,r.state)})}catch{}var c=u.length>1?Promise.all(u.map(function(l){return l(o)})):u[0](o);return new Promise(function(l,h){c.then(function(f){try{r._actionSubscribers.filter(function(p){return p.after}).forEach(function(p){return p.after(a,r.state)})}catch{}l(f)},function(f){try{r._actionSubscribers.filter(function(p){return p.error}).forEach(function(p){return p.error(a,r.state,f)})}catch{}h(f)})})}};wn.prototype.subscribe=function(t,n){return WT(t,this._subscribers,n)};wn.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return WT(r,this._actionSubscribers,n)};wn.prototype.watch=function(t,n,r){var s=this;return Qs(function(){return t(s.state,s.getters)},n,Object.assign({},r))};wn.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};wn.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),sf(this,this.state,t,this._modules.get(t),r.preserveState),nv(this,this.state)};wn.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=rv(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),zT(this)};wn.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};wn.prototype.hotUpdate=function(t){this._modules.update(t),zT(this,!0)};wn.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(wn.prototype,sv);const bB=Sn(()=>VT().state.auth.subscription),EB=Sn(()=>VT().state.auth.user);var Qn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};const SB=Uu({name:"ChangeSet",props:{changeSet:{required:!0,type:Object}},computed:{changes(){return this.changeSet.changes},timestamp(){return te(this.changeSet.timestamp).format("dddd, MMMM Do, YYYY")}}}),TB={class:"mb-4"},IB={class:"flex flex-col gap-1 list-disc pl-4"};function AB(e,t,n,r,s,i){return Fe(),ot("div",null,[N("h2",TB,O0(e.timestamp),1),N("ul",IB,[(Fe(!0),ot(on,null,Gl(e.changes,o=>(Fe(),ot("li",{key:o},O0(o),1))),128))])])}var CB=Qn(SB,[["render",AB]]);const OB=Uu({name:"Modal",emits:["close"],computed:{hasFooter(){return!!this.$slots.footer}},methods:{onClose(){this.$emit("close")}}}),kB={class:"flex items-center justify-center fixed inset-0 z-50 bg-gray-100 bg-opacity-50 dark:bg-darkest dark:bg-opacity-50"},DB={class:"w-full max-w-4xl p-4"},xB={class:"bg-gray-100 dark:bg-darkest rounded p-4 shadow"},RB={class:"text-2xl flex items-center justify-between"},MB={class:"px-2"},PB=N("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[N("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),NB=[PB],$B=N("hr",{class:"border-gray-200 dark:border-gray-800 mt-4"},null,-1),LB={key:0,class:"border-gray-200 dark:border-gray-800 mb-4"},FB={key:1};function BB(e,t,n,r,s,i){const o=xn("SimpleBar");return Fe(),ot("div",kB,[N("div",DB,[N("div",xB,[N("h1",RB,[N("span",MB,[Aa(e.$slots,"header")]),N("button",{class:"p-2",onClick:t[0]||(t[0]=(...a)=>e.onClose&&e.onClose(...a))},NB)]),$B,Ze(o,{class:"max-h-96 py-4 px-2"},{default:Dr(()=>[Aa(e.$slots,"default")]),_:3}),e.hasFooter?(Fe(),ot("hr",LB)):vn("",!0),e.hasFooter?(Fe(),ot("div",FB,[Aa(e.$slots,"footer")])):vn("",!0)])])])}var UB=Qn(OB,[["render",BB]]);const jB=Vr(" What's new? "),VB={class:"flex flex-col gap-8"},WB={class:"flex items-center justify-end gap-2"},zB=N("span",null,"Upgrade",-1),HB=N("span",null,"Sign Up",-1),YB=Uu({name:"ChangeLog",setup(e){const t=Yn([]),n=localStorage.getItem("changelog:v1"),r=Yn(!1),s=()=>{r.value=!1},i=()=>{window.fathom.trackGoal("I4IWFGNK",0),s()};return pS(async()=>{try{const o=(await mt(()=>import("./changelog.547b7cf4.js"),[])).default;t.value.push(...o.sort((u,c)=>te(c.timestamp).unix()-te(u.timestamp).unix()));const a=t.value[0].timestamp;(!n||new Date(a)>new Date(n))&&(r.value=!0,localStorage.setItem("changelog:v1",a))}catch(o){console.error(o)}}),(o,a)=>{const u=xn("router-link");return r.value?(Fe(),Mr(UB,{key:0,onClose:s},{header:Dr(()=>[jB]),footer:Dr(()=>[N("div",WB,[N("button",{class:"button-flat button-size-medium",onClick:s},"Dismiss"),Xs(bB).pro?Xs(EB)?vn("",!0):(Fe(),Mr(u,{key:1,onClick:i,to:{name:"account"},class:"text-blue-400 button-flat button-color-surface button-size-medium"},{default:Dr(()=>[HB]),_:1})):(Fe(),Mr(u,{key:0,onClick:i,to:{name:"account"},class:"text-blue-400 button-flat button-color-surface button-size-medium"},{default:Dr(()=>[zB]),_:1}))])]),default:Dr(()=>[N("div",VB,[(Fe(!0),ot(on,null,Gl(t.value,c=>(Fe(),Mr(CB,{changeSet:c,key:c.timestamp},null,8,["changeSet"]))),128))])]),_:1})):vn("",!0)}}});const GB={name:"App",components:{ChangeLog:YB},inject:["mq"],watch:{theme(e){this.updateTheme()}},computed:{home(){return this.$route.name==="home"},ligatures(){return this.$store.state.settings.editor.ligatures},publicDoc(){return this.$route.name==="public_doc"},showStripeModal(){return this.$store.state.showStripeModal},sizes(){return this.mq.current==="xs"?["xs xs-plus"]:this.mq.current==="sm"?["sm xs-plus sm-plus"]:this.mq.current==="md"?["md xs-plus sm-plus md-plus"]:this.mq.current==="lg"?["lg xs-plus sm-plus md-plus lg-plus"]:this.mq.current==="xl"?["xl xs-plus sm-plus md-plus lg-plus xl-plus"]:[]},theme(){return this.$store.state.settings.theme}},methods:{closeChangelog(){this.showChangelog=!1},updateTheme(){switch(document.documentElement.classList.remove("auto","dark","light","october"),this.theme){case"dark":document.documentElement.classList.add("dark");break;case"light":document.documentElement.classList.add("light");break;case"october":document.documentElement.classList.add("dark","october");break;case"auto":const t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";document.documentElement.classList.add("auto",t);break;default:document.documentElement.classList.add("dark");break}}},created(){this.updateTheme(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{this.updateTheme()})}},KB={key:0,class:"flex items-center justify-center fixed top-0 left-0 h-full w-full z-50 bg-darkest"},qB=N("div",{class:"flex flex-col items-center justify-center gap-8 text-center text-2xl"},[N("svg",{class:"animate-spin mr-3 h-10 w-10 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[N("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),N("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),N("span",null,"Redirecting you to Stripe for checkout")],-1),XB=[qB];function QB(e,t,n,r,s,i){const o=xn("ChangeLog"),a=xn("router-view");return Fe(),ot("div",{id:"app",class:Rh(["h-screen",i.sizes.concat([!i.ligatures&&"ligatures-none"])])},[i.showStripeModal?(Fe(),ot("div",KB,XB)):vn("",!0),!i.home&&!i.publicDoc?(Fe(),Mr(o,{key:1})):vn("",!0),Ze(a,{inheritAttrs:!0,class:"flex-grow flex-shrink min-h-0"})],2)}var JB=Qn(GB,[["render",QB]]);const ZB={name:"Extendable",props:{scope:String},computed:{appendable(){return this.$packageManager.getComponents(this.scope,"append")},prependable(){return this.$packageManager.getComponents(this.scope,"prepend")}},created(){[...this.appendable,...this.prependable].forEach(e=>{this.$options.components[e.name]=e})}};function e4(e,t,n,r,s,i){return Fe(),ot("div",null,[(Fe(!0),ot(on,null,Gl(i.prependable,o=>(Fe(),Mr(U0(o.name),{key:o.name}))),128)),Aa(e.$slots,"default"),(Fe(!0),ot(on,null,Gl(i.appendable,o=>(Fe(),Mr(U0(o.name),{key:o.name}))),128))])}var t4=Qn(ZB,[["render",e4]]);var $t=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Wne(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t}function Ac(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Cc=function(e){return e&&e.Math==Math&&e},Oe=Cc(typeof globalThis=="object"&&globalThis)||Cc(typeof window=="object"&&window)||Cc(typeof self=="object"&&self)||Cc(typeof $t=="object"&&$t)||function(){return this}()||Function("return this")(),of={exports:{}},v_=Oe,n4=Object.defineProperty,iv=function(e,t){try{n4(v_,e,{value:t,configurable:!0,writable:!0})}catch{v_[e]=t}return t},r4=Oe,s4=iv,y_="__core-js_shared__",i4=r4[y_]||s4(y_,{}),ov=i4,__=ov;(of.exports=function(e,t){return __[e]||(__[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.22.6",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.6/LICENSE",source:"https://github.com/zloirock/core-js"});var pt=function(e){try{return!!e()}catch{return!0}},o4=pt,af=!o4(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),JT=af,ZT=Function.prototype,a4=ZT.bind,hm=ZT.call,u4=JT&&a4.bind(hm,hm),ut=JT?function(e){return e&&u4(e)}:function(e){return e&&function(){return hm.apply(e,arguments)}},c4=Oe,l4=c4.TypeError,Fo=function(e){if(e==null)throw l4("Can't call method on "+e);return e},h4=Oe,f4=Fo,d4=h4.Object,Bo=function(e){return d4(f4(e))},p4=ut,m4=Bo,g4=p4({}.hasOwnProperty),Jn=Object.hasOwn||function(t,n){return g4(m4(t),n)},v4=ut,y4=0,_4=Math.random(),w4=v4(1 .toString),av=function(e){return"Symbol("+(e===void 0?"":e)+")_"+w4(++y4+_4,36)},Ct=function(e){return typeof e=="function"},vd=Oe,b4=Ct,E4=function(e){return b4(e)?e:void 0},Hu=function(e,t){return arguments.length<2?E4(vd[e]):vd[e]&&vd[e][t]},S4=Hu,T4=S4("navigator","userAgent")||"",eI=Oe,yd=T4,w_=eI.process,b_=eI.Deno,E_=w_&&w_.versions||b_&&b_.version,S_=E_&&E_.v8,Un,sh;S_&&(Un=S_.split("."),sh=Un[0]>0&&Un[0]<4?1:+(Un[0]+Un[1]));!sh&&yd&&(Un=yd.match(/Edge\/(\d+)/),(!Un||Un[1]>=74)&&(Un=yd.match(/Chrome\/(\d+)/),Un&&(sh=+Un[1])));var uv=sh,T_=uv,I4=pt,tI=!!Object.getOwnPropertySymbols&&!I4(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&T_&&T_<41}),A4=tI,nI=A4&&!Symbol.sham&&typeof Symbol.iterator=="symbol",C4=Oe,O4=of.exports,I_=Jn,k4=av,A_=tI,rI=nI,Ri=O4("wks"),ei=C4.Symbol,C_=ei&&ei.for,D4=rI?ei:ei&&ei.withoutSetter||k4,fn=function(e){if(!I_(Ri,e)||!(A_||typeof Ri[e]=="string")){var t="Symbol."+e;A_&&I_(ei,e)?Ri[e]=ei[e]:rI&&C_?Ri[e]=C_(t):Ri[e]=D4(t)}return Ri[e]},x4=fn,R4=x4("toStringTag"),sI={};sI[R4]="z";var cv=String(sI)==="[object z]",M4=pt,Zn=!M4(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),br={},P4=Ct,$n=function(e){return typeof e=="object"?e!==null:P4(e)},N4=Oe,O_=$n,fm=N4.document,$4=O_(fm)&&O_(fm.createElement),lv=function(e){return $4?fm.createElement(e):{}},L4=Zn,F4=pt,B4=lv,iI=!L4&&!F4(function(){return Object.defineProperty(B4("div"),"a",{get:function(){return 7}}).a!=7}),U4=Zn,j4=pt,oI=U4&&j4(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),aI=Oe,V4=$n,W4=aI.String,z4=aI.TypeError,On=function(e){if(V4(e))return e;throw z4(W4(e)+" is not an object")},H4=af,Oc=Function.prototype.call,Ln=H4?Oc.bind(Oc):function(){return Oc.apply(Oc,arguments)},Y4=ut,hv=Y4({}.isPrototypeOf),G4=Oe,K4=Hu,q4=Ct,X4=hv,Q4=nI,J4=G4.Object,uI=Q4?function(e){return typeof e=="symbol"}:function(e){var t=K4("Symbol");return q4(t)&&X4(t.prototype,J4(e))},Z4=Oe,eU=Z4.String,fv=function(e){try{return eU(e)}catch{return"Object"}},tU=Oe,nU=Ct,rU=fv,sU=tU.TypeError,uf=function(e){if(nU(e))return e;throw sU(rU(e)+" is not a function")},iU=uf,Yu=function(e,t){var n=e[t];return n==null?void 0:iU(n)},oU=Oe,_d=Ln,wd=Ct,bd=$n,aU=oU.TypeError,uU=function(e,t){var n,r;if(t==="string"&&wd(n=e.toString)&&!bd(r=_d(n,e))||wd(n=e.valueOf)&&!bd(r=_d(n,e))||t!=="string"&&wd(n=e.toString)&&!bd(r=_d(n,e)))return r;throw aU("Can't convert object to primitive value")},cU=Oe,lU=Ln,k_=$n,D_=uI,hU=Yu,fU=uU,dU=fn,pU=cU.TypeError,mU=dU("toPrimitive"),gU=function(e,t){if(!k_(e)||D_(e))return e;var n=hU(e,mU),r;if(n){if(t===void 0&&(t="default"),r=lU(n,e,t),!k_(r)||D_(r))return r;throw pU("Can't convert object to primitive value")}return t===void 0&&(t="number"),fU(e,t)},vU=gU,yU=uI,dv=function(e){var t=vU(e,"string");return yU(t)?t:t+""},_U=Oe,wU=Zn,bU=iI,EU=oI,kc=On,x_=dv,SU=_U.TypeError,Ed=Object.defineProperty,TU=Object.getOwnPropertyDescriptor,Sd="enumerable",Td="configurable",Id="writable";br.f=wU?EU?function(t,n,r){if(kc(t),n=x_(n),kc(r),typeof t=="function"&&n==="prototype"&&"value"in r&&Id in r&&!r[Id]){var s=TU(t,n);s&&s[Id]&&(t[n]=r.value,r={configurable:Td in r?r[Td]:s[Td],enumerable:Sd in r?r[Sd]:s[Sd],writable:!1})}return Ed(t,n,r)}:Ed:function(t,n,r){if(kc(t),n=x_(n),kc(r),bU)try{return Ed(t,n,r)}catch{}if("get"in r||"set"in r)throw SU("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var cf=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},IU=Zn,AU=br,CU=cf,yi=IU?function(e,t,n){return AU.f(e,t,CU(1,n))}:function(e,t,n){return e[t]=n,e},cI={exports:{}},dm=Zn,OU=Jn,lI=Function.prototype,kU=dm&&Object.getOwnPropertyDescriptor,pv=OU(lI,"name"),DU=pv&&function(){}.name==="something",xU=pv&&(!dm||dm&&kU(lI,"name").configurable),mv={EXISTS:pv,PROPER:DU,CONFIGURABLE:xU},RU=ut,MU=Ct,pm=ov,PU=RU(Function.toString);MU(pm.inspectSource)||(pm.inspectSource=function(e){return PU(e)});var gv=pm.inspectSource,NU=Oe,$U=Ct,LU=gv,R_=NU.WeakMap,hI=$U(R_)&&/native code/.test(LU(R_)),FU=of.exports,BU=av,M_=FU("keys"),vv=function(e){return M_[e]||(M_[e]=BU(e))},lf={},UU=hI,fI=Oe,Ad=ut,jU=$n,VU=yi,Cd=Jn,Od=ov,WU=vv,zU=lf,P_="Object already initialized",mm=fI.TypeError,HU=fI.WeakMap,ih,hu,oh,YU=function(e){return oh(e)?hu(e):ih(e,{})},GU=function(e){return function(t){var n;if(!jU(t)||(n=hu(t)).type!==e)throw mm("Incompatible receiver, "+e+" required");return n}};if(UU||Od.state){var Bs=Od.state||(Od.state=new HU),KU=Ad(Bs.get),N_=Ad(Bs.has),qU=Ad(Bs.set);ih=function(e,t){if(N_(Bs,e))throw new mm(P_);return t.facade=e,qU(Bs,e,t),t},hu=function(e){return KU(Bs,e)||{}},oh=function(e){return N_(Bs,e)}}else{var Mi=WU("state");zU[Mi]=!0,ih=function(e,t){if(Cd(e,Mi))throw new mm(P_);return t.facade=e,VU(e,Mi,t),t},hu=function(e){return Cd(e,Mi)?e[Mi]:{}},oh=function(e){return Cd(e,Mi)}}var Uo={set:ih,get:hu,has:oh,enforce:YU,getterFor:GU},XU=pt,QU=Ct,Dc=Jn,dI=Zn,JU=mv.CONFIGURABLE,ZU=gv,pI=Uo,e6=pI.enforce,t6=pI.get,yl=Object.defineProperty,n6=dI&&!XU(function(){return yl(function(){},"length",{value:8}).length!==8}),r6=String(String).split("String"),s6=cI.exports=function(e,t,n){if(String(t).slice(0,7)==="Symbol("&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!Dc(e,"name")||JU&&e.name!==t)&&yl(e,"name",{value:t,configurable:!0}),n6&&n&&Dc(n,"arity")&&e.length!==n.arity&&yl(e,"length",{value:n.arity}),n&&Dc(n,"constructor")&&n.constructor){if(dI)try{yl(e,"prototype",{writable:!1})}catch{}}else e.prototype=void 0;var r=e6(e);return Dc(r,"source")||(r.source=r6.join(typeof t=="string"?t:"")),e};Function.prototype.toString=s6(function(){return QU(this)&&t6(this).source||ZU(this)},"toString");var i6=Ct,o6=yi,a6=cI.exports,u6=iv,_i=function(e,t,n,r){r||(r={});var s=r.enumerable,i=r.name!==void 0?r.name:t;return i6(n)&&a6(n,i,r),r.global?s?e[t]=n:u6(t,n):(r.unsafe?e[t]&&(s=!0):delete e[t],s?e[t]=n:o6(e,t,n)),e},mI=ut,c6=mI({}.toString),l6=mI("".slice),wi=function(e){return l6(c6(e),8,-1)},h6=Oe,f6=cv,d6=Ct,_l=wi,p6=fn,m6=p6("toStringTag"),g6=h6.Object,v6=_l(function(){return arguments}())=="Arguments",y6=function(e,t){try{return e[t]}catch{}},hf=f6?_l:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=y6(t=g6(e),m6))=="string"?n:v6?_l(t):(r=_l(t))=="Object"&&d6(t.callee)?"Arguments":r},_6=cv,w6=hf,b6=_6?{}.toString:function(){return"[object "+w6(this)+"]"},E6=cv,S6=_i,T6=b6;E6||S6(Object.prototype,"toString",T6,{unsafe:!0});var gI={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},I6=lv,kd=I6("span").classList,$_=kd&&kd.constructor&&kd.constructor.prototype,vI=$_===Object.prototype?void 0:$_,L_=ut,A6=uf,C6=af,O6=L_(L_.bind),yI=function(e,t){return A6(e),t===void 0?e:C6?O6(e,t):function(){return e.apply(t,arguments)}},k6=Oe,D6=ut,x6=pt,R6=wi,Dd=k6.Object,M6=D6("".split),ff=x6(function(){return!Dd("z").propertyIsEnumerable(0)})?function(e){return R6(e)=="String"?M6(e,""):Dd(e)}:Dd,P6=Math.ceil,N6=Math.floor,$6=Math.trunc||function(t){var n=+t;return(n>0?N6:P6)(n)},L6=$6,df=function(e){var t=+e;return t!==t||t===0?0:L6(t)},F6=df,B6=Math.min,yv=function(e){return e>0?B6(F6(e),9007199254740991):0},U6=yv,Gu=function(e){return U6(e.length)},j6=wi,V6=Array.isArray||function(t){return j6(t)=="Array"},W6=ut,z6=pt,_I=Ct,H6=hf,Y6=Hu,G6=gv,wI=function(){},K6=[],bI=Y6("Reflect","construct"),_v=/^\s*(?:class|function)\b/,q6=W6(_v.exec),X6=!_v.exec(wI),aa=function(t){if(!_I(t))return!1;try{return bI(wI,K6,t),!0}catch{return!1}},EI=function(t){if(!_I(t))return!1;switch(H6(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return X6||!!q6(_v,G6(t))}catch{return!0}};EI.sham=!0;var Q6=!bI||z6(function(){var e;return aa(aa.call)||!aa(Object)||!aa(function(){e=!0})||e})?EI:aa,J6=Oe,F_=V6,Z6=Q6,ej=$n,tj=fn,nj=tj("species"),B_=J6.Array,rj=function(e){var t;return F_(e)&&(t=e.constructor,Z6(t)&&(t===B_||F_(t.prototype))?t=void 0:ej(t)&&(t=t[nj],t===null&&(t=void 0))),t===void 0?B_:t},sj=rj,ij=function(e,t){return new(sj(e))(t===0?0:t)},oj=yI,aj=ut,uj=ff,cj=Bo,lj=Gu,hj=ij,U_=aj([].push),Zr=function(e){var t=e==1,n=e==2,r=e==3,s=e==4,i=e==6,o=e==7,a=e==5||i;return function(u,c,l,h){for(var f=cj(u),p=uj(f),v=oj(c,l),O=lj(p),E=0,A=h||hj,x=t?A(u,O):n||o?A(u,0):void 0,H,V;O>E;E++)if((a||E in p)&&(H=p[E],V=v(H,E,f),e))if(t)x[E]=V;else if(V)switch(e){case 3:return!0;case 5:return H;case 6:return E;case 2:U_(x,H)}else switch(e){case 4:return!1;case 7:U_(x,H)}return i?-1:r||s?s:x}},wv={forEach:Zr(0),map:Zr(1),filter:Zr(2),some:Zr(3),every:Zr(4),find:Zr(5),findIndex:Zr(6),filterReject:Zr(7)},fj=pt,SI=function(e,t){var n=[][e];return!!n&&fj(function(){n.call(null,t||function(){return 1},1)})},dj=wv.forEach,pj=SI,mj=pj("forEach"),gj=mj?[].forEach:function(t){return dj(this,t,arguments.length>1?arguments[1]:void 0)},j_=Oe,V_=gI,vj=vI,xd=gj,yj=yi,TI=function(e){if(e&&e.forEach!==xd)try{yj(e,"forEach",xd)}catch{e.forEach=xd}};for(var Rd in V_)V_[Rd]&&TI(j_[Rd]&&j_[Rd].prototype);TI(vj);var _j=!!(typeof window!="undefined"&&window.document&&window.document.createElement),bv=_j,Ev={},Sv={},II={}.propertyIsEnumerable,AI=Object.getOwnPropertyDescriptor,wj=AI&&!II.call({1:2},1);Sv.f=wj?function(t){var n=AI(this,t);return!!n&&n.enumerable}:II;var bj=ff,Ej=Fo,jo=function(e){return bj(Ej(e))},Sj=Zn,Tj=Ln,Ij=Sv,Aj=cf,Cj=jo,Oj=dv,kj=Jn,Dj=iI,W_=Object.getOwnPropertyDescriptor;Ev.f=Sj?W_:function(t,n){if(t=Cj(t),n=Oj(n),Dj)try{return W_(t,n)}catch{}if(kj(t,n))return Aj(!Tj(Ij.f,t,n),t[n])};var pf={},xj=df,Rj=Math.max,Mj=Math.min,CI=function(e,t){var n=xj(e);return n<0?Rj(n+t,0):Mj(n,t)},Pj=jo,Nj=CI,$j=Gu,z_=function(e){return function(t,n,r){var s=Pj(t),i=$j(s),o=Nj(r,i),a;if(e&&n!=n){for(;i>o;)if(a=s[o++],a!=a)return!0}else for(;i>o;o++)if((e||o in s)&&s[o]===n)return e||o||0;return!e&&-1}},Lj={includes:z_(!0),indexOf:z_(!1)},Fj=ut,Md=Jn,Bj=jo,Uj=Lj.indexOf,jj=lf,H_=Fj([].push),OI=function(e,t){var n=Bj(e),r=0,s=[],i;for(i in n)!Md(jj,i)&&Md(n,i)&&H_(s,i);for(;t.length>r;)Md(n,i=t[r++])&&(~Uj(s,i)||H_(s,i));return s},Tv=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Vj=OI,Wj=Tv,zj=Wj.concat("length","prototype");pf.f=Object.getOwnPropertyNames||function(t){return Vj(t,zj)};var Iv={};Iv.f=Object.getOwnPropertySymbols;var Hj=Hu,Yj=ut,Gj=pf,Kj=Iv,qj=On,Xj=Yj([].concat),Qj=Hj("Reflect","ownKeys")||function(t){var n=Gj.f(qj(t)),r=Kj.f;return r?Xj(n,r(t)):n},Y_=Jn,Jj=Qj,Zj=Ev,e5=br,t5=function(e,t,n){for(var r=Jj(t),s=e5.f,i=Zj.f,o=0;o<r.length;o++){var a=r[o];!Y_(e,a)&&!(n&&Y_(n,a))&&s(e,a,i(t,a))}},n5=pt,r5=Ct,s5=/#|\.prototype\./,Ku=function(e,t){var n=o5[i5(e)];return n==u5?!0:n==a5?!1:r5(t)?n5(t):!!t},i5=Ku.normalize=function(e){return String(e).replace(s5,".").toLowerCase()},o5=Ku.data={},a5=Ku.NATIVE="N",u5=Ku.POLYFILL="P",kI=Ku,Pd=Oe,c5=Ev.f,l5=yi,h5=_i,f5=iv,d5=t5,p5=kI,xs=function(e,t){var n=e.target,r=e.global,s=e.stat,i,o,a,u,c,l;if(r?o=Pd:s?o=Pd[n]||f5(n,{}):o=(Pd[n]||{}).prototype,o)for(a in t){if(c=t[a],e.dontCallGetSet?(l=c5(o,a),u=l&&l.value):u=o[a],i=p5(r?a:n+(s?".":"#")+a,e.forced),!i&&u!==void 0){if(typeof c==typeof u)continue;d5(c,u)}(e.sham||u&&u.sham)&&l5(c,"sham",!0),h5(o,a,c,e)}},m5=Oe,g5=hf,v5=m5.String,bi=function(e){if(g5(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return v5(e)},DI=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,y5=ut,_5=Fo,w5=bi,b5=DI,G_=y5("".replace),ah="["+b5+"]",E5=RegExp("^"+ah+ah+"*"),S5=RegExp(ah+ah+"*$"),Nd=function(e){return function(t){var n=w5(_5(t));return e&1&&(n=G_(n,E5,"")),e&2&&(n=G_(n,S5,"")),n}},T5={start:Nd(1),end:Nd(2),trim:Nd(3)},xI=Oe,I5=pt,A5=ut,C5=bi,O5=T5.trim,K_=DI,xa=xI.parseInt,q_=xI.Symbol,X_=q_&&q_.iterator,RI=/^[+-]?0x/i,k5=A5(RI.exec),D5=xa(K_+"08")!==8||xa(K_+"0x16")!==22||X_&&!I5(function(){xa(Object(X_))}),x5=D5?function(t,n){var r=O5(C5(t));return xa(r,n>>>0||(k5(RI,r)?16:10))}:xa,R5=xs,Q_=x5;R5({global:!0,forced:parseInt!=Q_},{parseInt:Q_});var M5=OI,P5=Tv,MI=Object.keys||function(t){return M5(t,P5)},J_=Zn,N5=ut,$5=Ln,L5=pt,$d=MI,F5=Iv,B5=Sv,U5=Bo,j5=ff,Pi=Object.assign,Z_=Object.defineProperty,V5=N5([].concat),W5=!Pi||L5(function(){if(J_&&Pi({b:1},Pi(Z_({},"a",{enumerable:!0,get:function(){Z_(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(s){t[s]=s}),Pi({},e)[n]!=7||$d(Pi({},t)).join("")!=r})?function(t,n){for(var r=U5(t),s=arguments.length,i=1,o=F5.f,a=B5.f;s>i;)for(var u=j5(arguments[i++]),c=o?V5($d(u),o(u)):$d(u),l=c.length,h=0,f;l>h;)f=c[h++],(!J_||$5(a,u,f))&&(r[f]=u[f]);return r}:Pi,z5=xs,ew=W5;z5({target:"Object",stat:!0,arity:2,forced:Object.assign!==ew},{assign:ew});var H5=pt,Y5=fn,G5=uv,K5=Y5("species"),q5=function(e){return G5>=51||!H5(function(){var t=[],n=t.constructor={};return n[K5]=function(){return{foo:1}},t[e](Boolean).foo!==1})},X5=xs,Q5=wv.filter,J5=q5,Z5=J5("filter");X5({target:"Array",proto:!0,forced:!Z5},{filter:function(t){return Q5(this,t,arguments.length>1?arguments[1]:void 0)}});var PI={},e7=Zn,t7=oI,n7=br,r7=On,s7=jo,i7=MI;PI.f=e7&&!t7?Object.defineProperties:function(t,n){r7(t);for(var r=s7(n),s=i7(n),i=s.length,o=0,a;i>o;)n7.f(t,a=s[o++],r[a]);return t};var o7=Hu,a7=o7("document","documentElement"),u7=On,c7=PI,tw=Tv,l7=lf,h7=a7,f7=lv,d7=vv,nw=">",rw="<",gm="prototype",vm="script",NI=d7("IE_PROTO"),Ld=function(){},$I=function(e){return rw+vm+nw+e+rw+"/"+vm+nw},sw=function(e){e.write($I("")),e.close();var t=e.parentWindow.Object;return e=null,t},p7=function(){var e=f7("iframe"),t="java"+vm+":",n;return e.style.display="none",h7.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write($I("document.F=Object")),n.close(),n.F},xc,wl=function(){try{xc=new ActiveXObject("htmlfile")}catch{}wl=typeof document!="undefined"?document.domain&&xc?sw(xc):p7():sw(xc);for(var e=tw.length;e--;)delete wl[gm][tw[e]];return wl()};l7[NI]=!0;var Av=Object.create||function(t,n){var r;return t!==null?(Ld[gm]=u7(t),r=new Ld,Ld[gm]=null,r[NI]=t):r=wl(),n===void 0?r:c7.f(r,n)},m7=fn,g7=Av,v7=br.f,ym=m7("unscopables"),_m=Array.prototype;_m[ym]==null&&v7(_m,ym,{configurable:!0,value:g7(null)});var y7=function(e){_m[ym][e]=!0},qu={},_7=pt,w7=!_7(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),b7=Oe,E7=Jn,S7=Ct,T7=Bo,I7=vv,A7=w7,iw=I7("IE_PROTO"),wm=b7.Object,C7=wm.prototype,LI=A7?wm.getPrototypeOf:function(e){var t=T7(e);if(E7(t,iw))return t[iw];var n=t.constructor;return S7(n)&&t instanceof n?n.prototype:t instanceof wm?C7:null},O7=pt,k7=Ct,ow=LI,D7=_i,x7=fn,bm=x7("iterator"),FI=!1,ui,Fd,Bd;[].keys&&(Bd=[].keys(),"next"in Bd?(Fd=ow(ow(Bd)),Fd!==Object.prototype&&(ui=Fd)):FI=!0);var R7=ui==null||O7(function(){var e={};return ui[bm].call(e)!==e});R7&&(ui={});k7(ui[bm])||D7(ui,bm,function(){return this});var BI={IteratorPrototype:ui,BUGGY_SAFARI_ITERATORS:FI},M7=br.f,P7=Jn,N7=fn,aw=N7("toStringTag"),Cv=function(e,t,n){e&&!n&&(e=e.prototype),e&&!P7(e,aw)&&M7(e,aw,{configurable:!0,value:t})},$7=BI.IteratorPrototype,L7=Av,F7=cf,B7=Cv,U7=qu,j7=function(){return this},V7=function(e,t,n,r){var s=t+" Iterator";return e.prototype=L7($7,{next:F7(+!r,n)}),B7(e,s,!1),U7[s]=j7,e},UI=Oe,W7=Ct,z7=UI.String,H7=UI.TypeError,Y7=function(e){if(typeof e=="object"||W7(e))return e;throw H7("Can't set "+z7(e)+" as a prototype")},G7=ut,K7=On,q7=Y7,jI=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},n;try{n=G7(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),n(t,[]),e=t instanceof Array}catch{}return function(s,i){return K7(s),q7(i),e?n(s,i):s.__proto__=i,s}}():void 0),X7=xs,Q7=Ln,VI=mv,J7=Ct,Z7=V7,uw=LI,cw=jI,e8=Cv,t8=yi,Ud=_i,n8=fn,r8=qu,WI=BI,s8=VI.PROPER,i8=VI.CONFIGURABLE,lw=WI.IteratorPrototype,Rc=WI.BUGGY_SAFARI_ITERATORS,ua=n8("iterator"),hw="keys",ca="values",fw="entries",o8=function(){return this},zI=function(e,t,n,r,s,i,o){Z7(n,t,r);var a=function(A){if(A===s&&f)return f;if(!Rc&&A in l)return l[A];switch(A){case hw:return function(){return new n(this,A)};case ca:return function(){return new n(this,A)};case fw:return function(){return new n(this,A)}}return function(){return new n(this)}},u=t+" Iterator",c=!1,l=e.prototype,h=l[ua]||l["@@iterator"]||s&&l[s],f=!Rc&&h||a(s),p=t=="Array"&&l.entries||h,v,O,E;if(p&&(v=uw(p.call(new e)),v!==Object.prototype&&v.next&&(uw(v)!==lw&&(cw?cw(v,lw):J7(v[ua])||Ud(v,ua,o8)),e8(v,u,!0))),s8&&s==ca&&h&&h.name!==ca&&(i8?t8(l,"name",ca):(c=!0,f=function(){return Q7(h,this)})),s)if(O={values:a(ca),keys:i?f:a(hw),entries:a(fw)},o)for(E in O)(Rc||c||!(E in l))&&Ud(l,E,O[E]);else X7({target:t,proto:!0,forced:Rc||c},O);return l[ua]!==f&&Ud(l,ua,f,{name:s}),r8[t]=f,O},a8=jo,Ov=y7,dw=qu,HI=Uo,u8=br.f,c8=zI,l8=Zn,YI="Array Iterator",h8=HI.set,f8=HI.getterFor(YI),d8=c8(Array,"Array",function(e,t){h8(this,{type:YI,target:a8(e),index:0,kind:t})},function(){var e=f8(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):n=="keys"?{value:r,done:!1}:n=="values"?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),pw=dw.Arguments=dw.Array;Ov("keys");Ov("values");Ov("entries");if(l8&&pw.name!=="values")try{u8(pw,"name",{value:"values"})}catch{}var kv=ut,p8=df,m8=bi,g8=Fo,v8=kv("".charAt),mw=kv("".charCodeAt),y8=kv("".slice),gw=function(e){return function(t,n){var r=m8(g8(t)),s=p8(n),i=r.length,o,a;return s<0||s>=i?e?"":void 0:(o=mw(r,s),o<55296||o>56319||s+1===i||(a=mw(r,s+1))<56320||a>57343?e?v8(r,s):o:e?y8(r,s,s+2):(o-55296<<10)+(a-56320)+65536)}},GI={codeAt:gw(!1),charAt:gw(!0)},_8=GI.charAt,w8=bi,KI=Uo,b8=zI,qI="String Iterator",E8=KI.set,S8=KI.getterFor(qI);b8(String,"String",function(e){E8(this,{type:qI,string:w8(e),index:0})},function(){var t=S8(this),n=t.string,r=t.index,s;return r>=n.length?{value:void 0,done:!0}:(s=_8(n,r),t.index+=s.length,{value:s,done:!1})});var T8=_i,XI=function(e,t,n){for(var r in t)T8(e,r,t[r],n);return e},mf={exports:{}},QI={},I8=dv,A8=br,C8=cf,O8=function(e,t,n){var r=I8(t);r in e?A8.f(e,r,C8(0,n)):e[r]=n},k8=Oe,vw=CI,D8=Gu,x8=O8,R8=k8.Array,M8=Math.max,P8=function(e,t,n){for(var r=D8(e),s=vw(t,r),i=vw(n===void 0?r:n,r),o=R8(M8(i-s,0)),a=0;s<i;s++,a++)x8(o,a,e[s]);return o.length=a,o},N8=wi,$8=jo,JI=pf.f,L8=P8,ZI=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],F8=function(e){try{return JI(e)}catch{return L8(ZI)}};QI.f=function(t){return ZI&&N8(t)=="Window"?F8(t):JI($8(t))};var B8=pt,U8=B8(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),j8=pt,V8=$n,W8=wi,yw=U8,bl=Object.isExtensible,z8=j8(function(){bl(1)}),eA=z8||yw?function(t){return!V8(t)||yw&&W8(t)=="ArrayBuffer"?!1:bl?bl(t):!0}:bl,H8=pt,Y8=!H8(function(){return Object.isExtensible(Object.preventExtensions({}))}),G8=xs,K8=ut,q8=lf,X8=$n,Dv=Jn,Q8=br.f,_w=pf,J8=QI,xv=eA,Z8=av,eV=Y8,tA=!1,zr=Z8("meta"),tV=0,Rv=function(e){Q8(e,zr,{value:{objectID:"O"+tV++,weakData:{}}})},nV=function(e,t){if(!X8(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!Dv(e,zr)){if(!xv(e))return"F";if(!t)return"E";Rv(e)}return e[zr].objectID},rV=function(e,t){if(!Dv(e,zr)){if(!xv(e))return!0;if(!t)return!1;Rv(e)}return e[zr].weakData},sV=function(e){return eV&&tA&&xv(e)&&!Dv(e,zr)&&Rv(e),e},iV=function(){oV.enable=function(){},tA=!0;var e=_w.f,t=K8([].splice),n={};n[zr]=1,e(n).length&&(_w.f=function(r){for(var s=e(r),i=0,o=s.length;i<o;i++)if(s[i]===zr){t(s,i,1);break}return s},G8({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:J8.f}))},oV=mf.exports={enable:iV,fastKey:nV,getWeakData:rV,onFreeze:sV};q8[zr]=!0;var aV=fn,uV=qu,cV=aV("iterator"),lV=Array.prototype,hV=function(e){return e!==void 0&&(uV.Array===e||lV[cV]===e)},fV=hf,ww=Yu,dV=qu,pV=fn,mV=pV("iterator"),nA=function(e){if(e!=null)return ww(e,mV)||ww(e,"@@iterator")||dV[fV(e)]},gV=Oe,vV=Ln,yV=uf,_V=On,wV=fv,bV=nA,EV=gV.TypeError,SV=function(e,t){var n=arguments.length<2?bV(e):t;if(yV(n))return _V(vV(n,e));throw EV(wV(e)+" is not iterable")},TV=Ln,bw=On,IV=Yu,AV=function(e,t,n){var r,s;bw(e);try{if(r=IV(e,"return"),!r){if(t==="throw")throw n;return n}r=TV(r,e)}catch(i){s=!0,r=i}if(t==="throw")throw n;if(s)throw r;return bw(r),n},CV=Oe,OV=yI,kV=Ln,DV=On,xV=fv,RV=hV,MV=Gu,Ew=hv,PV=SV,NV=nA,Sw=AV,$V=CV.TypeError,El=function(e,t){this.stopped=e,this.result=t},Tw=El.prototype,rA=function(e,t,n){var r=n&&n.that,s=!!(n&&n.AS_ENTRIES),i=!!(n&&n.IS_ITERATOR),o=!!(n&&n.INTERRUPTED),a=OV(t,r),u,c,l,h,f,p,v,O=function(A){return u&&Sw(u,"normal",A),new El(!0,A)},E=function(A){return s?(DV(A),o?a(A[0],A[1],O):a(A[0],A[1])):o?a(A,O):a(A)};if(i)u=e;else{if(c=NV(e),!c)throw $V(xV(e)+" is not iterable");if(RV(c)){for(l=0,h=MV(e);h>l;l++)if(f=E(e[l]),f&&Ew(Tw,f))return f;return new El(!1)}u=PV(e,c)}for(p=u.next;!(v=kV(p,u)).done;){try{f=E(v.value)}catch(A){Sw(u,"throw",A)}if(typeof f=="object"&&f&&Ew(Tw,f))return f}return new El(!1)},LV=Oe,FV=hv,BV=LV.TypeError,sA=function(e,t){if(FV(t,e))return e;throw BV("Incorrect invocation")},UV=fn,iA=UV("iterator"),oA=!1;try{var jV=0,Iw={next:function(){return{done:!!jV++}},return:function(){oA=!0}};Iw[iA]=function(){return this},Array.from(Iw,function(){throw 2})}catch{}var VV=function(e,t){if(!t&&!oA)return!1;var n=!1;try{var r={};r[iA]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch{}return n},WV=Ct,zV=$n,Aw=jI,HV=function(e,t,n){var r,s;return Aw&&WV(r=t.constructor)&&r!==n&&zV(s=r.prototype)&&s!==n.prototype&&Aw(e,s),e},YV=xs,GV=Oe,KV=ut,Cw=kI,qV=_i,XV=mf.exports,QV=rA,JV=sA,ZV=Ct,jd=$n,Vd=pt,e9=VV,t9=Cv,n9=HV,r9=function(e,t,n){var r=e.indexOf("Map")!==-1,s=e.indexOf("Weak")!==-1,i=r?"set":"add",o=GV[e],a=o&&o.prototype,u=o,c={},l=function(A){var x=KV(a[A]);qV(a,A,A=="add"?function(V){return x(this,V===0?0:V),this}:A=="delete"?function(H){return s&&!jd(H)?!1:x(this,H===0?0:H)}:A=="get"?function(V){return s&&!jd(V)?void 0:x(this,V===0?0:V)}:A=="has"?function(V){return s&&!jd(V)?!1:x(this,V===0?0:V)}:function(V,R){return x(this,V===0?0:V,R),this})},h=Cw(e,!ZV(o)||!(s||a.forEach&&!Vd(function(){new o().entries().next()})));if(h)u=n.getConstructor(t,e,r,i),XV.enable();else if(Cw(e,!0)){var f=new u,p=f[i](s?{}:-0,1)!=f,v=Vd(function(){f.has(1)}),O=e9(function(A){new o(A)}),E=!s&&Vd(function(){for(var A=new o,x=5;x--;)A[i](x,x);return!A.has(-0)});O||(u=t(function(A,x){JV(A,a);var H=n9(new o,A,u);return x!=null&&QV(x,H[i],{that:H,AS_ENTRIES:r}),H}),u.prototype=a,a.constructor=u),(v||E)&&(l("delete"),l("has"),r&&l("get")),(E||p)&&l(i),s&&a.clear&&delete a.clear}return c[e]=u,YV({global:!0,constructor:!0,forced:u!=o},c),t9(u,e),s||n.setStrong(u,e,r),u},s9=ut,Ow=XI,Mc=mf.exports.getWeakData,i9=On,Wd=$n,o9=sA,a9=rA,aA=wv,kw=Jn,uA=Uo,u9=uA.set,c9=uA.getterFor,l9=aA.find,h9=aA.findIndex,f9=s9([].splice),d9=0,Pc=function(e){return e.frozen||(e.frozen=new cA)},cA=function(){this.entries=[]},zd=function(e,t){return l9(e.entries,function(n){return n[0]===t})};cA.prototype={get:function(e){var t=zd(this,e);if(t)return t[1]},has:function(e){return!!zd(this,e)},set:function(e,t){var n=zd(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=h9(this.entries,function(n){return n[0]===e});return~t&&f9(this.entries,t,1),!!~t}};var p9={getConstructor:function(e,t,n,r){var s=e(function(u,c){o9(u,i),u9(u,{type:t,id:d9++,frozen:void 0}),c!=null&&a9(c,u[r],{that:u,AS_ENTRIES:n})}),i=s.prototype,o=c9(t),a=function(u,c,l){var h=o(u),f=Mc(i9(c),!0);return f===!0?Pc(h).set(c,l):f[h.id]=l,u};return Ow(i,{delete:function(u){var c=o(this);if(!Wd(u))return!1;var l=Mc(u);return l===!0?Pc(c).delete(u):l&&kw(l,c.id)&&delete l[c.id]},has:function(c){var l=o(this);if(!Wd(c))return!1;var h=Mc(c);return h===!0?Pc(l).has(c):h&&kw(h,l.id)}}),Ow(i,n?{get:function(c){var l=o(this);if(Wd(c)){var h=Mc(c);return h===!0?Pc(l).get(c):h?h[l.id]:void 0}},set:function(c,l){return a(this,c,l)}}:{add:function(c){return a(this,c,!0)}}),s}},Dw=Oe,Nc=ut,m9=XI,g9=mf.exports,v9=r9,lA=p9,$c=$n,Lc=eA,Fc=Uo.enforce,y9=hI,_9=!Dw.ActiveXObject&&"ActiveXObject"in Dw,la,hA=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},w9=v9("WeakMap",hA,lA);if(y9&&_9){la=lA.getConstructor(hA,"WeakMap",!0),g9.enable();var ha=w9.prototype,xw=Nc(ha.delete),Bc=Nc(ha.has),Rw=Nc(ha.get),Mw=Nc(ha.set);m9(ha,{delete:function(e){if($c(e)&&!Lc(e)){var t=Fc(this);return t.frozen||(t.frozen=new la),xw(this,e)||t.frozen.delete(e)}return xw(this,e)},has:function(t){if($c(t)&&!Lc(t)){var n=Fc(this);return n.frozen||(n.frozen=new la),Bc(this,t)||n.frozen.has(t)}return Bc(this,t)},get:function(t){if($c(t)&&!Lc(t)){var n=Fc(this);return n.frozen||(n.frozen=new la),Bc(this,t)?Rw(this,t):n.frozen.get(t)}return Rw(this,t)},set:function(t,n){if($c(t)&&!Lc(t)){var r=Fc(this);r.frozen||(r.frozen=new la),Bc(this,t)?Mw(this,t,n):r.frozen.set(t,n)}else Mw(this,t,n);return this}})}var Pw=Oe,fA=gI,b9=vI,ya=d8,Hd=yi,dA=fn,Yd=dA("iterator"),Nw=dA("toStringTag"),Gd=ya.values,pA=function(e,t){if(e){if(e[Yd]!==Gd)try{Hd(e,Yd,Gd)}catch{e[Yd]=Gd}if(e[Nw]||Hd(e,Nw,t),fA[t]){for(var n in ya)if(e[n]!==ya[n])try{Hd(e,n,ya[n])}catch{e[n]=ya[n]}}}};for(var Kd in fA)pA(Pw[Kd]&&Pw[Kd].prototype,Kd);pA(b9,"DOMTokenList");var mA="Expected a function",$w=0/0,E9="[object Symbol]",S9=/^\s+|\s+$/g,T9=/^[-+]0x[0-9a-f]+$/i,I9=/^0b[01]+$/i,A9=/^0o[0-7]+$/i,C9=parseInt,O9=typeof $t=="object"&&$t&&$t.Object===Object&&$t,k9=typeof self=="object"&&self&&self.Object===Object&&self,D9=O9||k9||Function("return this")(),x9=Object.prototype,R9=x9.toString,M9=Math.max,P9=Math.min,qd=function(){return D9.Date.now()};function N9(e,t,n){var r,s,i,o,a,u,c=0,l=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(mA);t=Lw(t)||0,uh(n)&&(l=!!n.leading,h="maxWait"in n,i=h?M9(Lw(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function p(M){var w=r,C=s;return r=s=void 0,c=M,o=e.apply(C,w),o}function v(M){return c=M,a=setTimeout(A,t),l?p(M):o}function O(M){var w=M-u,C=M-c,X=t-w;return h?P9(X,i-C):X}function E(M){var w=M-u,C=M-c;return u===void 0||w>=t||w<0||h&&C>=i}function A(){var M=qd();if(E(M))return x(M);a=setTimeout(A,O(M))}function x(M){return a=void 0,f&&r?p(M):(r=s=void 0,o)}function H(){a!==void 0&&clearTimeout(a),c=0,r=u=s=a=void 0}function V(){return a===void 0?o:x(qd())}function R(){var M=qd(),w=E(M);if(r=arguments,s=this,u=M,w){if(a===void 0)return v(u);if(h)return a=setTimeout(A,t),p(u)}return a===void 0&&(a=setTimeout(A,t)),o}return R.cancel=H,R.flush=V,R}function $9(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(mA);return uh(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),N9(e,t,{leading:r,maxWait:t,trailing:s})}function uh(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function L9(e){return!!e&&typeof e=="object"}function F9(e){return typeof e=="symbol"||L9(e)&&R9.call(e)==E9}function Lw(e){if(typeof e=="number")return e;if(F9(e))return $w;if(uh(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=uh(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(S9,"");var n=I9.test(e);return n||A9.test(e)?C9(e.slice(2),n?2:8):T9.test(e)?$w:+e}var Fw=$9,B9="Expected a function",Bw=0/0,U9="[object Symbol]",j9=/^\s+|\s+$/g,V9=/^[-+]0x[0-9a-f]+$/i,W9=/^0b[01]+$/i,z9=/^0o[0-7]+$/i,H9=parseInt,Y9=typeof $t=="object"&&$t&&$t.Object===Object&&$t,G9=typeof self=="object"&&self&&self.Object===Object&&self,K9=Y9||G9||Function("return this")(),q9=Object.prototype,X9=q9.toString,Q9=Math.max,J9=Math.min,Xd=function(){return K9.Date.now()};function Z9(e,t,n){var r,s,i,o,a,u,c=0,l=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(B9);t=Uw(t)||0,Em(n)&&(l=!!n.leading,h="maxWait"in n,i=h?Q9(Uw(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function p(M){var w=r,C=s;return r=s=void 0,c=M,o=e.apply(C,w),o}function v(M){return c=M,a=setTimeout(A,t),l?p(M):o}function O(M){var w=M-u,C=M-c,X=t-w;return h?J9(X,i-C):X}function E(M){var w=M-u,C=M-c;return u===void 0||w>=t||w<0||h&&C>=i}function A(){var M=Xd();if(E(M))return x(M);a=setTimeout(A,O(M))}function x(M){return a=void 0,f&&r?p(M):(r=s=void 0,o)}function H(){a!==void 0&&clearTimeout(a),c=0,r=u=s=a=void 0}function V(){return a===void 0?o:x(Xd())}function R(){var M=Xd(),w=E(M);if(r=arguments,s=this,u=M,w){if(a===void 0)return v(u);if(h)return a=setTimeout(A,t),p(u)}return a===void 0&&(a=setTimeout(A,t)),o}return R.cancel=H,R.flush=V,R}function Em(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function eW(e){return!!e&&typeof e=="object"}function tW(e){return typeof e=="symbol"||eW(e)&&X9.call(e)==U9}function Uw(e){if(typeof e=="number")return e;if(tW(e))return Bw;if(Em(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Em(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(j9,"");var n=W9.test(e);return n||z9.test(e)?H9(e.slice(2),n?2:8):V9.test(e)?Bw:+e}var jw=Z9,nW="Expected a function",gA="__lodash_hash_undefined__",rW="[object Function]",sW="[object GeneratorFunction]",iW=/[\\^$.*+?()[\]{}|]/g,oW=/^\[object .+?Constructor\]$/,aW=typeof $t=="object"&&$t&&$t.Object===Object&&$t,uW=typeof self=="object"&&self&&self.Object===Object&&self,vA=aW||uW||Function("return this")();function cW(e,t){return e==null?void 0:e[t]}function lW(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var hW=Array.prototype,fW=Function.prototype,yA=Object.prototype,Qd=vA["__core-js_shared__"],Vw=function(){var e=/[^.]+$/.exec(Qd&&Qd.keys&&Qd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),_A=fW.toString,Mv=yA.hasOwnProperty,dW=yA.toString,pW=RegExp("^"+_A.call(Mv).replace(iW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mW=hW.splice,gW=wA(vA,"Map"),fu=wA(Object,"create");function ci(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function vW(){this.__data__=fu?fu(null):{}}function yW(e){return this.has(e)&&delete this.__data__[e]}function _W(e){var t=this.__data__;if(fu){var n=t[e];return n===gA?void 0:n}return Mv.call(t,e)?t[e]:void 0}function wW(e){var t=this.__data__;return fu?t[e]!==void 0:Mv.call(t,e)}function bW(e,t){var n=this.__data__;return n[e]=fu&&t===void 0?gA:t,this}ci.prototype.clear=vW;ci.prototype.delete=yW;ci.prototype.get=_W;ci.prototype.has=wW;ci.prototype.set=bW;function Vo(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function EW(){this.__data__=[]}function SW(e){var t=this.__data__,n=gf(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():mW.call(t,n,1),!0}function TW(e){var t=this.__data__,n=gf(t,e);return n<0?void 0:t[n][1]}function IW(e){return gf(this.__data__,e)>-1}function AW(e,t){var n=this.__data__,r=gf(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}Vo.prototype.clear=EW;Vo.prototype.delete=SW;Vo.prototype.get=TW;Vo.prototype.has=IW;Vo.prototype.set=AW;function Ei(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function CW(){this.__data__={hash:new ci,map:new(gW||Vo),string:new ci}}function OW(e){return vf(this,e).delete(e)}function kW(e){return vf(this,e).get(e)}function DW(e){return vf(this,e).has(e)}function xW(e,t){return vf(this,e).set(e,t),this}Ei.prototype.clear=CW;Ei.prototype.delete=OW;Ei.prototype.get=kW;Ei.prototype.has=DW;Ei.prototype.set=xW;function gf(e,t){for(var n=e.length;n--;)if($W(e[n][0],t))return n;return-1}function RW(e){if(!bA(e)||PW(e))return!1;var t=LW(e)||lW(e)?pW:oW;return t.test(NW(e))}function vf(e,t){var n=e.__data__;return MW(t)?n[typeof t=="string"?"string":"hash"]:n.map}function wA(e,t){var n=cW(e,t);return RW(n)?n:void 0}function MW(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function PW(e){return!!Vw&&Vw in e}function NW(e){if(e!=null){try{return _A.call(e)}catch{}try{return e+""}catch{}}return""}function Pv(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(nW);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=e.apply(this,r);return n.cache=i.set(s,o),o};return n.cache=new(Pv.Cache||Ei),n}Pv.Cache=Ei;function $W(e,t){return e===t||e!==e&&t!==t}function LW(e){var t=bA(e)?dW.call(e):"";return t==rW||t==sW}function bA(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}var FW=Pv,ti=[],BW=function(){return ti.some(function(e){return e.activeTargets.length>0})},UW=function(){return ti.some(function(e){return e.skippedTargets.length>0})},Ww="ResizeObserver loop completed with undelivered notifications.",jW=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:Ww}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=Ww),window.dispatchEvent(e)},du;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(du||(du={}));var ni=function(e){return Object.freeze(e)},VW=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,ni(this)}return e}(),EA=function(){function e(t,n,r,s){return this.x=t,this.y=n,this.width=r,this.height=s,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ni(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,s=t.top,i=t.right,o=t.bottom,a=t.left,u=t.width,c=t.height;return{x:n,y:r,top:s,right:i,bottom:o,left:a,width:u,height:c}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Nv=function(e){return e instanceof SVGElement&&"getBBox"in e},SA=function(e){if(Nv(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var s=e,i=s.offsetWidth,o=s.offsetHeight;return!(i||o||e.getClientRects().length)},zw=function(e){var t,n;if(e instanceof Element)return!0;var r=(n=(t=e)===null||t===void 0?void 0:t.ownerDocument)===null||n===void 0?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},WW=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Ra=typeof window!="undefined"?window:{},Uc=new WeakMap,Hw=/auto|scroll/,zW=/^tb|vertical/,HW=/msie|trident/i.test(Ra.navigator&&Ra.navigator.userAgent),tr=function(e){return parseFloat(e||"0")},io=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new VW((n?t:e)||0,(n?e:t)||0)},Yw=ni({devicePixelContentBoxSize:io(),borderBoxSize:io(),contentBoxSize:io(),contentRect:new EA(0,0,0,0)}),TA=function(e,t){if(t===void 0&&(t=!1),Uc.has(e)&&!t)return Uc.get(e);if(SA(e))return Uc.set(e,Yw),Yw;var n=getComputedStyle(e),r=Nv(e)&&e.ownerSVGElement&&e.getBBox(),s=!HW&&n.boxSizing==="border-box",i=zW.test(n.writingMode||""),o=!r&&Hw.test(n.overflowY||""),a=!r&&Hw.test(n.overflowX||""),u=r?0:tr(n.paddingTop),c=r?0:tr(n.paddingRight),l=r?0:tr(n.paddingBottom),h=r?0:tr(n.paddingLeft),f=r?0:tr(n.borderTopWidth),p=r?0:tr(n.borderRightWidth),v=r?0:tr(n.borderBottomWidth),O=r?0:tr(n.borderLeftWidth),E=h+c,A=u+l,x=O+p,H=f+v,V=a?e.offsetHeight-H-e.clientHeight:0,R=o?e.offsetWidth-x-e.clientWidth:0,M=s?E+x:0,w=s?A+H:0,C=r?r.width:tr(n.width)-M-R,X=r?r.height:tr(n.height)-w-V,de=C+E+R+x,Ce=X+A+V+H,Re=ni({devicePixelContentBoxSize:io(Math.round(C*devicePixelRatio),Math.round(X*devicePixelRatio),i),borderBoxSize:io(de,Ce,i),contentBoxSize:io(C,X,i),contentRect:new EA(h,u,C,X)});return Uc.set(e,Re),Re},IA=function(e,t,n){var r=TA(e,n),s=r.borderBoxSize,i=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(t){case du.DEVICE_PIXEL_CONTENT_BOX:return o;case du.BORDER_BOX:return s;default:return i}},YW=function(){function e(t){var n=TA(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=ni([n.borderBoxSize]),this.contentBoxSize=ni([n.contentBoxSize]),this.devicePixelContentBoxSize=ni([n.devicePixelContentBoxSize])}return e}(),AA=function(e){if(SA(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},GW=function(){var e=1/0,t=[];ti.forEach(function(o){if(o.activeTargets.length!==0){var a=[];o.activeTargets.forEach(function(c){var l=new YW(c.target),h=AA(c.target);a.push(l),c.lastReportedSize=IA(c.target,c.observedBox),h<e&&(e=h)}),t.push(function(){o.callback.call(o.observer,a,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var s=r[n];s()}return e},Gw=function(e){ti.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(s){s.isActive()&&(AA(s.target)>e?n.activeTargets.push(s):n.skippedTargets.push(s))})})},KW=function(){var e=0;for(Gw(e);BW();)e=GW(),Gw(e);return UW()&&jW(),e>0},Jd,CA=[],qW=function(){return CA.splice(0).forEach(function(e){return e()})},XW=function(e){if(!Jd){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return qW()}).observe(n,r),Jd=function(){n.textContent=""+(t?t--:t++)}}CA.push(e),Jd()},QW=function(e){XW(function(){requestAnimationFrame(e)})},Sl=0,JW=function(){return!!Sl},ZW=250,ez={attributes:!0,characterData:!0,childList:!0,subtree:!0},Kw=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],qw=function(e){return e===void 0&&(e=0),Date.now()+e},Zd=!1,tz=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=ZW),!Zd){Zd=!0;var r=qw(t);QW(function(){var s=!1;try{s=KW()}finally{if(Zd=!1,t=r-qw(),!JW())return;s?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,ez)};document.body?n():Ra.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Kw.forEach(function(n){return Ra.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Kw.forEach(function(n){return Ra.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),Sm=new tz,Xw=function(e){!Sl&&e>0&&Sm.start(),Sl+=e,!Sl&&Sm.stop()},nz=function(e){return!Nv(e)&&!WW(e)&&getComputedStyle(e).display==="inline"},rz=function(){function e(t,n){this.target=t,this.observedBox=n||du.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=IA(this.target,this.observedBox,!0);return nz(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),sz=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),jc=new WeakMap,Qw=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Vc=function(){function e(){}return e.connect=function(t,n){var r=new sz(t,n);jc.set(t,r)},e.observe=function(t,n,r){var s=jc.get(t),i=s.observationTargets.length===0;Qw(s.observationTargets,n)<0&&(i&&ti.push(s),s.observationTargets.push(new rz(n,r&&r.box)),Xw(1),Sm.schedule())},e.unobserve=function(t,n){var r=jc.get(t),s=Qw(r.observationTargets,n),i=r.observationTargets.length===1;s>=0&&(i&&ti.splice(ti.indexOf(r),1),r.observationTargets.splice(s,1),Xw(-1))},e.disconnect=function(t){var n=this,r=jc.get(t);r.observationTargets.slice().forEach(function(s){return n.unobserve(t,s.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),iz=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Vc.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!zw(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Vc.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!zw(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Vc.unobserve(this,t)},e.prototype.disconnect=function(){Vc.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),oz=Oe,az=uf,uz=Bo,cz=ff,lz=Gu,hz=oz.TypeError,Jw=function(e){return function(t,n,r,s){az(n);var i=uz(t),o=cz(i),a=lz(i),u=e?a-1:0,c=e?-1:1;if(r<2)for(;;){if(u in o){s=o[u],u+=c;break}if(u+=c,e?u<0:a<=u)throw hz("Reduce of empty array with no initial value")}for(;e?u>=0:a>u;u+=c)u in o&&(s=n(s,o[u],u,i));return s}},fz={left:Jw(!1),right:Jw(!0)},dz=wi,pz=Oe,mz=dz(pz.process)=="process",gz=xs,vz=fz.left,yz=SI,Zw=uv,_z=mz,wz=yz("reduce"),bz=!_z&&Zw>79&&Zw<83;gz({target:"Array",proto:!0,forced:!wz||bz},{reduce:function(t){var n=arguments.length;return vz(this,t,n,n>1?arguments[1]:void 0)}});var Ez=On,Sz=function(){var e=Ez(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},$v=pt,Tz=Oe,Lv=Tz.RegExp,Fv=$v(function(){var e=Lv("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),Iz=Fv||$v(function(){return!Lv("a","y").sticky}),Az=Fv||$v(function(){var e=Lv("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),Cz={BROKEN_CARET:Az,MISSED_STICKY:Iz,UNSUPPORTED_Y:Fv},Oz=pt,kz=Oe,Dz=kz.RegExp,xz=Oz(function(){var e=Dz(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),Rz=pt,Mz=Oe,Pz=Mz.RegExp,Nz=Rz(function(){var e=Pz("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),Hi=Ln,yf=ut,$z=bi,Lz=Sz,Fz=Cz,Bz=of.exports,Uz=Av,jz=Uo.get,Vz=xz,Wz=Nz,zz=Bz("native-string-replace",String.prototype.replace),ch=RegExp.prototype.exec,Tm=ch,Hz=yf("".charAt),Yz=yf("".indexOf),Gz=yf("".replace),ep=yf("".slice),Im=function(){var e=/a/,t=/b*/g;return Hi(ch,e,"a"),Hi(ch,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),OA=Fz.BROKEN_CARET,Am=/()??/.exec("")[1]!==void 0,Kz=Im||Am||OA||Vz||Wz;Kz&&(Tm=function(t){var n=this,r=jz(n),s=$z(t),i=r.raw,o,a,u,c,l,h,f;if(i)return i.lastIndex=n.lastIndex,o=Hi(Tm,i,s),n.lastIndex=i.lastIndex,o;var p=r.groups,v=OA&&n.sticky,O=Hi(Lz,n),E=n.source,A=0,x=s;if(v&&(O=Gz(O,"y",""),Yz(O,"g")===-1&&(O+="g"),x=ep(s,n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&Hz(s,n.lastIndex-1)!==`
`)&&(E="(?: "+E+")",x=" "+x,A++),a=new RegExp("^(?:"+E+")",O)),Am&&(a=new RegExp("^"+E+"$(?!\\s)",O)),Im&&(u=n.lastIndex),c=Hi(ch,v?a:n,x),v?c?(c.input=ep(c.input,A),c[0]=ep(c[0],A),c.index=n.lastIndex,n.lastIndex+=c[0].length):n.lastIndex=0:Im&&c&&(n.lastIndex=n.global?c.index+c[0].length:u),Am&&c&&c.length>1&&Hi(zz,c[0],a,function(){for(l=1;l<arguments.length-2;l++)arguments[l]===void 0&&(c[l]=void 0)}),c&&p)for(c.groups=h=Uz(null),l=0;l<p.length;l++)f=p[l],h[f[0]]=c[f[1]];return c});var Bv=Tm,qz=xs,eb=Bv;qz({target:"RegExp",proto:!0,forced:/./.exec!==eb},{exec:eb});var tb=ut,nb=_i,Xz=Bv,rb=pt,kA=fn,Qz=yi,Jz=kA("species"),tp=RegExp.prototype,DA=function(e,t,n,r){var s=kA(e),i=!rb(function(){var c={};return c[s]=function(){return 7},""[e](c)!=7}),o=i&&!rb(function(){var c=!1,l=/a/;return e==="split"&&(l={},l.constructor={},l.constructor[Jz]=function(){return l},l.flags="",l[s]=/./[s]),l.exec=function(){return c=!0,null},l[s](""),!c});if(!i||!o||n){var a=tb(/./[s]),u=t(s,""[e],function(c,l,h,f,p){var v=tb(c),O=l.exec;return O===Xz||O===tp.exec?i&&!p?{done:!0,value:a(l,h,f)}:{done:!0,value:v(h,l,f)}:{done:!1}});nb(String.prototype,e,u[0]),nb(tp,s,u[1])}r&&Qz(tp[s],"sham",!0)},Zz=GI.charAt,xA=function(e,t,n){return t+(n?Zz(e,t).length:1)},eH=Oe,sb=Ln,tH=On,nH=Ct,rH=wi,sH=Bv,iH=eH.TypeError,RA=function(e,t){var n=e.exec;if(nH(n)){var r=sb(n,e,t);return r!==null&&tH(r),r}if(rH(e)==="RegExp")return sb(sH,e,t);throw iH("RegExp#exec called on incompatible receiver")},oH=Ln,aH=DA,uH=On,cH=yv,np=bi,lH=Fo,hH=Yu,fH=xA,ib=RA;aH("match",function(e,t,n){return[function(s){var i=lH(this),o=s==null?void 0:hH(s,e);return o?oH(o,s,i):new RegExp(s)[e](np(i))},function(r){var s=uH(this),i=np(r),o=n(t,s,i);if(o.done)return o.value;if(!s.global)return ib(s,i);var a=s.unicode;s.lastIndex=0;for(var u=[],c=0,l;(l=ib(s,i))!==null;){var h=np(l[0]);u[c]=h,h===""&&(s.lastIndex=fH(i,cH(s.lastIndex),a)),c++}return c===0?null:u}]});var dH=Zn,pH=mv.EXISTS,MA=ut,mH=br.f,PA=Function.prototype,gH=MA(PA.toString),NA=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,vH=MA(NA.exec),yH="name";dH&&!pH&&mH(PA,yH,{configurable:!0,get:function(){try{return vH(NA,gH(this))[1]}catch{return""}}});var _H=af,$A=Function.prototype,ob=$A.apply,ab=$A.call,wH=typeof Reflect=="object"&&Reflect.apply||(_H?ab.bind(ob):function(){return ab.apply(ob,arguments)}),Uv=ut,bH=Bo,EH=Math.floor,rp=Uv("".charAt),SH=Uv("".replace),sp=Uv("".slice),TH=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,IH=/\$([$&'`]|\d{1,2})/g,AH=function(e,t,n,r,s,i){var o=n+e.length,a=r.length,u=IH;return s!==void 0&&(s=bH(s),u=TH),SH(i,u,function(c,l){var h;switch(rp(l,0)){case"$":return"$";case"&":return e;case"`":return sp(t,0,n);case"'":return sp(t,o);case"<":h=s[sp(l,1,-1)];break;default:var f=+l;if(f===0)return c;if(f>a){var p=EH(f/10);return p===0?c:p<=a?r[p-1]===void 0?rp(l,1):r[p-1]+rp(l,1):c}h=r[f-1]}return h===void 0?"":h})},CH=wH,ub=Ln,_f=ut,OH=DA,kH=pt,DH=On,xH=Ct,RH=df,MH=yv,Ni=bi,PH=Fo,NH=xA,$H=Yu,LH=AH,FH=RA,BH=fn,Cm=BH("replace"),UH=Math.max,jH=Math.min,VH=_f([].concat),ip=_f([].push),cb=_f("".indexOf),lb=_f("".slice),WH=function(e){return e===void 0?e:String(e)},zH=function(){return"a".replace(/./,"$0")==="$0"}(),hb=function(){return/./[Cm]?/./[Cm]("a","$0")==="":!1}(),HH=!kH(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});OH("replace",function(e,t,n){var r=hb?"$":"$0";return[function(i,o){var a=PH(this),u=i==null?void 0:$H(i,Cm);return u?ub(u,i,a,o):ub(t,Ni(a),i,o)},function(s,i){var o=DH(this),a=Ni(s);if(typeof i=="string"&&cb(i,r)===-1&&cb(i,"$<")===-1){var u=n(t,o,a,i);if(u.done)return u.value}var c=xH(i);c||(i=Ni(i));var l=o.global;if(l){var h=o.unicode;o.lastIndex=0}for(var f=[];;){var p=FH(o,a);if(p===null||(ip(f,p),!l))break;var v=Ni(p[0]);v===""&&(o.lastIndex=NH(a,MH(o.lastIndex),h))}for(var O="",E=0,A=0;A<f.length;A++){p=f[A];for(var x=Ni(p[0]),H=UH(jH(RH(p.index),a.length),0),V=[],R=1;R<p.length;R++)ip(V,WH(p[R]));var M=p.groups;if(c){var w=VH([x],V,H,a);M!==void 0&&ip(w,M);var C=Ni(CH(i,void 0,w))}else C=LH(x,a,H,V,M,i);H>=E&&(O+=lb(a,E,H)+C,E=H+x.length)}return O+lb(a,E)}]},!HH||!zH||hb);var lh=function(t){var n=Array.prototype.reduce.call(t,function(r,s){var i=s.name.match(/data-simplebar-(.+)/);if(i){var o=i[1].replace(/\W+(.)/g,function(a,u){return u.toUpperCase()});switch(s.value){case"true":r[o]=!0;break;case"false":r[o]=!1;break;case void 0:r[o]=!0;break;default:r[o]=s.value}}return r},{});return n};function es(e){return!e||!e.ownerDocument||!e.ownerDocument.defaultView?window:e.ownerDocument.defaultView}function Tl(e){return!e||!e.ownerDocument?document:e.ownerDocument}var ji=null,fb=null;bv&&window.addEventListener("resize",function(){fb!==window.devicePixelRatio&&(fb=window.devicePixelRatio,ji=null)});function db(e){if(ji===null){var t=Tl(e);if(typeof t=="undefined")return ji=0,ji;var n=t.body,r=t.createElement("div");r.classList.add("simplebar-hide-scrollbar"),n.appendChild(r);var s=r.getBoundingClientRect().right;n.removeChild(r),ji=s}return ji}var bt=function(){function e(n,r){var s=this;this.onScroll=function(){var i=es(s.el);s.scrollXTicking||(i.requestAnimationFrame(s.scrollX),s.scrollXTicking=!0),s.scrollYTicking||(i.requestAnimationFrame(s.scrollY),s.scrollYTicking=!0)},this.scrollX=function(){s.axis.x.isOverflowing&&(s.showScrollbar("x"),s.positionScrollbar("x")),s.scrollXTicking=!1},this.scrollY=function(){s.axis.y.isOverflowing&&(s.showScrollbar("y"),s.positionScrollbar("y")),s.scrollYTicking=!1},this.onMouseEnter=function(){s.showScrollbar("x"),s.showScrollbar("y")},this.onMouseMove=function(i){s.mouseX=i.clientX,s.mouseY=i.clientY,(s.axis.x.isOverflowing||s.axis.x.forceVisible)&&s.onMouseMoveForAxis("x"),(s.axis.y.isOverflowing||s.axis.y.forceVisible)&&s.onMouseMoveForAxis("y")},this.onMouseLeave=function(){s.onMouseMove.cancel(),(s.axis.x.isOverflowing||s.axis.x.forceVisible)&&s.onMouseLeaveForAxis("x"),(s.axis.y.isOverflowing||s.axis.y.forceVisible)&&s.onMouseLeaveForAxis("y"),s.mouseX=-1,s.mouseY=-1},this.onWindowResize=function(){s.scrollbarWidth=s.getScrollbarWidth(),s.hideNativeScrollbar()},this.hideScrollbars=function(){s.axis.x.track.rect=s.axis.x.track.el.getBoundingClientRect(),s.axis.y.track.rect=s.axis.y.track.el.getBoundingClientRect(),s.isWithinBounds(s.axis.y.track.rect)||(s.axis.y.scrollbar.el.classList.remove(s.classNames.visible),s.axis.y.isVisible=!1),s.isWithinBounds(s.axis.x.track.rect)||(s.axis.x.scrollbar.el.classList.remove(s.classNames.visible),s.axis.x.isVisible=!1)},this.onPointerEvent=function(i){var o,a;s.axis.x.track.rect=s.axis.x.track.el.getBoundingClientRect(),s.axis.y.track.rect=s.axis.y.track.el.getBoundingClientRect(),(s.axis.x.isOverflowing||s.axis.x.forceVisible)&&(o=s.isWithinBounds(s.axis.x.track.rect)),(s.axis.y.isOverflowing||s.axis.y.forceVisible)&&(a=s.isWithinBounds(s.axis.y.track.rect)),(o||a)&&(i.preventDefault(),i.stopPropagation(),i.type==="mousedown"&&(o&&(s.axis.x.scrollbar.rect=s.axis.x.scrollbar.el.getBoundingClientRect(),s.isWithinBounds(s.axis.x.scrollbar.rect)?s.onDragStart(i,"x"):s.onTrackClick(i,"x")),a&&(s.axis.y.scrollbar.rect=s.axis.y.scrollbar.el.getBoundingClientRect(),s.isWithinBounds(s.axis.y.scrollbar.rect)?s.onDragStart(i,"y"):s.onTrackClick(i,"y"))))},this.drag=function(i){var o,a=s.axis[s.draggedAxis].track,u=a.rect[s.axis[s.draggedAxis].sizeAttr],c=s.axis[s.draggedAxis].scrollbar,l=s.contentWrapperEl[s.axis[s.draggedAxis].scrollSizeAttr],h=parseInt(s.elStyles[s.axis[s.draggedAxis].sizeAttr],10);i.preventDefault(),i.stopPropagation(),s.draggedAxis==="y"?o=i.pageY:o=i.pageX;var f=o-a.rect[s.axis[s.draggedAxis].offsetAttr]-s.axis[s.draggedAxis].dragOffset,p=f/(u-c.size),v=p*(l-h);s.draggedAxis==="x"&&(v=s.isRtl&&e.getRtlHelpers().isRtlScrollbarInverted?v-(u+c.size):v,v=s.isRtl&&e.getRtlHelpers().isRtlScrollingInverted?-v:v),s.contentWrapperEl[s.axis[s.draggedAxis].scrollOffsetAttr]=v},this.onEndDrag=function(i){var o=Tl(s.el),a=es(s.el);i.preventDefault(),i.stopPropagation(),s.el.classList.remove(s.classNames.dragging),o.removeEventListener("mousemove",s.drag,!0),o.removeEventListener("mouseup",s.onEndDrag,!0),s.removePreventClickId=a.setTimeout(function(){o.removeEventListener("click",s.preventClick,!0),o.removeEventListener("dblclick",s.preventClick,!0),s.removePreventClickId=null})},this.preventClick=function(i){i.preventDefault(),i.stopPropagation()},this.el=n,this.minScrollbarWidth=20,this.options=Object.assign({},e.defaultOptions,r),this.classNames=Object.assign({},e.defaultOptions.classNames,this.options.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,!e.instances.has(this.el)&&(this.recalculate=Fw(this.recalculate.bind(this),64),this.onMouseMove=Fw(this.onMouseMove.bind(this),64),this.hideScrollbars=jw(this.hideScrollbars.bind(this),this.options.timeout),this.onWindowResize=jw(this.onWindowResize.bind(this),64,{leading:!0}),e.getRtlHelpers=FW(e.getRtlHelpers),this.init())}e.getRtlHelpers=function(){var r=document.createElement("div");r.innerHTML='<div class="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>';var s=r.firstElementChild;document.body.appendChild(s);var i=s.firstElementChild;s.scrollLeft=0;var o=e.getOffset(s),a=e.getOffset(i);s.scrollLeft=999;var u=e.getOffset(i);return{isRtlScrollingInverted:o.left!==a.left&&a.left-u.left!==0,isRtlScrollbarInverted:o.left!==a.left}},e.getOffset=function(r){var s=r.getBoundingClientRect(),i=Tl(r),o=es(r);return{top:s.top+(o.pageYOffset||i.documentElement.scrollTop),left:s.left+(o.pageXOffset||i.documentElement.scrollLeft)}};var t=e.prototype;return t.init=function(){e.instances.set(this.el,this),bv&&(this.initDOM(),this.setAccessibilityAttributes(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},t.initDOM=function(){var r=this;if(Array.prototype.filter.call(this.el.children,function(o){return o.classList.contains(r.classNames.wrapper)}).length)this.wrapperEl=this.el.querySelector("."+this.classNames.wrapper),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector("."+this.classNames.contentWrapper),this.contentEl=this.options.contentNode||this.el.querySelector("."+this.classNames.contentEl),this.offsetEl=this.el.querySelector("."+this.classNames.offset),this.maskEl=this.el.querySelector("."+this.classNames.mask),this.placeholderEl=this.findChild(this.wrapperEl,"."+this.classNames.placeholder),this.heightAutoObserverWrapperEl=this.el.querySelector("."+this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl=this.el.querySelector("."+this.classNames.heightAutoObserverEl),this.axis.x.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.horizontal),this.axis.y.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.vertical);else{for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),this.wrapperEl.classList.add(this.classNames.wrapper),this.contentWrapperEl.classList.add(this.classNames.contentWrapper),this.offsetEl.classList.add(this.classNames.offset),this.maskEl.classList.add(this.classNames.mask),this.contentEl.classList.add(this.classNames.contentEl),this.placeholderEl.classList.add(this.classNames.placeholder),this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl)}if(!this.axis.x.track.el||!this.axis.y.track.el){var s=document.createElement("div"),i=document.createElement("div");s.classList.add(this.classNames.track),i.classList.add(this.classNames.scrollbar),s.appendChild(i),this.axis.x.track.el=s.cloneNode(!0),this.axis.x.track.el.classList.add(this.classNames.horizontal),this.axis.y.track.el=s.cloneNode(!0),this.axis.y.track.el.classList.add(this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}this.axis.x.scrollbar.el=this.axis.x.track.el.querySelector("."+this.classNames.scrollbar),this.axis.y.scrollbar.el=this.axis.y.track.el.querySelector("."+this.classNames.scrollbar),this.options.autoHide||(this.axis.x.scrollbar.el.classList.add(this.classNames.visible),this.axis.y.scrollbar.el.classList.add(this.classNames.visible)),this.el.setAttribute("data-simplebar","init")},t.setAccessibilityAttributes=function(){var r=this.options.ariaLabel||"scrollable content";this.contentWrapperEl.setAttribute("tabindex","0"),this.contentWrapperEl.setAttribute("role","region"),this.contentWrapperEl.setAttribute("aria-label",r)},t.initListeners=function(){var r=this,s=es(this.el);this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach(function(a){r.el.addEventListener(a,r.onPointerEvent,!0)}),["touchstart","touchend","touchmove"].forEach(function(a){r.el.addEventListener(a,r.onPointerEvent,{capture:!0,passive:!0})}),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.addEventListener("scroll",this.onScroll),s.addEventListener("resize",this.onWindowResize);var i=!1,o=s.ResizeObserver||iz;this.resizeObserver=new o(function(){!i||r.recalculate()}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),s.requestAnimationFrame(function(){i=!0}),this.mutationObserver=new s.MutationObserver(this.recalculate),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})},t.recalculate=function(){var r=es(this.el);this.elStyles=r.getComputedStyle(this.el),this.isRtl=this.elStyles.direction==="rtl";var s=this.heightAutoObserverEl.offsetHeight<=1,i=this.heightAutoObserverEl.offsetWidth<=1,o=this.contentEl.offsetWidth,a=this.contentWrapperEl.offsetWidth,u=this.elStyles.overflowX,c=this.elStyles.overflowY;this.contentEl.style.padding=this.elStyles.paddingTop+" "+this.elStyles.paddingRight+" "+this.elStyles.paddingBottom+" "+this.elStyles.paddingLeft,this.wrapperEl.style.margin="-"+this.elStyles.paddingTop+" -"+this.elStyles.paddingRight+" -"+this.elStyles.paddingBottom+" -"+this.elStyles.paddingLeft;var l=this.contentEl.scrollHeight,h=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=s?"auto":"100%",this.placeholderEl.style.width=i?o+"px":"auto",this.placeholderEl.style.height=l+"px";var f=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=h>o,this.axis.y.isOverflowing=l>f,this.axis.x.isOverflowing=u==="hidden"?!1:this.axis.x.isOverflowing,this.axis.y.isOverflowing=c==="hidden"?!1:this.axis.y.isOverflowing,this.axis.x.forceVisible=this.options.forceVisible==="x"||this.options.forceVisible===!0,this.axis.y.forceVisible=this.options.forceVisible==="y"||this.options.forceVisible===!0,this.hideNativeScrollbar();var p=this.axis.x.isOverflowing?this.scrollbarWidth:0,v=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&h>a-v,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&l>f-p,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el.style.width=this.axis.x.scrollbar.size+"px",this.axis.y.scrollbar.el.style.height=this.axis.y.scrollbar.size+"px",this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")},t.getScrollbarSize=function(r){if(r===void 0&&(r="y"),!this.axis[r].isOverflowing)return 0;var s=this.contentEl[this.axis[r].scrollSizeAttr],i=this.axis[r].track.el[this.axis[r].offsetSizeAttr],o,a=i/s;return o=Math.max(~~(a*i),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(o=Math.min(o,this.options.scrollbarMaxSize)),o},t.positionScrollbar=function(r){if(r===void 0&&(r="y"),!!this.axis[r].isOverflowing){var s=this.contentWrapperEl[this.axis[r].scrollSizeAttr],i=this.axis[r].track.el[this.axis[r].offsetSizeAttr],o=parseInt(this.elStyles[this.axis[r].sizeAttr],10),a=this.axis[r].scrollbar,u=this.contentWrapperEl[this.axis[r].scrollOffsetAttr];u=r==="x"&&this.isRtl&&e.getRtlHelpers().isRtlScrollingInverted?-u:u;var c=u/(s-o),l=~~((i-a.size)*c);l=r==="x"&&this.isRtl&&e.getRtlHelpers().isRtlScrollbarInverted?l+(i-a.size):l,a.el.style.transform=r==="x"?"translate3d("+l+"px, 0, 0)":"translate3d(0, "+l+"px, 0)"}},t.toggleTrackVisibility=function(r){r===void 0&&(r="y");var s=this.axis[r].track.el,i=this.axis[r].scrollbar.el;this.axis[r].isOverflowing||this.axis[r].forceVisible?(s.style.visibility="visible",this.contentWrapperEl.style[this.axis[r].overflowAttr]="scroll"):(s.style.visibility="hidden",this.contentWrapperEl.style[this.axis[r].overflowAttr]="hidden"),this.axis[r].isOverflowing?i.style.display="block":i.style.display="none"},t.hideNativeScrollbar=function(){this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-"+this.scrollbarWidth+"px":0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-"+this.scrollbarWidth+"px":0},t.onMouseMoveForAxis=function(r){r===void 0&&(r="y"),this.axis[r].track.rect=this.axis[r].track.el.getBoundingClientRect(),this.axis[r].scrollbar.rect=this.axis[r].scrollbar.el.getBoundingClientRect();var s=this.isWithinBounds(this.axis[r].scrollbar.rect);s?this.axis[r].scrollbar.el.classList.add(this.classNames.hover):this.axis[r].scrollbar.el.classList.remove(this.classNames.hover),this.isWithinBounds(this.axis[r].track.rect)?(this.showScrollbar(r),this.axis[r].track.el.classList.add(this.classNames.hover)):this.axis[r].track.el.classList.remove(this.classNames.hover)},t.onMouseLeaveForAxis=function(r){r===void 0&&(r="y"),this.axis[r].track.el.classList.remove(this.classNames.hover),this.axis[r].scrollbar.el.classList.remove(this.classNames.hover)},t.showScrollbar=function(r){r===void 0&&(r="y");var s=this.axis[r].scrollbar.el;this.axis[r].isVisible||(s.classList.add(this.classNames.visible),this.axis[r].isVisible=!0),this.options.autoHide&&this.hideScrollbars()},t.onDragStart=function(r,s){s===void 0&&(s="y");var i=Tl(this.el),o=es(this.el),a=this.axis[s].scrollbar,u=s==="y"?r.pageY:r.pageX;this.axis[s].dragOffset=u-a.rect[this.axis[s].offsetAttr],this.draggedAxis=s,this.el.classList.add(this.classNames.dragging),i.addEventListener("mousemove",this.drag,!0),i.addEventListener("mouseup",this.onEndDrag,!0),this.removePreventClickId===null?(i.addEventListener("click",this.preventClick,!0),i.addEventListener("dblclick",this.preventClick,!0)):(o.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},t.onTrackClick=function(r,s){var i=this;if(s===void 0&&(s="y"),!!this.options.clickOnTrack){var o=es(this.el);this.axis[s].scrollbar.rect=this.axis[s].scrollbar.el.getBoundingClientRect();var a=this.axis[s].scrollbar,u=a.rect[this.axis[s].offsetAttr],c=parseInt(this.elStyles[this.axis[s].sizeAttr],10),l=this.contentWrapperEl[this.axis[s].scrollOffsetAttr],h=s==="y"?this.mouseY-u:this.mouseX-u,f=h<0?-1:1,p=f===-1?l-c:l+c,v=function O(){if(f===-1){if(l>p){var E;l-=i.options.clickOnTrackSpeed,i.contentWrapperEl.scrollTo((E={},E[i.axis[s].offsetAttr]=l,E)),o.requestAnimationFrame(O)}}else if(l<p){var A;l+=i.options.clickOnTrackSpeed,i.contentWrapperEl.scrollTo((A={},A[i.axis[s].offsetAttr]=l,A)),o.requestAnimationFrame(O)}};v()}},t.getContentElement=function(){return this.contentEl},t.getScrollElement=function(){return this.contentWrapperEl},t.getScrollbarWidth=function(){try{return getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display==="none"||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:db(this.el)}catch{return db(this.el)}},t.removeListeners=function(){var r=this,s=es(this.el);this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach(function(i){r.el.removeEventListener(i,r.onPointerEvent,!0)}),["touchstart","touchend","touchmove"].forEach(function(i){r.el.removeEventListener(i,r.onPointerEvent,{capture:!0,passive:!0})}),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),s.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.recalculate.cancel(),this.onMouseMove.cancel(),this.hideScrollbars.cancel(),this.onWindowResize.cancel()},t.unMount=function(){this.removeListeners(),e.instances.delete(this.el)},t.isWithinBounds=function(r){return this.mouseX>=r.left&&this.mouseX<=r.left+r.width&&this.mouseY>=r.top&&this.mouseY<=r.top+r.height},t.findChild=function(r,s){var i=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;return Array.prototype.filter.call(r.children,function(o){return i.call(o,s)})[0]},e}();bt.defaultOptions={autoHide:!0,forceVisible:!1,clickOnTrack:!0,clickOnTrackSpeed:40,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging"},scrollbarMinSize:25,scrollbarMaxSize:0,timeout:1e3};bt.instances=new WeakMap;bt.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),function(e){e.getAttribute("data-simplebar")!=="init"&&!bt.instances.has(e)&&new bt(e,lh(e.attributes))})};bt.removeObserver=function(){this.globalObserver.disconnect()};bt.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),typeof MutationObserver!="undefined"&&(this.globalObserver=new MutationObserver(bt.handleMutations),this.globalObserver.observe(document,{childList:!0,subtree:!0})),document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))};bt.handleMutations=function(e){e.forEach(function(t){Array.prototype.forEach.call(t.addedNodes,function(n){n.nodeType===1&&(n.hasAttribute("data-simplebar")?!bt.instances.has(n)&&document.documentElement.contains(n)&&new bt(n,lh(n.attributes)):Array.prototype.forEach.call(n.querySelectorAll("[data-simplebar]"),function(r){r.getAttribute("data-simplebar")!=="init"&&!bt.instances.has(r)&&document.documentElement.contains(r)&&new bt(r,lh(r.attributes))}))}),Array.prototype.forEach.call(t.removedNodes,function(n){n.nodeType===1&&(n.getAttribute("data-simplebar")==="init"?bt.instances.has(n)&&!document.documentElement.contains(n)&&bt.instances.get(n).unMount():Array.prototype.forEach.call(n.querySelectorAll('[data-simplebar="init"]'),function(r){bt.instances.has(r)&&!document.documentElement.contains(r)&&bt.instances.get(r).unMount()}))})})};bt.getOptions=lh;bv&&bt.initHtmlApi();const YH={name:"SimpleBar",mounted(){const e=bt.getOptions(this.$refs.element.attributes);this.SimpleBar=new bt(this.$refs.element,e)},computed:{scrollElement(){return this.$refs.scrollElement},contentElement(){return this.$refs.contentElement}}},GH={ref:"element"},KH={class:"simplebar-wrapper"},qH=N("div",{class:"simplebar-height-auto-observer-wrapper"},[N("div",{class:"simplebar-height-auto-observer"})],-1),XH={class:"simplebar-mask"},QH={class:"simplebar-offset"},JH={class:"simplebar-content-wrapper",ref:"scrollElement"},ZH={class:"simplebar-content",ref:"contentElement"},eY=N("div",{class:"simplebar-placeholder"},null,-1),tY=N("div",{class:"simplebar-track simplebar-horizontal"},[N("div",{class:"simplebar-scrollbar"})],-1),nY=N("div",{class:"simplebar-track simplebar-vertical"},[N("div",{class:"simplebar-scrollbar"})],-1);function rY(e,t,n,r,s,i){return Fe(),ot("div",GH,[N("div",KH,[qH,N("div",XH,[N("div",QH,[N("div",JH,[N("div",ZH,[Aa(e.$slots,"default")],512)],512)])]),eY]),tY,nY],512)}var sY=Qn(YH,[["render",rY]]),iY="firebase",oY="9.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(iY,oY,"app");var aY=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},se,jv=jv||{},ye=aY||self;function hh(){}function Om(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Xu(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function uY(e){return Object.prototype.hasOwnProperty.call(e,op)&&e[op]||(e[op]=++cY)}var op="closure_uid_"+(1e9*Math.random()>>>0),cY=0;function lY(e,t,n){return e.call.apply(e.bind,arguments)}function hY(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function Vt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Vt=lY:Vt=hY,Vt.apply(null,arguments)}function Wc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Yt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(r,o)}}function Rs(){this.s=this.s,this.o=this.o}var fY=0;Rs.prototype.s=!1;Rs.prototype.na=function(){!this.s&&(this.s=!0,this.M(),fY!=0)&&uY(this)};Rs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const LA=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},FA=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,s=typeof e=="string"?e.split(""):e;for(let i=0;i<r;i++)i in s&&t.call(n,s[i],i,e)};function dY(e){e:{var t=sG;const n=e.length,r=typeof e=="string"?e.split(""):e;for(let s=0;s<n;s++)if(s in r&&t.call(void 0,r[s],s,e)){t=s;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function pb(e){return Array.prototype.concat.apply([],arguments)}function Vv(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function fh(e){return/^[\s\xa0]*$/.test(e)}var mb=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function an(e,t){return e.indexOf(t)!=-1}function ap(e,t){return e<t?-1:e>t?1:0}var un;e:{var gb=ye.navigator;if(gb){var vb=gb.userAgent;if(vb){un=vb;break e}}un=""}function Wv(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function BA(e){const t={};for(const n in e)t[n]=e[n];return t}var yb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function UA(e,t){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)e[n]=r[n];for(let i=0;i<yb.length;i++)n=yb[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function zv(e){return zv[" "](e),e}zv[" "]=hh;function pY(e){var t=vY;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var mY=an(un,"Opera"),yo=an(un,"Trident")||an(un,"MSIE"),jA=an(un,"Edge"),km=jA||yo,VA=an(un,"Gecko")&&!(an(un.toLowerCase(),"webkit")&&!an(un,"Edge"))&&!(an(un,"Trident")||an(un,"MSIE"))&&!an(un,"Edge"),gY=an(un.toLowerCase(),"webkit")&&!an(un,"Edge");function WA(){var e=ye.document;return e?e.documentMode:void 0}var dh;e:{var up="",cp=function(){var e=un;if(VA)return/rv:([^\);]+)(\)|;)/.exec(e);if(jA)return/Edge\/([\d\.]+)/.exec(e);if(yo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(gY)return/WebKit\/(\S+)/.exec(e);if(mY)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(cp&&(up=cp?cp[1]:""),yo){var lp=WA();if(lp!=null&&lp>parseFloat(up)){dh=String(lp);break e}}dh=up}var vY={};function yY(){return pY(function(){let e=0;const t=mb(String(dh)).split("."),n=mb("9").split("."),r=Math.max(t.length,n.length);for(let o=0;e==0&&o<r;o++){var s=t[o]||"",i=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s[0].length==0&&i[0].length==0)break;e=ap(s[1].length==0?0:parseInt(s[1],10),i[1].length==0?0:parseInt(i[1],10))||ap(s[2].length==0,i[2].length==0)||ap(s[2],i[2]),s=s[3],i=i[3]}while(e==0)}return 0<=e})}var Dm;if(ye.document&&yo){var _b=WA();Dm=_b||parseInt(dh,10)||void 0}else Dm=void 0;var _Y=Dm,wY=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ye.addEventListener("test",hh,t),ye.removeEventListener("test",hh,t)}catch{}return e}();function Zt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Zt.prototype.h=function(){this.defaultPrevented=!0};function pu(e,t){if(Zt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(VA){e:{try{zv(t.nodeName);var s=!0;break e}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:bY[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&pu.Z.h.call(this)}}Yt(pu,Zt);var bY={2:"touch",3:"pen",4:"mouse"};pu.prototype.h=function(){pu.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Qu="closure_listenable_"+(1e6*Math.random()|0),EY=0;function SY(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=s,this.key=++EY,this.ca=this.fa=!1}function wf(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function bf(e){this.src=e,this.g={},this.h=0}bf.prototype.add=function(e,t,n,r,s){var i=e.toString();e=this.g[i],e||(e=this.g[i]=[],this.h++);var o=Rm(e,t,r,s);return-1<o?(t=e[o],n||(t.fa=!1)):(t=new SY(t,this.src,i,!!r,s),t.fa=n,e.push(t)),t};function xm(e,t){var n=t.type;if(n in e.g){var r=e.g[n],s=LA(r,t),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(wf(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Rm(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.ca&&i.listener==t&&i.capture==!!n&&i.ia==r)return s}return-1}var Hv="closure_lm_"+(1e6*Math.random()|0),hp={};function zA(e,t,n,r,s){if(r&&r.once)return YA(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)zA(e,t[i],n,r,s);return null}return n=Kv(n),e&&e[Qu]?e.N(t,n,Xu(r)?!!r.capture:!!r,s):HA(e,t,n,!1,r,s)}function HA(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=Xu(s)?!!s.capture:!!s,a=Gv(e);if(a||(e[Hv]=a=new bf(e)),n=a.add(t,n,r,o,i),n.proxy)return n;if(r=TY(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)wY||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(KA(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function TY(){function e(n){return t.call(e.src,e.listener,n)}var t=IY;return e}function YA(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)YA(e,t[i],n,r,s);return null}return n=Kv(n),e&&e[Qu]?e.O(t,n,Xu(r)?!!r.capture:!!r,s):HA(e,t,n,!0,r,s)}function GA(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)GA(e,t[i],n,r,s);else r=Xu(r)?!!r.capture:!!r,n=Kv(n),e&&e[Qu]?(e=e.i,t=String(t).toString(),t in e.g&&(i=e.g[t],n=Rm(i,n,r,s),-1<n&&(wf(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete e.g[t],e.h--)))):e&&(e=Gv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Rm(t,n,r,s)),(n=-1<e?t[e]:null)&&Yv(n))}function Yv(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Qu])xm(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(KA(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Gv(t))?(xm(n,e),n.h==0&&(n.src=null,t[Hv]=null)):wf(e)}}}function KA(e){return e in hp?hp[e]:hp[e]="on"+e}function IY(e,t){if(e.ca)e=!0;else{t=new pu(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Yv(e),e=n.call(r,t)}return e}function Gv(e){return e=e[Hv],e instanceof bf?e:null}var fp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kv(e){return typeof e=="function"?e:(e[fp]||(e[fp]=function(t){return e.handleEvent(t)}),e[fp])}function Ft(){Rs.call(this),this.i=new bf(this),this.P=this,this.I=null}Yt(Ft,Rs);Ft.prototype[Qu]=!0;Ft.prototype.removeEventListener=function(e,t,n,r){GA(this,e,t,n,r)};function Wt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new Zt(t,e);else if(t instanceof Zt)t.target=t.target||e;else{var s=t;t=new Zt(r,e),UA(t,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=zc(o,r,!0,t)&&s}if(o=t.g=e,s=zc(o,r,!0,t)&&s,s=zc(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)o=t.g=n[i],s=zc(o,r,!1,t)&&s}Ft.prototype.M=function(){if(Ft.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)wf(n[r]);delete e.g[t],e.h--}}this.I=null};Ft.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Ft.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function zc(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&xm(e.i,o),s=a.call(u,r)!==!1&&s}}return s&&!r.defaultPrevented}var qv=ye.JSON.stringify;function AY(){var e=XA;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class CY{constructor(){this.h=this.g=null}add(t,n){const r=qA.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var qA=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new OY,e=>e.reset());class OY{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function kY(e){ye.setTimeout(()=>{throw e},0)}function Xv(e,t){Mm||DY(),Pm||(Mm(),Pm=!0),XA.add(e,t)}var Mm;function DY(){var e=ye.Promise.resolve(void 0);Mm=function(){e.then(xY)}}var Pm=!1,XA=new CY;function xY(){for(var e;e=AY();){try{e.h.call(e.g)}catch(n){kY(n)}var t=qA;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Pm=!1}function Ef(e,t){Ft.call(this),this.h=e||1,this.g=t||ye,this.j=Vt(this.kb,this),this.l=Date.now()}Yt(Ef,Ft);se=Ef.prototype;se.da=!1;se.S=null;se.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Wt(this,"tick"),this.da&&(Qv(this),this.start()))}};se.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Qv(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}se.M=function(){Ef.Z.M.call(this),Qv(this),delete this.g};function Jv(e,t,n){if(typeof e=="function")n&&(e=Vt(e,n));else if(e&&typeof e.handleEvent=="function")e=Vt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ye.setTimeout(e,t||0)}function QA(e){e.g=Jv(()=>{e.g=null,e.i&&(e.i=!1,QA(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class RY extends Rs{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:QA(this)}M(){super.M(),this.g&&(ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mu(e){Rs.call(this),this.h=e,this.g={}}Yt(mu,Rs);var wb=[];function JA(e,t,n,r){Array.isArray(n)||(n&&(wb[0]=n.toString()),n=wb);for(var s=0;s<n.length;s++){var i=zA(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function ZA(e){Wv(e.g,function(t,n){this.g.hasOwnProperty(n)&&Yv(t)},e),e.g={}}mu.prototype.M=function(){mu.Z.M.call(this),ZA(this)};mu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Sf(){this.g=!0}Sf.prototype.Aa=function(){this.g=!1};function MY(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&h[1]=="type"?o+(l+"="+c+"&"):o+(l+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function PY(e,t,n,r,s,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+`
`+n+`
`+i+" "+o})}function Yi(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+$Y(e,n)+(r?" "+r:"")})}function NY(e,t){e.info(function(){return"TIMEOUT: "+t})}Sf.prototype.info=function(){};function $Y(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return qv(n)}catch{return t}}var Si={},bb=null;function Tf(){return bb=bb||new Ft}Si.Ma="serverreachability";function eC(e){Zt.call(this,Si.Ma,e)}Yt(eC,Zt);function gu(e){const t=Tf();Wt(t,new eC(t))}Si.STAT_EVENT="statevent";function tC(e,t){Zt.call(this,Si.STAT_EVENT,e),this.stat=t}Yt(tC,Zt);function cn(e){const t=Tf();Wt(t,new tC(t,e))}Si.Na="timingevent";function nC(e,t){Zt.call(this,Si.Na,e),this.size=t}Yt(nC,Zt);function Ju(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ye.setTimeout(function(){e()},t)}var If={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},rC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Zv(){}Zv.prototype.h=null;function Eb(e){return e.h||(e.h=e.i())}function sC(){}var Zu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ey(){Zt.call(this,"d")}Yt(ey,Zt);function ty(){Zt.call(this,"c")}Yt(ty,Zt);var Nm;function Af(){}Yt(Af,Zv);Af.prototype.g=function(){return new XMLHttpRequest};Af.prototype.i=function(){return{}};Nm=new Af;function ec(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new mu(this),this.P=LY,e=km?125:void 0,this.W=new Ef(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new iC}function iC(){this.i=null,this.g="",this.h=!1}var LY=45e3,$m={},ph={};se=ec.prototype;se.setTimeout=function(e){this.P=e};function Lm(e,t,n){e.K=1,e.v=Of(Hr(t)),e.s=n,e.U=!0,oC(e,null)}function oC(e,t){e.F=Date.now(),tc(e),e.A=Hr(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),dC(n.h,"t",r),e.C=0,n=e.l.H,e.h=new iC,e.g=MC(e.l,n?t:null,!e.s),0<e.O&&(e.L=new RY(Vt(e.Ia,e,e.g),e.O)),JA(e.V,e.g,"readystatechange",e.gb),t=e.H?BA(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),gu(),MY(e.j,e.u,e.A,e.m,e.X,e.s)}se.gb=function(e){e=e.target;const t=this.L;t&&$r(e)==3?t.l():this.Ia(e)};se.Ia=function(e){try{if(e==this.g)e:{const l=$r(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>l)&&(l!=3||km||this.g&&(this.h.h||this.g.ga()||Ab(this.g)))){this.I||l!=4||t==7||(t==8||0>=h?gu(3):gu(2)),Cf(this);var n=this.g.ba();this.N=n;t:if(aC(this)){var r=Ab(this.g);e="";var s=r.length,i=$r(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Hs(this),Ma(this);var o="";break t}this.h.i=new ye.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.splice(0,s),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,PY(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fh(a)){var c=a;break t}}c=null}if(n=c)Yi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Fm(this,n);else{this.i=!1,this.o=3,cn(12),Hs(this),Ma(this);break e}}this.U?(uC(this,l,o),km&&this.i&&l==3&&(JA(this.V,this.W,"tick",this.fb),this.W.start())):(Yi(this.j,this.m,o,null),Fm(this,o)),l==4&&Hs(this),this.i&&!this.I&&(l==4?kC(this.l,this):(this.i=!1,tc(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,cn(12)):(this.o=0,cn(13)),Hs(this),Ma(this)}}}catch{}finally{}};function aC(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function uC(e,t,n){let r=!0,s;for(;!e.I&&e.C<n.length;)if(s=FY(e,n),s==ph){t==4&&(e.o=4,cn(14),r=!1),Yi(e.j,e.m,null,"[Incomplete Response]");break}else if(s==$m){e.o=4,cn(15),Yi(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Yi(e.j,e.m,s,null),Fm(e,s);aC(e)&&s!=ph&&s!=$m&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,cn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ly(t),t.L=!0,cn(11))):(Yi(e.j,e.m,n,"[Invalid Chunked Response]"),Hs(e),Ma(e))}se.fb=function(){if(this.g){var e=$r(this.g),t=this.g.ga();this.C<t.length&&(Cf(this),uC(this,e,t),this.i&&e!=4&&tc(this))}};function FY(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?ph:(n=Number(t.substring(n,r)),isNaN(n)?$m:(r+=1,r+n>t.length?ph:(t=t.substr(r,n),e.C=r+n,t)))}se.cancel=function(){this.I=!0,Hs(this)};function tc(e){e.Y=Date.now()+e.P,cC(e,e.P)}function cC(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Ju(Vt(e.eb,e),t)}function Cf(e){e.B&&(ye.clearTimeout(e.B),e.B=null)}se.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(NY(this.j,this.A),this.K!=2&&(gu(),cn(17)),Hs(this),this.o=2,Ma(this)):cC(this,this.Y-e)};function Ma(e){e.l.G==0||e.I||kC(e.l,e)}function Hs(e){Cf(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Qv(e.W),ZA(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Fm(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Bm(n.i,e))){if(n.I=e.N,!e.J&&Bm(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)yh(n),xf(n);else break e;cy(n),cn(18)}}else n.ta=s[1],0<n.ta-n.U&&37500>s[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ju(Vt(n.ab,n),6e3));if(1>=gC(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Ys(n,11)}else if((e.J||n.g==e)&&yh(n),!fh(t))for(s=n.Ca.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.U=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.J=c[1],n.la=c[2];const l=c[3];l!=null&&(n.ma=l,n.h.info("VER="+n.ma));const h=c[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=e.g;if(p){const v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var i=r.i;!i.g&&(an(v,"spdy")||an(v,"quic")||an(v,"h2"))&&(i.j=i.l,i.g=new Set,i.h&&(sy(i,i.h),i.h=null))}if(r.D){const O=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;O&&(r.sa=O,dt(r.F,r.D,O))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=e;if(r.oa=RC(r,r.H?r.la:null,r.W),o.J){vC(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Cf(a),tc(a)),r.g=o}else CC(r);0<n.l.length&&Rf(n)}else c[0]!="stop"&&c[0]!="close"||Ys(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Ys(n,7):uy(n):c[0]!="noop"&&n.j&&n.j.wa(c),n.A=0)}}gu(4)}catch{}}function BY(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Om(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function ny(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Om(e)||typeof e=="string")FA(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Om(e)||typeof e=="string"){n=[];for(var r=e.length,s=0;s<r;s++)n.push(s)}else for(s in n=[],r=0,e)n[r++]=s;r=BY(e),s=r.length;for(var i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}}function Wo(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Wo)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}se=Wo.prototype;se.R=function(){ry(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};se.T=function(){return ry(this),this.g.concat()};function ry(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];li(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var s={};for(n=t=0;t<e.g.length;)r=e.g[t],li(s,r)||(e.g[n++]=r,s[r]=1),t++;e.g.length=n}}se.get=function(e,t){return li(this.h,e)?this.h[e]:t};se.set=function(e,t){li(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};se.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var s=n[r],i=this.get(s);e.call(t,i,s,this)}};function li(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var lC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function UY(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function hi(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof hi){this.g=t!==void 0?t:e.g,mh(this,e.j),this.s=e.s,gh(this,e.i),vh(this,e.m),this.l=e.l,t=e.h;var n=new vu;n.i=t.i,t.g&&(n.g=new Wo(t.g),n.h=t.h),Sb(this,n),this.o=e.o}else e&&(n=String(e).match(lC))?(this.g=!!t,mh(this,n[1]||"",!0),this.s=Pa(n[2]||""),gh(this,n[3]||"",!0),vh(this,n[4]),this.l=Pa(n[5]||"",!0),Sb(this,n[6]||"",!0),this.o=Pa(n[7]||"")):(this.g=!!t,this.h=new vu(null,this.g))}hi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(_a(t,Tb,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(_a(t,Tb,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(_a(n,n.charAt(0)=="/"?HY:zY,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",_a(n,GY)),e.join("")};function Hr(e){return new hi(e)}function mh(e,t,n){e.j=n?Pa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function gh(e,t,n){e.i=n?Pa(t,!0):t}function vh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Sb(e,t,n){t instanceof vu?(e.h=t,KY(e.h,e.g)):(n||(t=_a(t,YY)),e.h=new vu(t,e.g))}function dt(e,t,n){e.h.set(t,n)}function Of(e){return dt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function jY(e){return e instanceof hi?Hr(e):new hi(e,void 0)}function VY(e,t,n,r){var s=new hi(null,void 0);return e&&mh(s,e),t&&gh(s,t),n&&vh(s,n),r&&(s.l=r),s}function Pa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _a(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,WY),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function WY(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Tb=/[#\/\?@]/g,zY=/[#\?:]/g,HY=/[#\?]/g,YY=/[#\?@]/g,GY=/#/g;function vu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ms(e){e.g||(e.g=new Wo,e.h=0,e.i&&UY(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}se=vu.prototype;se.add=function(e,t){Ms(this),this.i=null,e=zo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function hC(e,t){Ms(e),t=zo(e,t),li(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,li(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ry(e)))}function fC(e,t){return Ms(e),t=zo(e,t),li(e.g.h,t)}se.forEach=function(e,t){Ms(this),this.g.forEach(function(n,r){FA(n,function(s){e.call(t,s,r,this)},this)},this)};se.T=function(){Ms(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var s=e[r],i=0;i<s.length;i++)n.push(t[r]);return n};se.R=function(e){Ms(this);var t=[];if(typeof e=="string")fC(this,e)&&(t=pb(t,this.g.get(zo(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=pb(t,e[n])}return t};se.set=function(e,t){return Ms(this),this.i=null,e=zo(this,e),fC(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};se.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function dC(e,t,n){hC(e,t),0<n.length&&(e.i=null,e.g.set(zo(e,t),Vv(n)),e.h+=n.length)}se.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],s=encodeURIComponent(String(r));r=this.R(r);for(var i=0;i<r.length;i++){var o=s;r[i]!==""&&(o+="="+encodeURIComponent(String(r[i]))),e.push(o)}}return this.i=e.join("&")};function zo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function KY(e,t){t&&!e.j&&(Ms(e),e.i=null,e.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(hC(this,r),dC(this,s,n))},e)),e.j=t}var qY=class{constructor(e,t){this.h=e,this.g=t}};function pC(e){this.l=e||XY,ye.PerformanceNavigationTiming?(e=ye.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ye.g&&ye.g.Ea&&ye.g.Ea()&&ye.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var XY=10;function mC(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function gC(e){return e.h?1:e.g?e.g.size:0}function Bm(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function sy(e,t){e.g?e.g.add(t):e.h=t}function vC(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}pC.prototype.cancel=function(){if(this.i=yC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function yC(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Vv(e.i)}function iy(){}iy.prototype.stringify=function(e){return ye.JSON.stringify(e,void 0)};iy.prototype.parse=function(e){return ye.JSON.parse(e,void 0)};function QY(){this.g=new iy}function JY(e,t,n){const r=n||"";try{ny(e,function(s,i){let o=s;Xu(s)&&(o=qv(s)),t.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function ZY(e,t){const n=new Sf;if(ye.Image){const r=new Image;r.onload=Wc(Hc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Wc(Hc,n,r,"TestLoadImage: error",!1,t),r.onabort=Wc(Hc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Wc(Hc,n,r,"TestLoadImage: timeout",!1,t),ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Hc(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch{}}function nc(e){this.l=e.$b||null,this.j=e.ib||!1}Yt(nc,Zv);nc.prototype.g=function(){return new kf(this.l,this.j)};nc.prototype.i=function(e){return function(){return e}}({});function kf(e,t){Ft.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=oy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yt(kf,Ft);var oy=0;se=kf.prototype;se.open=function(e,t){if(this.readyState!=oy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,yu(this)};se.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ye).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rc(this)),this.readyState=oy};se.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,yu(this)),this.g&&(this.readyState=3,yu(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ye.ReadableStream!="undefined"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_C(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function _C(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}se.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?rc(this):yu(this),this.readyState==3&&_C(this)}};se.Ua=function(e){this.g&&(this.response=this.responseText=e,rc(this))};se.Ta=function(e){this.g&&(this.response=e,rc(this))};se.ha=function(){this.g&&rc(this)};function rc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,yu(e)}se.setRequestHeader=function(e,t){this.v.append(e,t)};se.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};se.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function yu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(kf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var eG=ye.JSON.parse;function At(e){Ft.call(this),this.headers=new Wo,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wC,this.K=this.L=!1}Yt(At,Ft);var wC="",tG=/^https?$/i,nG=["POST","PUT"];se=At.prototype;se.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Nm.g(),this.C=this.u?Eb(this.u):Eb(Nm),this.g.onreadystatechange=Vt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(i){Ib(this,i);return}e=n||"";const s=new Wo(this.headers);r&&ny(r,function(i,o){s.set(o,i)}),r=dY(s.T()),n=ye.FormData&&e instanceof ye.FormData,!(0<=LA(nG,t))||r||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(i,o){this.g.setRequestHeader(o,i)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{SC(this),0<this.B&&((this.K=rG(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vt(this.pa,this)):this.A=Jv(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){Ib(this,i)}};function rG(e){return yo&&yY()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function sG(e){return e.toLowerCase()=="content-type"}se.pa=function(){typeof jv!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wt(this,"timeout"),this.abort(8))};function Ib(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,bC(e),Df(e)}function bC(e){e.D||(e.D=!0,Wt(e,"complete"),Wt(e,"error"))}se.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Wt(this,"complete"),Wt(this,"abort"),Df(this))};se.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Df(this,!0)),At.Z.M.call(this)};se.Fa=function(){this.s||(this.F||this.v||this.l?EC(this):this.cb())};se.cb=function(){EC(this)};function EC(e){if(e.h&&typeof jv!="undefined"&&(!e.C[1]||$r(e)!=4||e.ba()!=2)){if(e.v&&$r(e)==4)Jv(e.Fa,0,e);else if(Wt(e,"readystatechange"),$r(e)==4){e.h=!1;try{const a=e.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){var s=String(e.H).match(lC)[1]||null;if(!s&&ye.self&&ye.self.location){var i=ye.self.location.protocol;s=i.substr(0,i.length-1)}r=!tG.test(s?s.toLowerCase():"")}n=r}if(n)Wt(e,"complete"),Wt(e,"success");else{e.m=6;try{var o=2<$r(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.ba()+"]",bC(e)}}finally{Df(e)}}}}function Df(e,t){if(e.g){SC(e);const n=e.g,r=e.C[0]?hh:null;e.g=null,e.C=null,t||Wt(e,"ready");try{n.onreadystatechange=r}catch{}}}function SC(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ye.clearTimeout(e.A),e.A=null)}function $r(e){return e.g?e.g.readyState:0}se.ba=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}};se.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};se.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),eG(t)}};function Ab(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case wC:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}se.Da=function(){return this.m};se.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function iG(e){let t="";return Wv(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function ay(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=iG(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):dt(e,t,n))}function fa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function TC(e){this.za=0,this.l=[],this.h=new Sf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fa("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fa("baseRetryDelayMs",5e3,e),this.$a=fa("retryDelaySeedMs",1e4,e),this.Ya=fa("forwardChannelMaxRetries",2,e),this.ra=fa("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new pC(e&&e.concurrentRequestLimit),this.Ca=new QY,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}se=TC.prototype;se.ma=8;se.G=1;function uy(e){if(IC(e),e.G==3){var t=e.V++,n=Hr(e.F);dt(n,"SID",e.J),dt(n,"RID",t),dt(n,"TYPE","terminate"),sc(e,n),t=new ec(e,e.h,t,void 0),t.K=2,t.v=Of(Hr(n)),n=!1,ye.navigator&&ye.navigator.sendBeacon&&(n=ye.navigator.sendBeacon(t.v.toString(),"")),!n&&ye.Image&&(new Image().src=t.v,n=!0),n||(t.g=MC(t.l,null),t.g.ea(t.v)),t.F=Date.now(),tc(t)}xC(e)}se.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function xf(e){e.g&&(ly(e),e.g.cancel(),e.g=null)}function IC(e){xf(e),e.u&&(ye.clearTimeout(e.u),e.u=null),yh(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ye.clearTimeout(e.m),e.m=null)}function dp(e,t){e.l.push(new qY(e.Za++,t)),e.G==3&&Rf(e)}function Rf(e){mC(e.i)||e.m||(e.m=!0,Xv(e.Ha,e),e.C=0)}function oG(e,t){return gC(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Ju(Vt(e.Ha,e,t),DC(e,e.C)),e.C++,!0)}se.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const s=new ec(this,this.h,e,void 0);let i=this.s;if(this.P&&(i?(i=BA(i),UA(i,this.P)):i=this.P),this.o===null&&(s.H=i),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=AC(this,s,t),n=Hr(this.F),dt(n,"RID",e),dt(n,"CVER",22),this.D&&dt(n,"X-HTTP-Session-Id",this.D),sc(this,n),this.o&&i&&ay(n,this.o,i),sy(this.i,s),this.Ra&&dt(n,"TYPE","init"),this.ja?(dt(n,"$req",t),dt(n,"SID","null"),s.$=!0,Lm(s,n,null)):Lm(s,n,t),this.G=2}}else this.G==3&&(e?Cb(this,e):this.l.length==0||mC(this.i)||Cb(this))};function Cb(e,t){var n;t?n=t.m:n=e.V++;const r=Hr(e.F);dt(r,"SID",e.J),dt(r,"RID",n),dt(r,"AID",e.U),sc(e,r),e.o&&e.s&&ay(r,e.o,e.s),n=new ec(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=AC(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),sy(e.i,n),Lm(n,r,t)}function sc(e,t){e.j&&ny({},function(n,r){dt(t,r,n)})}function AC(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Vt(e.j.Oa,e.j,e):null;e:{var s=e.l;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let u=0;u<n;u++){let c=s[u].h;const l=s[u].g;if(c-=i,0>c)i=Math.max(0,s[u].h-100),a=!1;else try{JY(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function CC(e){e.g||e.u||(e.Y=1,Xv(e.Ga,e),e.A=0)}function cy(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Ju(Vt(e.Ga,e),DC(e,e.A)),e.A++,!0)}se.Ga=function(){if(this.u=null,OC(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ju(Vt(this.bb,this),e)}};se.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,cn(10),xf(this),OC(this))};function ly(e){e.B!=null&&(ye.clearTimeout(e.B),e.B=null)}function OC(e){e.g=new ec(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Hr(e.oa);dt(t,"RID","rpc"),dt(t,"SID",e.J),dt(t,"CI",e.N?"0":"1"),dt(t,"AID",e.U),sc(e,t),dt(t,"TYPE","xmlhttp"),e.o&&e.s&&ay(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Of(Hr(t)),n.s=null,n.U=!0,oC(n,e)}se.ab=function(){this.v!=null&&(this.v=null,xf(this),cy(this),cn(19))};function yh(e){e.v!=null&&(ye.clearTimeout(e.v),e.v=null)}function kC(e,t){var n=null;if(e.g==t){yh(e),ly(e),e.g=null;var r=2}else if(Bm(e.i,t))n=t.D,vC(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var s=e.C;r=Tf(),Wt(r,new nC(r,n)),Rf(e)}else CC(e);else if(s=t.o,s==3||s==0&&0<e.I||!(r==1&&oG(e,t)||r==2&&cy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:Ys(e,5);break;case 4:Ys(e,10);break;case 3:Ys(e,6);break;default:Ys(e,2)}}}function DC(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ys(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=Vt(e.jb,e);n||(n=new hi("//www.google.com/images/cleardot.gif"),ye.location&&ye.location.protocol=="http"||mh(n,"https"),Of(n)),ZY(n.toString(),r)}else cn(2);e.G=0,e.j&&e.j.va(t),xC(e),IC(e)}se.jb=function(e){e?(this.h.info("Successfully pinged google.com"),cn(2)):(this.h.info("Failed to ping google.com"),cn(1))};function xC(e){e.G=0,e.I=-1,e.j&&((yC(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Vv(e.l),e.l.length=0),e.j.ua())}function RC(e,t,n){let r=jY(n);if(r.i!="")t&&gh(r,t+"."+r.i),vh(r,r.m);else{const s=ye.location;r=VY(s.protocol,t?t+"."+s.hostname:s.hostname,+s.port,n)}return e.aa&&Wv(e.aa,function(s,i){dt(r,i,s)}),t=e.D,n=e.sa,t&&n&&dt(r,t,n),dt(r,"VER",e.ma),sc(e,r),r}function MC(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new At(new nc({ib:!0})):new At(e.qa),t.L=e.H,t}function PC(){}se=PC.prototype;se.xa=function(){};se.wa=function(){};se.va=function(){};se.ua=function(){};se.Oa=function(){};function _h(){if(yo&&!(10<=Number(_Y)))throw Error("Environmental error: no available transport.")}_h.prototype.g=function(e,t){return new An(e,t)};function An(e,t){Ft.call(this),this.g=new TC(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!fh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!fh(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ho(this)}Yt(An,Ft);An.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Xv(Vt(e.hb,e,t))),cn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=RC(e,null,e.W),Rf(e)};An.prototype.close=function(){uy(this.g)};An.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,dp(this.g,t)}else this.v?(t={},t.__data__=qv(e),dp(this.g,t)):dp(this.g,e)};An.prototype.M=function(){this.g.j=null,delete this.j,uy(this.g),delete this.g,An.Z.M.call(this)};function NC(e){ey.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Yt(NC,ey);function $C(){ty.call(this),this.status=1}Yt($C,ty);function Ho(e){this.g=e}Yt(Ho,PC);Ho.prototype.xa=function(){Wt(this.g,"a")};Ho.prototype.wa=function(e){Wt(this.g,new NC(e))};Ho.prototype.va=function(e){Wt(this.g,new $C)};Ho.prototype.ua=function(){Wt(this.g,"b")};_h.prototype.createWebChannel=_h.prototype.g;An.prototype.send=An.prototype.u;An.prototype.open=An.prototype.m;An.prototype.close=An.prototype.close;If.NO_ERROR=0;If.TIMEOUT=8;If.HTTP_ERROR=6;rC.COMPLETE="complete";sC.EventType=Zu;Zu.OPEN="a";Zu.CLOSE="b";Zu.ERROR="c";Zu.MESSAGE="d";Ft.prototype.listen=Ft.prototype.N;At.prototype.listenOnce=At.prototype.O;At.prototype.getLastError=At.prototype.La;At.prototype.getLastErrorCode=At.prototype.Da;At.prototype.getStatus=At.prototype.ba;At.prototype.getResponseJson=At.prototype.Qa;At.prototype.getResponseText=At.prototype.ga;At.prototype.send=At.prototype.ea;var aG=function(){return new _h},uG=function(){return Tf()},pp=If,cG=rC,lG=Si,Ob={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},hG=nc,Yc=sC,fG=At;const kb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="9.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new rg("@firebase/firestore");function Db(){return Ss.logLevel}function dG(e){Ss.setLogLevel(e)}function he(e,...t){if(Ss.logLevel<=Ye.DEBUG){const n=t.map(hy);Ss.debug(`Firestore (${Yo}): ${e}`,...n)}}function Ts(e,...t){if(Ss.logLevel<=Ye.ERROR){const n=t.map(hy);Ss.error(`Firestore (${Yo}): ${e}`,...n)}}function Um(e,...t){if(Ss.logLevel<=Ye.WARN){const n=t.map(hy);Ss.warn(`Firestore (${Yo}): ${e}`,...n)}}function hy(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(e="Unexpected state"){const t=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: `+e;throw Ts(t),new Error(t)}function at(e,t){e||be()}function Ee(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Os{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class pG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Gt.UNAUTHENTICATED))}shutdown(){}}class mG{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gG{constructor(t){this.t=t,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new vs,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;t.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new vs)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string"),new LC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return at(t===null||typeof t=="string"),new Gt(t)}}class vG{constructor(t,n,r){this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const s=t.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class yG{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new vG(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _G{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wG{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,n){const r=i=>{i.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.p;return this.p=i.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?s(i):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(at(typeof n.token=="string"),this.p=n.token,new _G(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bG(e){const t=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=bG(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%t.length))}return r}}function Qe(e,t){return e<t?-1:e>t?1:0}function _o(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ie(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ie(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ie(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return kt.fromMillis(Date.now())}static fromDate(t){return kt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new kt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Qe(this.nanoseconds,t.nanoseconds):Qe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.timestamp=t}static fromTimestamp(t){return new De(t)}static min(){return new De(new kt(0,0))}static max(){return new De(new kt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t,n,r){n===void 0?n=0:n>t.length&&be(),r===void 0?r=t.length-n:r>t.length-n&&be(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return _u.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof _u?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=t.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ct extends _u{construct(t,n,r){return new ct(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ie(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const EG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends _u{construct(t,n,r){return new qt(t,n,r)}static isValidIdentifier(t){return EG.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qt(["__name__"])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ie(L.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new ie(L.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ie(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ie(L.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.path=t}static fromPath(t){return new pe(ct.fromString(t))}static fromName(t){return new pe(ct.fromString(t).popFirst(5))}static empty(){return new pe(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ct.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ct.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pe(new ct(t.slice()))}}function SG(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=De.fromTimestamp(r===1e9?new kt(n+1,0):new kt(n,r));return new Is(s,pe.empty(),t)}function TG(e){return new Is(e.readTime,e.key,-1)}class Is{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Is(De.min(),pe.empty(),-1)}static max(){return new Is(De.max(),pe.empty(),-1)}}function IG(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=pe.comparator(e.documentKey,t.documentKey),n!==0?n:Qe(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(e){if(e.code!==L.FAILED_PRECONDITION||e.message!==AG)throw e;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):W.reject(n)}static resolve(t){return new W((n,r)=>{n(t)})}static reject(t){return new W((n,r)=>{r(t)})}static waitFor(t){return new W((n,r)=>{let s=0,i=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(t){let n=W.resolve(!1);for(const r of t)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(t,n){return new W((r,s)=>{const i=t.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(t[c]).next(l=>{o[c]=l,++a,a===i&&r(o)},l=>s(l))}})}static doWhile(t,n){return new W((r,s)=>{const i=()=>{t()===!0?n().next(()=>{i()},s):r()};i()})}}function oc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.it(r),this.rt=r=>n.writeSequenceNumber(r))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ti(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function BC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fy.ot=-1;class Rt{constructor(t,n){this.comparator=t,this.root=n||Ut.EMPTY}insert(t,n){return new Rt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(t){return new Rt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gc(this.root,t,this.comparator,!0)}}class Gc{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ut{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r!=null?r:Ut.RED,this.left=s!=null?s:Ut.EMPTY,this.right=i!=null?i:Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new Ut(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,s!=null?s:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Ut.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const t=this.left.check();if(t!==this.right.check())throw be();return t+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,n,r,s){return this}insert(e,t,n){return new Ut(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.comparator=t,this.data=new Rt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rb(this.data.getIterator())}getIteratorFrom(t){return new Rb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Dt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Dt(this.comparator);return n.data=t,n}}class Rb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.fields=t,t.sort(qt.comparator)}static empty(){return new Mn([])}unionWith(t){let n=new Dt(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Mn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return _o(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.binaryString=t}static fromBase64String(t){const n=atob(t);return new Ht(n)}static fromUint8Array(t){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(t);return new Ht(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const OG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(e){if(at(!!e),typeof e=="string"){let t=0;const n=OG.exec(e);if(at(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:It(e.seconds),nanos:It(e.nanos)}}function It(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function wo(e){return typeof e=="string"?Ht.fromBase64String(e):Ht.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jC(e){const t=e.mapValue.fields.__previous_value__;return UC(t)?jC(t):t}function wu(e){const t=As(e.mapValue.fields.__local_write_time__.timestampValue);return new kt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(t,n,r,s,i,o,a,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class bo{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new bo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof bo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(e){return e==null}function wh(e){return e===0&&1/e==-1/0}function DG(e){return typeof e=="number"&&Number.isInteger(e)&&!wh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?UC(e)?4:xG(e)?9007199254740991:10:be()}function yr(e,t){if(e===t)return!0;const n=fi(e);if(n!==fi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wu(e).isEqual(wu(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=As(r.timestampValue),o=As(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return wo(r.bytesValue).isEqual(wo(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return It(r.geoPointValue.latitude)===It(s.geoPointValue.latitude)&&It(r.geoPointValue.longitude)===It(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return It(r.integerValue)===It(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=It(r.doubleValue),o=It(s.doubleValue);return i===o?wh(i)===wh(o):isNaN(i)&&isNaN(o)}return!1}(e,t);case 9:return _o(e.arrayValue.values||[],t.arrayValue.values||[],yr);case 10:return function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(xb(i)!==xb(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!yr(i[a],o[a])))return!1;return!0}(e,t);default:return be()}}function bu(e,t){return(e.values||[]).find(n=>yr(n,t))!==void 0}function Eo(e,t){if(e===t)return 0;const n=fi(e),r=fi(t);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(e.booleanValue,t.booleanValue);case 2:return function(s,i){const o=It(s.integerValue||s.doubleValue),a=It(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return Mb(e.timestampValue,t.timestampValue);case 4:return Mb(wu(e),wu(t));case 5:return Qe(e.stringValue,t.stringValue);case 6:return function(s,i){const o=wo(s),a=wo(i);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(s,i){const o=s.split("/"),a=i.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Qe(o[u],a[u]);if(c!==0)return c}return Qe(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,i){const o=Qe(It(s.latitude),It(i.latitude));return o!==0?o:Qe(It(s.longitude),It(i.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,i){const o=s.values||[],a=i.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Eo(o[u],a[u]);if(c)return c}return Qe(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,i){if(s===Kc.mapValue&&i===Kc.mapValue)return 0;if(s===Kc.mapValue)return 1;if(i===Kc.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),u=i.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const h=Qe(a[l],c[l]);if(h!==0)return h;const f=Eo(o[a[l]],u[c[l]]);if(f!==0)return f}return Qe(a.length,c.length)}(e.mapValue,t.mapValue);default:throw be()}}function Mb(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Qe(e,t);const n=As(e),r=As(t),s=Qe(n.seconds,r.seconds);return s!==0?s:Qe(n.nanos,r.nanos)}function oo(e){return jm(e)}function jm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const s=As(r);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?wo(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,pe.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let s="[",i=!0;for(const o of r.values||[])i?i=!1:s+=",",s+=jm(o);return s+"]"}(e.arrayValue):"mapValue"in e?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of s)o?o=!1:i+=",",i+=`${a}:${jm(r.fields[a])}`;return i+"}"}(e.mapValue):be();var t,n}function Pb(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Vm(e){return!!e&&"integerValue"in e}function dy(e){return!!e&&"arrayValue"in e}function Nb(e){return!!e&&"nullValue"in e}function $b(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Il(e){return!!e&&"mapValue"in e}function Na(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ti(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Na(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Na(e.arrayValue.values[n]);return t}return Object.assign({},e)}function xG(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.value=t}static empty(){return new yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Il(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Na(n)}setAll(t){let n=qt.emptyPath(),r={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Na(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());Il(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return yr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];Il(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){Ti(n,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new yn(Na(this.value))}}function VC(e){const t=[];return Ti(e.fields,(n,r)=>{const s=new qt([n]);if(Il(r)){const i=VC(r.mapValue).fields;if(i.length===0)t.push(s);else for(const o of i)t.push(s.child(o))}else t.push(s)}),new Mn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t,n,r,s,i,o){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.data=i,this.documentState=o}static newInvalidDocument(t){return new jt(t,0,De.min(),De.min(),yn.empty(),0)}static newFoundDocument(t,n,r){return new jt(t,1,n,De.min(),r,0)}static newNoDocument(t,n){return new jt(t,2,n,De.min(),yn.empty(),0)}static newUnknownDocument(t,n){return new jt(t,3,n,De.min(),yn.empty(),2)}convertToFoundDocument(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof jt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(t,n=null,r=[],s=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ut=null}}function Lb(e,t=null,n=[],r=[],s=null,i=null,o=null){return new RG(e,t,n,r,s,i,o)}function py(e){const t=Ee(e);if(t.ut===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>{return(s=r).field.canonicalString()+s.op.toString()+oo(s.value);var s}).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Mf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>oo(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>oo(r)).join(",")),t.ut=n}return t.ut}function MG(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${oo(r.value)}`;var r}).join(", ")}]`),Mf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>oo(n)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>oo(n)).join(",")),`Target(${t})`}function my(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<e.orderBy.length;s++)if(!jG(e.orderBy[s],t.orderBy[s]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let s=0;s<e.filters.length;s++)if(n=e.filters[s],r=t.filters[s],n.op!==r.op||!n.field.isEqual(r.field)||!yr(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Bb(e.startAt,t.startAt)&&Bb(e.endAt,t.endAt)}function Wm(e){return pe.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class ln extends class{}{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.ct(t,n,r):new PG(t,n,r):n==="array-contains"?new LG(t,r):n==="in"?new FG(t,r):n==="not-in"?new BG(t,r):n==="array-contains-any"?new UG(t,r):new ln(t,n,r)}static ct(t,n,r){return n==="in"?new NG(t,r):new $G(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.at(Eo(n,this.value)):n!==null&&fi(this.value)===fi(n)&&this.at(Eo(n,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return be()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class PG extends ln{constructor(t,n,r){super(t,n,r),this.key=pe.fromName(r.referenceValue)}matches(t){const n=pe.comparator(t.key,this.key);return this.at(n)}}class NG extends ln{constructor(t,n){super(t,"in",n),this.keys=WC("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class $G extends ln{constructor(t,n){super(t,"not-in",n),this.keys=WC("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function WC(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class LG extends ln{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return dy(n)&&bu(n.arrayValue,this.value)}}class FG extends ln{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&bu(this.value.arrayValue,n)}}class BG extends ln{constructor(t,n){super(t,"not-in",n)}matches(t){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!bu(this.value.arrayValue,n)}}class UG extends ln{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!dy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bu(this.value.arrayValue,r))}}class bh{constructor(t,n){this.position=t,this.inclusive=n}}class $a{constructor(t,n="asc"){this.field=t,this.dir=n}}function jG(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Fb(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(i.field.isKeyField()?r=pe.comparator(pe.fromName(o.referenceValue),n.key):r=Eo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bb(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!yr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(t,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.lt=null,this.ft=null,this.startAt,this.endAt}}function VG(e,t,n,r,s,i,o,a){return new ac(e,t,n,r,s,i,o,a)}function gy(e){return new ac(e)}function WG(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function zC(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function HC(e){for(const t of e.filters)if(t.ht())return t.field;return null}function YC(e){return e.collectionGroup!==null}function Eu(e){const t=Ee(e);if(t.lt===null){t.lt=[];const n=HC(t),r=zC(t);if(n!==null&&r===null)n.isKeyField()||t.lt.push(new $a(n)),t.lt.push(new $a(qt.keyField(),"asc"));else{let s=!1;for(const i of t.explicitOrderBy)t.lt.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new $a(qt.keyField(),i))}}}return t.lt}function di(e){const t=Ee(e);if(!t.ft)if(t.limitType==="F")t.ft=Lb(t.path,t.collectionGroup,Eu(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const i of Eu(t)){const o=i.dir==="desc"?"asc":"desc";n.push(new $a(i.field,o))}const r=t.endAt?new bh(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new bh(t.startAt.position,t.startAt.inclusive):null;t.ft=Lb(t.path,t.collectionGroup,n,t.filters,t.limit,r,s)}return t.ft}function zG(e,t,n){return new ac(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Pf(e,t){return my(di(e),di(t))&&e.limitType===t.limitType}function GC(e){return`${py(di(e))}|lt:${e.limitType}`}function zm(e){return`Query(target=${MG(di(e))}; limitType=${e.limitType})`}function vy(e,t){return t.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):pe.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(e,t)&&function(n,r){for(const s of n.explicitOrderBy)if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(s,i,o){const a=Fb(s,i,o);return s.inclusive?a<=0:a<0}(n.startAt,Eu(n),r)||n.endAt&&!function(s,i,o){const a=Fb(s,i,o);return s.inclusive?a>=0:a>0}(n.endAt,Eu(n),r))}(e,t)}function HG(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function KC(e){return(t,n)=>{let r=!1;for(const s of Eu(e)){const i=YG(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function YG(e,t,n){const r=e.field.isKeyField()?pe.comparator(t.key,n.key):function(s,i,o){const a=i.data.field(s),u=o.data.field(s);return a!==null&&u!==null?Eo(a,u):be()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(t)?"-0":t}}function XC(e){return{integerValue:""+e}}function GG(e,t){return DG(t)?XC(t):qC(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(){this._=void 0}}function KG(e,t,n){return e instanceof Su?function(r,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,t):e instanceof Tu?JC(e,t):e instanceof Iu?ZC(e,t):function(r,s){const i=QC(r,s),o=Ub(i)+Ub(r._t);return Vm(i)&&Vm(r._t)?XC(o):qC(r.wt,o)}(e,t)}function qG(e,t,n){return e instanceof Tu?JC(e,t):e instanceof Iu?ZC(e,t):n}function QC(e,t){return e instanceof Eh?Vm(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class Su extends Nf{}class Tu extends Nf{constructor(t){super(),this.elements=t}}function JC(e,t){const n=eO(t);for(const r of e.elements)n.some(s=>yr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Iu extends Nf{constructor(t){super(),this.elements=t}}function ZC(e,t){let n=eO(t);for(const r of e.elements)n=n.filter(s=>!yr(s,r));return{arrayValue:{values:n}}}class Eh extends Nf{constructor(t,n){super(),this.wt=t,this._t=n}}function Ub(e){return It(e.integerValue||e.doubleValue)}function eO(e){return dy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(t,n){this.field=t,this.transform=n}}function QG(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof Tu&&r instanceof Tu||n instanceof Iu&&r instanceof Iu?_o(n.elements,r.elements,yr):n instanceof Eh&&r instanceof Eh?yr(n._t,r._t):n instanceof Su&&r instanceof Su}(e.transform,t.transform)}class JG{constructor(t,n){this.version=t,this.transformResults=n}}class pr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new pr}static exists(t){return new pr(void 0,t)}static updateTime(t){return new pr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Al(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class $f{}function tO(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new rO(e.key,pr.none()):new uc(e.key,e.data,pr.none());{const n=e.data,r=yn.empty();let s=new Dt(qt.comparator);for(let i of t.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ps(e.key,r,new Mn(s.toArray()),pr.none())}}function ZG(e,t,n){e instanceof uc?function(r,s,i){const o=r.value.clone(),a=Vb(r.fieldTransforms,s,i.transformResults);o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Ps?function(r,s,i){if(!Al(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=Vb(r.fieldTransforms,s,i.transformResults),a=s.data;a.setAll(nO(r)),a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(e,t,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,t,n)}function La(e,t,n,r){return e instanceof uc?function(s,i,o,a){if(!Al(s.precondition,i))return o;const u=s.value.clone(),c=Wb(s.fieldTransforms,a,i);return u.setAll(c),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ps?function(s,i,o,a){if(!Al(s.precondition,i))return o;const u=Wb(s.fieldTransforms,a,i),c=i.data;return c.setAll(nO(s)),c.setAll(u),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(l=>l.field))}(e,t,n,r):function(s,i,o){return Al(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(e,t,n)}function eK(e,t){let n=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),i=QC(r.transform,s||null);i!=null&&(n===null&&(n=yn.empty()),n.set(r.field,i))}return n||null}function jb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&_o(n,r,(s,i)=>QG(s,i))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class uc extends $f{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ps extends $f{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function nO(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Vb(e,t,n){const r=new Map;at(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,qG(o,a,n[s]))}return r}function Wb(e,t,n){const r=new Map;for(const s of e){const i=s.transform,o=n.data.field(s.field);r.set(s.field,KG(i,o,t))}return r}class rO extends $f{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tK extends $f{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Ue;function rK(e){switch(e){default:return be();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function sO(e){if(e===void 0)return Ts("GRPC error has no .code"),L.UNKNOWN;switch(e){case Tt.OK:return L.OK;case Tt.CANCELLED:return L.CANCELLED;case Tt.UNKNOWN:return L.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return L.INTERNAL;case Tt.UNAVAILABLE:return L.UNAVAILABLE;case Tt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Tt.NOT_FOUND:return L.NOT_FOUND;case Tt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Tt.ABORTED:return L.ABORTED;case Tt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Tt.DATA_LOSS:return L.DATA_LOSS;default:return be()}}(Ue=Tt||(Tt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Ti(this.inner,(n,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return BC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK=new Rt(pe.comparator);function Yr(){return sK}const iO=new Rt(pe.comparator);function wa(...e){let t=iO;for(const n of e)t=t.insert(n.key,n);return t}function oO(e){let t=iO;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Gs(){return Fa()}function aO(){return Fa()}function Fa(){return new Go(e=>e.toString(),(e,t)=>e.isEqual(t))}const iK=new Rt(pe.comparator),oK=new Dt(pe.comparator);function Be(...e){let t=oK;for(const n of e)t=t.add(n);return t}const aK=new Dt(Qe);function uO(){return aK}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n){const r=new Map;return r.set(t,cc.createSynthesizedTargetChangeForCurrentChange(t,n)),new Lf(De.min(),r,uO(),Yr(),Be())}}class cc{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n){return new cc(Ht.EMPTY_BYTE_STRING,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(t,n,r,s){this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=s}}class cO{constructor(t,n){this.targetId=t,this.It=n}}class lO{constructor(t,n,r=Ht.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class zb{constructor(){this.Tt=0,this.Et=Yb(),this.At=Ht.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return this.Tt!==0}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=Be(),n=Be(),r=Be();return this.Et.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:be()}}),new cc(this.At,this.Rt,t,n,r)}Dt(){this.bt=!1,this.Et=Yb()}Ct(t,n){this.bt=!0,this.Et=this.Et.insert(t,n)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class uK{constructor(t){this.Mt=t,this.Ft=new Map,this.$t=Yr(),this.Bt=Hb(),this.Lt=new Dt(Qe)}Ut(t){for(const n of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(n,t.yt):this.Kt(n,t.key,t.yt);for(const n of t.removedTargetIds)this.Kt(n,t.key,t.yt)}Gt(t){this.forEachTarget(t,n=>{const r=this.Qt(n);switch(t.state){case 0:this.jt(n)&&r.Vt(t.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(t.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(r.Ot(),r.Vt(t.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),r.Vt(t.resumeToken));break;default:be()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ft.forEach((r,s)=>{this.jt(s)&&n(s)})}zt(t){const n=t.targetId,r=t.It.count,s=this.Ht(n);if(s){const i=s.target;if(Wm(i))if(r===0){const o=new pe(i.path);this.Kt(n,o,jt.newNoDocument(o,De.min()))}else at(r===1);else this.Jt(n)!==r&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(t){const n=new Map;this.Ft.forEach((i,o)=>{const a=this.Ht(o);if(a){if(i.current&&Wm(a.target)){const u=new pe(a.target.path);this.$t.get(u)!==null||this.Xt(o,u)||this.Kt(o,u,jt.newNoDocument(u,t))}i.vt&&(n.set(o,i.St()),i.Dt())}});let r=Be();this.Bt.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Ht(u);return!c||c.purpose===2||(a=!1,!1)}),a&&(r=r.add(i))}),this.$t.forEach((i,o)=>o.setReadTime(t));const s=new Lf(t,n,this.Lt,this.$t,r);return this.$t=Yr(),this.Bt=Hb(),this.Lt=new Dt(Qe),s}qt(t,n){if(!this.jt(t))return;const r=this.Xt(t,n.key)?2:0;this.Qt(t).Ct(n.key,r),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(t))}Kt(t,n,r){if(!this.jt(t))return;const s=this.Qt(t);this.Xt(t,n)?s.Ct(n,1):s.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(t)),r&&(this.$t=this.$t.insert(n,r))}removeTarget(t){this.Ft.delete(t)}Jt(t){const n=this.Qt(t).St();return this.Mt.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let n=this.Ft.get(t);return n||(n=new zb,this.Ft.set(t,n)),n}Zt(t){let n=this.Bt.get(t);return n||(n=new Dt(Qe),this.Bt=this.Bt.insert(t,n)),n}jt(t){const n=this.Ht(t)!==null;return n||he("WatchChangeAggregator","Detected inactive target",t),n}Ht(t){const n=this.Ft.get(t);return n&&n.Pt?null:this.Mt.te(t)}Wt(t){this.Ft.set(t,new zb),this.Mt.getRemoteKeysForTarget(t).forEach(n=>{this.Kt(t,n,null)})}Xt(t,n){return this.Mt.getRemoteKeysForTarget(t).has(n)}}function Hb(){return new Rt(pe.comparator)}function Yb(){return new Rt(pe.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),lK=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class hK{constructor(t,n){this.databaseId=t,this.dt=n}}function Sh(e,t){return e.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hO(e,t){return e.dt?t.toBase64():t.toUint8Array()}function fK(e,t){return Sh(e,t.toTimestamp())}function Fr(e){return at(!!e),De.fromTimestamp(function(t){const n=As(t);return new kt(n.seconds,n.nanos)}(e))}function yy(e,t){return function(n){return new ct(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function fO(e){const t=ct.fromString(e);return at(mO(t)),t}function Hm(e,t){return yy(e.databaseId,t.path)}function mp(e,t){const n=fO(t);if(n.get(1)!==e.databaseId.projectId)throw new ie(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ie(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pe(dO(n))}function Ym(e,t){return yy(e.databaseId,t)}function dK(e){const t=fO(e);return t.length===4?ct.emptyPath():dO(t)}function Gm(e){return new ct(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dO(e){return at(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Gb(e,t,n){return{name:Hm(e,t),fields:n.value.mapValue.fields}}function pK(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:be()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(u,c){return u.dt?(at(c===void 0||typeof c=="string"),Ht.fromBase64String(c||"")):(at(c===void 0||c instanceof Uint8Array),Ht.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?L.UNKNOWN:sO(u.code);return new ie(c,u.message||"")}(o);n=new lO(r,s,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=mp(e,r.document.name),i=Fr(r.document.updateTime),o=new yn({mapValue:{fields:r.document.fields}}),a=jt.newFoundDocument(s,i,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Cl(u,c,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=mp(e,r.document),i=r.readTime?Fr(r.readTime):De.min(),o=jt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Cl([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=mp(e,r.document),i=r.removedTargetIds||[];n=new Cl([],i,s,null)}else{if(!("filter"in t))return be();{t.filter;const r=t.filter;r.targetId;const s=r.count||0,i=new nK(s),o=r.targetId;n=new cO(o,i)}}return n}function mK(e,t){let n;if(t instanceof uc)n={update:Gb(e,t.key,t.value)};else if(t instanceof rO)n={delete:Hm(e,t.key)};else if(t instanceof Ps)n={update:Gb(e,t.key,t.data),updateMask:IK(t.fieldMask)};else{if(!(t instanceof tK))return be();n={verify:Hm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof Su)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Tu)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Iu)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Eh)return{fieldPath:i.field.canonicalString(),increment:o._t};throw be()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:fK(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:be()}(e,t.precondition)),n}function gK(e,t){return e&&e.length>0?(at(t!==void 0),e.map(n=>function(r,s){let i=r.updateTime?Fr(r.updateTime):Fr(s);return i.isEqual(De.min())&&(i=Fr(s)),new JG(i,r.transformResults||[])}(n,t))):[]}function vK(e,t){return{documents:[Ym(e,t.path)]}}function yK(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Ym(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ym(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(u){if(u.length===0)return;const c=u.map(l=>function(h){if(h.op==="=="){if($b(h.value))return{unaryFilter:{field:$i(h.field),op:"IS_NAN"}};if(Nb(h.value))return{unaryFilter:{field:$i(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if($b(h.value))return{unaryFilter:{field:$i(h.field),op:"IS_NOT_NAN"}};if(Nb(h.value))return{unaryFilter:{field:$i(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$i(h.field),op:EK(h.op),value:h.value}}}(l));return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}(t.filters);s&&(n.structuredQuery.where=s);const i=function(u){if(u.length!==0)return u.map(c=>function(l){return{field:$i(l.field),direction:bK(l.dir)}}(c))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(u,c){return u.dt||Mf(c)?c:{value:c}}(e,t.limit);var a;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),n}function _K(e){let t=dK(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){at(r===1);const l=n.from[0];l.allDescendants?s=l.collectionId:t=t.child(l.collectionId)}let i=[];n.where&&(i=pO(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>function(h){return new $a(Gi(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(l)));let a=null;n.limit&&(a=function(l){let h;return h=typeof l=="object"?l.value:l,Mf(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(l){const h=!!l.before,f=l.values||[];return new bh(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(l){const h=!l.before,f=l.values||[];return new bh(f,h)}(n.endAt)),VG(t,s,o,i,a,"F",u,c)}function wK(e,t){const n=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return be()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function pO(e){return e?e.unaryFilter!==void 0?[TK(e)]:e.fieldFilter!==void 0?[SK(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(t=>pO(t)).reduce((t,n)=>t.concat(n)):be():[]}function bK(e){return cK[e]}function EK(e){return lK[e]}function $i(e){return{fieldPath:e.canonicalString()}}function Gi(e){return qt.fromServerFormat(e.fieldPath)}function SK(e){return ln.create(Gi(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(e.fieldFilter.op),e.fieldFilter.value)}function TK(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gi(e.unaryFilter.field);return ln.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Gi(e.unaryFilter.field);return ln.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gi(e.unaryFilter.field);return ln.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Gi(e.unaryFilter.field);return ln.create(s,"!=",{nullValue:"NULL_VALUE"});default:return be()}}function IK(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function mO(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&ZG(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=La(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=La(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=aO();return this.mutations.forEach(s=>{const i=t.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=tO(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Be())}isEqual(t){return this.batchId===t.batchId&&_o(this.mutations,t.mutations,(n,r)=>jb(n,r))&&_o(this.baseMutations,t.baseMutations,(n,r)=>jb(n,r))}}class _y{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){at(t.mutations.length===r.length);let s=iK;const i=t.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new _y(t,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CK{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t,n,r,s,i=De.min(),o=De.min(),a=Ht.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new ri(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(t){this.ne=t}}function kK(e){const t=_K({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?zG(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(){this.ze=new xK}addToCollectionParentIndex(t,n){return this.ze.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.ze.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(Is.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(Is.min())}updateCollectionGroup(t,n,r){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class xK{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new Dt(ct.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new Dt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new So(0)}static Rn(){return new So(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(){this.changes=new Go(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,jt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(r=s,this.getBaseDocument(t,n,r))).next(s=>(r!==null&&La(r.mutation,s,Mn.empty(),kt.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Be()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Be()){const s=Gs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,r).next(i=>{let o=wa();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Gs();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Be()))}populateOverlays(t,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,s){let i=Yr();const o=Fa(),a=Fa();return n.forEach((u,c)=>{const l=r.get(c.key);s.has(c.key)&&(l===void 0||l.mutation instanceof Ps)?i=i.insert(c.key,c):l!==void 0&&(o.set(c.key,l.mutation.getFieldMask()),La(l.mutation,c,l.mutation.getFieldMask(),kt.now()))}),this.recalculateAndSaveOverlays(t,i).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var h;return a.set(c,new MK(l,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Fa();let s=new Rt((o,a)=>o-a),i=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let l=r.get(u)||Mn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const h=(s.get(a.batchId)||Be()).add(u);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,h=aO();l.forEach(f=>{if(!i.has(f)){const p=tO(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):YC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):W.resolve(Gs());let a=-1,u=i;return o.next(c=>W.forEach(c,(l,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(l)?W.resolve():this.getBaseDocument(t,l,h).next(f=>{u=u.insert(l,f)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,u,c,Be())).next(l=>({batchId:a,changes:oO(l)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pe(n)).next(r=>{let s=wa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const s=n.collectionGroup;let i=wa();return this.indexManager.getCollectionParents(t,s).next(o=>W.forEach(o,a=>{const u=function(c,l){return new ac(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r).next(c=>{c.forEach((l,h)=>{i=i.insert(l,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(t,n,r){let s;return this.remoteDocumentCache.getAllFromCollection(t,n.path,r).next(i=>(s=i,this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId))).next(i=>{i.forEach((a,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,jt.newInvalidDocument(c)))});let o=wa();return s.forEach((a,u)=>{const c=i.get(a);c!==void 0&&La(c.mutation,u,Mn.empty(),kt.now()),vy(n,u)&&(o=o.insert(a,u))}),o})}getBaseDocument(t,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(t,n):W.resolve(jt.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,n){return W.resolve(this.Jn.get(n))}saveBundleMetadata(t,n){var r;return this.Jn.set(n.id,{id:(r=n).id,version:r.version,createTime:Fr(r.createTime)}),W.resolve()}getNamedQuery(t,n){return W.resolve(this.Yn.get(n))}saveNamedQuery(t,n){return this.Yn.set(n.name,function(r){return{name:r.name,query:kK(r.bundledQuery),readTime:Fr(r.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(){this.overlays=new Rt(pe.comparator),this.Xn=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Gs();return W.forEach(n,s=>this.getOverlay(t,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((s,i)=>{this.ie(t,n,i)}),W.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.Xn.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Xn.delete(r)),W.resolve()}getOverlaysForCollection(t,n,r){const s=Gs(),i=n.length+1,o=new pe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return W.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new Rt((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=i.get(c.largestBatchId);l===null&&(l=Gs(),i=i.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Gs(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=s)););return W.resolve(a)}ie(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Xn.get(s.largestBatchId).delete(r.key);this.Xn.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new CK(n,r));let i=this.Xn.get(n);i===void 0&&(i=Be(),this.Xn.set(n,i)),this.Xn.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(){this.Zn=new Dt(Pt.ts),this.es=new Dt(Pt.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,n){const r=new Pt(t,n);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.rs(new Pt(t,n))}os(t,n){t.forEach(r=>this.removeReference(r,n))}us(t){const n=new pe(new ct([])),r=new Pt(n,t),s=new Pt(n,t+1),i=[];return this.es.forEachInRange([r,s],o=>{this.rs(o),i.push(o.key)}),i}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const n=new pe(new ct([])),r=new Pt(n,t),s=new Pt(n,t+1);let i=Be();return this.es.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(t){const n=new Pt(t,0),r=this.Zn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Pt{constructor(t,n){this.key=t,this.ls=n}static ts(t,n){return pe.comparator(t.key,n.key)||Qe(t.ls,n.ls)}static ns(t,n){return Qe(t.ls,n.ls)||pe.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Dt(Pt.ts)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AK(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.ds=this.ds.add(new Pt(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(t,n){return W.resolve(this._s(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.ws(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.fs-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Pt(n,0),s=new Pt(n,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([r,s],o=>{const a=this._s(o.ls);i.push(a)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Dt(Qe);return n.forEach(s=>{const i=new Pt(s,0),o=new Pt(s,Number.POSITIVE_INFINITY);this.ds.forEachInRange([i,o],a=>{r=r.add(a.ls)})}),W.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;pe.isDocumentKey(i)||(i=i.child(""));const o=new Pt(new pe(i),0);let a=new Dt(Qe);return this.ds.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.ls)),!0)},o),W.resolve(this.gs(a))}gs(t){const n=[];return t.forEach(r=>{const s=this._s(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){at(this.ys(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ds;return W.forEach(n.mutations,s=>{const i=new Pt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.ds=r})}In(t){}containsKey(t,n){const r=new Pt(n,0),s=this.ds.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ys(t,n){return this.ws(t)}ws(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}_s(t){const n=this.ws(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(t){this.ps=t,this.docs=new Rt(pe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ps(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(t,n){let r=Yr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():jt.newInvalidDocument(s))}),W.resolve(r)}getAllFromCollection(t,n,r){let s=Yr();const i=new pe(n.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||IG(TG(u),r)<=0||(s=s.insert(u.key,u.mutableCopy()))}return W.resolve(s)}getAllFromCollectionGroup(t,n,r,s){be()}Is(t,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new BK(this)}getSize(t){return W.resolve(this.size)}}class BK extends RK{constructor(t){super(),this.zn=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.zn.addEntry(t,s)):this.zn.removeEntry(r)}),W.waitFor(n)}getFromCache(t,n){return this.zn.getEntry(t,n)}getAllFromCache(t,n){return this.zn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(t){this.persistence=t,this.Ts=new Go(n=>py(n),my),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.Es=0,this.As=new wy,this.targetCount=0,this.Rs=So.An()}forEachTarget(t,n){return this.Ts.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Es&&(this.Es=n),W.resolve()}vn(t){this.Ts.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Rs=new So(n),this.highestTargetId=n),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,n){return this.vn(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.vn(n),W.resolve()}removeTargetData(t,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Ts.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const r=this.Ts.get(n)||null;return W.resolve(r)}addMatchingKeys(t,n,r){return this.As.ss(n,r),W.resolve()}removeMatchingKeys(t,n,r){this.As.os(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(t,o))}),W.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.As.us(n),W.resolve()}getMatchingKeysForTargetId(t,n){const r=this.As.hs(n);return W.resolve(r)}containsKey(t,n){return W.resolve(this.As.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(t,n){this.bs={},this.overlays={},this.Ps=new fy(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new UK(this),this.indexManager=new DK,this.remoteDocumentCache=function(r){return new FK(r)}(r=>this.referenceDelegate.Ss(r)),this.wt=new OK(n),this.Ds=new NK(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new $K,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.bs[t.toKey()];return r||(r=new LK(n,this.referenceDelegate),this.bs[t.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,n,r){he("MemoryPersistence","Starting transaction:",t);const s=new VK(this.Ps.next());return this.referenceDelegate.Cs(),r(s).next(i=>this.referenceDelegate.xs(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ns(t,n){return W.or(Object.values(this.bs).map(r=>()=>r.containsKey(t,n)))}}class VK extends CG{constructor(t){super(),this.currentSequenceNumber=t}}class by{constructor(t){this.persistence=t,this.ks=new wy,this.Os=null}static Ms(t){return new by(t)}get Fs(){if(this.Os)return this.Os;throw be()}addReference(t,n,r){return this.ks.addReference(r,n),this.Fs.delete(r.toString()),W.resolve()}removeReference(t,n,r){return this.ks.removeReference(r,n),this.Fs.add(r.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.Fs.add(n.toString()),W.resolve()}removeTarget(t,n){this.ks.us(n.targetId).forEach(s=>this.Fs.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(i=>this.Fs.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}Cs(){this.Os=new Set}xs(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Fs,r=>{const s=pe.fromPath(r);return this.$s(t,s).next(i=>{i||n.removeEntry(s,De.min())})}).next(()=>(this.Os=null,n.apply(t)))}updateLimboDocument(t,n){return this.$s(t,n).next(r=>{r?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(t){return 0}$s(t,n){return W.or([()=>W.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ns(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=s}static Vi(t,n){let r=Be(),s=Be();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ey(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(){this.Si=!1}initialize(t,n){this.Di=t,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(t,n,r,s){return this.Ci(t,n).next(i=>i||this.xi(t,n,s,r)).next(i=>i||this.Ni(t,n))}Ci(t,n){return W.resolve(null)}xi(t,n,r,s){return WG(n)||s.isEqual(De.min())?this.Ni(t,n):this.Di.getDocuments(t,r).next(i=>{const o=this.ki(n,i);return this.Oi(n,o,r,s)?this.Ni(t,n):(Db()<=Ye.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zm(n)),this.Mi(t,o,n,SG(s,-1)))})}ki(t,n){let r=new Dt(KC(t));return n.forEach((s,i)=>{vy(t,i)&&(r=r.add(i))}),r}Oi(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ni(t,n){return Db()<=Ye.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",zm(n)),this.Di.getDocumentsMatchingQuery(t,n,Is.min())}Mi(t,n,r,s){return this.Di.getDocumentsMatchingQuery(t,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(t,n,r,s){this.persistence=t,this.Fi=n,this.wt=s,this.$i=new Rt(Qe),this.Bi=new Go(i=>py(i),my),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new PK(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.$i))}}function HK(e,t,n,r){return new zK(e,t,n,r)}async function gO(e,t){const n=Ee(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.qi(t),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=Be();for(const c of s){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of i){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ki:c,removedBatchIds:o,addedBatchIds:a}))})})}function YK(e,t){const n=Ee(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,h=l.keys();let f=W.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(a,p)).next(v=>{const O=u.docVersions.get(p);at(O!==null),v.version.compareTo(O)<0&&(l.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,t,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Be();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(t))).next(()=>n.localDocuments.getDocuments(r,s))})}function vO(e){const t=Ee(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Vs.getLastRemoteSnapshotVersion(n))}function GK(e,t){const n=Ee(e),r=t.snapshotVersion;let s=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ui.newChangeBuffer({trackRemovals:!0});s=n.$i;const a=[];t.targetChanges.forEach((l,h)=>{const f=s.get(h);if(!f)return;a.push(n.Vs.removeMatchingKeys(i,l.removedDocuments,h).next(()=>n.Vs.addMatchingKeys(i,l.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.has(h)?p=p.withResumeToken(Ht.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):l.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(l.resumeToken,r)),s=s.insert(h,p),function(v,O,E){return v.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,p,l)&&a.push(n.Vs.updateTargetData(i,p))});let u=Yr(),c=Be();if(t.documentUpdates.forEach(l=>{t.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,l))}),a.push(KK(i,o,t.documentUpdates).next(l=>{u=l.Gi,c=l.Qi})),!r.isEqual(De.min())){const l=n.Vs.getLastRemoteSnapshotVersion(i).next(h=>n.Vs.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(l)}return W.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.$i=s,i))}function KK(e,t,n){let r=Be(),s=Be();return n.forEach(i=>r=r.add(i)),t.getEntries(e,r).next(i=>{let o=Yr();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(De.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):he("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Gi:o,Qi:s}})}function qK(e,t){const n=Ee(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function XK(e,t){const n=Ee(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Vs.getTargetData(r,t).next(i=>i?(s=i,W.resolve(s)):n.Vs.allocateTargetId(r).next(o=>(s=new ri(t,o,0,r.currentSequenceNumber),n.Vs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.$i.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.$i=n.$i.insert(r.targetId,r),n.Bi.set(t,r.targetId)),r})}async function Km(e,t,n){const r=Ee(e),s=r.$i.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!oc(o))throw o;he("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.$i=r.$i.remove(t),r.Bi.delete(s.target)}function Kb(e,t,n){const r=Ee(e);let s=De.min(),i=Be();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=Ee(a),h=l.Bi.get(c);return h!==void 0?W.resolve(l.$i.get(h)):l.Vs.getTargetData(u,c)}(r,o,di(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Fi.getDocumentsMatchingQuery(o,t,n?s:De.min(),n?i:Be())).next(a=>(QK(r,HG(t),a),{documents:a,ji:i})))}function QK(e,t,n){let r=De.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),e.Li.set(t,r)}class qb{constructor(){this.activeTargetIds=uO()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class JK{constructor(){this.Fr=new qb,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,n,r){this.$r[t]=n}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new qb,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{Br(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,n,r,s,i){const o=this.oo(t,n);he("RestConnection","Sending: ",o,r);const a={};return this.uo(a,s,i),this.co(t,o,a,r).then(u=>(he("RestConnection","Received: ",u),u),u=>{throw Um("RestConnection",`${t} failed with error: `,u,"url: ",o,"request:",r),u})}ao(t,n,r,s,i,o){return this.ro(t,n,r,s,i)}uo(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Yo,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>t[i]=s),r&&r.headers.forEach((s,i)=>t[i]=s)}oo(t,n){const r=eq[t];return`${this.so}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,n,r,s){return new Promise((i,o)=>{const a=new fG;a.listenOnce(cG.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case pp.NO_ERROR:const c=a.getResponseJson();he("Connection","XHR received:",JSON.stringify(c)),i(c);break;case pp.TIMEOUT:he("Connection",'RPC "'+t+'" timed out'),o(new ie(L.DEADLINE_EXCEEDED,"Request time out"));break;case pp.HTTP_ERROR:const l=a.getStatus();if(he("Connection",'RPC "'+t+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const f=function(p){const v=p.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(v)>=0?v:L.UNKNOWN}(h.status);o(new ie(f,h.message))}else o(new ie(L.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ie(L.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{he("Connection",'RPC "'+t+'" completed.')}});const u=JSON.stringify(s);a.send(n,"POST",u,r,15)})}ho(t,n,r){const s=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=aG(),o=uG(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new hG({})),this.uo(a.initMessageHeaders,n,r),GE()||qE()||UD()||XE()||jD()||KE()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=s.join("");he("Connection","Creating WebChannel: "+u,a);const c=i.createWebChannel(u,a);let l=!1,h=!1;const f=new tq({jr:v=>{h?he("Connection","Not sending because WebChannel is closed:",v):(l||(he("Connection","Opening WebChannel transport."),c.open(),l=!0),he("Connection","WebChannel sending:",v),c.send(v))},Wr:()=>c.close()}),p=(v,O,E)=>{v.listen(O,A=>{try{E(A)}catch(x){setTimeout(()=>{throw x},0)}})};return p(c,Yc.EventType.OPEN,()=>{h||he("Connection","WebChannel transport opened.")}),p(c,Yc.EventType.CLOSE,()=>{h||(h=!0,he("Connection","WebChannel transport closed"),f.eo())}),p(c,Yc.EventType.ERROR,v=>{h||(h=!0,Um("Connection","WebChannel transport errored:",v),f.eo(new ie(L.UNAVAILABLE,"The operation could not be completed")))}),p(c,Yc.EventType.MESSAGE,v=>{var O;if(!h){const E=v.data[0];at(!!E);const A=E,x=A.error||((O=A[0])===null||O===void 0?void 0:O.error);if(x){he("Connection","WebChannel received error:",x);const H=x.status;let V=function(M){const w=Tt[M];if(w!==void 0)return sO(w)}(H),R=x.message;V===void 0&&(V=L.INTERNAL,R="Unknown error status: "+H+" with message "+x.message),h=!0,f.eo(new ie(V,R)),c.close()}else he("Connection","WebChannel received:",E),f.no(E)}}),p(o,lG.STAT_EVENT,v=>{v.stat===Ob.PROXY?he("Connection","Detected buffering proxy"):v.stat===Ob.NOPROXY&&he("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.Zr()},0),f}}function gp(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(e){return new hK(e,!0)}class yO{constructor(t,n,r=1e3,s=1.5,i=6e4){this.js=t,this.timerId=n,this.lo=r,this.fo=s,this._o=i,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),s=Math.max(0,n-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,s,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){this.mo!==null&&(this.mo.skipDelay(),this.mo=null)}cancel(){this.mo!==null&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(t,n,r,s,i,o,a,u){this.js=t,this.Ao=r,this.Ro=s,this.bo=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new yO(t,n)}Do(){return this.state===1||this.state===5||this.Co()}Co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&this.vo===null&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(t){this.Fo(),this.stream.send(t)}async Oo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(t,n){this.Fo(),this.$o(),this.So.cancel(),this.Po++,t!==4?this.So.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Ts(n.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Jr(n)}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Po===n&&this.Uo(r,s)},r=>{t(()=>{const s=new ie(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(s)})})}Uo(t,n){const r=this.Lo(this.Po);this.stream=this.Ko(t,n),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(s=>{r(()=>this.qo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}xo(){this.state=5,this.So.Io(async()=>{this.state=0,this.start()})}qo(t){return he("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return n=>{this.js.enqueueAndForget(()=>this.Po===t?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rq extends _O{constructor(t,n,r,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.wt=i}Ko(t,n){return this.bo.ho("Listen",t,n)}onMessage(t){this.So.reset();const n=pK(this.wt,t),r=function(s){if(!("targetChange"in s))return De.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?De.min():i.readTime?Fr(i.readTime):De.min()}(t);return this.listener.Go(n,r)}Qo(t){const n={};n.database=Gm(this.wt),n.addTarget=function(s,i){let o;const a=i.target;return o=Wm(a)?{documents:vK(s,a)}:{query:yK(s,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?o.resumeToken=hO(s,i.resumeToken):i.snapshotVersion.compareTo(De.min())>0&&(o.readTime=Sh(s,i.snapshotVersion.toTimestamp())),o}(this.wt,t);const r=wK(this.wt,t);r&&(n.labels=r),this.Mo(n)}jo(t){const n={};n.database=Gm(this.wt),n.removeTarget=t,this.Mo(n)}}class sq extends _O{constructor(t,n,r,s,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.wt=i,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,n){return this.bo.ho("Write",t,n)}onMessage(t){if(at(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const n=gK(t.writeResults,t.commitTime),r=Fr(t.commitTime);return this.listener.Jo(r,n)}return at(!t.writeResults||t.writeResults.length===0),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=Gm(this.wt),this.Mo(t)}Ho(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>mK(this.wt,r))};this.Mo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq extends class{}{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.bo=r,this.wt=s,this.Zo=!1}tu(){if(this.Zo)throw new ie(L.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.bo.ro(t,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(L.UNKNOWN,s.toString())})}ao(t,n,r,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.bo.ao(t,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie(L.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class oq{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){this.eu===0&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){this.state==="Online"?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,t==="Online"&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Ts(n),this.su=!1):he("OnlineStateTracker",n)}cu(){this.nu!==null&&(this.nu.cancel(),this.nu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=i,this.du.Br(o=>{r.enqueueAndForget(async()=>{Ii(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=Ee(a);u.lu.add(4),await lc(u),u._u.set("Unknown"),u.lu.delete(4),await Bf(u)}(this))})}),this._u=new oq(r,s)}}async function Bf(e){if(Ii(e))for(const t of e.fu)await t(!0)}async function lc(e){for(const t of e.fu)await t(!1)}function wO(e,t){const n=Ee(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),Iy(n)?Ty(n):Ko(n).Co()&&Sy(n,t))}function bO(e,t){const n=Ee(e),r=Ko(n);n.hu.delete(t),r.Co()&&EO(n,t),n.hu.size===0&&(r.Co()?r.ko():Ii(n)&&n._u.set("Unknown"))}function Sy(e,t){e.wu.Nt(t.targetId),Ko(e).Qo(t)}function EO(e,t){e.wu.Nt(t),Ko(e).jo(t)}function Ty(e){e.wu=new uK({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),te:t=>e.hu.get(t)||null}),Ko(e).start(),e._u.iu()}function Iy(e){return Ii(e)&&!Ko(e).Do()&&e.hu.size>0}function Ii(e){return Ee(e).lu.size===0}function SO(e){e.wu=void 0}async function uq(e){e.hu.forEach((t,n)=>{Sy(e,t)})}async function cq(e,t){SO(e),Iy(e)?(e._u.uu(t),Ty(e)):e._u.set("Unknown")}async function lq(e,t,n){if(e._u.set("Online"),t instanceof lO&&t.state===2&&t.cause)try{await async function(r,s){const i=s.cause;for(const o of s.targetIds)r.hu.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.hu.delete(o),r.wu.removeTarget(o))}(e,t)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Th(e,r)}else if(t instanceof Cl?e.wu.Ut(t):t instanceof cO?e.wu.zt(t):e.wu.Gt(t),!n.isEqual(De.min()))try{const r=await vO(e.localStore);n.compareTo(r)>=0&&await function(s,i){const o=s.wu.Yt(i);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=s.hu.get(u);c&&s.hu.set(u,c.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach(a=>{const u=s.hu.get(a);if(!u)return;s.hu.set(a,u.withResumeToken(Ht.EMPTY_BYTE_STRING,u.snapshotVersion)),EO(s,a);const c=new ri(u.target,a,1,u.sequenceNumber);Sy(s,c)}),s.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await Th(e,r)}}async function Th(e,t,n){if(!oc(t))throw t;e.lu.add(1),await lc(e),e._u.set("Offline"),n||(n=()=>vO(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),e.lu.delete(1),await Bf(e)})}function TO(e,t){return t().catch(n=>Th(e,n,t))}async function Uf(e){const t=Ee(e),n=Cs(t);let r=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;hq(t);)try{const s=await qK(t.localStore,r);if(s===null){t.au.length===0&&n.ko();break}r=s.batchId,fq(t,s)}catch(s){await Th(t,s)}IO(t)&&AO(t)}function hq(e){return Ii(e)&&e.au.length<10}function fq(e,t){e.au.push(t);const n=Cs(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function IO(e){return Ii(e)&&!Cs(e).Do()&&e.au.length>0}function AO(e){Cs(e).start()}async function dq(e){Cs(e).Xo()}async function pq(e){const t=Cs(e);for(const n of e.au)t.Ho(n.mutations)}async function mq(e,t,n){const r=e.au.shift(),s=_y.from(r,t,n);await TO(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Uf(e)}async function gq(e,t){t&&Cs(e).zo&&await async function(n,r){if(s=r.code,rK(s)&&s!==L.ABORTED){const i=n.au.shift();Cs(n).No(),await TO(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Uf(n)}var s}(e,t),IO(e)&&AO(e)}async function Qb(e,t){const n=Ee(e);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=Ii(n);n.lu.add(3),await lc(n),r&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.lu.delete(3),await Bf(n)}async function vq(e,t){const n=Ee(e);t?(n.lu.delete(2),await Bf(n)):t||(n.lu.add(2),await lc(n),n._u.set("Unknown"))}function Ko(e){return e.mu||(e.mu=function(t,n,r){const s=Ee(t);return s.tu(),new rq(n,s.bo,s.authCredentials,s.appCheckCredentials,s.wt,r)}(e.datastore,e.asyncQueue,{zr:uq.bind(null,e),Jr:cq.bind(null,e),Go:lq.bind(null,e)}),e.fu.push(async t=>{t?(e.mu.No(),Iy(e)?Ty(e):e._u.set("Unknown")):(await e.mu.stop(),SO(e))})),e.mu}function Cs(e){return e.gu||(e.gu=function(t,n,r){const s=Ee(t);return s.tu(),new sq(n,s.bo,s.authCredentials,s.appCheckCredentials,s.wt,r)}(e.datastore,e.asyncQueue,{zr:dq.bind(null,e),Jr:gq.bind(null,e),Yo:pq.bind(null,e),Jo:mq.bind(null,e)}),e.fu.push(async t=>{t?(e.gu.No(),await Uf(e)):(await e.gu.stop(),e.au.length>0&&(he("RemoteStore",`Stopping write stream with ${e.au.length} pending writes`),e.au=[]))})),e.gu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,s,i){const o=Date.now()+r,a=new Ay(t,n,o,s,i);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(L.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cy(e,t){if(Ts("AsyncQueue",`${t}: ${e}`),oc(e))return new ie(L.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t){this.comparator=t?(n,r)=>t(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=wa(),this.sortedSet=new Rt(this.comparator)}static emptySet(t){return new ao(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ao)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ao;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.yu=new Rt(pe.comparator)}track(t){const n=t.doc.key,r=this.yu.get(n);r?t.type!==0&&r.type===3?this.yu=this.yu.insert(n,t):t.type===3&&r.type!==1?this.yu=this.yu.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.yu=this.yu.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.yu=this.yu.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.yu=this.yu.remove(n):t.type===1&&r.type===2?this.yu=this.yu.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.yu=this.yu.insert(n,{type:2,doc:t.doc}):be():this.yu=this.yu.insert(n,t)}pu(){const t=[];return this.yu.inorderTraversal((n,r)=>{t.push(r)}),t}}class To{constructor(t,n,r,s,i,o,a,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(t,n,r,s){const i=[];return n.forEach(o=>{i.push({type:0,doc:o})}),new To(t,n,ao.emptySet(n),i,r,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Pf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(){this.Iu=void 0,this.listeners=[]}}class _q{constructor(){this.queries=new Go(t=>GC(t),Pf),this.onlineState="Unknown",this.Tu=new Set}}async function CO(e,t){const n=Ee(e),r=t.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new yq),s)try{i.Iu=await n.onListen(r)}catch(o){const a=Cy(o,`Initialization of query '${zm(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,i),i.listeners.push(t),t.Eu(n.onlineState),i.Iu&&t.Au(i.Iu)&&Oy(n)}async function OO(e,t){const n=Ee(e),r=t.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(t);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function wq(e,t){const n=Ee(e);let r=!1;for(const s of t){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.Au(s)&&(r=!0);o.Iu=s}}r&&Oy(n)}function bq(e,t,n){const r=Ee(e),s=r.queries.get(t);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(t)}function Oy(e){e.Tu.forEach(t=>{t.next()})}class kO{constructor(t,n,r){this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new To(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),n=!0):this.Vu(t,this.onlineState)&&(this.Su(t),n=!0),this.Pu=t,n}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),n=!0),n}Vu(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Du||!r)&&(!t.docs.isEmpty()||n==="Offline")}vu(t){if(t.docChanges.length>0)return!0;const n=this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Su(t){t=To.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(t){this.key=t}}class xO{constructor(t){this.key=t}}class Eq{constructor(t,n){this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Be(),this.mutatedKeys=Be(),this.Lu=KC(t),this.Uu=new ao(this.Lu)}get qu(){return this.Fu}Ku(t,n){const r=n?n.Gu:new Jb,s=n?n.Uu:this.Uu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((l,h)=>{const f=s.get(l),p=vy(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),O=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?v!==O&&(r.track({type:3,doc:p}),E=!0):this.Qu(f,p)||(r.track({type:2,doc:p}),E=!0,(u&&this.Lu(p,u)>0||c&&this.Lu(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(u||c)&&(a=!0)),E&&(p?(o=o.add(p),i=O?i.add(l):i.delete(l)):(o=o.delete(l),i=i.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),i=i.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:a,mutatedKeys:i}}Qu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const s=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const i=t.Gu.pu();i.sort((c,l)=>function(h,f){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return p(h)-p(f)}(c.type,l.type)||this.Lu(c.doc,l.doc)),this.ju(r);const o=n?this.Wu():[],a=this.Bu.size===0&&this.current?1:0,u=a!==this.$u;return this.$u=a,i.length!==0||u?{snapshot:new To(this.query,t.Uu,s,i,t.mutatedKeys,a===0,u,!1),zu:o}:{zu:o}}Eu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Jb,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=Be(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const n=[];return t.forEach(r=>{this.Bu.has(r)||n.push(new xO(r))}),this.Bu.forEach(r=>{t.has(r)||n.push(new DO(r))}),n}Ju(t){this.Fu=t.ji,this.Bu=Be();const n=this.Ku(t.documents);return this.applyChanges(n,!0)}Yu(){return To.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,this.$u===0)}}class Sq{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Tq{constructor(t){this.key=t,this.Xu=!1}}class Iq{constructor(t,n,r,s,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Go(a=>GC(a),Pf),this.ec=new Map,this.nc=new Set,this.sc=new Rt(pe.comparator),this.ic=new Map,this.rc=new wy,this.oc={},this.uc=new Map,this.cc=So.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return this.ac===!0}}async function Aq(e,t){const n=$q(e);let r,s;const i=n.tc.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Yu();else{const o=await XK(n.localStore,di(t));n.isPrimaryClient&&wO(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await Cq(n,t,r,a==="current")}return s}async function Cq(e,t,n,r){e.hc=(l,h,f)=>async function(p,v,O,E){let A=v.view.Ku(O);A.Oi&&(A=await Kb(p.localStore,v.query,!1).then(({documents:V})=>v.view.Ku(V,A)));const x=E&&E.targetChanges.get(v.targetId),H=v.view.applyChanges(A,p.isPrimaryClient,x);return eE(p,v.targetId,H.zu),H.snapshot}(e,l,h,f);const s=await Kb(e.localStore,t,!0),i=new Eq(t,s.ji),o=i.Ku(s.documents),a=cc.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),u=i.applyChanges(o,e.isPrimaryClient,a);eE(e,n,u.zu);const c=new Sq(t,n,i);return e.tc.set(t,c),e.ec.has(n)?e.ec.get(n).push(t):e.ec.set(n,[t]),u.snapshot}async function Oq(e,t){const n=Ee(e),r=n.tc.get(t),s=n.ec.get(r.targetId);if(s.length>1)return n.ec.set(r.targetId,s.filter(i=>!Pf(i,t))),void n.tc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Km(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),bO(n.remoteStore,r.targetId),qm(n,r.targetId)}).catch(ic)):(qm(n,r.targetId),await Km(n.localStore,r.targetId,!0))}async function kq(e,t,n){const r=Lq(e);try{const s=await function(i,o){const a=Ee(i),u=kt.now(),c=o.reduce((f,p)=>f.add(p.key),Be());let l,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Yr(),v=Be();return a.Ui.getEntries(f,c).next(O=>{p=O,p.forEach((E,A)=>{A.isValidDocument()||(v=v.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(O=>{l=O;const E=[];for(const A of o){const x=eK(A,l.get(A.key).overlayedDocument);x!=null&&E.push(new Ps(A.key,x,VC(x.value.mapValue),pr.exists(!0)))}return a.mutationQueue.addMutationBatch(f,u,E,o)}).next(O=>{h=O;const E=O.applyToLocalDocumentSet(l,v);return a.documentOverlayCache.saveOverlays(f,O.batchId,E)})}).then(()=>({batchId:h.batchId,changes:oO(l)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,a){let u=i.oc[i.currentUser.toKey()];u||(u=new Rt(Qe)),u=u.insert(o,a),i.oc[i.currentUser.toKey()]=u}(r,s.batchId,n),await hc(r,s.changes),await Uf(r.remoteStore)}catch(s){const i=Cy(s,"Failed to persist write");n.reject(i)}}async function RO(e,t){const n=Ee(e);try{const r=await GK(n.localStore,t);t.targetChanges.forEach((s,i)=>{const o=n.ic.get(i);o&&(at(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Xu=!0:s.modifiedDocuments.size>0?at(o.Xu):s.removedDocuments.size>0&&(at(o.Xu),o.Xu=!1))}),await hc(n,r,t)}catch(r){await ic(r)}}function Zb(e,t,n){const r=Ee(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.tc.forEach((i,o)=>{const a=o.view.Eu(t);a.snapshot&&s.push(a.snapshot)}),function(i,o){const a=Ee(i);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const h of l.listeners)h.Eu(o)&&(u=!0)}),u&&Oy(a)}(r.eventManager,t),s.length&&r.Zu.Go(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Dq(e,t,n){const r=Ee(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.ic.get(t),i=s&&s.key;if(i){let o=new Rt(pe.comparator);o=o.insert(i,jt.newNoDocument(i,De.min()));const a=Be().add(i),u=new Lf(De.min(),new Map,new Dt(Qe),o,a);await RO(r,u),r.sc=r.sc.remove(i),r.ic.delete(t),ky(r)}else await Km(r.localStore,t,!1).then(()=>qm(r,t,n)).catch(ic)}async function xq(e,t){const n=Ee(e),r=t.batch.batchId;try{const s=await YK(n.localStore,t);PO(n,r,null),MO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hc(n,s)}catch(s){await ic(s)}}async function Rq(e,t,n){const r=Ee(e);try{const s=await function(i,o){const a=Ee(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(at(l!==null),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,t);PO(r,t,n),MO(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await hc(r,s)}catch(s){await ic(s)}}function MO(e,t){(e.uc.get(t)||[]).forEach(n=>{n.resolve()}),e.uc.delete(t)}function PO(e,t,n){const r=Ee(e);let s=r.oc[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(n?i.reject(n):i.resolve(),s=s.remove(t)),r.oc[r.currentUser.toKey()]=s}}function qm(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ec.get(t))e.tc.delete(r),n&&e.Zu.lc(r,n);e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach(r=>{e.rc.containsKey(r)||NO(e,r)})}function NO(e,t){e.nc.delete(t.path.canonicalString());const n=e.sc.get(t);n!==null&&(bO(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),ky(e))}function eE(e,t,n){for(const r of n)r instanceof DO?(e.rc.addReference(r.key,t),Mq(e,r)):r instanceof xO?(he("SyncEngine","Document no longer in limbo: "+r.key),e.rc.removeReference(r.key,t),e.rc.containsKey(r.key)||NO(e,r.key)):be()}function Mq(e,t){const n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(he("SyncEngine","New document in limbo: "+n),e.nc.add(r),ky(e))}function ky(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){const t=e.nc.values().next().value;e.nc.delete(t);const n=new pe(ct.fromString(t)),r=e.cc.next();e.ic.set(r,new Tq(n)),e.sc=e.sc.insert(n,r),wO(e.remoteStore,new ri(di(gy(n.path)),r,2,fy.ot))}}async function hc(e,t,n){const r=Ee(e),s=[],i=[],o=[];r.tc.isEmpty()||(r.tc.forEach((a,u)=>{o.push(r.hc(u,t,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),s.push(c);const l=Ey.Vi(u.targetId,c);i.push(l)}}))}),await Promise.all(o),r.Zu.Go(s),await async function(a,u){const c=Ee(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",l=>W.forEach(u,h=>W.forEach(h.Pi,f=>c.persistence.referenceDelegate.addReference(l,h.targetId,f)).next(()=>W.forEach(h.vi,f=>c.persistence.referenceDelegate.removeReference(l,h.targetId,f)))))}catch(l){if(!oc(l))throw l;he("LocalStore","Failed to update sequence numbers: "+l)}for(const l of u){const h=l.targetId;if(!l.fromCache){const f=c.$i.get(h),p=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(p);c.$i=c.$i.insert(h,v)}}}(r.localStore,i))}async function Pq(e,t){const n=Ee(e);if(!n.currentUser.isEqual(t)){he("SyncEngine","User change. New user:",t.toKey());const r=await gO(n.localStore,t);n.currentUser=t,function(s,i){s.uc.forEach(o=>{o.forEach(a=>{a.reject(new ie(L.CANCELLED,i))})}),s.uc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await hc(n,r.Ki)}}function Nq(e,t){const n=Ee(e),r=n.ic.get(t);if(r&&r.Xu)return Be().add(r.key);{let s=Be();const i=n.ec.get(t);if(!i)return s;for(const o of i){const a=n.tc.get(o);s=s.unionWith(a.view.qu)}return s}}function $q(e){const t=Ee(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=RO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nq.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Dq.bind(null,t),t.Zu.Go=wq.bind(null,t.eventManager),t.Zu.lc=bq.bind(null,t.eventManager),t}function Lq(e){const t=Ee(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xq.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Rq.bind(null,t),t}class Fq{constructor(){this.synchronizeTabs=!1}async initialize(t){this.wt=Ff(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),await this.persistence.start(),this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore)}mc(t,n){return null}gc(t,n){return null}wc(t){return HK(this.persistence,new WK,t.initialUser,this.wt)}_c(t){return new jK(by.Ms,this.wt)}dc(t){return new JK}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Bq{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pq.bind(null,this.syncEngine),await vq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new _q}createDatastore(t){const n=Ff(t.databaseInfo.databaseId),r=(s=t.databaseInfo,new nq(s));var s;return function(i,o,a,u){return new iq(i,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,s=t.asyncQueue,i=a=>Zb(this.syncEngine,a,0),o=Xb.V()?new Xb:new ZK,new aq(n,r,s,i,o);var n,r,s,i,o}createSyncEngine(t,n){return function(r,s,i,o,a,u,c){const l=new Iq(r,s,i,o,a,u);return c&&(l.ac=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=Ee(t);he("RemoteStore","RemoteStore shutting down."),n.lu.add(5),await lc(n),n.du.shutdown(),n._u.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(t,n,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Gt.UNAUTHENTICATED,this.clientId=FC.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{he("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(he("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Cy(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function jq(e,t){e.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await gO(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function Vq(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Wq(e);he("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(s=>Qb(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,i)=>Qb(t.remoteStore,i)),e.onlineComponents=t}async function Wq(e){return e.offlineComponents||(he("FirestoreClient","Using default OfflineComponentProvider"),await jq(e,new Fq)),e.offlineComponents}async function LO(e){return e.onlineComponents||(he("FirestoreClient","Using default OnlineComponentProvider"),await Vq(e,new Bq)),e.onlineComponents}function zq(e){return LO(e).then(t=>t.syncEngine)}async function Xm(e){const t=await LO(e),n=t.eventManager;return n.onListen=Aq.bind(null,t.syncEngine),n.onUnlisten=Oq.bind(null,t.syncEngine),n}function Hq(e,t,n={}){const r=new vs;return e.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,u){const c=new $O({next:h=>{i.enqueueAndForget(()=>OO(s,l)),h.fromCache&&a.source==="server"?u.reject(new ie(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),l=new kO(o,c,{includeMetadataChanges:!0,Du:!0});return CO(s,l)}(await Xm(e),e.asyncQueue,t,n,r)),r.promise}const tE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(e,t,n){if(!n)throw new ie(L.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Yq(e,t,n,r){if(t===!0&&r===!0)throw new ie(L.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function nE(e){if(!pe.isDocumentKey(e))throw new ie(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function rE(e){if(pe.isDocumentKey(e))throw new ie(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function jf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":be()}function Br(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ie(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jf(e);throw new ie(L.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new ie(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ie(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Yq("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sE({}),this._settingsFrozen=!1,t instanceof bo?this._databaseId=t:(this._app=t,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ie(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bo(s.options.projectId)}(t))}get app(){if(!this._app)throw new ie(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new ie(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sE(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new pG;switch(n.type){case"gapi":const r=n.client;return at(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new yG(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new ie(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=tE.get(t);n&&(he("ComponentProvider","Removing Datastore"),tE.delete(t),n.terminate())}(this),Promise.resolve()}}function Gq(e,t,n,r={}){var s;const i=(e=Br(e,Vf))._getSettings();if(i.host!=="firestore.googleapis.com"&&i.host!==t&&Um("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Gt.MOCK_USER;else{o=YE(r.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ie(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Gt(u)}e._authCredentials=new mG(new LC(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _n(this.firestore,t,this._key)}}class qo{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new qo(this.firestore,t,this._query)}}class ys extends qo{constructor(t,n,r){super(t,n,gy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _n(this.firestore,null,new pe(t))}withConverter(t){return new ys(this.firestore,t,this._path)}}function Io(e,t,...n){if(e=zt(e),FO("collection","path",t),e instanceof Vf){const r=ct.fromString(t,...n);return rE(r),new ys(e,null,r)}{if(!(e instanceof _n||e instanceof ys))throw new ie(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ct.fromString(t,...n));return rE(r),new ys(e.firestore,null,r)}}function Dy(e,t,...n){if(e=zt(e),arguments.length===1&&(t=FC.I()),FO("doc","path",t),e instanceof Vf){const r=ct.fromString(t,...n);return nE(r),new _n(e,null,new pe(r))}{if(!(e instanceof _n||e instanceof ys))throw new ie(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ct.fromString(t,...n));return nE(r),new _n(e.firestore,e instanceof ys?e.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new yO(this,"async_queue_retry"),this.Kc=()=>{const n=gp();n&&he("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const t=gp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const n=gp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new vs;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Mc.push(t),this.jc()))}async jc(){if(this.Mc.length!==0){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(t){if(!oc(t))throw t;he("AsyncQueue","Operation failed with retryable error: "+t)}this.Mc.length>0&&this.So.Io(()=>this.jc())}}Qc(t){const n=this.Oc.then(()=>(this.Lc=!0,t().catch(r=>{this.Bc=r,this.Lc=!1;const s=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw Ts("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Lc=!1,r))));return this.Oc=n,n}enqueueAfterDelay(t,n,r){this.Gc(),this.qc.indexOf(t)>-1&&(n=0);const s=Ay.createAndSchedule(this,t,n,r,i=>this.Wc(i));return this.$c.push(s),s}Gc(){this.Bc&&be()}verifyOperationInProgress(){}async zc(){let t;do t=this.Oc,await t;while(t!==this.Oc)}Hc(t){for(const n of this.$c)if(n.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const n=this.$c.indexOf(t);this.$c.splice(n,1)}}function iE(e){return function(t,n){if(typeof t!="object"||t===null)return!1;const r=t;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class Ao extends Vf{constructor(t,n,r){super(t,n,r),this.type="firestore",this._queue=new Kq,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||BO(this),this._firestoreClient.terminate()}}function qq(e,t){const n=Pu(e,"firestore");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Qa(s,t))return r;throw new ie(L.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ie(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return n.initialize({options:t})}function Xo(e=og()){return Pu(e,"firestore").getImmediate()}function xy(e){return e._firestoreClient||BO(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function BO(e){var t;const n=e._freezeSettings(),r=function(s,i,o,a){return new kG(s,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Uq(e._authCredentials,e._appCheckCredentials,e._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ie(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Co(Ht.fromBase64String(t))}catch(n){throw new ie(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Co(Ht.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ie(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ie(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Qe(this._lat,t._lat)||Qe(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq=/^__.*__$/;class Qq{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ps(t,this.data,this.fieldMask,n,this.fieldTransforms):new uc(t,this.data,n,this.fieldTransforms)}}class UO{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ps(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function jO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class My{constructor(t,n,r,s,i,o){this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Xc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new My(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.ta({path:r,na:!1});return s.sa(t),s}ia(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.ta({path:r,na:!1});return s.Xc(),s}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return Ih(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(t.length===0)throw this.oa("Document fields must not be empty");if(jO(this.Zc)&&Xq.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class Jq{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||Ff(t)}aa(t,n,r,s=!1){return new My({Zc:t,methodName:n,ca:r,path:qt.emptyPath(),na:!1,ua:s},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Py(e){const t=e._freezeSettings(),n=Ff(e._databaseId);return new Jq(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Zq(e,t,n,r,s,i={}){const o=e.aa(i.merge||i.mergeFields?2:0,t,n,s);$y("Data must be an object, but it was:",o,r);const a=VO(r,o);let u,c;if(i.merge)u=new Mn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const l=[];for(const h of i.mergeFields){const f=Qm(t,h,n);if(!o.contains(f))throw new ie(L.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);zO(l,f)||l.push(f)}u=new Mn(l),c=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=o.fieldTransforms;return new Qq(new yn(a),u,c)}class Hf extends zf{_toFieldTransform(t){if(t.Zc!==2)throw t.Zc===1?t.oa(`${this._methodName}() can only appear at the top level of your update data`):t.oa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Hf}}class Ny extends zf{_toFieldTransform(t){return new XG(t.path,new Su)}isEqual(t){return t instanceof Ny}}function eX(e,t,n,r){const s=e.aa(1,t,n);$y("Data must be an object, but it was:",s,r);const i=[],o=yn.empty();Ti(r,(u,c)=>{const l=Ly(t,u,n);c=zt(c);const h=s.ia(l);if(c instanceof Hf)i.push(l);else{const f=fc(c,h);f!=null&&(i.push(l),o.set(l,f))}});const a=new Mn(i);return new UO(o,a,s.fieldTransforms)}function tX(e,t,n,r,s,i){const o=e.aa(1,t,n),a=[Qm(t,r,n)],u=[s];if(i.length%2!=0)throw new ie(L.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Qm(t,i[f])),u.push(i[f+1]);const c=[],l=yn.empty();for(let f=a.length-1;f>=0;--f)if(!zO(c,a[f])){const p=a[f];let v=u[f];v=zt(v);const O=o.ia(p);if(v instanceof Hf)c.push(p);else{const E=fc(v,O);E!=null&&(c.push(p),l.set(p,E))}}const h=new Mn(c);return new UO(l,h,o.fieldTransforms)}function nX(e,t,n,r=!1){return fc(n,e.aa(r?4:3,t))}function fc(e,t){if(WO(e=zt(e)))return $y("Unsupported field value:",t,e),VO(e,t);if(e instanceof zf)return function(n,r){if(!jO(r.Zc))throw r.oa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&t.Zc!==4)throw t.oa("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const o of n){let a=fc(o,r.ra(i));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),i++}return{arrayValue:{values:s}}}(e,t)}return function(n,r){if((n=zt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return GG(r.wt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=kt.fromDate(n);return{timestampValue:Sh(r.wt,s)}}if(n instanceof kt){const s=new kt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Sh(r.wt,s)}}if(n instanceof Ry)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Co)return{bytesValue:hO(r.wt,n._byteString)};if(n instanceof _n){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.oa(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:yy(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.oa(`Unsupported field value: ${jf(n)}`)}(e,t)}function VO(e,t){const n={};return BC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ti(e,(r,s)=>{const i=fc(s,t.ea(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function WO(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof kt||e instanceof Ry||e instanceof Co||e instanceof _n||e instanceof zf)}function $y(e,t,n){if(!WO(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=jf(n);throw r==="an object"?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function Qm(e,t,n){if((t=zt(t))instanceof Wf)return t._internalPath;if(typeof t=="string")return Ly(e,t);throw Ih("Field path arguments must be of type string or ",e,!1,void 0,n)}const rX=new RegExp("[~\\*/\\[\\]]");function Ly(e,t,n){if(t.search(rX)>=0)throw Ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Wf(...t.split("."))._internalPath}catch{throw Ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ih(e,t,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new ie(L.INVALID_ARGUMENT,a+e+u)}function zO(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new sX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Fy("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sX extends HO{data(){return super.data()}}function Fy(e,t){return typeof t=="string"?Ly(e,t):t instanceof Wf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class YO extends HO{constructor(t,n,r,s,i,o){super(t,n,r,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ol(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Fy("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ol extends YO{data(t={}){return super.data(t)}}class GO{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new ba(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Ol(this._firestore,this._userDataWriter,r.key,r,new ba(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Ol(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ba(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:i++}))}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new Ol(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ba(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return o.type!==0&&(u=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),c=i.indexOf(o.doc.key)),{type:iX(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function iX(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ie(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oX{}function qO(e,...t){for(const n of t)e=n._apply(e);return e}class aX extends oX{constructor(t,n,r){super(),this.fa=t,this.da=n,this._a=r,this.type="where"}_apply(t){const n=Py(t.firestore),r=function(s,i,o,a,u,c,l){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ie(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){aE(l,c);const p=[];for(const v of l)p.push(oE(a,s,v));h={arrayValue:{values:p}}}else h=oE(a,s,l)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||aE(l,c),h=nX(o,i,l,c==="in"||c==="not-in");const f=ln.create(u,c,h);return function(p,v){if(v.ht()){const E=HC(p);if(E!==null&&!E.isEqual(v.field))throw new ie(L.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${E.toString()}' and '${v.field.toString()}'`);const A=zC(p);A!==null&&uX(p,v.field,A)}const O=function(E,A){for(const x of E.filters)if(A.indexOf(x.op)>=0)return x.op;return null}(p,function(E){switch(E){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(v.op));if(O!==null)throw O===v.op?new ie(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${v.op.toString()}' filter.`):new ie(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${v.op.toString()}' filters with '${O.toString()}' filters.`)}(s,f),f}(t._query,"where",n,t.firestore._databaseId,this.fa,this.da,this._a);return new qo(t.firestore,t.converter,function(s,i){const o=s.filters.concat([i]);return new ac(s.path,s.collectionGroup,s.explicitOrderBy.slice(),o,s.limit,s.limitType,s.startAt,s.endAt)}(t._query,r))}}function Ah(e,t,n){const r=t,s=Fy("where",e);return new aX(s,r,n)}function oE(e,t,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new ie(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YC(t)&&n.indexOf("/")!==-1)throw new ie(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ct.fromString(n));if(!pe.isDocumentKey(r))throw new ie(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pb(e,new pe(r))}if(n instanceof _n)return Pb(e,n._key);throw new ie(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jf(n)}.`)}function aE(e,t){if(!Array.isArray(e)||e.length===0)throw new ie(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new ie(L.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function uX(e,t,n){if(!n.isEqual(t))throw new ie(L.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{convertValue(t,n="none"){switch(fi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return It(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(wo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw be()}}convertObject(t,n){const r={};return Ti(t.fields,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(t){return new Ry(It(t.latitude),It(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=jC(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wu(t));default:return null}}convertTimestamp(t){const n=As(t);return new kt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ct.fromString(t);at(mO(r));const s=new bo(r.get(1),r.get(3)),i=new pe(r.popFirst(5));return s.isEqual(n)||Ts(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lX(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class By extends cX{constructor(t){super(),this.firestore=t}convertBytes(t){return new Co(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function XO(e){e=Br(e,qo);const t=Br(e.firestore,Ao),n=xy(t),r=new By(t);return KO(e._query),Hq(n,e._query).then(s=>new GO(t,r,e,s))}function hX(e,t,n,...r){e=Br(e,_n);const s=Br(e.firestore,Ao),i=Py(s);let o;return o=typeof(t=zt(t))=="string"||t instanceof Wf?tX(i,"updateDoc",e._key,t,n,r):eX(i,"updateDoc",e._key,t),ZO(s,[o.toMutation(e._key,pr.exists(!0))])}function QO(e,t){const n=Br(e.firestore,Ao),r=Dy(e),s=lX(e.converter,t);return ZO(n,[Zq(Py(e.firestore),"addDoc",r._key,s,e.converter!==null,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}function JO(e,...t){var n,r,s;e=zt(e);let i={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||iE(t[o])||(i=t[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(iE(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),t[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let u,c,l;if(e instanceof _n)c=Br(e.firestore,Ao),l=gy(e._key.path),u={next:h=>{t[o]&&t[o](fX(c,e,h))},error:t[o+1],complete:t[o+2]};else{const h=Br(e,qo);c=Br(h.firestore,Ao),l=h._query;const f=new By(c);u={next:p=>{t[o]&&t[o](new GO(c,f,h,p))},error:t[o+1],complete:t[o+2]},KO(e._query)}return function(h,f,p,v){const O=new $O(v),E=new kO(f,O,p);return h.asyncQueue.enqueueAndForget(async()=>CO(await Xm(h),E)),()=>{O.Tc(),h.asyncQueue.enqueueAndForget(async()=>OO(await Xm(h),E))}}(xy(c),l,a,u)}function ZO(e,t){return function(n,r){const s=new vs;return n.asyncQueue.enqueueAndForget(async()=>kq(await zq(n),r,s)),s.promise}(xy(e),t)}function fX(e,t,n){const r=n.docs.get(t._key),s=new By(e);return new YO(e,s,t._key,r,new ba(n.hasPendingWrites,n.fromCache),t.converter)}function ek(){return new Ny("serverTimestamp")}(function(e,t=!0){(function(n){Yo=n})(xo),ii(new ws("firestore",(n,{options:r})=>{const s=n.getProvider("app").getImmediate(),i=new Ao(s,new gG(n.getProvider("auth-internal")),new wG(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),i._setSettings(r),i},"PUBLIC")),hr(kb,"3.4.12",e),hr(kb,"3.4.12","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="firebasestorage.googleapis.com",nk="storageBucket",dX=2*60*1e3,pX=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt extends Os{constructor(t,n){super(vp(t),`Firebase Storage: ${n} (${vp(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mt.prototype)}_codeEquals(t){return vp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function vp(e){return"storage/"+e}function Uy(){const e="An unknown error occurred, please check the error payload for server response.";return new Mt("unknown",e)}function mX(e){return new Mt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function gX(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mt("unauthenticated",e)}function vX(){return new Mt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function yX(e){return new Mt("unauthorized","User does not have permission to access '"+e+"'.")}function _X(){return new Mt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function wX(){return new Mt("canceled","User canceled the upload/download.")}function bX(e){return new Mt("invalid-url","Invalid URL '"+e+"'.")}function EX(e){return new Mt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function SX(){return new Mt("no-default-bucket","No default bucket found. Did you set the '"+nk+"' property when initializing the app?")}function TX(){return new Mt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Jm(e){return new Mt("invalid-argument",e)}function rk(){return new Mt("app-deleted","The Firebase app was deleted.")}function IX(e){return new Mt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ba(e,t){return new Mt("invalid-format","String does not match format '"+e+"': "+t)}function da(e){throw new Mt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Tn.makeFromUrl(t,n)}catch{return new Tn(t,"")}if(r.path==="")return r;throw EX(t)}static makeFromUrl(t,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),u={bucket:1,path:3};function c(V){V.path_=decodeURIComponent(V.path)}const l="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${l}/b/${s}/o${f}`,"i"),v={bucket:1,path:3},O=n===tk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",A=new RegExp(`^https?://${O}/${s}/${E}`,"i"),H=[{regex:a,indices:u,postModify:i},{regex:p,indices:v,postModify:c},{regex:A,indices:{bucket:1,path:2},postModify:c}];for(let V=0;V<H.length;V++){const R=H[V],M=R.regex.exec(t);if(M){const w=M[R.indices.bucket];let C=M[R.indices.path];C||(C=""),r=new Tn(w,C),R.postModify(r);break}}if(r==null)throw bX(t);return r}}class AX{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CX(e,t,n){let r=1,s=null,i=null,o=!1,a=0;function u(){return a===2}let c=!1;function l(...E){c||(c=!0,t.apply(null,E))}function h(E){s=setTimeout(()=>{s=null,e(p,u())},E)}function f(){i&&clearTimeout(i)}function p(E,...A){if(c){f();return}if(E){f(),l.call(null,E,...A);return}if(u()||o){f(),l.call(null,E,...A);return}r<64&&(r*=2);let H;a===1?(a=2,H=0):H=(r+Math.random())*1e3,h(H)}let v=!1;function O(E){v||(v=!0,f(),!c&&(s!==null?(E||(a=2),clearTimeout(s),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,O(!0)},n),O}function OX(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kX(e){return e!==void 0}function DX(e){return typeof e=="object"&&!Array.isArray(e)}function sk(e){return typeof e=="string"||e instanceof String}function uE(e){return jy()&&e instanceof Blob}function jy(){return typeof Blob!="undefined"}function cE(e,t,n,r){if(r<t)throw Jm(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Jm(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xX(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function RX(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const s=t(r)+"="+t(e[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(si||(si={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MX{constructor(t,n,r,s,i,o,a,u,c,l,h){this.url_=t,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const t=(r,s)=>{if(s){r(!1,new qc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===si.NO_ERROR,u=i.getStatus();if(!a||this.isRetryStatusCode_(u)){const l=i.getErrorCode()===si.ABORT;r(!1,new qc(!1,null,l));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new qc(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());kX(u)?i(u):i()}catch(u){o(u)}else if(a!==null){const u=Uy();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(s.canceled){const u=this.appDelete_?rk():wX();o(u)}else{const u=_X();o(u)}};this.canceled_?n(!1,new qc(!1,null,!0)):this.backoffId_=CX(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&OX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=this.additionalRetryCodes_.indexOf(t)!==-1;return n||s||i}}class qc{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function PX(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function NX(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function $X(e,t){t&&(e["X-Firebase-GMPID"]=t)}function LX(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function FX(e,t,n,r,s,i){const o=RX(e.urlParams),a=e.url+o,u=Object.assign({},e.headers);return $X(u,t),PX(u,n),NX(u,i),LX(u,r),new MX(a,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BX(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function UX(...e){const t=BX();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(jy())return new Blob(e);throw new Mt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function jX(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VX(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yp{constructor(t,n){this.data=t,this.contentType=n||null}}function WX(e,t){switch(e){case lr.RAW:return new yp(ik(t));case lr.BASE64:case lr.BASE64URL:return new yp(ok(e,t));case lr.DATA_URL:return new yp(HX(t),YX(t))}throw Uy()}function ik(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const i=r,o=e.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function zX(e){let t;try{t=decodeURIComponent(e)}catch{throw Ba(lr.DATA_URL,"Malformed data URL.")}return ik(t)}function ok(e,t){switch(e){case lr.BASE64:{const s=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(s||i)throw Ba(e,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case lr.BASE64URL:{const s=t.indexOf("+")!==-1,i=t.indexOf("/")!==-1;if(s||i)throw Ba(e,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=VX(t)}catch{throw Ba(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class ak{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ba(lr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=GX(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function HX(e){const t=new ak(e);return t.base64?ok(lr.BASE64,t.rest):zX(t.rest)}function YX(e){return new ak(e).contentType}function GX(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t,n){let r=0,s="";uE(t)?(this.data_=t,r=t.size,s=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,n){if(uE(this.data_)){const r=this.data_,s=jX(r,t,n);return s===null?null:new us(s)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new us(r,!0)}}static getBlob(...t){if(jy()){const n=t.map(r=>r instanceof us?r.data_:r);return new us(UX.apply(null,n))}else{const n=t.map(o=>sk(o)?WX(lr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new us(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KX(e){let t;try{t=JSON.parse(e)}catch{return null}return DX(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qX(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function XX(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function uk(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QX(e,t){return t}class rn{constructor(t,n,r,s){this.server=t,this.local=n||t,this.writable=!!r,this.xform=s||QX}}let Xc=null;function JX(e){return!sk(e)||e.length<2?e:uk(e)}function ZX(){if(Xc)return Xc;const e=[];e.push(new rn("bucket")),e.push(new rn("generation")),e.push(new rn("metageneration")),e.push(new rn("name","fullPath",!0));function t(i,o){return JX(o)}const n=new rn("name");n.xform=t,e.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new rn("size");return s.xform=r,e.push(s),e.push(new rn("timeCreated")),e.push(new rn("updated")),e.push(new rn("md5Hash",null,!0)),e.push(new rn("cacheControl",null,!0)),e.push(new rn("contentDisposition",null,!0)),e.push(new rn("contentEncoding",null,!0)),e.push(new rn("contentLanguage",null,!0)),e.push(new rn("contentType",null,!0)),e.push(new rn("metadata","customMetadata",!0)),Xc=e,Xc}function eQ(e,t){function n(){const r=e.bucket,s=e.fullPath,i=new Tn(r,s);return t._makeStorageReference(i)}Object.defineProperty(e,"ref",{get:n})}function tQ(e,t,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,t[o.server])}return eQ(r,e),r}function nQ(e,t,n){const r=KX(t);return r===null?null:tQ(e,r,n)}function rQ(e,t){const n={},r=t.length;for(let s=0;s<r;s++){const i=t[s];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}class sQ{constructor(t,n,r,s){this.url=t,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iQ(e){if(!e)throw Uy()}function oQ(e,t){function n(r,s){const i=nQ(e,s,t);return iQ(i!==null),i}return n}function aQ(e){function t(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=vX():s=gX():n.getStatus()===402?s=mX(e.bucket):n.getStatus()===403?s=yX(e.path):s=r,s.serverResponse=r.serverResponse,s}return t}function uQ(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function cQ(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=uQ(null,t)),r}function lQ(e,t,n,r,s){const i=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let H="";for(let V=0;V<2;V++)H=H+Math.random().toString().slice(2);return H}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const c=cQ(t,r,s),l=rQ(c,n),h="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+l+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+u+"--",p=us.getBlob(h,r,f);if(p===null)throw TX();const v={name:c.fullPath},O=xX(i,e.host,e._protocol),E="POST",A=e.maxUploadRetryTime,x=new sQ(O,E,oQ(e,n),A);return x.urlParams=v,x.headers=o,x.body=p.uploadData(),x.errorHandler=aQ(t),x}class hQ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=si.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=si.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=si.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,s){if(this.sent_)throw da("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw da("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw da("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw da("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw da("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class fQ extends hQ{initXhr(){this.xhr_.responseType="text"}}function dQ(){return new fQ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t,n){this._service=t,n instanceof Tn?this._location=n:this._location=Tn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new pi(t,n)}get root(){const t=new Tn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uk(this._location.path)}get storage(){return this._service}get parent(){const t=qX(this._location.path);if(t===null)return null;const n=new Tn(this._location.bucket,t);return new pi(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw IX(t)}}function pQ(e,t,n){e._throwIfRoot("uploadBytes");const r=lQ(e.storage,e._location,ZX(),new us(t,!0),n);return e.storage.makeRequestWithTokens(r,dQ).then(s=>({metadata:s,ref:e}))}function mQ(e,t){const n=XX(e._location.path,t),r=new Tn(e._location.bucket,n);return new pi(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gQ(e){return/^[A-Za-z]+:\/\//.test(e)}function vQ(e,t){return new pi(e,t)}function ck(e,t){if(e instanceof Vy){const n=e;if(n._bucket==null)throw SX();const r=new pi(n,n._bucket);return t!=null?ck(r,t):r}else return t!==void 0?mQ(e,t):e}function yQ(e,t){if(t&&gQ(t)){if(e instanceof Vy)return vQ(e,t);throw Jm("To use ref(service, url), the first argument must be a Storage instance.")}else return ck(e,t)}function lE(e,t){const n=t==null?void 0:t[nk];return n==null?null:Tn.makeFromBucketSpec(n,e)}function _Q(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken=typeof s=="string"?s:YE(s,e.app.options.projectId))}class Vy{constructor(t,n,r,s,i){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=tk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dX,this._maxUploadRetryTime=pX,this._requests=new Set,s!=null?this._bucket=Tn.makeFromBucketSpec(s,this._host):this._bucket=lE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Tn.makeFromBucketSpec(this._url,t):this._bucket=lE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){cE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){cE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new pi(this,t)}_makeRequest(t,n,r,s){if(this._deleted)return new AX(rk());{const i=FX(t,this._appId,r,s,n,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(t,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,s).getPromise()}}const hE="@firebase/storage",fE="0.9.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="storage";function zne(e,t,n){return e=zt(e),pQ(e,t,n)}function Hne(e,t){return e=zt(e),yQ(e,t)}function wQ(e=og(),t){return e=zt(e),Pu(e,lk).getImmediate({identifier:t})}function bQ(e,t,n,r={}){_Q(e,t,n,r)}function EQ(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Vy(n,r,s,t,xo)}function SQ(){ii(new ws(lk,EQ,"PUBLIC").setMultipleInstances(!0)),hr(hE,fE,""),hr(hE,fE,"esm2017")}SQ();const Au={supportsFirebase:!1},TQ=e=>{Object.assign(Au,e)},Zm={apiKey:"AIzaSyCqk-k-XiYFYgPQo28ITj3qkxoqDGDrVk0",appId:"1:1011232276130:web:1ae2ea1437c349a4c2e1fb",authDomain:"octo-64838.firebaseapp.com",databaseURL:"https://octo-64838.firebaseio.com",messagingSenderId:"1011232276130",projectId:"octo-64838",storageBucket:"octo-64838.appspot.com"},IQ=()=>{const e=Object.keys(Zm).filter(t=>!Zm[t]);return e.length>0?(console.warn(`Skipping Firebase initialization. Missing keys: [${e.join(", ")}]`),!1):!0},AQ=()=>{if(!IQ())return;const e=Gx(Zm);qq(e,{experimentalAutoDetectLongPolling:!0}),dG("error"),location.hostname==="localhost"&&!{}.VITE_FIREBASE_EMULATOR_BYPASS&&(DR(sr(),{}.VITE_FIREBASE_EMULATOR_AUTH,{disableWarnings:!0}),Gq(Xo(),{}.VITE_FIREBASE_EMULATOR_FIRESTORE_HOST,{}.VITE_FIREBASE_EMULATOR_FIRESTORE_PORT),bQ(wQ(),{}.VITE_FIREBASE_EMULATOR_STORAGE_HOST,{}.VITE_FIREBASE_EMULATOR_STORAGE_PORT)),TQ({supportsFirebase:!0})};/*!
  * vue-router v4.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const hk=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Qo=e=>hk?Symbol(e):"_vr_"+e,CQ=Qo("rvlm"),dE=Qo("rvd"),Yf=Qo("r"),Wy=Qo("rl"),eg=Qo("rvl"),Vi=typeof window!="undefined";function OQ(e){return e.__esModule||hk&&e[Symbol.toStringTag]==="Module"}const st=Object.assign;function _p(e,t){const n={};for(const r in t){const s=t[r];n[r]=Array.isArray(s)?s.map(e):e(s)}return n}const Ua=()=>{},kQ=/\/$/,DQ=e=>e.replace(kQ,"");function wp(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("?"),u=t.indexOf("#",a>-1?a:0);return a>-1&&(r=t.slice(0,a),i=t.slice(a+1,u>-1?u:t.length),s=e(i)),u>-1&&(r=r||t.slice(0,u),o=t.slice(u,t.length)),r=PQ(r!=null?r:t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function xQ(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function pE(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function RQ(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Oo(t.matched[r],n.matched[s])&&fk(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Oo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function fk(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!MQ(e[n],t[n]))return!1;return!0}function MQ(e,t){return Array.isArray(e)?mE(e,t):Array.isArray(t)?mE(t,e):e===t}function mE(e,t){return Array.isArray(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function PQ(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let s=n.length-1,i,o;for(i=0;i<r.length;i++)if(o=r[i],!(s===1||o==="."))if(o==="..")s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var Cu;(function(e){e.pop="pop",e.push="push"})(Cu||(Cu={}));var ja;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ja||(ja={}));function NQ(e){if(!e)if(Vi){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),DQ(e)}const $Q=/^[^#]+#/;function LQ(e,t){return e.replace($Q,"#")+t}function FQ(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Gf=()=>({left:window.pageXOffset,top:window.pageYOffset});function BQ(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=FQ(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function gE(e,t){return(history.state?history.state.position-t:-1)+e}const tg=new Map;function UQ(e,t){tg.set(e,t)}function jQ(e){const t=tg.get(e);return tg.delete(e),t}let VQ=()=>location.protocol+"//"+location.host;function dk(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,u=s.slice(a);return u[0]!=="/"&&(u="/"+u),pE(u,"")}return pE(n,e)+r+s}function WQ(e,t,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const p=dk(e,location),v=n.value,O=t.value;let E=0;if(f){if(n.value=p,t.value=f,o&&o===v){o=null;return}E=O?f.position-O.position:0}else r(p);s.forEach(A=>{A(n.value,v,{delta:E,type:Cu.pop,direction:E?E>0?ja.forward:ja.back:ja.unknown})})};function u(){o=n.value}function c(f){s.push(f);const p=()=>{const v=s.indexOf(f);v>-1&&s.splice(v,1)};return i.push(p),p}function l(){const{history:f}=window;!f.state||f.replaceState(st({},f.state,{scroll:Gf()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l),{pauseListeners:u,listen:c,destroy:h}}function vE(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Gf():null}}function zQ(e){const{history:t,location:n}=window,r={value:dk(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(u,c,l){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+u:VQ()+e+u;try{t[l?"replaceState":"pushState"](c,"",f),s.value=c}catch(p){console.error(p),n[l?"replace":"assign"](f)}}function o(u,c){const l=st({},t.state,vE(s.value.back,u,s.value.forward,!0),c,{position:s.value.position});i(u,l,!0),r.value=u}function a(u,c){const l=st({},s.value,t.state,{forward:u,scroll:Gf()});i(l.current,l,!0);const h=st({},vE(r.value,u,null),{position:l.position+1},c);i(u,h,!1),r.value=u}return{location:r,state:s,push:a,replace:o}}function HQ(e){e=NQ(e);const t=zQ(e),n=WQ(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=st({location:"",base:e,go:r,createHref:LQ.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function YQ(e){return typeof e=="string"||e&&typeof e=="object"}function pk(e){return typeof e=="string"||typeof e=="symbol"}const ts={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},mk=Qo("nf");var yE;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(yE||(yE={}));function ko(e,t){return st(new Error,{type:e,[mk]:!0},t)}function ns(e,t){return e instanceof Error&&mk in e&&(t==null||!!(e.type&t))}const _E="[^/]+?",GQ={sensitive:!1,strict:!1,start:!0,end:!0},KQ=/[.+*?^${}()[\]/\\]/g;function qQ(e,t){const n=st({},GQ,t),r=[];let s=n.start?"^":"";const i=[];for(const c of e){const l=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const f=c[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(KQ,"\\$&"),p+=40;else if(f.type===1){const{value:v,repeatable:O,optional:E,regexp:A}=f;i.push({name:v,repeatable:O,optional:E});const x=A||_E;if(x!==_E){p+=10;try{new RegExp(`(${x})`)}catch(V){throw new Error(`Invalid custom RegExp for param "${v}" (${x}): `+V.message)}}let H=O?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;h||(H=E&&c.length<2?`(?:/${H})`:"/"+H),E&&(H+="?"),s+=H,p+=20,E&&(p+=-8),O&&(p+=-20),x===".*"&&(p+=-50)}l.push(p)}r.push(l)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const l=c.match(o),h={};if(!l)return null;for(let f=1;f<l.length;f++){const p=l[f]||"",v=i[f-1];h[v.name]=p&&v.repeatable?p.split("/"):p}return h}function u(c){let l="",h=!1;for(const f of e){(!h||!l.endsWith("/"))&&(l+="/"),h=!1;for(const p of f)if(p.type===0)l+=p.value;else if(p.type===1){const{value:v,repeatable:O,optional:E}=p,A=v in c?c[v]:"";if(Array.isArray(A)&&!O)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const x=Array.isArray(A)?A.join("/"):A;if(!x)if(E)f.length<2&&e.length>1&&(l.endsWith("/")?l=l.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);l+=x}}return l}return{re:o,score:r,keys:i,parse:a,stringify:u}}function XQ(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function QQ(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=XQ(r[n],s[n]);if(i)return i;n++}return s.length-r.length}const JQ={type:0,value:""},ZQ=/[a-zA-Z0-9_]/;function eJ(e){if(!e)return[[]];if(e==="/")return[[JQ]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,u,c="",l="";function h(){!c||(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:l,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=u}for(;a<e.length;){if(u=e[a++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(c&&h(),o()):u===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:u==="("?n=2:ZQ.test(u)?f():(h(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--);break;case 2:u===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+u:n=3:l+=u;break;case 3:h(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--,l="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),s}function tJ(e,t,n){const r=qQ(eJ(e.path),n),s=st(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function nJ(e,t){const n=[],r=new Map;t=bE({strict:!1,end:!0,sensitive:!1},t);function s(l){return r.get(l)}function i(l,h,f){const p=!f,v=sJ(l);v.aliasOf=f&&f.record;const O=bE(t,l),E=[v];if("alias"in l){const H=typeof l.alias=="string"?[l.alias]:l.alias;for(const V of H)E.push(st({},v,{components:f?f.record.components:v.components,path:V,aliasOf:f?f.record:v}))}let A,x;for(const H of E){const{path:V}=H;if(h&&V[0]!=="/"){const R=h.record.path,M=R[R.length-1]==="/"?"":"/";H.path=h.record.path+(V&&M+V)}if(A=tJ(H,h,O),f?f.alias.push(A):(x=x||A,x!==A&&x.alias.push(A),p&&l.name&&!wE(A)&&o(l.name)),"children"in v){const R=v.children;for(let M=0;M<R.length;M++)i(R[M],A,f&&f.children[M])}f=f||A,u(A)}return x?()=>{o(x)}:Ua}function o(l){if(pk(l)){const h=r.get(l);h&&(r.delete(l),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(l);h>-1&&(n.splice(h,1),l.record.name&&r.delete(l.record.name),l.children.forEach(o),l.alias.forEach(o))}}function a(){return n}function u(l){let h=0;for(;h<n.length&&QQ(l,n[h])>=0&&(l.record.path!==n[h].record.path||!gk(l,n[h]));)h++;n.splice(h,0,l),l.record.name&&!wE(l)&&r.set(l.record.name,l)}function c(l,h){let f,p={},v,O;if("name"in l&&l.name){if(f=r.get(l.name),!f)throw ko(1,{location:l});O=f.record.name,p=st(rJ(h.params,f.keys.filter(x=>!x.optional).map(x=>x.name)),l.params),v=f.stringify(p)}else if("path"in l)v=l.path,f=n.find(x=>x.re.test(v)),f&&(p=f.parse(v),O=f.record.name);else{if(f=h.name?r.get(h.name):n.find(x=>x.re.test(h.path)),!f)throw ko(1,{location:l,currentLocation:h});O=f.record.name,p=st({},h.params,l.params),v=f.stringify(p)}const E=[];let A=f;for(;A;)E.unshift(A.record),A=A.parent;return{name:O,path:v,params:p,matched:E,meta:oJ(E)}}return e.forEach(l=>i(l)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function rJ(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function sJ(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:iJ(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function iJ(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function wE(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function oJ(e){return e.reduce((t,n)=>st(t,n.meta),{})}function bE(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function gk(e,t){return t.children.some(n=>n===e||gk(e,n))}const vk=/#/g,aJ=/&/g,uJ=/\//g,cJ=/=/g,lJ=/\?/g,yk=/\+/g,hJ=/%5B/g,fJ=/%5D/g,_k=/%5E/g,dJ=/%60/g,wk=/%7B/g,pJ=/%7C/g,bk=/%7D/g,mJ=/%20/g;function zy(e){return encodeURI(""+e).replace(pJ,"|").replace(hJ,"[").replace(fJ,"]")}function gJ(e){return zy(e).replace(wk,"{").replace(bk,"}").replace(_k,"^")}function ng(e){return zy(e).replace(yk,"%2B").replace(mJ,"+").replace(vk,"%23").replace(aJ,"%26").replace(dJ,"`").replace(wk,"{").replace(bk,"}").replace(_k,"^")}function vJ(e){return ng(e).replace(cJ,"%3D")}function yJ(e){return zy(e).replace(vk,"%23").replace(lJ,"%3F")}function _J(e){return e==null?"":yJ(e).replace(uJ,"%2F")}function Ch(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function wJ(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(yk," "),o=i.indexOf("="),a=Ch(o<0?i:i.slice(0,o)),u=o<0?null:Ch(i.slice(o+1));if(a in t){let c=t[a];Array.isArray(c)||(c=t[a]=[c]),c.push(u)}else t[a]=u}return t}function EE(e){let t="";for(let n in e){const r=e[n];if(n=vJ(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Array.isArray(r)?r.map(i=>i&&ng(i)):[r&&ng(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function bJ(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Array.isArray(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}function pa(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function is(e,t,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const u=h=>{h===!1?a(ko(4,{from:n,to:t})):h instanceof Error?a(h):YQ(h)?a(ko(2,{from:t,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},c=e.call(r&&r.instances[s],t,n,u);let l=Promise.resolve(c);e.length<3&&(l=l.then(u)),l.catch(h=>a(h))})}function bp(e,t,n,r){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(EJ(a)){const c=(a.__vccOpts||a)[t];c&&s.push(is(c,n,r,i,o))}else{let u=a();s.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const l=OQ(c)?c.default:c;i.components[o]=l;const f=(l.__vccOpts||l)[t];return f&&is(f,n,r,i,o)()}))}}return s}function EJ(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function SE(e){const t=Rn(Yf),n=Rn(Wy),r=Sn(()=>t.resolve(Xs(e.to))),s=Sn(()=>{const{matched:u}=r.value,{length:c}=u,l=u[c-1],h=n.matched;if(!l||!h.length)return-1;const f=h.findIndex(Oo.bind(null,l));if(f>-1)return f;const p=TE(u[c-2]);return c>1&&TE(l)===p&&h[h.length-1].path!==p?h.findIndex(Oo.bind(null,u[c-2])):f}),i=Sn(()=>s.value>-1&&AJ(n.params,r.value.params)),o=Sn(()=>s.value>-1&&s.value===n.matched.length-1&&fk(n.params,r.value.params));function a(u={}){return IJ(u)?t[Xs(e.replace)?"replace":"push"](Xs(e.to)).catch(Ua):Promise.resolve()}return{route:r,href:Sn(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const SJ=Uu({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:SE,setup(e,{slots:t}){const n=ks(SE(e)),{options:r}=Rn(Yf),s=Sn(()=>({[IE(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[IE(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:RS("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),TJ=SJ;function IJ(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function AJ(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Array.isArray(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function TE(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const IE=(e,t,n)=>e!=null?e:t!=null?t:n,CJ=Uu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Rn(eg),s=Sn(()=>e.route||r.value),i=Rn(dE,0),o=Sn(()=>s.value.matched[i]);fl(dE,i+1),fl(CQ,o),fl(eg,s);const a=Yn();return Qs(()=>[a.value,o.value,e.name],([u,c,l],[h,f,p])=>{c&&(c.instances[l]=u,f&&f!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!Oo(c,f)||!h)&&(c.enterCallbacks[l]||[]).forEach(v=>v(u))},{flush:"post"}),()=>{const u=s.value,c=o.value,l=c&&c.components[e.name],h=e.name;if(!l)return AE(n.default,{Component:l,route:u});const f=c.props[e.name],p=f?f===!0?u.params:typeof f=="function"?f(u):f:null,O=RS(l,st({},p,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(c.instances[h]=null)},ref:a}));return AE(n.default,{Component:O,route:u})||O}}});function AE(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const OJ=CJ;function kJ(e){const t=nJ(e.routes,e),n=e.parseQuery||wJ,r=e.stringifyQuery||EE,s=e.history,i=pa(),o=pa(),a=pa(),u=RP(ts);let c=ts;Vi&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=_p.bind(null,D=>""+D),h=_p.bind(null,_J),f=_p.bind(null,Ch);function p(D,ne){let $,Z;return pk(D)?($=t.getRecordMatcher(D),Z=ne):Z=D,t.addRoute(Z,$)}function v(D){const ne=t.getRecordMatcher(D);ne&&t.removeRoute(ne)}function O(){return t.getRoutes().map(D=>D.record)}function E(D){return!!t.getRecordMatcher(D)}function A(D,ne){if(ne=st({},ne||u.value),typeof D=="string"){const _e=wp(n,D,ne.path),g=t.resolve({path:_e.path},ne),S=s.createHref(_e.fullPath);return st(_e,g,{params:f(g.params),hash:Ch(_e.hash),redirectedFrom:void 0,href:S})}let $;if("path"in D)$=st({},D,{path:wp(n,D.path,ne.path).path});else{const _e=st({},D.params);for(const g in _e)_e[g]==null&&delete _e[g];$=st({},D,{params:h(D.params)}),ne.params=h(ne.params)}const Z=t.resolve($,ne),$e=D.hash||"";Z.params=l(f(Z.params));const Ne=xQ(r,st({},D,{hash:gJ($e),path:Z.path})),Se=s.createHref(Ne);return st({fullPath:Ne,hash:$e,query:r===EE?bJ(D.query):D.query||{}},Z,{redirectedFrom:void 0,href:Se})}function x(D){return typeof D=="string"?wp(n,D,u.value.path):st({},D)}function H(D,ne){if(c!==D)return ko(8,{from:ne,to:D})}function V(D){return w(D)}function R(D){return V(st(x(D),{replace:!0}))}function M(D){const ne=D.matched[D.matched.length-1];if(ne&&ne.redirect){const{redirect:$}=ne;let Z=typeof $=="function"?$(D):$;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=x(Z):{path:Z},Z.params={}),st({query:D.query,hash:D.hash,params:D.params},Z)}}function w(D,ne){const $=c=A(D),Z=u.value,$e=D.state,Ne=D.force,Se=D.replace===!0,_e=M($);if(_e)return w(st(x(_e),{state:$e,force:Ne,replace:Se}),ne||$);const g=$;g.redirectedFrom=ne;let S;return!Ne&&RQ(r,Z,$)&&(S=ko(16,{to:g,from:Z}),Fn(Z,Z,!0,!1)),(S?Promise.resolve(S):X(g,Z)).catch(k=>ns(k)?ns(k,2)?k:Bt(k):Me(k,g,Z)).then(k=>{if(k){if(ns(k,2))return w(st(x(k.to),{state:$e,force:Ne,replace:Se}),ne||g)}else k=Ce(g,Z,!0,Se,$e);return de(g,Z,k),k})}function C(D,ne){const $=H(D,ne);return $?Promise.reject($):Promise.resolve()}function X(D,ne){let $;const[Z,$e,Ne]=DJ(D,ne);$=bp(Z.reverse(),"beforeRouteLeave",D,ne);for(const _e of Z)_e.leaveGuards.forEach(g=>{$.push(is(g,D,ne))});const Se=C.bind(null,D,ne);return $.push(Se),Li($).then(()=>{$=[];for(const _e of i.list())$.push(is(_e,D,ne));return $.push(Se),Li($)}).then(()=>{$=bp($e,"beforeRouteUpdate",D,ne);for(const _e of $e)_e.updateGuards.forEach(g=>{$.push(is(g,D,ne))});return $.push(Se),Li($)}).then(()=>{$=[];for(const _e of D.matched)if(_e.beforeEnter&&!ne.matched.includes(_e))if(Array.isArray(_e.beforeEnter))for(const g of _e.beforeEnter)$.push(is(g,D,ne));else $.push(is(_e.beforeEnter,D,ne));return $.push(Se),Li($)}).then(()=>(D.matched.forEach(_e=>_e.enterCallbacks={}),$=bp(Ne,"beforeRouteEnter",D,ne),$.push(Se),Li($))).then(()=>{$=[];for(const _e of o.list())$.push(is(_e,D,ne));return $.push(Se),Li($)}).catch(_e=>ns(_e,8)?_e:Promise.reject(_e))}function de(D,ne,$){for(const Z of a.list())Z(D,ne,$)}function Ce(D,ne,$,Z,$e){const Ne=H(D,ne);if(Ne)return Ne;const Se=ne===ts,_e=Vi?history.state:{};$&&(Z||Se?s.replace(D.fullPath,st({scroll:Se&&_e&&_e.scroll},$e)):s.push(D.fullPath,$e)),u.value=D,Fn(D,ne,$,Se),Bt()}let Re;function gt(){Re||(Re=s.listen((D,ne,$)=>{const Z=A(D),$e=M(Z);if($e){w(st($e,{replace:!0}),Z).catch(Ua);return}c=Z;const Ne=u.value;Vi&&UQ(gE(Ne.fullPath,$.delta),Gf()),X(Z,Ne).catch(Se=>ns(Se,12)?Se:ns(Se,2)?(w(Se.to,Z).then(_e=>{ns(_e,20)&&!$.delta&&$.type===Cu.pop&&s.go(-1,!1)}).catch(Ua),Promise.reject()):($.delta&&s.go(-$.delta,!1),Me(Se,Z,Ne))).then(Se=>{Se=Se||Ce(Z,Ne,!1),Se&&($.delta?s.go(-$.delta,!1):$.type===Cu.pop&&ns(Se,20)&&s.go(-1,!1)),de(Z,Ne,Se)}).catch(Ua)}))}let vt=pa(),nt=pa(),rt;function Me(D,ne,$){Bt(D);const Z=nt.list();return Z.length?Z.forEach($e=>$e(D,ne,$)):console.error(D),Promise.reject(D)}function We(){return rt&&u.value!==ts?Promise.resolve():new Promise((D,ne)=>{vt.add([D,ne])})}function Bt(D){return rt||(rt=!D,gt(),vt.list().forEach(([ne,$])=>D?$(D):ne()),vt.reset()),D}function Fn(D,ne,$,Z){const{scrollBehavior:$e}=e;if(!Vi||!$e)return Promise.resolve();const Ne=!$&&jQ(gE(D.fullPath,0))||(Z||!$)&&history.state&&history.state.scroll||null;return Og().then(()=>$e(D,ne,Ne)).then(Se=>Se&&BQ(Se)).catch(Se=>Me(Se,D,ne))}const ae=D=>s.go(D);let we;const Ae=new Set;return{currentRoute:u,addRoute:p,removeRoute:v,hasRoute:E,getRoutes:O,resolve:A,options:e,push:V,replace:R,go:ae,back:()=>ae(-1),forward:()=>ae(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:nt.add,isReady:We,install(D){const ne=this;D.component("RouterLink",TJ),D.component("RouterView",OJ),D.config.globalProperties.$router=ne,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>Xs(u)}),Vi&&!we&&u.value===ts&&(we=!0,V(s.location).catch($e=>{}));const $={};for(const $e in ts)$[$e]=Sn(()=>u.value[$e]);D.provide(Yf,ne),D.provide(Wy,ks($)),D.provide(eg,u);const Z=D.unmount;Ae.add(D),D.unmount=function(){Ae.delete(D),Ae.size<1&&(c=ts,Re&&Re(),Re=null,u.value=ts,we=!1,rt=!1),Z()}}}}function Li(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function DJ(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>Oo(c,a))?r.push(a):n.push(a));const u=e.matched[o];u&&(t.matched.find(c=>Oo(c,u))||s.push(u))}return[n,r,s]}function Yne(){return Rn(Yf)}function Gne(){return Rn(Wy)}const xJ={},RJ={fill:"currentColor",viewBox:"0 0 136 133",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},MJ=N("path",{d:"M67.867,0c-37.48,0 -67.867,30.388 -67.867,67.875c0,29.988 19.446,55.425 46.417,64.404c3.396,0.621 4.633,-1.475 4.633,-3.275c0,-1.608 -0.058,-5.879 -0.092,-11.541c-18.879,4.1 -22.862,-9.1 -22.862,-9.1c-3.088,-7.842 -7.538,-9.93 -7.538,-9.93c-6.162,-4.208 0.467,-4.125 0.467,-4.125c6.813,0.48 10.396,6.996 10.396,6.996c6.054,10.371 15.887,7.375 19.754,5.638c0.617,-4.384 2.367,-7.375 4.308,-9.071c-15.07,-1.713 -30.916,-7.538 -30.916,-33.546c-0,-7.408 2.646,-13.467 6.987,-18.212c-0.7,-1.717 -3.029,-8.617 0.663,-17.963c-0,0 5.7,-1.825 18.666,6.958c5.413,-1.508 11.221,-2.258 16.992,-2.283c5.763,0.025 11.571,0.775 16.992,2.283c12.958,-8.783 18.646,-6.958 18.646,-6.958c3.704,9.346 1.375,16.246 0.674,17.963c4.35,4.745 6.98,10.804 6.98,18.212c-0,26.075 -15.871,31.813 -30.992,33.492c2.438,2.096 4.608,6.237 4.608,12.571c0,9.07 -0.083,16.391 -0.083,18.616c0,1.817 1.221,3.929 4.667,3.267c26.95,-8.996 46.379,-34.417 46.379,-64.396c-0,-37.487 -30.392,-67.875 -67.879,-67.875"},null,-1),PJ=[MJ];function NJ(e,t){return Fe(),ot("svg",RJ,PJ)}var Ek=Qn(xJ,[["render",NJ]]);const $J={},LJ={fill:"currentColor",version:"1.1",id:"Logo",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 248 204",style:{"enable-background":"new 0 0 248 204"},"xml:space":"preserve"},FJ=N("path",{d:"M221.95,51.29c0.15,2.17,0.15,4.34,0.15,6.53c0,66.73-50.8,143.69-143.69,143.69v-0.04 C50.97,201.51,24.1,193.65,1,178.83c3.99,0.48,8,0.72,12.02,0.73c22.74,0.02,44.83-7.61,62.72-21.66 c-21.61-0.41-40.56-14.5-47.18-35.07c7.57,1.46,15.37,1.16,22.8-0.87C27.8,117.2,10.85,96.5,10.85,72.46c0-0.22,0-0.43,0-0.64 c7.02,3.91,14.88,6.08,22.92,6.32C11.58,63.31,4.74,33.79,18.14,10.71c25.64,31.55,63.47,50.73,104.08,52.76 c-4.07-17.54,1.49-35.92,14.61-48.25c20.34-19.12,52.33-18.14,71.45,2.19c11.31-2.23,22.15-6.38,32.07-12.26 c-3.77,11.69-11.66,21.62-22.2,27.93c10.01-1.18,19.79-3.86,29-7.95C240.37,35.29,231.83,44.14,221.95,51.29z"},null,-1),BJ=[FJ];function UJ(e,t){return Fe(),ot("svg",LJ,BJ)}var Sk=Qn($J,[["render",UJ]]);const jJ={},VJ={fill:"currentColor",viewBox:"0 0 256 262",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},WJ=N("path",{d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"},null,-1),zJ=N("path",{d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"},null,-1),HJ=N("path",{d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782"},null,-1),YJ=N("path",{d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"},null,-1),GJ=[WJ,zJ,HJ,YJ];function KJ(e,t){return Fe(),ot("svg",VJ,GJ)}var qJ=Qn(jJ,[["render",KJ]]);const XJ=async({userId:e})=>{const t=await QO(Io(Dy(Io(Xo(),"customers"),e),"checkout_sessions"),{cancel_url:window.location.href,price:"price_1JXGjVFSSDySG1smmI1f8krR",success_url:window.location.href});return await new Promise((n,r)=>{JO(t,s=>{var i;(i=s.data())!=null&&i.url&&n(s)},s=>{r(s)})})},QJ=async({doc:e,ownerId:t})=>{const n=await QO(Io(Xo(),"documents"),{...e,ownerId:t,syncedAt:ek()});return new Promise((r,s)=>{JO(n,i=>{r(i)},i=>{s(i)})})},JJ=async({ownerId:e,syncedAfter:t})=>(await XO(qO(Io(Xo(),"documents"),Ah("ownerId","==",e),Ah("syncedAt",">",t)))).docs,Kne=async({docId:e})=>(await XO(qO(Io(Xo(),"documents"),Ah("public","==",!0),Ah("id","==",e)))).docs[0],ZJ=async({doc:e,docId:t})=>hX(Dy(Io(Xo(),"documents"),t),{...e,syncedAt:ek()}),Qc="ACTIVATE_CONTEXT",cs="ADD_DOCUMENT",eZ="BLUR_EDITOR",Jc="DEACTIVATE_CONTEXT",Ki="DISCARD_DOCUMENT",tZ="DUPLICATE_DOCUMENT",Va="DOCUMENTS_LOADED",Wa="EDIT_DOCUMENT",nZ="FOCUS_EDITOR",Zc="LOAD_DOCUMENT",Tk="LOAD_DOCUMENTS",uo="MERGE_DOCUMENT",rZ="MERGE_DOCUMENTS",za="RESTORE_DOCUMENT",Ha="RESTRICT_DOCUMENT",Ep="SET_CONTEXT_TAGS",co="SET_DOCUMENT",Sp="SET_EDITOR",kl="SET_MOD_KEY",Ya="SET_OFFLINE",Ga="SET_ONLINE",Tp="SET_RIGHT_SIDEBAR_VISIBILITY",lo="SET_SHOW_WELCOME",Ka="SHARE_DOCUMENT",sZ="SIGN_OUT",Ik="SYNC",qa="TOUCH_DOCUMENT",Ak="SET_SUBSCRIPTION",qi="SET_USER";var iZ={state:()=>({isEvaluated:!1,subscription:{pro:!1},user:null}),mutations:{[Ak](e,t){e.subscription=t},[qi](e,t){e.user=t,e.isEvaluated=!0}},actions:{async[qi](e,t){e.commit(qi,t)},async[sZ](e,t){return sr().signOut(),e.dispatch(qi,{user:null})}}};const Ck="ADD_CONTEXT",CE="LOAD_CONTEXT",Ok="LOAD_CONTEXTS",kk="REMOVE_CONTEXT";var oZ={state:()=>({all:[]}),getters:{sortedContexts(e,t){return e.all.sort((n,r)=>n.name===r.name?0:n.name<r.name?-1:1)}},mutations:{[Ck](e,t){e.all.push(t)},[CE](e,t){e.all.push(t)},[kk](e,t){e.all=e.all.filter(n=>n.id!==t.id)}},actions:{[Ok]({commit:e},t){t.forEach(n=>{e(CE,n)})}}};let aZ=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const Dk=e=>new TextDecoder().decode(e),uZ=e=>new TextEncoder().encode(e),cZ=()=>window.crypto.getRandomValues(new Uint8Array(12)),Xa=e=>window.btoa(String.fromCharCode.apply(null,new Uint8Array(e))),Xi=e=>{const t=window.atob(e),n=new ArrayBuffer(t.length),r=new Uint8Array(n);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return n},dc={name:"RSA-OAEP"},lZ=async(e,t)=>{const n=await window.crypto.subtle.decrypt(dc,t,e);return Dk(n)},hZ=async e=>{const t={};return e.privateKey&&(t.privateKey=await xk(e.privateKey)),e.publicKey&&(t.publicKey=await Rk(e.publicKey)),t},xk=async e=>`-----BEGIN PRIVATE KEY-----
${Xa(await window.crypto.subtle.exportKey("pkcs8",e))}
-----END PRIVATE KEY-----`,Rk=async e=>`-----BEGIN PUBLIC KEY-----
${Xa(await window.crypto.subtle.exportKey("spki",e))}
-----END PUBLIC KEY-----`,fZ=async()=>window.crypto.subtle.generateKey({hash:"SHA-512",modulusLength:4096,name:dc.name,publicExponent:new Uint8Array([1,0,1])},!0,["encrypt","decrypt"]),dZ=async e=>{const t={};return e.privateKey&&(t.privateKey=await Mk(e.privateKey)),e.publicKey&&(t.publicKey=await Pk(e.publicKey)),t},Mk=async e=>{const t="-----BEGIN PRIVATE KEY-----",n="-----END PRIVATE KEY-----",r=e.substring(t.length,e.length-n.length),s=Xi(r);return window.crypto.subtle.importKey("pkcs8",s,{hash:"SHA-512",name:dc.name},!0,["decrypt","unwrapKey"])},Pk=async e=>{const t="-----BEGIN PUBLIC KEY-----",n="-----END PUBLIC KEY-----",r=e.substring(t.length,e.length-n.length),s=Xi(r);return window.crypto.subtle.importKey("spki",s,{hash:"SHA-512",name:dc.name},!0,["encrypt","wrapKey"])};var Ou={algorithm:dc,decrypt:lZ,exportKeys:hZ,exportPrivateKey:xk,exportPublicKey:Rk,generateKeys:fZ,importKeys:dZ,importPrivateKey:Mk,importPublicKey:Pk};const pc={name:"AES-GCM"},pZ=async(e,t,n)=>{const r=await window.crypto.subtle.decrypt({name:pc.name,iv:n},t,e);return Dk(r)},mZ=async(e,t)=>{const n=uZ(e),r=cZ();return{cipher:await window.crypto.subtle.encrypt({name:pc.name,iv:r},t,n),iv:r}},gZ=async()=>window.crypto.subtle.generateKey({name:pc.name,length:256},!0,["encrypt","decrypt"]),vZ=async e=>window.crypto.subtle.importKey("raw",e,pc.name,!0,["decrypt","encrypt"]);var ku={algorithm:pc,decrypt:pZ,encrypt:mZ,generateKey:gZ,importKey:vZ};const yZ=async(e,t)=>window.crypto.subtle.unwrapKey("raw",e,t,Ou.algorithm,ku.algorithm,!0,["encrypt","decrypt"]),_Z=async(e,t)=>window.crypto.subtle.wrapKey("raw",e,t,Ou.algorithm),wZ=async e=>{const t=Xi(e.cipher),n=Xi(e.cipherKey),r=Xi(e.iv),{privateKey:s}=await Ou.importKeys({privateKey:e.privateKey});try{var i=await yZ(n,s)}catch{var i=await Ou.decrypt(n,s).then(u=>ku.importKey(Xi(u)))}return ku.decrypt(t,i,r)},bZ=async e=>{const t=await ku.generateKey(),{cipher:n,iv:r}=await ku.encrypt(e.data,t),{publicKey:s}=await Ou.importKeys({publicKey:e.publicKey}),i=await _Z(t,s);return{cipher:Xa(n),cipherKey:Xa(i),iv:Xa(r)}},EZ=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D/,SZ=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/,TZ=/_\u200c\u200d\ua67e\u05be\u05f3\u05f4\uff5e\u301c\u309b\u309c\u30a0\u30fb\u3003\u0f0b\u0f0c\u00b7/,Hy=/[#]/,IZ=new RegExp(`[${EZ.source}${SZ.source}${TZ.source}-]`),Yy=/(?<boundary>^|\s)/,AZ=new RegExp(`(?<sign>${Hy.source})(?!${/\ufe0f|\u20e3/.source})(?<tag>${IZ.source}+)`,"i"),Nk=new RegExp(`(?:${Yy.source})(?:${AZ.source})`,"i"),CZ=new RegExp(`${Yy.source}(?<sign>${Hy.source})(?!${/\ufe0f|\u20e3/.source})`,"i"),qne=[35,65283],OZ=new RegExp(`(${Yy.source}${Hy.source})$`,"i"),Gy=e=>{var s,i,o;const t=((s=e.groups)==null?void 0:s.boundary)||"",n=((i=e.groups)==null?void 0:i.sign)||"",r=((o=e.groups)==null?void 0:o.tag)||"";return{index:Number(e.index),length:t.length+n.length+r.length,boundary:t,sign:n,tag:r}},Xne=e=>{const t=e.match(Nk);return t?Gy(t):null},Qne=e=>{const t=e.match(OZ);return t?Gy(t):null},Jne=e=>[...e.matchAll(new RegExp(CZ.source,"gi"))].map(n=>Gy(n)),kZ=["`````","````","```"],DZ=["``","`"],xZ=new RegExp(kZ.map(e=>`${e}.*?${e}`).join("|")),RZ=new RegExp(DZ.map(e=>`${e}[^
]*?${e}`).join("|")),MZ=new RegExp(`${xZ.source}|${RZ.source}`),PZ=new RegExp(`${MZ.source}|(${Nk.source})`,"gsi"),NZ=/```([^\n\s]*)(?:\s([\w-]+\.[\w]+))?\n(.*?)```/gs,$Z=/````.*?````|```.*?```|``.*?``|`.*?`|\w+:\/?\/?\S*|# ([^\n]+)/gs,LZ=/````.*?````|```.*?```|``.*?``|`.*?`|- \[ \] ([^\n]+)/gs,Kf=(e,t)=>{let n=null;const r=[];for(;n=e.exec(t);)r.push(n);return r},Zne=e=>{const t=Kf(NZ,e),n=[];return t.forEach(r=>{r&&n.push({filename:r[2],language:r[1],code:r[3]})}),n},OE=e=>{const t=Kf(PZ,e),n=new Set;return t.forEach(r=>{r&&r[1]&&n.add(r[1].toLowerCase().trim().slice(1))}),Array.from(n).sort()},kE=e=>{const t=Kf($Z,e),n=[];return t.forEach(r=>{r&&r[1]&&n.push(r[1])}),n},DE=e=>{const t=Kf(LZ,e),n=[];return t.forEach(r=>{r&&r[1]&&n.push(r[1])}),n};class Du{constructor(t={}){this.id=t.id||aZ(),this.text=t.text||"",this.textKey=t.textKey||null,this.daily=t.daily||!1,this.iv=t.iv||null,this.encrypted=t.encrypted||!1,this.createdAt=t.createdAt||new Date,this.updatedAt=t.updatedAt||new Date,this.touchedAt=t.touchedAt||new Date,this.discardedAt=t.discardedAt||null,this.headers=this.encrypted?[]:kE(this.text),this.tags=this.encrypted?[]:OE(this.text),this.tasks=this.encrypted?[]:DE(this.text),this.firebaseId=t.firebaseId||null,this.ownerId=t.ownerId||null,this.syncedAt=t.syncedAt||null,this.public=t.public||!1}discard(){this.updatedAt=new Date,this.touchedAt=new Date,this.discardedAt=new Date}duplicate(){return new Du({text:this.text})}merge(t){Object.assign(this,t,{id:this.id})}restore(){this.updatedAt=new Date,this.touchedAt=new Date,this.discardedAt=null}restrict(){this.public=!1,this.updatedAt=new Date,this.touchedAt=new Date}share(){this.public=!0,this.updatedAt=new Date,this.touchedAt=new Date}touch(){this.touchedAt=new Date}update({text:t}){this.text=t,this.headers.splice(0,this.headers.length,...kE(t)),this.tags.splice(0,this.tags.length,...OE(t)),this.tasks.splice(0,this.tasks.length,...DE(t)),this.updatedAt=new Date,this.touchedAt=new Date}}const $k=async(e,{preferEncryption:t=null,publicKey:n=null})=>{const r=Object.assign({},{...e,headers:[],tags:[],tasks:[]});if(t&&n&&!e.encrypted&&!e.public){const{cipher:s,cipherKey:i,iv:o}=await bZ({data:r.text,publicKey:n});return Object.assign({},r,{encrypted:!0,iv:o,text:s,textKey:i})}return Object.assign({},r)},Lk=async(e,{privateKey:t})=>{try{if(t&&e.encrypted){const n=await wZ({cipher:e.text,cipherKey:e.textKey,iv:e.iv,privateKey:t});return new Du(Object.assign({},e,{encrypted:!1,text:n}))}}catch{}return new Du(e)},Ir=(e,t)=>e.all.filter(n=>!n.encrypted).find(n=>n.id===t);var FZ={state:()=>({all:[],currentId:null,loaded:!1}),getters:{allKept(e,t){return t.sorted.filter(n=>n.discardedAt===null)},daily(e,t){return t.sortedByCreated.find(n=>n.daily)},currentDoc(e,t){return t.decrypted.find(n=>n.id===e.currentId)},decrypted(e){return e.all.filter(t=>!t.encrypted)},discarded(e,t){return t.sorted.filter(n=>n.discardedAt!==null)},filtered(e,t,n){return n.context.active?t.sorted.filter(r=>n.context.tags.some(s=>r.tags.includes(s))):t.sorted},kept(e,t){return t.filtered.filter(n=>n.discardedAt===null)},sorted(e,t){return t.decrypted.sort((n,r)=>r.updatedAt-n.updatedAt)},sortedByCreated(e,t){return t.decrypted.sort((n,r)=>r.createdAt-n.createdAt)},tasks(e,t,n,r){return t.kept.filter(s=>s.tasks.length>0)},untagged(e,t){return t.allKept.filter(n=>n.tags.length==0)},withTag(e,t){return n=>t.kept.filter(r=>!!r.tags.find(s=>s===n))}},mutations:{[cs](e,t){e.all.push(t)},[Ki](e,{id:t}){Ir(e,t).discard()},[Va](e){e.loaded=!0},[Wa](e,{id:t,text:n}){Ir(e,t).update({text:n})},[Zc](e,t){e.all.push(t)},[uo](e,t){Ir(e,t.id).merge(t)},[za](e,{id:t}){Ir(e,t).restore()},[Ha](e,{id:t}){Ir(e,t).restrict()},[co](e,{id:t}){e.currentId=t},[Ka](e,{id:t}){Ir(e,t).share()},[qa](e,{id:t}){Ir(e,t).touch()}},actions:{async[cs](e,t){e.commit(cs,t)},async[Ki](e,t){e.commit(Ki,t)},async[Va](e){e.commit(Va)},async[tZ](e,{id:t}){const n=Ir(e.state,t).duplicate();return e.commit(cs,n),n.id},async[Wa](e,t){e.commit(Wa,t)},async[Zc](e,t){e.commit(Zc,t)},async[Tk](e,t){return Promise.all(t.map(n=>e.dispatch(Zc,n)))},async[uo](e,t){e.commit(uo,t)},async[rZ](e,t){const n=t.map(s=>Ir(e.state,s.id)),r=new Du({text:n.map(s=>s.text).join(`

`)});return e.commit(cs,r),n.map(s=>e.dispatch(Ki,s))},async[za](e,t){e.commit(za,t)},async[Ha](e,t){e.commit(Ha,t)},async[co](e,t){e.commit(co,t)},async[Ka](e,t){e.commit(Ka,t)},async[qa](e,t){e.commit(qa,t)}}},Fk={exports:{}};(function(e){(function(t,n,r){if(!t)return;for(var s={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},i={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},a={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},u,c=1;c<20;++c)s[111+c]="f"+c;for(c=0;c<=9;++c)s[c+96]=c.toString();function l(w,C,X){if(w.addEventListener){w.addEventListener(C,X,!1);return}w.attachEvent("on"+C,X)}function h(w){if(w.type=="keypress"){var C=String.fromCharCode(w.which);return w.shiftKey||(C=C.toLowerCase()),C}return s[w.which]?s[w.which]:i[w.which]?i[w.which]:String.fromCharCode(w.which).toLowerCase()}function f(w,C){return w.sort().join(",")===C.sort().join(",")}function p(w){var C=[];return w.shiftKey&&C.push("shift"),w.altKey&&C.push("alt"),w.ctrlKey&&C.push("ctrl"),w.metaKey&&C.push("meta"),C}function v(w){if(w.preventDefault){w.preventDefault();return}w.returnValue=!1}function O(w){if(w.stopPropagation){w.stopPropagation();return}w.cancelBubble=!0}function E(w){return w=="shift"||w=="ctrl"||w=="alt"||w=="meta"}function A(){if(!u){u={};for(var w in s)w>95&&w<112||s.hasOwnProperty(w)&&(u[s[w]]=w)}return u}function x(w,C,X){return X||(X=A()[w]?"keydown":"keypress"),X=="keypress"&&C.length&&(X="keydown"),X}function H(w){return w==="+"?["+"]:(w=w.replace(/\+{2}/g,"+plus"),w.split("+"))}function V(w,C){var X,de,Ce,Re=[];for(X=H(w),Ce=0;Ce<X.length;++Ce)de=X[Ce],a[de]&&(de=a[de]),C&&C!="keypress"&&o[de]&&(de=o[de],Re.push("shift")),E(de)&&Re.push(de);return C=x(de,Re,C),{key:de,modifiers:Re,action:C}}function R(w,C){return w===null||w===n?!1:w===C?!0:R(w.parentNode,C)}function M(w){var C=this;if(w=w||n,!(C instanceof M))return new M(w);C.target=w,C._callbacks={},C._directMap={};var X={},de,Ce=!1,Re=!1,gt=!1;function vt(ae){ae=ae||{};var we=!1,Ae;for(Ae in X){if(ae[Ae]){we=!0;continue}X[Ae]=0}we||(gt=!1)}function nt(ae,we,Ae,Pe,D,ne){var $,Z,$e=[],Ne=Ae.type;if(!C._callbacks[ae])return[];for(Ne=="keyup"&&E(ae)&&(we=[ae]),$=0;$<C._callbacks[ae].length;++$)if(Z=C._callbacks[ae][$],!(!Pe&&Z.seq&&X[Z.seq]!=Z.level)&&Ne==Z.action&&(Ne=="keypress"&&!Ae.metaKey&&!Ae.ctrlKey||f(we,Z.modifiers))){var Se=!Pe&&Z.combo==D,_e=Pe&&Z.seq==Pe&&Z.level==ne;(Se||_e)&&C._callbacks[ae].splice($,1),$e.push(Z)}return $e}function rt(ae,we,Ae,Pe){C.stopCallback(we,we.target||we.srcElement,Ae,Pe)||ae(we,Ae)===!1&&(v(we),O(we))}C._handleKey=function(ae,we,Ae){var Pe=nt(ae,we,Ae),D,ne={},$=0,Z=!1;for(D=0;D<Pe.length;++D)Pe[D].seq&&($=Math.max($,Pe[D].level));for(D=0;D<Pe.length;++D){if(Pe[D].seq){if(Pe[D].level!=$)continue;Z=!0,ne[Pe[D].seq]=1,rt(Pe[D].callback,Ae,Pe[D].combo,Pe[D].seq);continue}Z||rt(Pe[D].callback,Ae,Pe[D].combo)}var $e=Ae.type=="keypress"&&Re;Ae.type==gt&&!E(ae)&&!$e&&vt(ne),Re=Z&&Ae.type=="keydown"};function Me(ae){typeof ae.which!="number"&&(ae.which=ae.keyCode);var we=h(ae);if(!!we){if(ae.type=="keyup"&&Ce===we){Ce=!1;return}C.handleKey(we,p(ae),ae)}}function We(){clearTimeout(de),de=setTimeout(vt,1e3)}function Bt(ae,we,Ae,Pe){X[ae]=0;function D(Ne){return function(){gt=Ne,++X[ae],We()}}function ne(Ne){rt(Ae,Ne,ae),Pe!=="keyup"&&(Ce=h(Ne)),setTimeout(vt,10)}for(var $=0;$<we.length;++$){var Z=$+1===we.length,$e=Z?ne:D(Pe||V(we[$+1]).action);Fn(we[$],$e,Pe,ae,$)}}function Fn(ae,we,Ae,Pe,D){C._directMap[ae+":"+Ae]=we,ae=ae.replace(/\s+/g," ");var ne=ae.split(" "),$;if(ne.length>1){Bt(ae,ne,we,Ae);return}$=V(ae,Ae),C._callbacks[$.key]=C._callbacks[$.key]||[],nt($.key,$.modifiers,{type:$.action},Pe,ae,D),C._callbacks[$.key][Pe?"unshift":"push"]({callback:we,modifiers:$.modifiers,action:$.action,seq:Pe,level:D,combo:ae})}C._bindMultiple=function(ae,we,Ae){for(var Pe=0;Pe<ae.length;++Pe)Fn(ae[Pe],we,Ae)},l(w,"keypress",Me),l(w,"keydown",Me),l(w,"keyup",Me)}M.prototype.bind=function(w,C,X){var de=this;return w=w instanceof Array?w:[w],de._bindMultiple.call(de,w,C,X),de},M.prototype.unbind=function(w,C){var X=this;return X.bind.call(X,w,function(){},C)},M.prototype.trigger=function(w,C){var X=this;return X._directMap[w+":"+C]&&X._directMap[w+":"+C]({},w),X},M.prototype.reset=function(){var w=this;return w._callbacks={},w._directMap={},w},M.prototype.stopCallback=function(w,C){var X=this;if((" "+C.className+" ").indexOf(" mousetrap ")>-1||R(C,X.target))return!1;if("composedPath"in w&&typeof w.composedPath=="function"){var de=w.composedPath()[0];de!==w.target&&(C=de)}return C.tagName=="INPUT"||C.tagName=="SELECT"||C.tagName=="TEXTAREA"||C.isContentEditable},M.prototype.handleKey=function(){var w=this;return w._handleKey.apply(w,arguments)},M.addKeycodes=function(w){for(var C in w)w.hasOwnProperty(C)&&(s[C]=w[C]);u=null},M.init=function(){var w=M(n);for(var C in w)C.charAt(0)!=="_"&&(M[C]=function(X){return function(){return w[X].apply(w,arguments)}}(C))},M.init(),t.Mousetrap=M,e.exports&&(e.exports=M),typeof r=="function"&&r.amd&&r(function(){return M})})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)})(Fk);var Ky=Fk.exports;(function(e){var t={},n=e.prototype.stopCallback;e.prototype.stopCallback=function(r,s,i,o){return this.paused?!0:t[i]||t[o]?!1:n.call(this,r,s,i)},e.prototype.bindGlobal=function(r,s,i){if(this.bind(r,s,i),r instanceof Array)for(s=0;s<r.length;s++)t[r[s]]=!0;else t[r]=!0},e.init()})(Mousetrap);const BZ=({keybinding:e,callback:t})=>{Ky.bind(e,(n,r)=>{n.preventDefault(),t()})},el=(e,t)=>{Ky.bindGlobal(e,(n,r)=>{n.preventDefault(),t()})},UZ=({keybinding:e})=>{Ky.unbind(e)},tl="DISABLE_LISTENER",Ar="DISABLE_LISTENERS",nl="ENABLE_LISTENER",rl="ENABLE_LISTENERS",xE="KEYBINDINGS_LOADED",Bk="LOAD_KEYBINDINGS",RE="TOGGLE_LISTENERS",Bn=e=>{Kk({name:e})},jZ=(e,t)=>()=>{e(),t.dispatch(Ar)},nr=(e,t,n)=>({keybinding:e,callback:jZ(t,n)}),VZ=e=>[nr("a",()=>Bn("account"),e),nr("c",()=>Bn("context"),e),nr("d",()=>Bn("discarded"),e),nr("e",()=>Bn("graph"),e),nr("n",()=>Bn("new_doc"),e),nr("p",()=>Bn("daily"),e),nr("r",()=>Bn("recent"),e),nr("s",()=>Bn("settings"),e),nr("t",()=>Bn("tasks"),e),nr("u",()=>Bn("untagged"),e)];var WZ={state:()=>({activeElement:null,listeners:[],listening:!1,loaded:!1}),getters:{},mutations:{[tl](e,t){e.listeners=e.listeners.filter(n=>n!==t)},[Ar](e){e.listening=!1},[nl](e,t){e.listeners.push(t)},[rl](e){e.listening=!0},[xE](e){e.loaded=!0}},actions:{async[Bk](e){el("esc",()=>e.dispatch(Ar)),el("mod+k",()=>e.dispatch(RE)),el("mod+s",()=>e.dispatch(Ar)),el("mod+shift+f",()=>{e.dispatch(Ar),Bn("documents")}),window.addEventListener("click",()=>e.dispatch(Ar)),e.commit(xE)},async[tl](e,t){UZ(t),e.commit(tl,t)},async[Ar](e){await Promise.all(e.state.listeners.map(t=>{e.dispatch(tl,t)})),e.state.activeElement&&(e.state.activeElement.focus(),e.state.activeElement=null),e.commit(Ar)},async[nl](e,t){BZ(t),e.commit(nl,t)},async[rl](e){e.state.activeElement=document.activeElement,e.state.activeElement.blur(),await Promise.all(VZ(e).map(t=>{e.dispatch(nl,t)})),e.commit(rl)},async[RE](e,t){return e.state.listening?e.dispatch(Ar):e.dispatch(rl)}}},zZ=function(t){return HZ(t)&&!YZ(t)};function HZ(e){return!!e&&typeof e=="object"}function YZ(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||qZ(e)}var GZ=typeof Symbol=="function"&&Symbol.for,KZ=GZ?Symbol.for("react.element"):60103;function qZ(e){return e.$$typeof===KZ}function XZ(e){return Array.isArray(e)?[]:{}}function xu(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Do(XZ(e),e,t):e}function QZ(e,t,n){return e.concat(t).map(function(r){return xu(r,n)})}function JZ(e,t){if(!t.customMerge)return Do;var n=t.customMerge(e);return typeof n=="function"?n:Do}function ZZ(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}function ME(e){return Object.keys(e).concat(ZZ(e))}function Uk(e,t){try{return t in e}catch{return!1}}function eee(e,t){return Uk(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function tee(e,t,n){var r={};return n.isMergeableObject(e)&&ME(e).forEach(function(s){r[s]=xu(e[s],n)}),ME(t).forEach(function(s){eee(e,s)||(Uk(e,s)&&n.isMergeableObject(t[s])?r[s]=JZ(s,n)(e[s],t[s],n):r[s]=xu(t[s],n))}),r}function Do(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||QZ,n.isMergeableObject=n.isMergeableObject||zZ,n.cloneUnlessOtherwiseSpecified=xu;var r=Array.isArray(t),s=Array.isArray(e),i=r===s;return i?r?n.arrayMerge(e,t,n):tee(e,t,n):xu(t,n)}Do.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,s){return Do(r,s,n)},{})};var nee=Do,ree=nee;const Dl="LOAD_SETTINGS",xl="SET_CRYPTO_ENABLED",Rl="SET_CRYPTO_KEYS",Ml="SET_EDITOR_IMAGES_ENABLED",Pl="SET_EDITOR_IMAGES_SHOW_CAPTIONS",Nl="SET_EDITOR_KEY_MAP",jk="SET_EDITOR_LIGATURES",Vk="SET_EDITOR_READABILITY_ENABLED",see="SET_EDITOR_READABILITY_MAX_WIDTH",Wk="SET_EDITOR_READABILITY_WORDS_PER_MINUTE",zk="SET_EDITOR_SPELLCHECK",$l="SET_EDITOR_TAB_SIZE",Hk="SET_EDITOR_TOOLBAR",Yk="SET_EXPERIMENTAL",Ll="SET_THEME",_s="SETTINGS_LOADED";var iee={state:()=>({crypto:{enabled:!1,privateKey:null,publicKey:null},editor:{images:{enabled:!0,showCaptions:!0},keyMap:"default",ligatures:!0,readability:{enabled:!0,maxWidthInChars:100,wordsPerMinute:225},spellcheck:!0,tabSize:2,toolbar:!0},experimental:!1,loaded:!1,theme:"auto"}),getters:{},mutations:{[Dl](e,t){Object.assign(e,ree(e,t))},[xl](e,t){e.crypto.enabled=t},[Rl](e,t){t.privateKey&&(e.crypto.privateKey=t.privateKey),t.publicKey&&(e.crypto.publicKey=t.publicKey)},[Ml](e,t){e.editor.images.enabled=t},[Pl](e,t){e.editor.images.showCaptions=t},[Nl](e,t){e.editor.keyMap=t},[jk](e,t){e.editor.ligatures=t},[Vk](e,t){e.editor.readability.enabled=t},[see](e,t){e.editor.readability.maxWidthInChars=t},[Wk](e,t){e.editor.readability.wordsPerMinute=t},[zk](e,t){e.editor.spellcheck=t},[$l](e,t){e.editor.tabSize=t},[Hk](e,t){e.editor.toolbar=t},[Yk](e,t){e.experimental=t},[Ll](e,t){e.theme=t},[_s](e){e.loaded=!0}},actions:{async[Dl](e,t){e.commit(Dl,t)},async[xl](e,t){e.commit(xl,t)},async[Rl](e,t){e.commit(Rl,t)},async[Ml](e,t){e.commit(Ml,t)},async[Pl](e,t){e.commit(Pl,t)},async[Nl](e,t){e.commit(Nl,t)},async[$l](e,t){e.commit($l,t)},async[Ll](e,t){e.commit(Ll,t)},async[_s](e){e.commit(_s)}}};const qy={Array:"[object Array]",Boolean:"[object Boolean]",Date:"[object Date]",Number:"[object Number]",Object:"[object Object]",String:"[object String]"},Xy=(e,t)=>Object.prototype.toString.call(e)===t,oee=e=>Xy(e,qy.Array),aee=e=>Xy(e,qy.Date),uee=e=>Xy(e,qy.Object),Jo=e=>oee(e)?cee(e):aee(e)?lee(e):uee(e)?hee(e):e,cee=e=>e.map(t=>Jo(t)),lee=e=>new Date(e),hee=e=>Object.keys(e).reduce((t,n)=>({...t,[n]:Jo(e[n])}),{}),PE="PULL_DOCUMENT",Ip="PULL_DOCUMENTS",NE="PUSH_DOCUMENT",$E="PUSH_DOCUMENTS",fee=(e,t)=>e.documents.all.find(n=>n.id===t);var dee={state:()=>({}),getters:{lastSyncedAt(e,t,n){return new Date(Math.max(0,...n.documents.all.map(r=>r.syncedAt)))}},actions:{async[PE](e,t){const n=fee(e.rootState,t.id);if(n){if(n.updatedAt<t.updatedAt)return e.dispatch(uo,t);if(!(n.updatedAt>t.updatedAt)){if(!n.syncedAt||n.syncedAt<t.syncedAt)return e.dispatch(uo,t)}}else return e.dispatch(cs,t)},async[Ip](e){const t=await JJ({ownerId:e.rootState.auth.user.uid,syncedAfter:e.getters.lastSyncedAt});return Promise.all(t.map(async n=>{const r=n.data(),s={...r,id:r.id||r.clientId,firebaseId:n.id,textKey:r.textKey||r.dataKey,createdAt:r.createdAt?r.createdAt.toDate():null,discardedAt:r.discardedAt?r.discardedAt.toDate():null,updatedAt:r.updatedAt?r.updatedAt.toDate():null,touchedAt:r.touchedAt?r.touchedAt.toDate():null,syncedAt:r.syncedAt.toDate()},i=await Lk(s,{privateKey:e.rootState.settings.crypto.privateKey});return e.dispatch(PE,i)}))},async[NE](e,t){const n=Jo(await $k(t,{preferEncryption:e.rootState.settings.crypto.enabled,publicKey:e.rootState.settings.crypto.publicKey}));if(n.syncedAt){if(n.updatedAt>n.syncedAt||n.touchedAt>n.syncedAt)return ZJ({doc:n,docId:n.firebaseId})}else return QJ({doc:n,ownerId:e.rootState.auth.user.uid})},async[$E](e){await Promise.all(e.rootState.documents.all.map(t=>e.dispatch(NE,t)))},async[Ik](e){await e.dispatch(Ip),await e.dispatch($E),await e.dispatch(Ip)}}},Gk={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,s,i){function o(c,l){if(!s[c]){if(!r[c]){var h=typeof Ac=="function"&&Ac;if(!l&&h)return h(c,!0);if(a)return a(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var p=s[c]={exports:{}};r[c][0].call(p.exports,function(v){var O=r[c][1][v];return o(O||v)},p,p.exports,n,r,s,i)}return s[c].exports}for(var a=typeof Ac=="function"&&Ac,u=0;u<i.length;u++)o(i[u]);return o}({1:[function(n,r,s){(function(i){var o=i.MutationObserver||i.WebKitMutationObserver,a;if(o){var u=0,c=new o(v),l=i.document.createTextNode("");c.observe(l,{characterData:!0}),a=function(){l.data=u=++u%2}}else if(!i.setImmediate&&typeof i.MessageChannel!="undefined"){var h=new i.MessageChannel;h.port1.onmessage=v,a=function(){h.port2.postMessage(0)}}else"document"in i&&"onreadystatechange"in i.document.createElement("script")?a=function(){var E=i.document.createElement("script");E.onreadystatechange=function(){v(),E.onreadystatechange=null,E.parentNode.removeChild(E),E=null},i.document.documentElement.appendChild(E)}:a=function(){setTimeout(v,0)};var f,p=[];function v(){f=!0;for(var E,A,x=p.length;x;){for(A=p,p=[],E=-1;++E<x;)A[E]();x=p.length}f=!1}r.exports=O;function O(E){p.push(E)===1&&!f&&a()}}).call(this,typeof $t!="undefined"?$t:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(n,r,s){var i=n(1);function o(){}var a={},u=["REJECTED"],c=["FULFILLED"],l=["PENDING"];r.exports=h;function h(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,R!==o&&O(this,R)}h.prototype.catch=function(R){return this.then(null,R)},h.prototype.then=function(R,M){if(typeof R!="function"&&this.state===c||typeof M!="function"&&this.state===u)return this;var w=new this.constructor(o);if(this.state!==l){var C=this.state===c?R:M;p(w,C,this.outcome)}else this.queue.push(new f(w,R,M));return w};function f(R,M,w){this.promise=R,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(R){a.resolve(this.promise,R)},f.prototype.otherCallFulfilled=function(R){p(this.promise,this.onFulfilled,R)},f.prototype.callRejected=function(R){a.reject(this.promise,R)},f.prototype.otherCallRejected=function(R){p(this.promise,this.onRejected,R)};function p(R,M,w){i(function(){var C;try{C=M(w)}catch(X){return a.reject(R,X)}C===R?a.reject(R,new TypeError("Cannot resolve promise with itself")):a.resolve(R,C)})}a.resolve=function(R,M){var w=E(v,M);if(w.status==="error")return a.reject(R,w.value);var C=w.value;if(C)O(R,C);else{R.state=c,R.outcome=M;for(var X=-1,de=R.queue.length;++X<de;)R.queue[X].callFulfilled(M)}return R},a.reject=function(R,M){R.state=u,R.outcome=M;for(var w=-1,C=R.queue.length;++w<C;)R.queue[w].callRejected(M);return R};function v(R){var M=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof M=="function")return function(){M.apply(R,arguments)}}function O(R,M){var w=!1;function C(Re){w||(w=!0,a.reject(R,Re))}function X(Re){w||(w=!0,a.resolve(R,Re))}function de(){M(X,C)}var Ce=E(de);Ce.status==="error"&&C(Ce.value)}function E(R,M){var w={};try{w.value=R(M),w.status="success"}catch(C){w.status="error",w.value=C}return w}h.resolve=A;function A(R){return R instanceof this?R:a.resolve(new this(o),R)}h.reject=x;function x(R){var M=new this(o);return a.reject(M,R)}h.all=H;function H(R){var M=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=R.length,C=!1;if(!w)return this.resolve([]);for(var X=new Array(w),de=0,Ce=-1,Re=new this(o);++Ce<w;)gt(R[Ce],Ce);return Re;function gt(vt,nt){M.resolve(vt).then(rt,function(Me){C||(C=!0,a.reject(Re,Me))});function rt(Me){X[nt]=Me,++de===w&&!C&&(C=!0,a.resolve(Re,X))}}}h.race=V;function V(R){var M=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=R.length,C=!1;if(!w)return this.resolve([]);for(var X=-1,de=new this(o);++X<w;)Ce(R[X]);return de;function Ce(Re){M.resolve(Re).then(function(gt){C||(C=!0,a.resolve(de,gt))},function(gt){C||(C=!0,a.reject(de,gt))})}}},{1:1}],3:[function(n,r,s){(function(i){typeof i.Promise!="function"&&(i.Promise=n(2))}).call(this,typeof $t!="undefined"?$t:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{2:2}],4:[function(n,r,s){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};function o(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var u=a();function c(){try{if(!u||!u.open)return!1;var d=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),y=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!d||y)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function l(d,y){d=d||[],y=y||{};try{return new Blob(d,y)}catch(b){if(b.name!=="TypeError")throw b;for(var m=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,T=new m,I=0;I<d.length;I+=1)T.append(d[I]);return T.getBlob(y.type)}}typeof Promise=="undefined"&&n(3);var h=Promise;function f(d,y){y&&d.then(function(m){y(null,m)},function(m){y(m)})}function p(d,y,m){typeof y=="function"&&d.then(y),typeof m=="function"&&d.catch(m)}function v(d){return typeof d!="string"&&(console.warn(d+" used as a key, but it is not a string."),d=String(d)),d}function O(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var E="local-forage-detect-blob-support",A=void 0,x={},H=Object.prototype.toString,V="readonly",R="readwrite";function M(d){for(var y=d.length,m=new ArrayBuffer(y),T=new Uint8Array(m),I=0;I<y;I++)T[I]=d.charCodeAt(I);return m}function w(d){return new h(function(y){var m=d.transaction(E,R),T=l([""]);m.objectStore(E).put(T,"key"),m.onabort=function(I){I.preventDefault(),I.stopPropagation(),y(!1)},m.oncomplete=function(){var I=navigator.userAgent.match(/Chrome\/(\d+)/),b=navigator.userAgent.match(/Edge\//);y(b||!I||parseInt(I[1],10)>=43)}}).catch(function(){return!1})}function C(d){return typeof A=="boolean"?h.resolve(A):w(d).then(function(y){return A=y,A})}function X(d){var y=x[d.name],m={};m.promise=new h(function(T,I){m.resolve=T,m.reject=I}),y.deferredOperations.push(m),y.dbReady?y.dbReady=y.dbReady.then(function(){return m.promise}):y.dbReady=m.promise}function de(d){var y=x[d.name],m=y.deferredOperations.pop();if(m)return m.resolve(),m.promise}function Ce(d,y){var m=x[d.name],T=m.deferredOperations.pop();if(T)return T.reject(y),T.promise}function Re(d,y){return new h(function(m,T){if(x[d.name]=x[d.name]||we(),d.db)if(y)X(d),d.db.close();else return m(d.db);var I=[d.name];y&&I.push(d.version);var b=u.open.apply(u,I);y&&(b.onupgradeneeded=function(P){var U=b.result;try{U.createObjectStore(d.storeName),P.oldVersion<=1&&U.createObjectStore(E)}catch(Y){if(Y.name==="ConstraintError")console.warn('The database "'+d.name+'" has been upgraded from version '+P.oldVersion+" to version "+P.newVersion+', but the storage "'+d.storeName+'" already exists.');else throw Y}}),b.onerror=function(P){P.preventDefault(),T(b.error)},b.onsuccess=function(){var P=b.result;P.onversionchange=function(U){U.target.close()},m(P),de(d)}})}function gt(d){return Re(d,!1)}function vt(d){return Re(d,!0)}function nt(d,y){if(!d.db)return!0;var m=!d.db.objectStoreNames.contains(d.storeName),T=d.version<d.db.version,I=d.version>d.db.version;if(T&&(d.version!==y&&console.warn('The database "'+d.name+`" can't be downgraded from version `+d.db.version+" to version "+d.version+"."),d.version=d.db.version),I||m){if(m){var b=d.db.version+1;b>d.version&&(d.version=b)}return!0}return!1}function rt(d){return new h(function(y,m){var T=new FileReader;T.onerror=m,T.onloadend=function(I){var b=btoa(I.target.result||"");y({__local_forage_encoded_blob:!0,data:b,type:d.type})},T.readAsBinaryString(d)})}function Me(d){var y=M(atob(d.data));return l([y],{type:d.type})}function We(d){return d&&d.__local_forage_encoded_blob}function Bt(d){var y=this,m=y._initReady().then(function(){var T=x[y._dbInfo.name];if(T&&T.dbReady)return T.dbReady});return p(m,d,d),m}function Fn(d){X(d);for(var y=x[d.name],m=y.forages,T=0;T<m.length;T++){var I=m[T];I._dbInfo.db&&(I._dbInfo.db.close(),I._dbInfo.db=null)}return d.db=null,gt(d).then(function(b){return d.db=b,nt(d)?vt(d):b}).then(function(b){d.db=y.db=b;for(var P=0;P<m.length;P++)m[P]._dbInfo.db=b}).catch(function(b){throw Ce(d,b),b})}function ae(d,y,m,T){T===void 0&&(T=1);try{var I=d.db.transaction(d.storeName,y);m(null,I)}catch(b){if(T>0&&(!d.db||b.name==="InvalidStateError"||b.name==="NotFoundError"))return h.resolve().then(function(){if(!d.db||b.name==="NotFoundError"&&!d.db.objectStoreNames.contains(d.storeName)&&d.version<=d.db.version)return d.db&&(d.version=d.db.version+1),vt(d)}).then(function(){return Fn(d).then(function(){ae(d,y,m,T-1)})}).catch(m);m(b)}}function we(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Ae(d){var y=this,m={db:null};if(d)for(var T in d)m[T]=d[T];var I=x[m.name];I||(I=we(),x[m.name]=I),I.forages.push(y),y._initReady||(y._initReady=y.ready,y.ready=Bt);var b=[];function P(){return h.resolve()}for(var U=0;U<I.forages.length;U++){var Y=I.forages[U];Y!==y&&b.push(Y._initReady().catch(P))}var G=I.forages.slice(0);return h.all(b).then(function(){return m.db=I.db,gt(m)}).then(function(Q){return m.db=Q,nt(m,y._defaultConfig.version)?vt(m):Q}).then(function(Q){m.db=I.db=Q,y._dbInfo=m;for(var ue=0;ue<G.length;ue++){var ke=G[ue];ke!==y&&(ke._dbInfo.db=m.db,ke._dbInfo.version=m.version)}})}function Pe(d,y){var m=this;d=v(d);var T=new h(function(I,b){m.ready().then(function(){ae(m._dbInfo,V,function(P,U){if(P)return b(P);try{var Y=U.objectStore(m._dbInfo.storeName),G=Y.get(d);G.onsuccess=function(){var Q=G.result;Q===void 0&&(Q=null),We(Q)&&(Q=Me(Q)),I(Q)},G.onerror=function(){b(G.error)}}catch(Q){b(Q)}})}).catch(b)});return f(T,y),T}function D(d,y){var m=this,T=new h(function(I,b){m.ready().then(function(){ae(m._dbInfo,V,function(P,U){if(P)return b(P);try{var Y=U.objectStore(m._dbInfo.storeName),G=Y.openCursor(),Q=1;G.onsuccess=function(){var ue=G.result;if(ue){var ke=ue.value;We(ke)&&(ke=Me(ke));var Xe=d(ke,ue.key,Q++);Xe!==void 0?I(Xe):ue.continue()}else I()},G.onerror=function(){b(G.error)}}catch(ue){b(ue)}})}).catch(b)});return f(T,y),T}function ne(d,y,m){var T=this;d=v(d);var I=new h(function(b,P){var U;T.ready().then(function(){return U=T._dbInfo,H.call(y)==="[object Blob]"?C(U.db).then(function(Y){return Y?y:rt(y)}):y}).then(function(Y){ae(T._dbInfo,R,function(G,Q){if(G)return P(G);try{var ue=Q.objectStore(T._dbInfo.storeName);Y===null&&(Y=void 0);var ke=ue.put(Y,d);Q.oncomplete=function(){Y===void 0&&(Y=null),b(Y)},Q.onabort=Q.onerror=function(){var Xe=ke.error?ke.error:ke.transaction.error;P(Xe)}}catch(Xe){P(Xe)}})}).catch(P)});return f(I,m),I}function $(d,y){var m=this;d=v(d);var T=new h(function(I,b){m.ready().then(function(){ae(m._dbInfo,R,function(P,U){if(P)return b(P);try{var Y=U.objectStore(m._dbInfo.storeName),G=Y.delete(d);U.oncomplete=function(){I()},U.onerror=function(){b(G.error)},U.onabort=function(){var Q=G.error?G.error:G.transaction.error;b(Q)}}catch(Q){b(Q)}})}).catch(b)});return f(T,y),T}function Z(d){var y=this,m=new h(function(T,I){y.ready().then(function(){ae(y._dbInfo,R,function(b,P){if(b)return I(b);try{var U=P.objectStore(y._dbInfo.storeName),Y=U.clear();P.oncomplete=function(){T()},P.onabort=P.onerror=function(){var G=Y.error?Y.error:Y.transaction.error;I(G)}}catch(G){I(G)}})}).catch(I)});return f(m,d),m}function $e(d){var y=this,m=new h(function(T,I){y.ready().then(function(){ae(y._dbInfo,V,function(b,P){if(b)return I(b);try{var U=P.objectStore(y._dbInfo.storeName),Y=U.count();Y.onsuccess=function(){T(Y.result)},Y.onerror=function(){I(Y.error)}}catch(G){I(G)}})}).catch(I)});return f(m,d),m}function Ne(d,y){var m=this,T=new h(function(I,b){if(d<0){I(null);return}m.ready().then(function(){ae(m._dbInfo,V,function(P,U){if(P)return b(P);try{var Y=U.objectStore(m._dbInfo.storeName),G=!1,Q=Y.openKeyCursor();Q.onsuccess=function(){var ue=Q.result;if(!ue){I(null);return}d===0||G?I(ue.key):(G=!0,ue.advance(d))},Q.onerror=function(){b(Q.error)}}catch(ue){b(ue)}})}).catch(b)});return f(T,y),T}function Se(d){var y=this,m=new h(function(T,I){y.ready().then(function(){ae(y._dbInfo,V,function(b,P){if(b)return I(b);try{var U=P.objectStore(y._dbInfo.storeName),Y=U.openKeyCursor(),G=[];Y.onsuccess=function(){var Q=Y.result;if(!Q){T(G);return}G.push(Q.key),Q.continue()},Y.onerror=function(){I(Y.error)}}catch(Q){I(Q)}})}).catch(I)});return f(m,d),m}function _e(d,y){y=O.apply(this,arguments);var m=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||m.name,d.storeName=d.storeName||m.storeName);var T=this,I;if(!d.name)I=h.reject("Invalid arguments");else{var b=d.name===m.name&&T._dbInfo.db,P=b?h.resolve(T._dbInfo.db):gt(d).then(function(U){var Y=x[d.name],G=Y.forages;Y.db=U;for(var Q=0;Q<G.length;Q++)G[Q]._dbInfo.db=U;return U});d.storeName?I=P.then(function(U){if(!!U.objectStoreNames.contains(d.storeName)){var Y=U.version+1;X(d);var G=x[d.name],Q=G.forages;U.close();for(var ue=0;ue<Q.length;ue++){var ke=Q[ue];ke._dbInfo.db=null,ke._dbInfo.version=Y}var Xe=new h(function(Je,St){var _t=u.open(d.name,Y);_t.onerror=function(kn){var ra=_t.result;ra.close(),St(kn)},_t.onupgradeneeded=function(){var kn=_t.result;kn.deleteObjectStore(d.storeName)},_t.onsuccess=function(){var kn=_t.result;kn.close(),Je(kn)}});return Xe.then(function(Je){G.db=Je;for(var St=0;St<Q.length;St++){var _t=Q[St];_t._dbInfo.db=Je,de(_t._dbInfo)}}).catch(function(Je){throw(Ce(d,Je)||h.resolve()).catch(function(){}),Je})}}):I=P.then(function(U){X(d);var Y=x[d.name],G=Y.forages;U.close();for(var Q=0;Q<G.length;Q++){var ue=G[Q];ue._dbInfo.db=null}var ke=new h(function(Xe,Je){var St=u.deleteDatabase(d.name);St.onerror=function(){var _t=St.result;_t&&_t.close(),Je(St.error)},St.onblocked=function(){console.warn('dropInstance blocked for database "'+d.name+'" until all open connections are closed')},St.onsuccess=function(){var _t=St.result;_t&&_t.close(),Xe(_t)}});return ke.then(function(Xe){Y.db=Xe;for(var Je=0;Je<G.length;Je++){var St=G[Je];de(St._dbInfo)}}).catch(function(Xe){throw(Ce(d,Xe)||h.resolve()).catch(function(){}),Xe})})}return f(I,y),I}var g={_driver:"asyncStorage",_initStorage:Ae,_support:c(),iterate:D,getItem:Pe,setItem:ne,removeItem:$,clear:Z,length:$e,key:Ne,keys:Se,dropInstance:_e};function S(){return typeof openDatabase=="function"}var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B="~~local_forage_type~",F=/^~~local_forage_type~([^~]+)~/,q="__lfsc__:",ee=q.length,K="arbf",J="blob",j="si08",ce="ui08",oe="uic8",le="si16",ge="si32",Le="ur16",Ke="ui32",qe="fl32",et="fl64",dn=ee+K.length,Er=Object.prototype.toString;function ea(d){var y=d.length*.75,m=d.length,T,I=0,b,P,U,Y;d[d.length-1]==="="&&(y--,d[d.length-2]==="="&&y--);var G=new ArrayBuffer(y),Q=new Uint8Array(G);for(T=0;T<m;T+=4)b=k.indexOf(d[T]),P=k.indexOf(d[T+1]),U=k.indexOf(d[T+2]),Y=k.indexOf(d[T+3]),Q[I++]=b<<2|P>>4,Q[I++]=(P&15)<<4|U>>2,Q[I++]=(U&3)<<6|Y&63;return G}function Sr(d){var y=new Uint8Array(d),m="",T;for(T=0;T<y.length;T+=3)m+=k[y[T]>>2],m+=k[(y[T]&3)<<4|y[T+1]>>4],m+=k[(y[T+1]&15)<<2|y[T+2]>>6],m+=k[y[T+2]&63];return y.length%3===2?m=m.substring(0,m.length-1)+"=":y.length%3===1&&(m=m.substring(0,m.length-2)+"=="),m}function mc(d,y){var m="";if(d&&(m=Er.call(d)),d&&(m==="[object ArrayBuffer]"||d.buffer&&Er.call(d.buffer)==="[object ArrayBuffer]")){var T,I=q;d instanceof ArrayBuffer?(T=d,I+=K):(T=d.buffer,m==="[object Int8Array]"?I+=j:m==="[object Uint8Array]"?I+=ce:m==="[object Uint8ClampedArray]"?I+=oe:m==="[object Int16Array]"?I+=le:m==="[object Uint16Array]"?I+=Le:m==="[object Int32Array]"?I+=ge:m==="[object Uint32Array]"?I+=Ke:m==="[object Float32Array]"?I+=qe:m==="[object Float64Array]"?I+=et:y(new Error("Failed to get type for BinaryArray"))),y(I+Sr(T))}else if(m==="[object Blob]"){var b=new FileReader;b.onload=function(){var P=B+d.type+"~"+Sr(this.result);y(q+J+P)},b.readAsArrayBuffer(d)}else try{y(JSON.stringify(d))}catch(P){console.error("Couldn't convert value into a JSON string: ",d),y(null,P)}}function nn(d){if(d.substring(0,ee)!==q)return JSON.parse(d);var y=d.substring(dn),m=d.substring(ee,dn),T;if(m===J&&F.test(y)){var I=y.match(F);T=I[1],y=y.substring(I[0].length)}var b=ea(y);switch(m){case K:return b;case J:return l([b],{type:T});case j:return new Int8Array(b);case ce:return new Uint8Array(b);case oe:return new Uint8ClampedArray(b);case le:return new Int16Array(b);case Le:return new Uint16Array(b);case ge:return new Int32Array(b);case Ke:return new Uint32Array(b);case qe:return new Float32Array(b);case et:return new Float64Array(b);default:throw new Error("Unkown type: "+m)}}var pn={serialize:mc,deserialize:nn,stringToBuffer:ea,bufferToString:Sr};function ta(d,y,m,T){d.executeSql("CREATE TABLE IF NOT EXISTS "+y.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],m,T)}function Zk(d){var y=this,m={db:null};if(d)for(var T in d)m[T]=typeof d[T]!="string"?d[T].toString():d[T];var I=new h(function(b,P){try{m.db=openDatabase(m.name,String(m.version),m.description,m.size)}catch(U){return P(U)}m.db.transaction(function(U){ta(U,m,function(){y._dbInfo=m,b()},function(Y,G){P(G)})},P)});return m.serializer=pn,I}function Xr(d,y,m,T,I,b){d.executeSql(m,T,I,function(P,U){U.code===U.SYNTAX_ERR?P.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[y.storeName],function(Y,G){G.rows.length?b(Y,U):ta(Y,y,function(){Y.executeSql(m,T,I,b)},b)},b):b(P,U)},b)}function eD(d,y){var m=this;d=v(d);var T=new h(function(I,b){m.ready().then(function(){var P=m._dbInfo;P.db.transaction(function(U){Xr(U,P,"SELECT * FROM "+P.storeName+" WHERE key = ? LIMIT 1",[d],function(Y,G){var Q=G.rows.length?G.rows.item(0).value:null;Q&&(Q=P.serializer.deserialize(Q)),I(Q)},function(Y,G){b(G)})})}).catch(b)});return f(T,y),T}function tD(d,y){var m=this,T=new h(function(I,b){m.ready().then(function(){var P=m._dbInfo;P.db.transaction(function(U){Xr(U,P,"SELECT * FROM "+P.storeName,[],function(Y,G){for(var Q=G.rows,ue=Q.length,ke=0;ke<ue;ke++){var Xe=Q.item(ke),Je=Xe.value;if(Je&&(Je=P.serializer.deserialize(Je)),Je=d(Je,Xe.key,ke+1),Je!==void 0){I(Je);return}}I()},function(Y,G){b(G)})})}).catch(b)});return f(T,y),T}function Zy(d,y,m,T){var I=this;d=v(d);var b=new h(function(P,U){I.ready().then(function(){y===void 0&&(y=null);var Y=y,G=I._dbInfo;G.serializer.serialize(y,function(Q,ue){ue?U(ue):G.db.transaction(function(ke){Xr(ke,G,"INSERT OR REPLACE INTO "+G.storeName+" (key, value) VALUES (?, ?)",[d,Q],function(){P(Y)},function(Xe,Je){U(Je)})},function(ke){if(ke.code===ke.QUOTA_ERR){if(T>0){P(Zy.apply(I,[d,Y,m,T-1]));return}U(ke)}})})}).catch(U)});return f(b,m),b}function nD(d,y,m){return Zy.apply(this,[d,y,m,1])}function rD(d,y){var m=this;d=v(d);var T=new h(function(I,b){m.ready().then(function(){var P=m._dbInfo;P.db.transaction(function(U){Xr(U,P,"DELETE FROM "+P.storeName+" WHERE key = ?",[d],function(){I()},function(Y,G){b(G)})})}).catch(b)});return f(T,y),T}function sD(d){var y=this,m=new h(function(T,I){y.ready().then(function(){var b=y._dbInfo;b.db.transaction(function(P){Xr(P,b,"DELETE FROM "+b.storeName,[],function(){T()},function(U,Y){I(Y)})})}).catch(I)});return f(m,d),m}function iD(d){var y=this,m=new h(function(T,I){y.ready().then(function(){var b=y._dbInfo;b.db.transaction(function(P){Xr(P,b,"SELECT COUNT(key) as c FROM "+b.storeName,[],function(U,Y){var G=Y.rows.item(0).c;T(G)},function(U,Y){I(Y)})})}).catch(I)});return f(m,d),m}function oD(d,y){var m=this,T=new h(function(I,b){m.ready().then(function(){var P=m._dbInfo;P.db.transaction(function(U){Xr(U,P,"SELECT key FROM "+P.storeName+" WHERE id = ? LIMIT 1",[d+1],function(Y,G){var Q=G.rows.length?G.rows.item(0).key:null;I(Q)},function(Y,G){b(G)})})}).catch(b)});return f(T,y),T}function aD(d){var y=this,m=new h(function(T,I){y.ready().then(function(){var b=y._dbInfo;b.db.transaction(function(P){Xr(P,b,"SELECT key FROM "+b.storeName,[],function(U,Y){for(var G=[],Q=0;Q<Y.rows.length;Q++)G.push(Y.rows.item(Q).key);T(G)},function(U,Y){I(Y)})})}).catch(I)});return f(m,d),m}function uD(d){return new h(function(y,m){d.transaction(function(T){T.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(I,b){for(var P=[],U=0;U<b.rows.length;U++)P.push(b.rows.item(U).name);y({db:d,storeNames:P})},function(I,b){m(b)})},function(T){m(T)})})}function cD(d,y){y=O.apply(this,arguments);var m=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||m.name,d.storeName=d.storeName||m.storeName);var T=this,I;return d.name?I=new h(function(b){var P;d.name===m.name?P=T._dbInfo.db:P=openDatabase(d.name,"","",0),d.storeName?b({db:P,storeNames:[d.storeName]}):b(uD(P))}).then(function(b){return new h(function(P,U){b.db.transaction(function(Y){function G(Xe){return new h(function(Je,St){Y.executeSql("DROP TABLE IF EXISTS "+Xe,[],function(){Je()},function(_t,kn){St(kn)})})}for(var Q=[],ue=0,ke=b.storeNames.length;ue<ke;ue++)Q.push(G(b.storeNames[ue]));h.all(Q).then(function(){P()}).catch(function(Xe){U(Xe)})},function(Y){U(Y)})})}):I=h.reject("Invalid arguments"),f(I,y),I}var lD={_driver:"webSQLStorage",_initStorage:Zk,_support:S(),iterate:tD,getItem:eD,setItem:nD,removeItem:rD,clear:sD,length:iD,key:oD,keys:aD,dropInstance:cD};function hD(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function e0(d,y){var m=d.name+"/";return d.storeName!==y.storeName&&(m+=d.storeName+"/"),m}function fD(){var d="_localforage_support_test";try{return localStorage.setItem(d,!0),localStorage.removeItem(d),!1}catch{return!0}}function dD(){return!fD()||localStorage.length>0}function pD(d){var y=this,m={};if(d)for(var T in d)m[T]=d[T];return m.keyPrefix=e0(d,y._defaultConfig),dD()?(y._dbInfo=m,m.serializer=pn,h.resolve()):h.reject()}function mD(d){var y=this,m=y.ready().then(function(){for(var T=y._dbInfo.keyPrefix,I=localStorage.length-1;I>=0;I--){var b=localStorage.key(I);b.indexOf(T)===0&&localStorage.removeItem(b)}});return f(m,d),m}function gD(d,y){var m=this;d=v(d);var T=m.ready().then(function(){var I=m._dbInfo,b=localStorage.getItem(I.keyPrefix+d);return b&&(b=I.serializer.deserialize(b)),b});return f(T,y),T}function vD(d,y){var m=this,T=m.ready().then(function(){for(var I=m._dbInfo,b=I.keyPrefix,P=b.length,U=localStorage.length,Y=1,G=0;G<U;G++){var Q=localStorage.key(G);if(Q.indexOf(b)===0){var ue=localStorage.getItem(Q);if(ue&&(ue=I.serializer.deserialize(ue)),ue=d(ue,Q.substring(P),Y++),ue!==void 0)return ue}}});return f(T,y),T}function yD(d,y){var m=this,T=m.ready().then(function(){var I=m._dbInfo,b;try{b=localStorage.key(d)}catch{b=null}return b&&(b=b.substring(I.keyPrefix.length)),b});return f(T,y),T}function _D(d){var y=this,m=y.ready().then(function(){for(var T=y._dbInfo,I=localStorage.length,b=[],P=0;P<I;P++){var U=localStorage.key(P);U.indexOf(T.keyPrefix)===0&&b.push(U.substring(T.keyPrefix.length))}return b});return f(m,d),m}function wD(d){var y=this,m=y.keys().then(function(T){return T.length});return f(m,d),m}function bD(d,y){var m=this;d=v(d);var T=m.ready().then(function(){var I=m._dbInfo;localStorage.removeItem(I.keyPrefix+d)});return f(T,y),T}function ED(d,y,m){var T=this;d=v(d);var I=T.ready().then(function(){y===void 0&&(y=null);var b=y;return new h(function(P,U){var Y=T._dbInfo;Y.serializer.serialize(y,function(G,Q){if(Q)U(Q);else try{localStorage.setItem(Y.keyPrefix+d,G),P(b)}catch(ue){(ue.name==="QuotaExceededError"||ue.name==="NS_ERROR_DOM_QUOTA_REACHED")&&U(ue),U(ue)}})})});return f(I,m),I}function SD(d,y){if(y=O.apply(this,arguments),d=typeof d!="function"&&d||{},!d.name){var m=this.config();d.name=d.name||m.name,d.storeName=d.storeName||m.storeName}var T=this,I;return d.name?I=new h(function(b){d.storeName?b(e0(d,T._defaultConfig)):b(d.name+"/")}).then(function(b){for(var P=localStorage.length-1;P>=0;P--){var U=localStorage.key(P);U.indexOf(b)===0&&localStorage.removeItem(U)}}):I=h.reject("Invalid arguments"),f(I,y),I}var TD={_driver:"localStorageWrapper",_initStorage:pD,_support:hD(),iterate:vD,getItem:gD,setItem:ED,removeItem:bD,clear:mD,length:wD,key:yD,keys:_D,dropInstance:SD},ID=function(y,m){return y===m||typeof y=="number"&&typeof m=="number"&&isNaN(y)&&isNaN(m)},AD=function(y,m){for(var T=y.length,I=0;I<T;){if(ID(y[I],m))return!0;I++}return!1},t0=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"},na={},n0={},Ci={INDEXEDDB:g,WEBSQL:lD,LOCALSTORAGE:TD},CD=[Ci.INDEXEDDB._driver,Ci.WEBSQL._driver,Ci.LOCALSTORAGE._driver],gc=["dropInstance"],Xf=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(gc),OD={description:"",driver:CD.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function kD(d,y){d[y]=function(){var m=arguments;return d.ready().then(function(){return d[y].apply(d,m)})}}function Qf(){for(var d=1;d<arguments.length;d++){var y=arguments[d];if(y)for(var m in y)y.hasOwnProperty(m)&&(t0(y[m])?arguments[0][m]=y[m].slice():arguments[0][m]=y[m])}return arguments[0]}var DD=function(){function d(y){o(this,d);for(var m in Ci)if(Ci.hasOwnProperty(m)){var T=Ci[m],I=T._driver;this[m]=I,na[I]||this.defineDriver(T)}this._defaultConfig=Qf({},OD),this._config=Qf({},this._defaultConfig,y),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return d.prototype.config=function(m){if((typeof m=="undefined"?"undefined":i(m))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var T in m){if(T==="storeName"&&(m[T]=m[T].replace(/\W/g,"_")),T==="version"&&typeof m[T]!="number")return new Error("Database version must be a number.");this._config[T]=m[T]}return"driver"in m&&m.driver?this.setDriver(this._config.driver):!0}else return typeof m=="string"?this._config[m]:this._config},d.prototype.defineDriver=function(m,T,I){var b=new h(function(P,U){try{var Y=m._driver,G=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!m._driver){U(G);return}for(var Q=Xf.concat("_initStorage"),ue=0,ke=Q.length;ue<ke;ue++){var Xe=Q[ue],Je=!AD(gc,Xe);if((Je||m[Xe])&&typeof m[Xe]!="function"){U(G);return}}var St=function(){for(var ra=function(MD){return function(){var PD=new Error("Method "+MD+" is not implemented by the current driver"),r0=h.reject(PD);return f(r0,arguments[arguments.length-1]),r0}},Jf=0,RD=gc.length;Jf<RD;Jf++){var Zf=gc[Jf];m[Zf]||(m[Zf]=ra(Zf))}};St();var _t=function(ra){na[Y]&&console.info("Redefining LocalForage driver: "+Y),na[Y]=m,n0[Y]=ra,P()};"_support"in m?m._support&&typeof m._support=="function"?m._support().then(_t,U):_t(!!m._support):_t(!0)}catch(kn){U(kn)}});return p(b,T,I),b},d.prototype.driver=function(){return this._driver||null},d.prototype.getDriver=function(m,T,I){var b=na[m]?h.resolve(na[m]):h.reject(new Error("Driver not found."));return p(b,T,I),b},d.prototype.getSerializer=function(m){var T=h.resolve(pn);return p(T,m),T},d.prototype.ready=function(m){var T=this,I=T._driverSet.then(function(){return T._ready===null&&(T._ready=T._initDriver()),T._ready});return p(I,m,m),I},d.prototype.setDriver=function(m,T,I){var b=this;t0(m)||(m=[m]);var P=this._getSupportedDrivers(m);function U(){b._config.driver=b.driver()}function Y(ue){return b._extend(ue),U(),b._ready=b._initStorage(b._config),b._ready}function G(ue){return function(){var ke=0;function Xe(){for(;ke<ue.length;){var Je=ue[ke];return ke++,b._dbInfo=null,b._ready=null,b.getDriver(Je).then(Y).catch(Xe)}U();var St=new Error("No available storage method found.");return b._driverSet=h.reject(St),b._driverSet}return Xe()}}var Q=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=Q.then(function(){var ue=P[0];return b._dbInfo=null,b._ready=null,b.getDriver(ue).then(function(ke){b._driver=ke._driver,U(),b._wrapLibraryMethodsWithReady(),b._initDriver=G(P)})}).catch(function(){U();var ue=new Error("No available storage method found.");return b._driverSet=h.reject(ue),b._driverSet}),p(this._driverSet,T,I),this._driverSet},d.prototype.supports=function(m){return!!n0[m]},d.prototype._extend=function(m){Qf(this,m)},d.prototype._getSupportedDrivers=function(m){for(var T=[],I=0,b=m.length;I<b;I++){var P=m[I];this.supports(P)&&T.push(P)}return T},d.prototype._wrapLibraryMethodsWithReady=function(){for(var m=0,T=Xf.length;m<T;m++)kD(this,Xf[m])},d.prototype.createInstance=function(m){return new d(m)},d}(),xD=new DD;r.exports=xD},{3:3}]},{},[4])(4)})})(Gk);var qf=Gk.exports;class Qy{constructor(t){this.timeout=t,this.timers=[]}debounce(t=null,n){const r=this._findTimer(t);r&&this._clearTimer(r),this._setTimer(t,n)}_clearTimer(t){clearTimeout(t.instance),this.timers=this.timers.filter(n=>n.identifier!==t.identifier)}_findTimer(t){return this.timers.find(n=>n.identifier===t)}_setTimer(t,n){this.timers.push({identifier:t,instance:setTimeout(n,this.timeout)})}}const sl=qf.createInstance({name:"contexts"}),pee=new Qy(800),mee=(e,t)=>e.contexts.all.find(n=>n.id===t);var gee=e=>{e.subscribe(({type:t,payload:n},r)=>{switch(t){case Ck:const s=mee(r,n.id);s&&pee.debounce(s.id,async()=>{sl.setItem(s.id,Jo(s))});break;case kk:sl.removeItem(n.id);break;case _s:sl.keys().then(i=>Promise.all(i.map(o=>sl.getItem(o)))).then(i=>e.dispatch(Ok,i));break}})};const Ap=qf.createInstance({name:"firebase/documents"}),vee=new Qy(800),yee=(e,t)=>e.documents.all.find(n=>n.id===t);var _ee=e=>{e.subscribe(({type:t,payload:n},r)=>{switch(t){case cs:case Ki:case Wa:case uo:case za:case Ha:case Ka:case qa:const s=yee(r,n.id);s&&vee.debounce(s.id,async()=>{const i=await $k(s,{preferEncryption:r.settings.crypto.enabled,publicKey:r.settings.crypto.publicKey});Ap.setItem(s.id,i)});break;case _s:Ap.keys().then(i=>Promise.all(i.map(o=>Ap.getItem(o)))).then(i=>Promise.all(i.map(o=>{const a=Object.assign({},o,{id:o.id||o.clientId,textKey:o.textKey||o.dataKey});return Lk(a,{privateKey:r.settings.crypto.privateKey})}))).then(i=>e.dispatch(Tk,i)).then(()=>e.dispatch(Va));break}})},wee=e=>{e.subscribe(({type:t,_payload:n},r)=>{switch(t){case _s:e.dispatch(Bk);break}})};const LE="main",FE=qf.createInstance({name:"settings"});var bee=e=>{FE.getItem(LE).then(t=>{t?e.dispatch(Dl,t).then(()=>{e.dispatch(_s)}):e.dispatch(_s)}),e.subscribe(({type:t,_payload:n},r)=>{switch(t){case xl:case Rl:case Ml:case Pl:case Nl:case jk:case Vk:case Wk:case zk:case $l:case Hk:case Yk:case Ll:FE.setItem(LE,Jo(r.settings));break}})};const Eee=new Qy(1500);var See=e=>{e.subscribe(async({type:t,payload:n},r)=>{switch(t){case cs:case Ki:case Va:case Wa:case za:case Ha:case Ga:case qi:case Ka:case qa:e.state.online&&e.state.auth.user&&Eee.debounce("sync",()=>{e.dispatch(Ik)});break}})};const Qi="SET_STRIPE_MODAL_VISIBILITY",Kt=wB({state(){return{context:{active:!1,editing:!1,tags:[]},editor:null,modKey:"\u2303 ctrl",online:!0,showLeftSidebar:!0,showRightSidebar:!1,showStripeModal:!1,showWelcome:!1}},getters:{allTags(e,t){return Array.from(t.allKept.reduce((n,r)=>{for(let s of r.tags)n.add(s);return n},new Set)).sort()},contextTags(e){return e.context.tags.sort()},tags(e,t){return Array.from(t.kept.reduce((n,r)=>{for(let s of r.tags)n.add(s);return n},new Set)).sort()}},mutations:{[Qc](e,t){e.context.active=!0},[Jc](e,t){e.context.active=!1,e.context.tags=[]},[Ep](e,t){e.context.tags=t.context.tags},[Sp](e,t){e.editor=t.editor},[kl](e,t){e.modKey=t},[Ya](e){e.online=!1},[Ga](e){e.online=!0},[Tp](e,t){e.showRightSidebar=t},[Qi](e,t){e.showStripeModal=t},[lo](e,t){e.showWelcome=t}},actions:{async[Qc](e){e.commit(Qc)},async[eZ](e){e.state.editor&&e.state.editor.getInputField().blur()},async[Jc](e){e.commit(Jc)},async[nZ](e){e.state.editor&&e.state.editor.focus()},async[Ep](e,t){if(e.commit(Ep,t),t.context.tags.length>0){if(!e.state.context.active)return e.dispatch(Qc)}else if(e.state.context.active)return e.dispatch(Jc)},async[Sp](e,t){e.commit(Sp,t)},async[kl](e,t){e.commit(kl,t)},async[Ya](e){e.commit(Ya)},async[Ga](e){e.commit(Ga)},async[Tp](e,t){e.commit(Tp,t)},async[lo](e,t){e.commit(lo,t)},async[Qi](e,t){e.commit(Qi,t),t&&setTimeout(()=>{e.state.showStripeModal&&e.commit(Qi,!1)},15e3)}},modules:{auth:iZ,contexts:oZ,documents:FZ,keybindings:WZ,settings:iee,sync:dee},plugins:[gee,_ee,wee,bee,See]}),Tee={name:"Subscriptions",components:{GitHubIcon:Ek,GoogleIcon:qJ,TwitterIcon:Sk},data(){return{accountConflict:!1,stripeError:null,subscribed:!1}},watch:{user(){this.user&&this.checkSubscription()}},computed:{github(){return this.providers.find(e=>e.providerId==="github.com")},google(){return this.providers.find(e=>e.providerId==="google.com")},online(){return this.$store.state.online},providers(){return this.user?this.user.providerData:[]},twitter(){return this.providers.find(e=>e.providerId==="twitter.com")},user(){return this.$store.state.auth.user}},methods:{linkGithub(){this.user.linkWithRedirect(new ar)},linkGoogle(){this.user.linkWithRedirect(new or)},linkTwitter(){this.user.linkWithRedirect(new ur)},signInGithub(){od(sr(),new ar)},signInGithubPro(){window.location.hash="pro",this.trackCtaContinueWithPro(),this.signInGithub()},signInGoogle(){od(sr(),new or)},signInGooglePro(){window.location.hash="pro",this.trackCtaContinueWithPro(),this.signInGoogle()},signInTwitter(){od(sr(),new ur)},signInTwitterPro(){window.location.hash="pro",this.trackCtaContinueWithPro(),this.signInTwitter()},signOut(){sr().signOut()},trackCtaContinue(){window.fathom.trackGoal({}.VITE_FATHOM_EVENT_CTA_CONTINUE,0)},trackCtaContinueWithPro(){window.fathom.trackGoal("YKH3CBR1",0)},trackCtaUpgradeToPro(){window.fathom.trackGoal("WGUAVK63",0)},upgrade(){this.trackCtaUpgradeToPro(),this.subscribe()},async checkSubscription(){await sr().currentUser.getIdToken(!0);const e=await sr().currentUser.getIdTokenResult();this.subscribed=e.claims.stripeRole==="subscriber"},async subscribe(){this.$store.dispatch(Qi,!0);const e=await XJ({userId:this.user.uid}),{error:t,url:n}=e.data();t&&(this.stripeError=t.message,this.$store.dispatch(Qi,!1)),n&&window.location.assign(n)}},created(){this.user&&this.checkSubscription(),fM(sr()).then(e=>{e.additionalUserInfo&&e.additionalUserInfo.isNewUser&&window.fathom.trackGoal("SQC05HQB",0),window.location.hash==="#pro"?this.checkSubscription().then(()=>{this.subscribed||this.subscribe()}):Kk({name:"new_doc"})}).catch(e=>{switch(e.code){case"auth/account-exists-with-different-credential":this.accountConflict=!0;break}})}},Iee={key:0,role:"alert",class:"flex items-center rounded p-2 bg-blue-100 dark:bg-blue-400 text-gray-900 mb-4 shadow"},Aee=N("svg",{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[N("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),Cee=N("span",{class:"ml-3"},"You have an account with another provider. If you want to link these accounts, you need to sign in with the correct provider first.",-1),Oee=[Aee,Cee],kee={key:1,role:"alert",class:"flex items-center rounded p-2 bg-blue-100 dark:bg-blue-400 text-gray-900 mb-4 shadow"},Dee=N("svg",{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[N("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),xee=N("span",{class:"ml-3"},"We could not connect to Stripe for checkout. Please try again.",-1),Ree=[Dee,xee],Mee={class:"flex flex-col justify-center lg:flex-row gap-4"},Pee={class:"flex-shrink flex-basis-1/2 bg-gray-100 dark:bg-darkest shadow rounded p-4"},Nee=N("h3",{class:"text-3xl flex justify-between mb-2"},[N("span",{class:"font-bold"},"Personal"),N("span",{class:"font-semibold ml-4"},[N("span",null,"$0"),Vr(),N("span",{class:"text-base font-normal"},"per month")])],-1),$ee={key:0,class:"bg-gray-200 dark:bg-gray-900 text-base font-normal py-0.5 px-2 rounded ml-2"},Lee=N("p",{class:"mb-4"},"For individuals who want to maintain a personal knowledge base",-1),Fee={key:1,class:"flex flex-col gap-2 mb-4"},Bee=["disabled"],Uee=N("span",{class:"action ml-3"},"Continue with GitHub",-1),jee=["disabled"],Vee=N("span",{class:"action ml-3"},"Continue with Google",-1),Wee=["disabled"],zee=N("span",{class:"action ml-3"},"Continue with Twitter",-1),Hee=Po('<p class="font-bold mb-4">What&#39;s included?</p><ul><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Unlimited private docs</span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Unlimited syncing</span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Backups and retention</span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>End-to-End Encryption (E2EE)</span></li></ul>',2),Yee={class:"flex-grow flex-shrink flex-basis-1/2 bg-gray-100 dark:bg-darkest shadow rounded p-4 ring ring-blue-400 ring-opacity-75"},Gee=Po('<h3 class="text-3xl flex justify-between mb-2"><span class="font-bold">Pro</span><span class="font-semibold ml-4"><span class="text-blue-400">$4</span> <span class="text-base font-normal">per month</span></span></h3>',1),Kee={key:0,class:"bg-gray-200 dark:bg-gray-900 text-base font-normal py-0.5 px-2 rounded ml-2"},qee=N("p",{class:"mb-4"},"For professionals who want to collaborate on documentation and more",-1),Xee={key:1,class:"flex flex-col gap-2 mb-4"},Qee=["disabled"],Jee=N("span",{class:"action ml-3"},"Continue with GitHub",-1),Zee=["disabled"],ete=N("span",{class:"action ml-3"},"Continue with Google",-1),tte=["disabled"],nte=N("span",{class:"action ml-3"},"Continue with Twitter",-1),rte=N("p",{class:"text-gray-500 mb-4"},"You will be redirected to Stripe for checkout after you sign up with your preferred auth provider.",-1),ste={key:2,class:"flex flex-col gap-2 mb-4"},ite=["disabled"],ote=N("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[N("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"})],-1),ate=N("span",{class:"action ml-3"},"Upgrade Subscription",-1),ute=[ote,ate],cte=Po('<p class="font-bold mb-4">What&#39;s included?</p><ul><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Everything in <span class="font-bold">Personal</span></span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Unlimited public docs</span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Unlimited file attachments</span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Realtime collaboration (coming soon)</span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>1% of revenue <a href="https://stripe.com/climate" target="_blank" rel="noopener noreferrer" class="text-blue-400">funds carbon removal</a></span></li></ul>',2);function lte(e,t,n,r,s,i){const o=xn("GitHubIcon"),a=xn("GoogleIcon"),u=xn("TwitterIcon");return Fe(),ot("section",null,[s.accountConflict?(Fe(),ot("div",Iee,Oee)):vn("",!0),s.stripeError?(Fe(),ot("div",kee,Ree)):vn("",!0),N("div",Mee,[N("div",Pee,[Nee,i.user&&!s.subscribed?(Fe(),ot("p",$ee,"Active")):vn("",!0),Lee,i.user?vn("",!0):(Fe(),ot("div",Fee,[N("button",{onClick:t[0]||(t[0]=(...c)=>i.signInGithub&&i.signInGithub(...c)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center"},[Ze(o,{class:"h-5 w-5"}),Uee],8,Bee),N("button",{onClick:t[1]||(t[1]=(...c)=>i.signInGoogle&&i.signInGoogle(...c)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center"},[Ze(a,{class:"h-5 w-5"}),Vee],8,jee),N("button",{onClick:t[2]||(t[2]=(...c)=>i.signInTwitter&&i.signInTwitter(...c)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center"},[Ze(u,{class:"h-5 w-5"}),zee],8,Wee)])),Hee]),N("div",Yee,[Gee,i.user&&s.subscribed?(Fe(),ot("p",Kee,"Active")):vn("",!0),qee,i.user?vn("",!0):(Fe(),ot("div",Xee,[N("button",{onClick:t[3]||(t[3]=(...c)=>i.signInGithubPro&&i.signInGithubPro(...c)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400"},[Ze(o,{class:"h-5 w-5"}),Jee],8,Qee),N("button",{onClick:t[4]||(t[4]=(...c)=>i.signInGooglePro&&i.signInGooglePro(...c)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400"},[Ze(a,{class:"h-5 w-5"}),ete],8,Zee),N("button",{onClick:t[5]||(t[5]=(...c)=>i.signInTwitterPro&&i.signInTwitterPro(...c)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400"},[Ze(u,{class:"h-5 w-5"}),nte],8,tte)])),rte,i.user&&!s.subscribed?(Fe(),ot("div",ste,[N("button",{onClick:t[6]||(t[6]=(...c)=>i.upgrade&&i.upgrade(...c)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400"},ute,8,ite)])):vn("",!0),cte])])])}var hte=Qn(Tee,[["render",lte]]);const fte={},dte={viewBox:"0 0 505 512",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},pte=N("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M180.698 229.574C50.3113 105.548 161.99 -6.71839 257.352 0.31369C357.821 7.72238 451.206 134.926 317.096 229.574C319.747 269.937 357.643 257.986 386.2 237.69C414.758 217.395 450.91 216.587 478.309 237.69C533.405 280.124 486.257 339.836 485.434 340.823C484.611 341.81 479.712 332.506 465.519 324.662C490.694 279.561 412.805 254.334 386.2 314.952C330.213 340.133 319.227 278.434 319.227 278.434C321.307 293.862 323.451 310.038 344.181 321.428C373.382 337.473 393.374 300.984 444.477 317.521C504.597 340.447 520.379 402.084 480.549 435.534C468.901 445.316 441.471 448.312 441.471 425.762C471.551 452.496 478.829 363.278 430.915 367.569C378.818 372.236 344.181 407.539 285.435 374.479C260.481 360.436 262.2 311.95 275.012 272.044C260.009 308.753 253.723 361.477 283.876 377.6C332.236 403.459 344.607 419.026 350.42 435.534C361.337 466.539 346.781 496.705 320.267 509.188C306.155 515.832 279.197 511.788 282.316 485.263C297.393 509.188 324.208 482.723 311.801 456.657C301.403 434.812 261.011 432.075 231.888 427.531C118.555 409.847 194.977 287.621 199.673 278.434C188.738 295.423 160.665 338.254 166.904 374.479C129.992 399.965 105.888 388.992 78.0823 393.502C50.2766 398.012 46.8398 445.589 78.0823 450.629C89.7307 452.509 92.7367 443.113 85.2216 435.534C91.6095 431.838 105.828 442.799 96.87 459.274C87.9121 475.748 44.5896 476.186 27.3556 448.312C12.1338 423.693 12.3666 378.844 37.8767 356.67C63.3868 334.496 77.7066 337.126 107.767 317.959C137.827 298.791 170.81 275.016 180.698 229.574ZM216.958 179.964C217.249 165.803 207.195 152.315 193.098 153.655C179.659 154.933 172.317 169.966 174.122 183.347C175.83 196.002 187.216 207.566 199.673 204.769C210.564 202.325 216.729 191.125 216.958 179.964ZM329.086 179.964C329.377 165.803 319.322 152.315 305.225 153.655C291.787 154.933 284.444 169.966 286.25 183.347C287.958 196.002 299.344 207.566 311.801 204.769C322.691 202.325 328.856 191.125 329.086 179.964Z"},null,-1),mte=N("path",{d:"M105.137 316.227C132.191 297.811 157.026 281.38 174.182 243.412C138.31 270.977 120.242 235.7 74.3656 235.7C28.489 235.7 -0.948751 269.263 0.0233642 302.275C1.51749 353.013 29.9858 360.576 29.9858 360.576C37.2563 352.87 38.1628 352.378 47.2704 345.167C34.1191 339.153 22.2695 307.153 53.6582 293.953C80.7534 282.558 105.137 316.227 105.137 316.227Z"},null,-1),gte=N("path",{d:"M57.4158 338.254C59.7477 334.678 58.8278 332.536 53.6583 328.482C58.8252 327.33 62.5702 328.873 66.8097 333.744C62.4955 335.606 59.9009 336.315 57.4158 338.254Z"},null,-1),vte=N("path",{d:"M451.796 317.521C449.464 313.944 450.384 311.803 455.553 307.749C450.386 306.597 446.641 308.14 442.402 313.011C446.716 314.873 449.311 315.582 451.796 317.521Z"},null,-1),yte=[pte,mte,gte,vte];function _te(e,t){return Fe(),ot("svg",dte,yte)}var wte=Qn(fte,[["render",_te]]),bte="/img/screenshot.png";const Ete={name:"Home",components:{GitHubIcon:Ek,TwitterIcon:Sk,Subscriptions:hte,TheLogo:wte},data(){return{supportsFirebase:Au.supportsFirebase}},computed:{discordInviteLink(){return"https://link.octo.app/discord"}},methods:{trackCtaSignUpNow(){window.fathom.trackGoal("TOVMVZSW",0)}}},Zo=e=>(YP("data-v-4b205770"),e=e(),GP(),e),Ste={class:"text-gray-100 text-lg overflow-auto home"},Tte={class:"p-4 lg:p-8 container mx-auto"},Ite={class:"max-w-[100ch] mx-auto mb-8"},Ate={class:"flex flex-col gap-32 lg:gap-40 py-10"},Cte={class:"flex flex-col text-center gap-8"},Ote=Zo(()=>N("h1",{class:"text-4xl lg:text-6xl font-semibold"},[Vr("Build "),N("span",{class:"underline underline-offset-8 decoration-2"},"your"),Vr(" knowledge base.")],-1)),kte={class:"flex flex-col gap-4 items-center text-center"},Dte=Zo(()=>N("span",{class:"flex items-center gap-3 align-center"},[N("span",null,"Get started for free"),N("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[N("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})])],-1)),xte=[Dte],Rte=Po('<section class="p-4 lg:p-8" data-v-4b205770><div class="container mx-auto mb-8 lg:mt-20" data-v-4b205770><div class="aspect-w-16 aspect-h-9 w-full" data-v-4b205770><img src="'+bte+'" class="w-full" data-v-4b205770></div></div></section><section class="p-4 lg:p-8 container mx-auto" data-v-4b205770><div class="max-w-[100ch] mx-auto mb-8" data-v-4b205770><h2 class="text-2xl lg:text-4xl font-bold" data-v-4b205770>Experience Something Different</h2><div class="grid lg:grid-cols-2 gap-8 mt-8" data-v-4b205770><div data-v-4b205770><h3 class="text-xl lg:text-2xl text-gray-400" data-v-4b205770>Better for focus</h3><p class="lg:text-xl mt-2" data-v-4b205770>Markdown has become a widespread format for note-taking, but most editors still leave much to be desired. The effect is friction in writing down your thoughts which leads to interruptions in your concentration.</p><p class="lg:text-xl mt-2" data-v-4b205770>We have crafted a beautiful new editor that bridges the gap between plain-text and <a class="underline" href="https://en.wikipedia.org/wiki/WYSIWYG" target="_blank" rel="noopener noreferrer" data-v-4b205770>WYSIWYG</a>, and we are constantly improving it with your feedback.</p></div><div data-v-4b205770><h3 class="text-xl lg:text-2xl text-gray-400" data-v-4b205770>Always available</h3><p class="lg:text-xl mt-2" data-v-4b205770>Your information should be available to you anywhere, anytime. Whether you are on a plane, at home, or using an incognito tab on a temporary device, you should have access to your information.</p><p class="lg:text-xl mt-2" data-v-4b205770>Using modern technologies, Octo takes an offline-first approach by storing <strong data-v-4b205770>everything</strong> in your browser. If <a class="underline" href="https://aws.amazon.com/message/41926/" target="_blank" rel="noopener noreferrer" data-v-4b205770>your entire region of the internet goes out</a>, you will still be able to open Octo and access your docs.</p></div><div data-v-4b205770><h3 class="text-xl lg:text-2xl text-gray-400" data-v-4b205770>Native spellcheck &amp; Grammarly support</h3><p class="lg:text-xl mt-2" data-v-4b205770>Improve your spelling, grammar, and overall readability with your favorite tools. Since Octo is a Progressive Web App built on <a class="underline" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/contenteditable" target="_blank" rel="noopener noreferrer" data-v-4b205770>contenteditable</a>, you can use all of your favorite browser extensions, Grammarly included.</p></div></div></div></section>',2),Mte={class:"p-4 lg:p-8 container mx-auto"},Pte={class:"max-w-[100ch] mx-auto mb-8"},Nte=Zo(()=>N("h2",{class:"text-2xl lg:text-4xl font-bold"},"Open Source",-1)),$te={class:"grid lg:grid-cols-2 gap-8 mt-4"},Lte=Po('<div data-v-4b205770><h3 class="text-xl lg:text-2xl text-gray-400" data-v-4b205770>Transparency</h3><p class="lg:text-xl mt-2" data-v-4b205770>You get full visibility of the <a class="underline" href="https://github.com/voracious/octo" target="_blank" rel="noopener noreferrer" data-v-4b205770>codebase</a> that powers Octo. This means you can participate in feature discussions, track bugs, and collaborate with the developer community that relies on us.</p></div><div data-v-4b205770><h3 class="text-xl lg:text-2xl text-gray-400" data-v-4b205770>Security &amp; Reliability</h3><p class="lg:text-xl mt-2" data-v-4b205770>We have a lot of eyes on our code, so you can hold us accountable when something is not up to your standards. We strive to uphold best practices, and we will always listen to feedback from our community.</p></div>',2),Fte=Zo(()=>N("h3",{class:"text-xl lg:text-2xl text-gray-400"},"Community",-1)),Bte={class:"lg:text-xl mt-2"},Ute=Vr("We love to connect with our community of developers and writers. Whether you want to collaborate on improving Octo itself or you want to meet other knowledge workers, creators, or enthusiasts, you can connect with us on "),jte=["href"],Vte=Vr("."),Wte=Po('<section class="p-4 lg:p-8 container mx-auto" data-v-4b205770><div class="max-w-[100ch] mx-auto mb-8" data-v-4b205770><h2 class="text-2xl lg:text-4xl font-bold" data-v-4b205770>Privacy Focused</h2><div class="grid lg:grid-cols-2 gap-8 mt-4" data-v-4b205770><div data-v-4b205770><h3 class="text-xl lg:text-2xl text-gray-400" data-v-4b205770>End-to-End Encryption (E2EE)</h3><p class="lg:text-xl mt-2" data-v-4b205770><strong class="font-semibold" data-v-4b205770>Trust is earned</strong>, yet many organizations expect it from you in order to use their services. We support end-to-end encryption, because <strong class="font-semibold" data-v-4b205770>we believe you deserve to make that choice</strong>. Whether you are end-to-end encrypted or not, we will always use best practices to secure your data.</p></div><div data-v-4b205770><h3 class="text-xl lg:text-2xl text-gray-400" data-v-4b205770>Transparent Analytics</h3><p class="lg:text-xl mt-2" data-v-4b205770>We use privacy-first tools to ensure we only track a minimal amount of basic analytics, and all of that information is available to view on our <a class="underline" href="https://app.usefathom.com/share/npcchoaz/octo.app" target="_blank" rel="noopener noreferrer" data-v-4b205770>public dashboard</a>. <strong class="font-semibold" data-v-4b205770>We sell software, not data.</strong></p></div><div data-v-4b205770><h3 class="text-xl lg:text-2xl text-gray-400" data-v-4b205770>No Cookies</h3><p class="lg:text-xl mt-2" data-v-4b205770>You heard that right! No annoying cookie banners are necessary since we do not use them. We use token-based authentication and cookieless third-party integrations.</p></div></div></div></section>',1),zte={key:0,class:"p-4 lg:p-8 bg-gray-900"},Hte={class:"container mx-auto"},Yte={class:"max-w-[100ch] mx-auto mb-8"},Gte=Zo(()=>N("h2",{id:"pricing",class:"text-2xl lg:text-4xl font-bold"},"Pricing",-1)),Kte={class:"text-gray-500 p-4 lg:p-8 container mx-auto"},qte={class:"max-w-[100ch] mx-auto mb-8"},Xte={class:"flex flex-col items-center lg:items-start gap-2"},Qte={class:"flex flex-col items-center lg:flex-row gap-2 lg:gap-4"},Jte=Vr("Privacy Policy"),Zte=Vr("Terms & Conditions"),ene={class:"flex items-center gap-2 mt-1 lg:mt-0"},tne={href:"https://twitter.com/writewithocto",target:"_blank",rel:"noopener noreferrer"},nne={href:"https://github.com/voracious",target:"_blank",rel:"noopener noreferrer"},rne=Zo(()=>N("p",{class:"mt-4"},"\xA9 2022 Octo",-1));function sne(e,t,n,r,s,i){const o=xn("TheLogo"),a=xn("Subscriptions"),u=xn("router-link"),c=xn("TwitterIcon"),l=xn("GitHubIcon");return Fe(),ot("div",Ste,[N("section",Tte,[N("div",Ite,[N("div",Ate,[N("div",Cte,[Ze(o,{class:"h-32 lg:h-48 text-brand"}),Ote]),N("div",kte,[N("a",{onClick:t[0]||(t[0]=(...h)=>i.trackCtaSignUpNow&&i.trackCtaSignUpNow(...h)),href:"#pricing",class:"button-base bg-brand hover:bg-blue-500 transition shadow whitespace-nowrap justify-center gap-3 text-black text-xl py-2 px-8"},xte)])])])]),Rte,N("section",Mte,[N("div",Pte,[Nte,N("div",$te,[Lte,N("div",null,[Fte,N("p",Bte,[Ute,N("a",{class:"underline",href:i.discordInviteLink,target:"_blank",rel:"noopener noreferrer"},"Discord",8,jte),Vte])])])])]),Wte,s.supportsFirebase?(Fe(),ot("section",zte,[N("div",Hte,[N("div",Yte,[Gte,Ze(a,{class:"bg-gray-900 rounded mt-4"})])])])):vn("",!0),N("footer",Kte,[N("div",qte,[N("div",Xte,[N("div",Qte,[Ze(u,{to:{name:"privacy_policy"},class:"font-semibold"},{default:Dr(()=>[Jte]),_:1}),Ze(u,{to:{name:"terms_and_conditions"},class:"font-semibold"},{default:Dr(()=>[Zte]),_:1}),N("div",ene,[N("a",tne,[Ze(c,{class:"h-6 lg:h-4"})]),N("a",nne,[Ze(l,{class:"h-6 lg:h-4"})])])]),rne])])])])}var ine=Qn(Ete,[["render",sne],["__scopeId","data-v-4b205770"]]);const one="Build your knowledge base",ane=e=>{document.title=`${e||one} | Octo`},Jy=kJ({history:HQ(),routes:[{path:"/index.html",meta:{track:!0},redirect:{name:"editor"}},{path:"/home",name:"home",meta:{track:!0},component:ine,beforeEnter(e,t,n){Kt.state.showWelcome&&(localStorage.setItem("octo/welcome/v1","done"),Kt.dispatch(lo,!1)),n()}},{path:"/",name:"editor",component:()=>mt(()=>import("./Dashboard.432dc309.js"),["assets/Dashboard.432dc309.js","assets/Dashboard.1672877f.css","assets/TheLeftSidebar.36e2e53b.js","assets/TagLink.60973ec9.js","assets/Tag.83789b55.js","assets/files.b09f5a1e.js","assets/TheRightSidebar.7e82f1ed.js"]),children:[{path:"",meta:{track:!0},beforeEnter(e,t,n){Au.supportsFirebase&&Kt.state.showWelcome?n({name:"home"}):n({name:"new_doc"})}},{path:"account",name:"account",meta:{title:"My Account",track:!0},component:()=>mt(()=>import("./Account.f81344ea.js"),[])},{path:"docs",name:"docs",meta:{title:"My Docs",track:!0},component:()=>mt(()=>import("./Documents.17176e52.js"),["assets/Documents.17176e52.js","assets/DocumentList.7b01acd7.js","assets/Tag.83789b55.js"])},{path:"docs/new",name:"new_doc",meta:{track:!0},component:()=>mt(()=>import("./Editor.31eb0645.js"),["assets/Editor.31eb0645.js","assets/Editor.02971c8e.js","assets/Editor.6dee4f3f.css"]),props:!0,beforeEnter(e,t,n){Kt.dispatch(co,{id:null}),Au.supportsFirebase&&Kt.state.showWelcome?(localStorage.setItem("octo/welcome/v1","done"),Kt.dispatch(lo,!1),n({name:"home"})):n()}},{path:"docs/f/:filter",name:"filtered_docs",meta:{title:"My Docs"},component:()=>mt(()=>import("./Documents.17176e52.js"),["assets/Documents.17176e52.js","assets/DocumentList.7b01acd7.js","assets/Tag.83789b55.js"]),props:!0},{path:"docs/t/:tag",name:"tagged_docs",meta:{title:"My Docs"},component:()=>mt(()=>import("./Documents.17176e52.js"),["assets/Documents.17176e52.js","assets/DocumentList.7b01acd7.js","assets/Tag.83789b55.js"]),props:!0},{path:"notepad",name:"notepad",meta:{title:"Notepad",track:!0},component:()=>mt(()=>import("./Daily.89e2a0a8.js"),["assets/Daily.89e2a0a8.js","assets/Editor.31eb0645.js","assets/Editor.02971c8e.js","assets/Editor.6dee4f3f.css"]),props:!0},{path:"docs/:id",name:"doc",component:()=>mt(()=>import("./Editor.31eb0645.js"),["assets/Editor.31eb0645.js","assets/Editor.02971c8e.js","assets/Editor.6dee4f3f.css"]),props({params:e}){return typeof(e==null?void 0:e.props)=="string"?{...e,...JSON.parse(e.props)}:e},beforeEnter(e,t,n){Kt.dispatch(co,{id:e.params.id}),n()}},{path:"docs/:id/meta",name:"doc_meta",component:()=>mt(()=>import("./TheRightSidebar.7e82f1ed.js"),["assets/TheRightSidebar.7e82f1ed.js","assets/TagLink.60973ec9.js","assets/Tag.83789b55.js"]),props:!0,beforeEnter(e,t,n){Kt.dispatch(co,{id:e.params.id}),n()}},{path:"public/:id",name:"public_doc",component:()=>mt(()=>import("./Editor.31eb0645.js"),["assets/Editor.31eb0645.js","assets/Editor.02971c8e.js","assets/Editor.6dee4f3f.css"]),props:{readonly:!0}},{path:"force-graph",name:"force_graph",meta:{title:"Force Graph",track:!0},component:()=>mt(()=>import("./Graph.e972937c.js"),["assets/Graph.e972937c.js","assets/Graph.e6cff609.css","assets/DocumentList.7b01acd7.js","assets/Tag.83789b55.js"]),props:!0},{path:"documents",name:"documents",meta:{track:!0},redirect:{name:"docs"}},{path:"documents/new",name:"dashboard",meta:{track:!0},redirect:{name:"new_doc"}},{path:"documents/export",name:"export",meta:{title:"Export Docs",track:!0},component:()=>mt(()=>import("./Exporter.ec7819e1.js"),[])},{path:"documents/import",name:"import",meta:{title:"Import Docs",track:!0},component:()=>mt(()=>import("./Importer.d39f9d59.js"),[])},{path:"documents/recent",name:"recent",meta:{track:!0},redirect:{name:"docs"}},{path:"documents/actionable",meta:{track:!0},redirect:{name:"filtered_docs",params:{filter:"tasks"}}},{path:"documents/discarded",name:"discarded",meta:{track:!0},redirect:{name:"filtered_docs",params:{filter:"discarded"}}},{path:"documents/tasks",name:"tasks",meta:{track:!0},redirect:{name:"filtered_docs",params:{filter:"tasks"}}},{path:"documents/untagged",name:"untagged",meta:{track:!0},redirect:{name:"filtered_docs",params:{filter:"untagged"}}},{path:"documents/daily",name:"daily",meta:{track:!0},redirect:{name:"notepad"}},{path:"documents/:id",name:"document",redirect:{name:"doc"}},{path:"documents/:id/meta",name:"document-meta",redirect:{name:"doc_meta"}},{path:"example",name:"example",meta:{title:"Example",track:!0},component:()=>mt(()=>import("./Example.1567d353.js"),["assets/Example.1567d353.js","assets/Editor.02971c8e.js","assets/Editor.6dee4f3f.css"]),props:{url:"/example.md"}},{path:"file-editor/:id",name:"file_editor",meta:{title:"File Editor"},component:()=>mt(()=>import("./FileEditor.effd4a8b.js"),["assets/FileEditor.effd4a8b.js","assets/Editor.02971c8e.js","assets/Editor.6dee4f3f.css","assets/files.b09f5a1e.js"]),props:!0},{path:"quick-action",name:"quick_action",meta:{title:"Quick Action",track:!0},component:()=>mt(()=>import("./QuickAction.b6cc4303.js"),[])},{path:"menu",name:"menu",meta:{track:!0},component:()=>mt(()=>import("./TheLeftSidebar.36e2e53b.js"),["assets/TheLeftSidebar.36e2e53b.js","assets/TagLink.60973ec9.js","assets/Tag.83789b55.js","assets/files.b09f5a1e.js"])},{path:"shared/:id",name:"shared",redirect:{name:"public_doc"}},{path:"context",name:"context",meta:{track:!0},redirect:{name:"contexts"}},{path:"contexts",name:"contexts",meta:{title:"Context Switching",track:!0},component:()=>mt(()=>import("./Context.8af39cf5.js"),["assets/Context.8af39cf5.js","assets/Context.fc4d976a.css","assets/Tag.83789b55.js"])},{path:"tags/:tag",name:"tag",redirect:{name:"tagged_docs"}},{path:"tags",name:"tags",meta:{title:"Tags",track:!0},component:()=>mt(()=>import("./TagList.e32033d8.js"),["assets/TagList.e32033d8.js","assets/TagList.063e6a70.css","assets/TagLink.60973ec9.js","assets/Tag.83789b55.js"]),props:!0},{path:"settings",name:"settings",meta:{title:"App Settings",track:!0},component:()=>mt(()=>import("./TheSettings.c7f7ffd9.js"),[])},{path:"graph",name:"graph",meta:{track:!0},redirect:{name:"force_graph"}},{path:"privacy-policy",name:"privacy_policy",meta:{title:"Privacy Policy",track:!0},component:()=>mt(()=>import("./Privacy.0a179ae0.js"),[])},{path:"terms-and-conditions",name:"terms_and_conditions",meta:{title:"Terms & Conditions",track:!0},component:()=>mt(()=>import("./Terms.244d23bd.js"),[])}]}]});Jy.beforeEach(e=>{var t;return e.meta.title&&ane(e.meta.title),e.meta.track&&((t=window.fathom)==null||t.trackPageview()),!0});const Kk=e=>{var t;(t=e.params)!=null&&t.props&&(e.params.props=JSON.stringify(e.params.props)),Jy.push(e)};function BE(e){return typeof e!="object"||e===null?0:Array.isArray(e)?2:lne(e)?1:e instanceof Set?3:e instanceof Map?4:5}function une(e){const t=new Set;for(const n of e)for(const r of[...Object.keys(n),...Object.getOwnPropertySymbols(n)])t.add(r);return t}function cne(e,t){return typeof e=="object"&&Object.prototype.propertyIsEnumerable.call(e,t)}function qk(e){return{*[Symbol.iterator](){for(const t of e)for(const n of t)yield n}}}const UE=new Set(["[object Object]","[object Module]"]);function lne(e){if(!UE.has(Object.prototype.toString.call(e)))return!1;const{constructor:t}=e;if(t===void 0)return!0;const n=t.prototype;return!(n===null||typeof n!="object"||!UE.has(Object.prototype.toString.call(n))||!n.hasOwnProperty("isPrototypeOf"))}const Cp={mergeMaps:Ene,mergeSets:bne,mergeArrays:wne,mergeRecords:_ne,mergeOthers:Qk},Ai={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};function hne(e,t){return t}function fne(...e){return dne({})(...e)}function dne(e,t){const n=pne(e,r);function r(...s){return Xk(s,n,t)}return r}function pne(e,t){var n,r;return{defaultMergeFunctions:Cp,mergeFunctions:{...Cp,...Object.fromEntries(Object.entries(e).filter(([s,i])=>Object.prototype.hasOwnProperty.call(Cp,s)).map(([s,i])=>i===!1?[s,Qk]:[s,i]))},metaDataUpdater:(n=e.metaDataUpdater)!==null&&n!==void 0?n:hne,deepmerge:t,useImplicitDefaultMerging:(r=e.enableImplicitDefaultMerging)!==null&&r!==void 0?r:!1,actions:Ai}}function Xk(e,t,n){if(e.length===0)return;if(e.length===1)return Op(e,t,n);const r=BE(e[0]);if(r!==0&&r!==5){for(let s=1;s<e.length;s++)if(BE(e[s])!==r)return Op(e,t,n)}switch(r){case 1:return mne(e,t,n);case 2:return gne(e,t,n);case 3:return vne(e,t,n);case 4:return yne(e,t,n);default:return Op(e,t,n)}}function mne(e,t,n){const r=t.mergeFunctions.mergeRecords(e,t,n);return r===Ai.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeRecords!==t.defaultMergeFunctions.mergeRecords?t.defaultMergeFunctions.mergeRecords(e,t,n):r}function gne(e,t,n){const r=t.mergeFunctions.mergeArrays(e,t,n);return r===Ai.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeArrays!==t.defaultMergeFunctions.mergeArrays?t.defaultMergeFunctions.mergeArrays(e):r}function vne(e,t,n){const r=t.mergeFunctions.mergeSets(e,t,n);return r===Ai.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeSets!==t.defaultMergeFunctions.mergeSets?t.defaultMergeFunctions.mergeSets(e):r}function yne(e,t,n){const r=t.mergeFunctions.mergeMaps(e,t,n);return r===Ai.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeMaps!==t.defaultMergeFunctions.mergeMaps?t.defaultMergeFunctions.mergeMaps(e):r}function Op(e,t,n){const r=t.mergeFunctions.mergeOthers(e,t,n);return r===Ai.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeOthers!==t.defaultMergeFunctions.mergeOthers?t.defaultMergeFunctions.mergeOthers(e):r}function _ne(e,t,n){const r={};for(const s of une(e)){const i=[];for(const u of e)cne(u,s)&&i.push(u[s]);if(i.length===0)continue;const o=t.metaDataUpdater(n,{key:s,parents:e}),a=Xk(i,t,o);a!==Ai.skip&&(s==="__proto__"?Object.defineProperty(r,s,{value:a,configurable:!0,enumerable:!0,writable:!0}):r[s]=a)}return r}function wne(e){return e.flat()}function bne(e){return new Set(qk(e))}function Ene(e){return new Map(qk(e))}function Qk(e){return e[e.length-1]}const Sne=async({options:{caching:e},store:t})=>{if(!e)return;e===!0&&(e={});const{actions:n=!1,mutations:r=!0,namespace:s=t.$id,hydrate:i=async u=>{const c=await u.getItem(s);c&&(t.$state=fne(t.$state,c))},persist:o=async u=>{await u.setItem(s,Jo(t.$state))}}=e,a=qf.createInstance({name:s});await i(a),r?t.$subscribe((u,c)=>{o(a)},{detached:!0}):n&&t.$onAction(u=>{o(a)},!0)};try{self["workbox:window:6.5.2"]&&_()}catch{}function jE(e,t){return new Promise(function(n){var r=new MessageChannel;r.port1.onmessage=function(s){n(s.data)},e.postMessage(t,[r.port2])})}function Tne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ine(e,t){var n;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=function(s,i){if(s){if(typeof s=="string")return VE(s,i);var o=Object.prototype.toString.call(s).slice(8,-1);return o==="Object"&&s.constructor&&(o=s.constructor.name),o==="Map"||o==="Set"?Array.from(s):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?VE(s,i):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=e[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.2"]&&_()}catch{}var kp=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})};function Dp(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var ma=function(e,t){this.type=e,Object.assign(this,t)};function il(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Ane(){}var Cne={type:"SKIP_WAITING"};function WE(e,t){if(!t)return e&&e.then?e.then(Ane):Promise.resolve()}var One=function(e){var t,n;function r(a,u){var c,l;return u===void 0&&(u={}),(c=e.call(this)||this).nn={},c.tn=0,c.rn=new kp,c.en=new kp,c.on=new kp,c.un=0,c.an=new Set,c.cn=function(){var h=c.fn,f=h.installing;c.tn>0||!Dp(f.scriptURL,c.sn.toString())||performance.now()>c.un+6e4?(c.vn=f,h.removeEventListener("updatefound",c.cn)):(c.hn=f,c.an.add(f),c.rn.resolve(f)),++c.tn,f.addEventListener("statechange",c.ln)},c.ln=function(h){var f=c.fn,p=h.target,v=p.state,O=p===c.vn,E={sw:p,isExternal:O,originalEvent:h};!O&&c.mn&&(E.isUpdate=!0),c.dispatchEvent(new ma(v,E)),v==="installed"?c.wn=self.setTimeout(function(){v==="installed"&&f.waiting===p&&c.dispatchEvent(new ma("waiting",E))},200):v==="activating"&&(clearTimeout(c.wn),O||c.en.resolve(p))},c.dn=function(h){var f=c.hn,p=f!==navigator.serviceWorker.controller;c.dispatchEvent(new ma("controlling",{isExternal:p,originalEvent:h,sw:f,isUpdate:c.mn})),p||c.on.resolve(f)},c.gn=(l=function(h){var f=h.data,p=h.ports,v=h.source;return il(c.getSW(),function(){c.an.has(v)&&c.dispatchEvent(new ma("message",{data:f,originalEvent:h,ports:p,sw:v}))})},function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];try{return Promise.resolve(l.apply(this,h))}catch(p){return Promise.reject(p)}}),c.sn=a,c.nn=u,navigator.serviceWorker.addEventListener("message",c.gn),c}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s,i,o=r.prototype;return o.register=function(a){var u=(a===void 0?{}:a).immediate,c=u!==void 0&&u;try{var l=this;return function(h,f){var p=h();return p&&p.then?p.then(f):f(p)}(function(){if(!c&&document.readyState!=="complete")return WE(new Promise(function(h){return window.addEventListener("load",h)}))},function(){return l.mn=Boolean(navigator.serviceWorker.controller),l.yn=l.pn(),il(l.bn(),function(h){l.fn=h,l.yn&&(l.hn=l.yn,l.en.resolve(l.yn),l.on.resolve(l.yn),l.yn.addEventListener("statechange",l.ln,{once:!0}));var f=l.fn.waiting;return f&&Dp(f.scriptURL,l.sn.toString())&&(l.hn=f,Promise.resolve().then(function(){l.dispatchEvent(new ma("waiting",{sw:f,wasWaitingBeforeRegister:!0}))}).then(function(){})),l.hn&&(l.rn.resolve(l.hn),l.an.add(l.hn)),l.fn.addEventListener("updatefound",l.cn),navigator.serviceWorker.addEventListener("controllerchange",l.dn),l.fn})})}catch(h){return Promise.reject(h)}},o.update=function(){try{return this.fn?WE(this.fn.update()):void 0}catch(a){return Promise.reject(a)}},o.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},o.messageSW=function(a){try{return il(this.getSW(),function(u){return jE(u,a)})}catch(u){return Promise.reject(u)}},o.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&jE(this.fn.waiting,Cne)},o.pn=function(){var a=navigator.serviceWorker.controller;return a&&Dp(a.scriptURL,this.sn.toString())?a:void 0},o.bn=function(){try{var a=this;return function(u,c){try{var l=u()}catch(h){return c(h)}return l&&l.then?l.then(void 0,c):l}(function(){return il(navigator.serviceWorker.register(a.sn,a.nn),function(u){return a.un=performance.now(),u})},function(u){throw u})}catch(u){return Promise.reject(u)}},s=r,(i=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&Tne(s.prototype,i),r}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(n,r){this.Sn(n).add(r)},t.removeEventListener=function(n,r){this.Sn(n).delete(r)},t.dispatchEvent=function(n){n.target=this;for(var r,s=Ine(this.Sn(n.type));!(r=s()).done;)(0,r.value)(n)},t.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},e}());function kne(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisterError:i}=e;let o;const a=async(u=!0)=>{};return"serviceWorker"in navigator&&(o=new One("/sw.js",{scope:"/",type:"classic"}),o.addEventListener("activated",u=>{u.isUpdate?window.location.reload():r==null||r()}),o.register({immediate:t}).then(u=>{s==null||s(u)}).catch(u=>{i==null||i(u)})),a}kne({immediate:!0,onOfflineReady(){},onNeedRefresh(){window.dispatchEvent(new Event("swupdated"))},onRegistered(e){},onRegisterError(e){}});class Dne{constructor(){this.components=new Set}registerComponent({component:t,container:n,position:r}){this.components.add({component:t,container:n,position:r})}}class xne{constructor(){this.packages=new Set,this.components=new Set}emit(t,n){this.packages.forEach(r=>r.emit(t,n))}getComponents(t,n){return[...this.components].filter(r=>r.container===t&&r.position===n).map(({component:r})=>r)}register(t){const n=new Dne;t.register(n),n.components.forEach(r=>this.components.add(r)),this.packages.add(t)}}var Rne=new xne;AQ();localStorage.getItem("octo/welcome/v1")===null&&Kt.dispatch(lo,!0);window.addEventListener("offline",()=>{Kt.dispatch(Ya)});window.addEventListener("online",()=>{Kt.dispatch(Ga)});navigator.onLine||Kt.dispatch(Ya);/Mac|iPod|iPhone|iPad/.test(navigator.platform||navigator.userAgentData.platform)&&Kt.dispatch(kl,"\u2318 cmd");const Ns=dN(JB),Jk=TN();Jk.use(Sne);Ns.config.globalProperties.$packageManager=Rne;Ns.use(Jk);Ns.use(Jy);Ns.use(Kt);Ns.component("Extendable",t4);Ns.component("SimpleBar",sY);Ns.use(t$,{breakpoints:{xs:0,sm:577,md:769,lg:993,xl:1201}});Ns.mount("#app");Au.supportsFirebase&&sr().onAuthStateChanged(async e=>{if(Kt.commit(qi,e),e){await e.getIdToken(!0);const t=await e.getIdTokenResult(),n=t.claims.ambassador||t.claims.stripeRole==="subscriber";Kt.commit(Ak,{pro:n})}});export{Du as $,$ne as A,Xs as B,qJ as C,Jc as D,Sk as E,on as F,Ek as G,ar as H,or as I,ur as J,od as K,sr as L,fM as M,hte as N,Gne as O,Yne as P,Yn as Q,za as R,Ep as S,wte as T,Qs as U,rZ as V,Nne as W,Lne as X,jne as Y,R2 as Z,Qn as _,Fe as a,Wa as a0,cs as a1,Kne as a2,Lk as a3,ane as a4,co as a5,mt as a6,Wne as a7,Hne as a8,wQ as a9,Hk as aA,Nl as aB,Fne as aC,Rl as aD,xl as aE,qa as aF,fZ as aG,hZ as aH,Yk as aI,yt as aJ,Ll as aK,Bne as aL,zne as aa,Jne as ab,qne as ac,Qne as ad,Xne as ae,bB as af,gg as ag,YP as ah,GP as ai,Va as aj,Fw as ak,VT as al,Sn as am,Pne as an,Qy as ao,Po as ap,kk as aq,Ck as ar,Ml as as,jk as at,Vk as au,see as av,Wk as aw,Pl as ax,zk as ay,$l as az,Ze as b,ot as c,N as d,Mr as e,vn as f,Aa as g,Vr as h,Rh as i,Au as j,Gl as k,Une as l,te as m,aZ as n,Kk as o,Zne as p,Ki as q,xn as r,tZ as s,O0 as t,Ha as u,Ka as v,Dr as w,Tp as x,Vne as y,Uu as z};
