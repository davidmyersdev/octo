<template>
  <SimpleBar class="the-content">
    <TheNavbar/>
    <router-view :inheritAttrs="true" :key="routeKey" class="flex"></router-view>
  </SimpleBar>
</template>

<script>
import { nanoid } from 'nanoid'
import TheNavbar from '/src/components/TheNavbar.vue'

export default {
  name: 'TheContent',
  components: {
    TheNavbar,
  },
  data() {
    return {
      routeKey: null,
    }
  },
  watch: {
    $route: {
      deep: true,
      handler(route) {
        if (route.params.preserve) { return }

        this.routeKey = nanoid()
      },
    },
  },
}
</script>

<style scoped>
.dark .the-content {
  background: url('data:image/svg+xml,<svg viewBox="0 0 505 512" fill="rgb(0,0,0)" fill-opacity="0.1" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M180.698 229.574C50.3113 105.548 161.99 -6.71839 257.352 0.31369C357.821 7.72238 451.206 134.926 317.096 229.574C319.747 269.937 357.643 257.986 386.2 237.69C414.758 217.395 450.91 216.587 478.309 237.69C533.405 280.124 486.257 339.836 485.434 340.823C484.611 341.81 479.712 332.506 465.519 324.662C490.694 279.561 412.805 254.334 386.2 314.952C330.213 340.133 319.227 278.434 319.227 278.434C321.307 293.862 323.451 310.038 344.181 321.428C373.382 337.473 393.374 300.984 444.477 317.521C504.597 340.447 520.379 402.084 480.549 435.534C468.901 445.316 441.471 448.312 441.471 425.762C471.551 452.496 478.829 363.278 430.915 367.569C378.818 372.236 344.181 407.539 285.435 374.479C260.481 360.436 262.2 311.95 275.012 272.044C260.009 308.753 253.723 361.477 283.876 377.6C332.236 403.459 344.607 419.026 350.42 435.534C361.337 466.539 346.781 496.705 320.267 509.188C306.155 515.832 279.197 511.788 282.316 485.263C297.393 509.188 324.208 482.723 311.801 456.657C301.403 434.812 261.011 432.075 231.888 427.531C118.555 409.847 194.977 287.621 199.673 278.434C188.738 295.423 160.665 338.254 166.904 374.479C129.992 399.965 105.888 388.992 78.0823 393.502C50.2766 398.012 46.8398 445.589 78.0823 450.629C89.7307 452.509 92.7367 443.113 85.2216 435.534C91.6095 431.838 105.828 442.799 96.87 459.274C87.9121 475.748 44.5896 476.186 27.3556 448.312C12.1338 423.693 12.3666 378.844 37.8767 356.67C63.3868 334.496 77.7066 337.126 107.767 317.959C137.827 298.791 170.81 275.016 180.698 229.574ZM216.958 179.964C217.249 165.803 207.195 152.315 193.098 153.655C179.659 154.933 172.317 169.966 174.122 183.347C175.83 196.002 187.216 207.566 199.673 204.769C210.564 202.325 216.729 191.125 216.958 179.964ZM329.086 179.964C329.377 165.803 319.322 152.315 305.225 153.655C291.787 154.933 284.444 169.966 286.25 183.347C287.958 196.002 299.344 207.566 311.801 204.769C322.691 202.325 328.856 191.125 329.086 179.964Z"/><path d="M105.137 316.227C132.191 297.811 157.026 281.38 174.182 243.412C138.31 270.977 120.242 235.7 74.3656 235.7C28.489 235.7 -0.948751 269.263 0.0233642 302.275C1.51749 353.013 29.9858 360.576 29.9858 360.576C37.2563 352.87 38.1628 352.378 47.2704 345.167C34.1191 339.153 22.2695 307.153 53.6582 293.953C80.7534 282.558 105.137 316.227 105.137 316.227Z"/><path d="M57.4158 338.254C59.7477 334.678 58.8278 332.536 53.6583 328.482C58.8252 327.33 62.5702 328.873 66.8097 333.744C62.4955 335.606 59.9009 336.315 57.4158 338.254Z"/><path d="M451.796 317.521C449.464 313.944 450.384 311.803 455.553 307.749C450.386 306.597 446.641 308.14 442.402 313.011C446.716 314.873 449.311 315.582 451.796 317.521Z"/></svg>') center center no-repeat;
  background-size: 50% 50%;
}

.light .the-content {
  background: url('data:image/svg+xml,<svg viewBox="0 0 505 512" fill="rgb(200,200,200)" fill-opacity="0.1" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M180.698 229.574C50.3113 105.548 161.99 -6.71839 257.352 0.31369C357.821 7.72238 451.206 134.926 317.096 229.574C319.747 269.937 357.643 257.986 386.2 237.69C414.758 217.395 450.91 216.587 478.309 237.69C533.405 280.124 486.257 339.836 485.434 340.823C484.611 341.81 479.712 332.506 465.519 324.662C490.694 279.561 412.805 254.334 386.2 314.952C330.213 340.133 319.227 278.434 319.227 278.434C321.307 293.862 323.451 310.038 344.181 321.428C373.382 337.473 393.374 300.984 444.477 317.521C504.597 340.447 520.379 402.084 480.549 435.534C468.901 445.316 441.471 448.312 441.471 425.762C471.551 452.496 478.829 363.278 430.915 367.569C378.818 372.236 344.181 407.539 285.435 374.479C260.481 360.436 262.2 311.95 275.012 272.044C260.009 308.753 253.723 361.477 283.876 377.6C332.236 403.459 344.607 419.026 350.42 435.534C361.337 466.539 346.781 496.705 320.267 509.188C306.155 515.832 279.197 511.788 282.316 485.263C297.393 509.188 324.208 482.723 311.801 456.657C301.403 434.812 261.011 432.075 231.888 427.531C118.555 409.847 194.977 287.621 199.673 278.434C188.738 295.423 160.665 338.254 166.904 374.479C129.992 399.965 105.888 388.992 78.0823 393.502C50.2766 398.012 46.8398 445.589 78.0823 450.629C89.7307 452.509 92.7367 443.113 85.2216 435.534C91.6095 431.838 105.828 442.799 96.87 459.274C87.9121 475.748 44.5896 476.186 27.3556 448.312C12.1338 423.693 12.3666 378.844 37.8767 356.67C63.3868 334.496 77.7066 337.126 107.767 317.959C137.827 298.791 170.81 275.016 180.698 229.574ZM216.958 179.964C217.249 165.803 207.195 152.315 193.098 153.655C179.659 154.933 172.317 169.966 174.122 183.347C175.83 196.002 187.216 207.566 199.673 204.769C210.564 202.325 216.729 191.125 216.958 179.964ZM329.086 179.964C329.377 165.803 319.322 152.315 305.225 153.655C291.787 154.933 284.444 169.966 286.25 183.347C287.958 196.002 299.344 207.566 311.801 204.769C322.691 202.325 328.856 191.125 329.086 179.964Z"/><path d="M105.137 316.227C132.191 297.811 157.026 281.38 174.182 243.412C138.31 270.977 120.242 235.7 74.3656 235.7C28.489 235.7 -0.948751 269.263 0.0233642 302.275C1.51749 353.013 29.9858 360.576 29.9858 360.576C37.2563 352.87 38.1628 352.378 47.2704 345.167C34.1191 339.153 22.2695 307.153 53.6582 293.953C80.7534 282.558 105.137 316.227 105.137 316.227Z"/><path d="M57.4158 338.254C59.7477 334.678 58.8278 332.536 53.6583 328.482C58.8252 327.33 62.5702 328.873 66.8097 333.744C62.4955 335.606 59.9009 336.315 57.4158 338.254Z"/><path d="M451.796 317.521C449.464 313.944 450.384 311.803 455.553 307.749C450.386 306.597 446.641 308.14 442.402 313.011C446.716 314.873 449.311 315.582 451.796 317.521Z"/></svg>') center center no-repeat;
  background-size: 50% 50%;
}
</style>
